function v2(d,a){for(var l=0;l<a.length;l++){const f=a[l];if(typeof f!="string"&&!Array.isArray(f)){for(const x in f)if(x!=="default"&&!(x in d)){const g=Object.getOwnPropertyDescriptor(f,x);g&&Object.defineProperty(d,x,g.get?g:{enumerable:!0,get:()=>f[x]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))f(x);new MutationObserver(x=>{for(const g of x)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&f(b)}).observe(document,{childList:!0,subtree:!0});function l(x){const g={};return x.integrity&&(g.integrity=x.integrity),x.referrerPolicy&&(g.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?g.credentials="include":x.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function f(x){if(x.ep)return;x.ep=!0;const g=l(x);fetch(x.href,g)}})();var Cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function to(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function no(d){if(Object.prototype.hasOwnProperty.call(d,"__esModule"))return d;var a=d.default;if(typeof a=="function"){var l=function f(){return this instanceof f?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};l.prototype=a.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(d).forEach(function(f){var x=Object.getOwnPropertyDescriptor(d,f);Object.defineProperty(l,f,x.get?x:{enumerable:!0,get:function(){return d[f]}})}),l}var Qh={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function by(){if(ig)return Vl;ig=1;var d=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(f,x,g){var b=null;if(g!==void 0&&(b=""+g),x.key!==void 0&&(b=""+x.key),"key"in x){g={};for(var A in x)A!=="key"&&(g[A]=x[A])}else g=x;return x=g.ref,{$$typeof:d,type:f,key:b,ref:x!==void 0?x:null,props:g}}return Vl.Fragment=a,Vl.jsx=l,Vl.jsxs=l,Vl}var sg;function vy(){return sg||(sg=1,Qh.exports=by()),Qh.exports}var G=vy(),Jh={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function Ey(){if(ag)return We;ag=1;var d=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),b=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),B=Symbol.iterator;function L(z){return z===null||typeof z!="object"?null:(z=B&&z[B]||z["@@iterator"],typeof z=="function"?z:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,Q={};function se(z,ae,Ee){this.props=z,this.context=ae,this.refs=Q,this.updater=Ee||P}se.prototype.isReactComponent={},se.prototype.setState=function(z,ae){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ae,"setState")},se.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function ce(){}ce.prototype=se.prototype;function Y(z,ae,Ee){this.props=z,this.context=ae,this.refs=Q,this.updater=Ee||P}var me=Y.prototype=new ce;me.constructor=Y,q(me,se.prototype),me.isPureReactComponent=!0;var ke=Array.isArray;function _e(){}var $={H:null,A:null,T:null,S:null},Me=Object.prototype.hasOwnProperty;function fe(z,ae,Ee){var ve=Ee.ref;return{$$typeof:d,type:z,key:ae,ref:ve!==void 0?ve:null,props:Ee}}function Tn(z,ae){return fe(z.type,ae,z.props)}function xt(z){return typeof z=="object"&&z!==null&&z.$$typeof===d}function Ae(z){var ae={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Ee){return ae[Ee]})}var Ye=/\/+/g;function dt(z,ae){return typeof z=="object"&&z!==null&&z.key!=null?Ae(""+z.key):ae.toString(36)}function re(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(_e,_e):(z.status="pending",z.then(function(ae){z.status==="pending"&&(z.status="fulfilled",z.value=ae)},function(ae){z.status==="pending"&&(z.status="rejected",z.reason=ae)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function ee(z,ae,Ee,ve,Ve){var pe=typeof z;(pe==="undefined"||pe==="boolean")&&(z=null);var at=!1;if(z===null)at=!0;else switch(pe){case"bigint":case"string":case"number":at=!0;break;case"object":switch(z.$$typeof){case d:case a:at=!0;break;case R:return at=z._init,ee(at(z._payload),ae,Ee,ve,Ve)}}if(at)return Ve=Ve(z),at=ve===""?"."+dt(z,0):ve,ke(Ve)?(Ee="",at!=null&&(Ee=at.replace(Ye,"$&/")+"/"),ee(Ve,ae,Ee,"",function(or){return or})):Ve!=null&&(xt(Ve)&&(Ve=Tn(Ve,Ee+(Ve.key==null||z&&z.key===Ve.key?"":(""+Ve.key).replace(Ye,"$&/")+"/")+at)),ae.push(Ve)),1;at=0;var lt=ve===""?".":ve+":";if(ke(z))for(var Ot=0;Ot<z.length;Ot++)ve=z[Ot],pe=lt+dt(ve,Ot),at+=ee(ve,ae,Ee,pe,Ve);else if(Ot=L(z),typeof Ot=="function")for(z=Ot.call(z),Ot=0;!(ve=z.next()).done;)ve=ve.value,pe=lt+dt(ve,Ot++),at+=ee(ve,ae,Ee,pe,Ve);else if(pe==="object"){if(typeof z.then=="function")return ee(re(z),ae,Ee,ve,Ve);throw ae=String(z),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return at}function oe(z,ae,Ee){if(z==null)return z;var ve=[],Ve=0;return ee(z,ve,"","",function(pe){return ae.call(Ee,pe,Ve++)}),ve}function Oe(z){if(z._status===-1){var ae=z._result;ae=ae(),ae.then(function(Ee){(z._status===0||z._status===-1)&&(z._status=1,z._result=Ee)},function(Ee){(z._status===0||z._status===-1)&&(z._status=2,z._result=Ee)}),z._status===-1&&(z._status=0,z._result=ae)}if(z._status===1)return z._result.default;throw z._result}var Ze=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},He={map:oe,forEach:function(z,ae,Ee){oe(z,function(){ae.apply(this,arguments)},Ee)},count:function(z){var ae=0;return oe(z,function(){ae++}),ae},toArray:function(z){return oe(z,function(ae){return ae})||[]},only:function(z){if(!xt(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return We.Activity=N,We.Children=He,We.Component=se,We.Fragment=l,We.Profiler=x,We.PureComponent=Y,We.StrictMode=f,We.Suspense=_,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,We.__COMPILER_RUNTIME={__proto__:null,c:function(z){return $.H.useMemoCache(z)}},We.cache=function(z){return function(){return z.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(z,ae,Ee){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ve=q({},z.props),Ve=z.key;if(ae!=null)for(pe in ae.key!==void 0&&(Ve=""+ae.key),ae)!Me.call(ae,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&ae.ref===void 0||(ve[pe]=ae[pe]);var pe=arguments.length-2;if(pe===1)ve.children=Ee;else if(1<pe){for(var at=Array(pe),lt=0;lt<pe;lt++)at[lt]=arguments[lt+2];ve.children=at}return fe(z.type,Ve,ve)},We.createContext=function(z){return z={$$typeof:b,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:g,_context:z},z},We.createElement=function(z,ae,Ee){var ve,Ve={},pe=null;if(ae!=null)for(ve in ae.key!==void 0&&(pe=""+ae.key),ae)Me.call(ae,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ve[ve]=ae[ve]);var at=arguments.length-2;if(at===1)Ve.children=Ee;else if(1<at){for(var lt=Array(at),Ot=0;Ot<at;Ot++)lt[Ot]=arguments[Ot+2];Ve.children=lt}if(z&&z.defaultProps)for(ve in at=z.defaultProps,at)Ve[ve]===void 0&&(Ve[ve]=at[ve]);return fe(z,pe,Ve)},We.createRef=function(){return{current:null}},We.forwardRef=function(z){return{$$typeof:A,render:z}},We.isValidElement=xt,We.lazy=function(z){return{$$typeof:R,_payload:{_status:-1,_result:z},_init:Oe}},We.memo=function(z,ae){return{$$typeof:E,type:z,compare:ae===void 0?null:ae}},We.startTransition=function(z){var ae=$.T,Ee={};$.T=Ee;try{var ve=z(),Ve=$.S;Ve!==null&&Ve(Ee,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(_e,Ze)}catch(pe){Ze(pe)}finally{ae!==null&&Ee.types!==null&&(ae.types=Ee.types),$.T=ae}},We.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},We.use=function(z){return $.H.use(z)},We.useActionState=function(z,ae,Ee){return $.H.useActionState(z,ae,Ee)},We.useCallback=function(z,ae){return $.H.useCallback(z,ae)},We.useContext=function(z){return $.H.useContext(z)},We.useDebugValue=function(){},We.useDeferredValue=function(z,ae){return $.H.useDeferredValue(z,ae)},We.useEffect=function(z,ae){return $.H.useEffect(z,ae)},We.useEffectEvent=function(z){return $.H.useEffectEvent(z)},We.useId=function(){return $.H.useId()},We.useImperativeHandle=function(z,ae,Ee){return $.H.useImperativeHandle(z,ae,Ee)},We.useInsertionEffect=function(z,ae){return $.H.useInsertionEffect(z,ae)},We.useLayoutEffect=function(z,ae){return $.H.useLayoutEffect(z,ae)},We.useMemo=function(z,ae){return $.H.useMemo(z,ae)},We.useOptimistic=function(z,ae){return $.H.useOptimistic(z,ae)},We.useReducer=function(z,ae,Ee){return $.H.useReducer(z,ae,Ee)},We.useRef=function(z){return $.H.useRef(z)},We.useState=function(z){return $.H.useState(z)},We.useSyncExternalStore=function(z,ae,Ee){return $.H.useSyncExternalStore(z,ae,Ee)},We.useTransition=function(){return $.H.useTransition()},We.version="19.2.1",We}var lg;function ro(){return lg||(lg=1,Jh.exports=Ey()),Jh.exports}var vt=ro();const _y=to(vt);var $h={exports:{}},Xl={},ef={exports:{}},tf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function Ay(){return og||(og=1,(function(d){function a(ee,oe){var Oe=ee.length;ee.push(oe);e:for(;0<Oe;){var Ze=Oe-1>>>1,He=ee[Ze];if(0<x(He,oe))ee[Ze]=oe,ee[Oe]=He,Oe=Ze;else break e}}function l(ee){return ee.length===0?null:ee[0]}function f(ee){if(ee.length===0)return null;var oe=ee[0],Oe=ee.pop();if(Oe!==oe){ee[0]=Oe;e:for(var Ze=0,He=ee.length,z=He>>>1;Ze<z;){var ae=2*(Ze+1)-1,Ee=ee[ae],ve=ae+1,Ve=ee[ve];if(0>x(Ee,Oe))ve<He&&0>x(Ve,Ee)?(ee[Ze]=Ve,ee[ve]=Oe,Ze=ve):(ee[Ze]=Ee,ee[ae]=Oe,Ze=ae);else if(ve<He&&0>x(Ve,Oe))ee[Ze]=Ve,ee[ve]=Oe,Ze=ve;else break e}}return oe}function x(ee,oe){var Oe=ee.sortIndex-oe.sortIndex;return Oe!==0?Oe:ee.id-oe.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;d.unstable_now=function(){return g.now()}}else{var b=Date,A=b.now();d.unstable_now=function(){return b.now()-A}}var _=[],E=[],R=1,N=null,B=3,L=!1,P=!1,q=!1,Q=!1,se=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function me(ee){for(var oe=l(E);oe!==null;){if(oe.callback===null)f(E);else if(oe.startTime<=ee)f(E),oe.sortIndex=oe.expirationTime,a(_,oe);else break;oe=l(E)}}function ke(ee){if(q=!1,me(ee),!P)if(l(_)!==null)P=!0,_e||(_e=!0,Ae());else{var oe=l(E);oe!==null&&re(ke,oe.startTime-ee)}}var _e=!1,$=-1,Me=5,fe=-1;function Tn(){return Q?!0:!(d.unstable_now()-fe<Me)}function xt(){if(Q=!1,_e){var ee=d.unstable_now();fe=ee;var oe=!0;try{e:{P=!1,q&&(q=!1,ce($),$=-1),L=!0;var Oe=B;try{t:{for(me(ee),N=l(_);N!==null&&!(N.expirationTime>ee&&Tn());){var Ze=N.callback;if(typeof Ze=="function"){N.callback=null,B=N.priorityLevel;var He=Ze(N.expirationTime<=ee);if(ee=d.unstable_now(),typeof He=="function"){N.callback=He,me(ee),oe=!0;break t}N===l(_)&&f(_),me(ee)}else f(_);N=l(_)}if(N!==null)oe=!0;else{var z=l(E);z!==null&&re(ke,z.startTime-ee),oe=!1}}break e}finally{N=null,B=Oe,L=!1}oe=void 0}}finally{oe?Ae():_e=!1}}}var Ae;if(typeof Y=="function")Ae=function(){Y(xt)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,dt=Ye.port2;Ye.port1.onmessage=xt,Ae=function(){dt.postMessage(null)}}else Ae=function(){se(xt,0)};function re(ee,oe){$=se(function(){ee(d.unstable_now())},oe)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(ee){ee.callback=null},d.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Me=0<ee?Math.floor(1e3/ee):5},d.unstable_getCurrentPriorityLevel=function(){return B},d.unstable_next=function(ee){switch(B){case 1:case 2:case 3:var oe=3;break;default:oe=B}var Oe=B;B=oe;try{return ee()}finally{B=Oe}},d.unstable_requestPaint=function(){Q=!0},d.unstable_runWithPriority=function(ee,oe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Oe=B;B=ee;try{return oe()}finally{B=Oe}},d.unstable_scheduleCallback=function(ee,oe,Oe){var Ze=d.unstable_now();switch(typeof Oe=="object"&&Oe!==null?(Oe=Oe.delay,Oe=typeof Oe=="number"&&0<Oe?Ze+Oe:Ze):Oe=Ze,ee){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=Oe+He,ee={id:R++,callback:oe,priorityLevel:ee,startTime:Oe,expirationTime:He,sortIndex:-1},Oe>Ze?(ee.sortIndex=Oe,a(E,ee),l(_)===null&&ee===l(E)&&(q?(ce($),$=-1):q=!0,re(ke,Oe-Ze))):(ee.sortIndex=He,a(_,ee),P||L||(P=!0,_e||(_e=!0,Ae()))),ee},d.unstable_shouldYield=Tn,d.unstable_wrapCallback=function(ee){var oe=B;return function(){var Oe=B;B=oe;try{return ee.apply(this,arguments)}finally{B=Oe}}}})(tf)),tf}var ug;function Cy(){return ug||(ug=1,ef.exports=Ay()),ef.exports}var nf={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function Sy(){if(cg)return Fn;cg=1;var d=ro();function a(_){var E="https://react.dev/errors/"+_;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)E+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var f={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},x=Symbol.for("react.portal");function g(_,E,R){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:N==null?null:""+N,children:_,containerInfo:E,implementation:R}}var b=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(_,E){if(_==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,Fn.createPortal=function(_,E){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(a(299));return g(_,E,null,R)},Fn.flushSync=function(_){var E=b.T,R=f.p;try{if(b.T=null,f.p=2,_)return _()}finally{b.T=E,f.p=R,f.d.f()}},Fn.preconnect=function(_,E){typeof _=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,f.d.C(_,E))},Fn.prefetchDNS=function(_){typeof _=="string"&&f.d.D(_)},Fn.preinit=function(_,E){if(typeof _=="string"&&E&&typeof E.as=="string"){var R=E.as,N=A(R,E.crossOrigin),B=typeof E.integrity=="string"?E.integrity:void 0,L=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;R==="style"?f.d.S(_,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:N,integrity:B,fetchPriority:L}):R==="script"&&f.d.X(_,{crossOrigin:N,integrity:B,fetchPriority:L,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Fn.preinitModule=function(_,E){if(typeof _=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var R=A(E.as,E.crossOrigin);f.d.M(_,{crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&f.d.M(_)},Fn.preload=function(_,E){if(typeof _=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var R=E.as,N=A(R,E.crossOrigin);f.d.L(_,R,{crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Fn.preloadModule=function(_,E){if(typeof _=="string")if(E){var R=A(E.as,E.crossOrigin);f.d.m(_,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else f.d.m(_)},Fn.requestFormReset=function(_){f.d.r(_)},Fn.unstable_batchedUpdates=function(_,E){return _(E)},Fn.useFormState=function(_,E,R){return b.H.useFormState(_,E,R)},Fn.useFormStatus=function(){return b.H.useHostTransitionStatus()},Fn.version="19.2.1",Fn}var hg;function Ty(){if(hg)return nf.exports;hg=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(a){console.error(a)}}return d(),nf.exports=Sy(),nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function Oy(){if(fg)return Xl;fg=1;var d=Cy(),a=ro(),l=Ty();function f(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function b(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function A(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(g(e)!==e)throw Error(f(188))}function E(e){var n=e.alternate;if(!n){if(n=g(e),n===null)throw Error(f(188));return n!==e?null:e}for(var s=e,c=n;;){var y=s.return;if(y===null)break;var w=y.alternate;if(w===null){if(c=y.return,c!==null){s=c;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===s)return _(y),e;if(w===c)return _(y),n;w=w.sibling}throw Error(f(188))}if(s.return!==c.return)s=y,c=w;else{for(var S=!1,D=y.child;D;){if(D===s){S=!0,s=y,c=w;break}if(D===c){S=!0,c=y,s=w;break}D=D.sibling}if(!S){for(D=w.child;D;){if(D===s){S=!0,s=w,c=y;break}if(D===c){S=!0,c=w,s=y;break}D=D.sibling}if(!S)throw Error(f(189))}}if(s.alternate!==c)throw Error(f(190))}if(s.tag!==3)throw Error(f(188));return s.stateNode.current===s?e:n}function R(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=R(e),n!==null)return n;e=e.sibling}return null}var N=Object.assign,B=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),Tn=Symbol.for("react.memo_cache_sentinel"),xt=Symbol.iterator;function Ae(e){return e===null||typeof e!="object"?null:(e=xt&&e[xt]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Symbol.for("react.client.reference");function dt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case se:return"Profiler";case Q:return"StrictMode";case ke:return"Suspense";case _e:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case Y:return e.displayName||"Context";case ce:return(e._context.displayName||"Context")+".Consumer";case me:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return n=e.displayName||null,n!==null?n:dt(e.type)||"Memo";case Me:n=e._payload,e=e._init;try{return dt(e(n))}catch{}}return null}var re=Array.isArray,ee=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},Ze=[],He=-1;function z(e){return{current:e}}function ae(e){0>He||(e.current=Ze[He],Ze[He]=null,He--)}function Ee(e,n){He++,Ze[He]=e.current,e.current=n}var ve=z(null),Ve=z(null),pe=z(null),at=z(null);function lt(e,n){switch(Ee(pe,n),Ee(Ve,e),Ee(ve,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?T1(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=T1(n),e=O1(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ae(ve),Ee(ve,e)}function Ot(){ae(ve),ae(Ve),ae(pe)}function or(e){e.memoizedState!==null&&Ee(at,e);var n=ve.current,s=O1(n,e.type);n!==s&&(Ee(Ve,e),Ee(ve,s))}function an(e){Ve.current===e&&(ae(ve),ae(Ve)),at.current===e&&(ae(at),zl._currentValue=Oe)}var Pr,ot;function jn(e){if(Pr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Pr=n&&n[1]||"",ot=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pr+e+ot}var On=!1;function Ar(e,n){if(!e||On)return"";On=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ie){var J=ie}Reflect.construct(e,[],he)}else{try{he.call()}catch(ie){J=ie}e.call(he.prototype)}}else{try{throw Error()}catch(ie){J=ie}(he=e())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ie){if(ie&&J&&typeof ie.stack=="string")return[ie.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=c.DetermineComponentFrameRoot(),S=w[0],D=w[1];if(S&&D){var U=S.split(`
`),Z=D.split(`
`);for(y=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(c===U.length||y===Z.length)for(c=U.length-1,y=Z.length-1;1<=c&&0<=y&&U[c]!==Z[y];)y--;for(;1<=c&&0<=y;c--,y--)if(U[c]!==Z[y]){if(c!==1||y!==1)do if(c--,y--,0>y||U[c]!==Z[y]){var le=`
`+U[c].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=c&&0<=y);break}}}finally{On=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?jn(s):""}function xe(e,n){switch(e.tag){case 26:case 27:case 5:return jn(e.type);case 16:return jn("Lazy");case 13:return e.child!==n&&n!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return Ar(e.type,!1);case 11:return Ar(e.type.render,!1);case 1:return Ar(e.type,!0);case 31:return jn("Activity");default:return""}}function Pe(e){try{var n="",s=null;do n+=xe(e,s),s=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ze=Object.prototype.hasOwnProperty,Rn=d.unstable_scheduleCallback,Ce=d.unstable_cancelCallback,Li=d.unstable_shouldYield,ao=d.unstable_requestPaint,Qt=d.unstable_now,Ja=d.unstable_getCurrentPriorityLevel,Zn=d.unstable_ImmediatePriority,$a=d.unstable_UserBlockingPriority,ur=d.unstable_NormalPriority,Nn=d.unstable_LowPriority,el=d.unstable_IdlePriority,ea=d.log,nc=d.unstable_setDisableYieldValue,Ft=null,be=null;function Dt(e){if(typeof ea=="function"&&nc(e),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(Ft,e)}catch{}}var Je=Math.clz32?Math.clz32:tl,Yt=Math.log,vs=Math.LN2;function tl(e){return e>>>=0,e===0?32:31-(Yt(e)/vs|0)|0}var Es=256,ut=262144,Cr=4194304;function Qr(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _s(e,n,s){var c=e.pendingLanes;if(c===0)return 0;var y=0,w=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var D=c&134217727;return D!==0?(c=D&~w,c!==0?y=Qr(c):(S&=D,S!==0?y=Qr(S):s||(s=D&~e,s!==0&&(y=Qr(s))))):(D=c&~w,D!==0?y=Qr(D):S!==0?y=Qr(S):s||(s=c&~e,s!==0&&(y=Qr(s)))),y===0?0:n!==0&&n!==y&&(n&w)===0&&(w=y&-y,s=n&-n,w>=s||w===32&&(s&4194048)!==0)?n:y}function In(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function nl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bn(){var e=Cr;return Cr<<=1,(Cr&62914560)===0&&(Cr=4194304),e}function Jr(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function $r(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sr(e,n,s,c,y,w){var S=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var D=e.entanglements,U=e.expirationTimes,Z=e.hiddenUpdates;for(s=S&~s;0<s;){var le=31-Je(s),he=1<<le;D[le]=0,U[le]=-1;var J=Z[le];if(J!==null)for(Z[le]=null,le=0;le<J.length;le++){var ie=J[le];ie!==null&&(ie.lane&=-536870913)}s&=~he}c!==0&&lo(e,c,0),w!==0&&y===0&&e.tag!==0&&(e.suspendedLanes|=w&~(S&~n))}function lo(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Je(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|s&261930}function ei(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var c=31-Je(s),y=1<<c;y&n|e[c]&n&&(e[c]|=n),s&=~y}}function ta(e,n){var s=n&-n;return s=(s&42)!==0?1:Cn(s),(s&(e.suspendedLanes|n))!==0?0:s}function Cn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hn(){var e=oe.p;return e!==0?e:(e=window.event,e===void 0?32:Q1(e.type))}function Se(e,n){var s=oe.p;try{return oe.p=e,n()}finally{oe.p=s}}var qn=Math.random().toString(36).slice(2),ln="__reactFiber$"+qn,Rt="__reactProps$"+qn,cr="__reactContainer$"+qn,Ui="__reactEvents$"+qn,na="__reactListeners$"+qn,Tr="__reactHandles$"+qn,oo="__reactResources$"+qn,As="__reactMarker$"+qn;function Qn(e){delete e[ln],delete e[Rt],delete e[Ui],delete e[na],delete e[Tr]}function $t(e){var n=e[ln];if(n)return n;for(var s=e.parentNode;s;){if(n=s[cr]||s[ln]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=k1(e);e!==null;){if(s=e[ln])return s;e=k1(e)}return n}e=s,s=e.parentNode}return null}function Et(e){if(e=e[ln]||e[cr]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Pi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(f(33))}function Gn(e){var n=e[oo];return n||(n=e[oo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function en(e){e[As]=!0}var de=new Set,uo={};function Ct(e,n){hr(e,n),hr(e+"Capture",n)}function hr(e,n){for(uo[e]=n,e=0;e<n.length;e++)de.add(n[e])}var rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yt={},mt={};function rt(e){return ze.call(mt,e)?!0:ze.call(yt,e)?!1:rc.test(e)?mt[e]=!0:(yt[e]=!0,!1)}function ji(e,n,s){if(rt(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Fi(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function fr(e,n,s,c){if(c===null)e.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+c)}}function pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ic(e,n,s){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return y.call(this)},set:function(S){s=""+S,w.call(this,S)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return s},setValue:function(S){s=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ht(e){if(!e._valueTracker){var n=Fr(e)?"checked":"value";e._valueTracker=ic(e,n,""+e[n])}}function zr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),c="";return e&&(c=Fr(e)?e.checked?"true":"false":e.value),e=c,e!==s?(n.setValue(e),!0):!1}function ra(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var zi=/[\n"\\]/g;function nt(e){return e.replace(zi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fn(e,n,s,c,y,w,S,D){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+pt(n)):e.value!==""+pt(n)&&(e.value=""+pt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?M(e,S,pt(n)):s!=null?M(e,S,pt(s)):c!=null&&e.removeAttribute("value"),y==null&&w!=null&&(e.defaultChecked=!!w),y!=null&&(e.checked=y&&typeof y!="function"&&typeof y!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?e.name=""+pt(D):e.removeAttribute("name")}function K(e,n,s,c,y,w,S,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.type=w),n!=null||s!=null){if(!(w!=="submit"&&w!=="reset"||n!=null)){Ht(e);return}s=s!=null?""+pt(s):"",n=n!=null?""+pt(n):s,D||n===e.value||(e.value=n),e.defaultValue=n}c=c??y,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=D?e.checked:!!c,e.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Ht(e)}function M(e,n,s){n==="number"&&ra(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ie(e,n,s,c){if(e=e.options,n){n={};for(var y=0;y<s.length;y++)n["$"+s[y]]=!0;for(s=0;s<e.length;s++)y=n.hasOwnProperty("$"+e[s].value),e[s].selected!==y&&(e[s].selected=y),y&&c&&(e[s].defaultSelected=!0)}else{for(s=""+pt(s),n=null,y=0;y<e.length;y++){if(e[y].value===s){e[y].selected=!0,c&&(e[y].defaultSelected=!0);return}n!==null||e[y].disabled||(n=e[y])}n!==null&&(n.selected=!0)}}function on(e,n,s){if(n!=null&&(n=""+pt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+pt(s):""}function Vn(e,n,s,c){if(n==null){if(c!=null){if(s!=null)throw Error(f(92));if(re(c)){if(1<c.length)throw Error(f(93));c=c[0]}s=c}s==null&&(s=""),n=s}s=pt(n),e.defaultValue=s,c=e.textContent,c===s&&c!==""&&c!==null&&(e.value=c),Ht(e)}function Hi(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var rl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xn(e,n,s){var c=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,s):typeof s!="number"||s===0||rl.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Le(e,n,s){if(n!=null&&typeof n!="object")throw Error(f(62));if(e=e.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var y in n)c=n[y],n.hasOwnProperty(y)&&s[y]!==c&&Xn(e,y,c)}else for(var w in n)n.hasOwnProperty(w)&&Xn(e,w,n[w])}function Lt(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qi(e){return sc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var Cs=null;function il(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qt=null,Or=null;function Hr(e){var n=Et(e);if(n&&(e=n.stateNode)){var s=e[Rt]||null;e:switch(e=n.stateNode,n.type){case"input":if(fn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var c=s[n];if(c!==e&&c.form===e.form){var y=c[Rt]||null;if(!y)throw Error(f(90));fn(c,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(n=0;n<s.length;n++)c=s[n],c.form===e.form&&zr(c)}break e;case"textarea":on(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ie(e,!!s.multiple,n,!1)}}}var je=!1;function ho(e,n,s){if(je)return e(n,s);je=!0;try{var c=e(n);return c}finally{if(je=!1,(qt!==null||Or!==null)&&(ru(),qt&&(n=qt,e=Or,Or=qt=null,Hr(n),e)))for(n=0;n<e.length;n++)Hr(e[n])}}function Xe(e,n){var s=e.stateNode;if(s===null)return null;var c=s[Rt]||null;if(c===null)return null;s=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(f(231,n,typeof s));return s}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=!1;if(Ut)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){sl=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{sl=!1}var qr=null,Gr=null,ia=null;function Gi(){if(ia)return ia;var e,n=Gr,s=n.length,c,y="value"in qr?qr.value:qr.textContent,w=y.length;for(e=0;e<s&&n[e]===y[e];e++);var S=s-e;for(c=1;c<=S&&n[s-c]===y[w-c];c++);return ia=y.slice(e,1<c?1-c:void 0)}function ti(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function al(){return!1}function dn(e){function n(s,c,y,w,S){this._reactName=s,this._targetInst=y,this.type=c,this.nativeEvent=w,this.target=S,this.currentTarget=null;for(var D in e)e.hasOwnProperty(D)&&(s=e[D],this[D]=s?s(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ni:al,this.isPropagationStopped=al,this}return N(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),n}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vn=dn(dr),Vi=N({},dr,{view:0,detail:0}),fo=dn(Vi),sa,ll,Ss,aa=N({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ss&&(Ss&&e.type==="mousemove"?(sa=e.screenX-Ss.screenX,ll=e.screenY-Ss.screenY):ll=sa=0,Ss=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:ll}}),_t=dn(aa),go=N({},aa,{dataTransfer:0}),la=dn(go),ri=N({},Vi,{relatedTarget:0}),ol=dn(ri),ne=N({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),$e=dn(ne),En=N({},dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oa=dn(En),mo=N({},dr,{data:0}),xo=dn(mo),ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ul={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function un(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ul[e])?!!n[e]:!1}function Ts(){return un}var Kt=N({},Vi,{key:function(e){if(e.key){var n=ac[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ua=dn(Kt),hi=N({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),St=dn(hi),Fe=N({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),oc=dn(Fe),Pt=N({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fi=dn(Pt),Xi=N({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uc=dn(Xi),Rr=N({},dr,{newState:0,oldState:0}),cl=dn(Rr),yo=[9,13,27,32],Os=Ut&&"CompositionEvent"in window,Yi=null;Ut&&"documentMode"in document&&(Yi=document.documentMode);var po=Ut&&"TextEvent"in window&&!Yi,wo=Ut&&(!Os||Yi&&8<Yi&&11>=Yi),di=" ",ca=!1;function bo(e,n){switch(e){case"keyup":return yo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ki(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function ii(e,n){switch(e){case"compositionend":return Ki(n);case"keypress":return n.which!==32?null:(ca=!0,di);case"textInput":return e=n.data,e===di&&ca?null:e;default:return null}}function ha(e,n){if(Wi)return e==="compositionend"||!Os&&bo(e,n)?(e=Gi(),ia=Gr=qr=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wo&&n.locale!=="ko"?null:n.data;default:return null}}var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$n[e.type]:n==="textarea"}function gr(e,n,s,c){qt?Or?Or.push(c):Or=[c]:qt=c,n=cu(n,"onChange"),0<n.length&&(s=new vn("onChange","change",null,s,c),e.push({event:s,listeners:n}))}var Rs=null,gi=null;function cc(e){v1(e,0)}function Ns(e){var n=Pi(e);if(zr(n))return e}function mr(e,n){if(e==="change")return n}var vo=!1;if(Ut){var Is;if(Ut){var mi="oninput"in document;if(!mi){var ct=document.createElement("div");ct.setAttribute("oninput","return;"),mi=typeof ct.oninput=="function"}Is=mi}else Is=!1;vo=Is&&(!document.documentMode||9<document.documentMode)}function Ds(){Rs&&(Rs.detachEvent("onpropertychange",T),gi=Rs=null)}function T(e){if(e.propertyName==="value"&&Ns(gi)){var n=[];gr(n,gi,e,il(e)),ho(cc,n)}}function t(e,n,s){e==="focusin"?(Ds(),Rs=n,gi=s,Rs.attachEvent("onpropertychange",T)):e==="focusout"&&Ds()}function r(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ns(gi)}function i(e,n){if(e==="click")return Ns(n)}function o(e,n){if(e==="input"||e==="change")return Ns(n)}function u(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var h=typeof Object.is=="function"?Object.is:u;function m(e,n){if(h(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),c=Object.keys(n);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var y=s[c];if(!ze.call(n,y)||!h(e[y],n[y]))return!1}return!0}function p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function v(e,n){var s=p(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=n&&c>=n)return{node:s,offset:n-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=p(s)}}function C(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?C(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function O(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ra(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ra(e.document)}return n}function I(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var k=Ut&&"documentMode"in document&&11>=document.documentMode,j=null,F=null,X=null,te=!1;function we(e,n,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;te||j==null||j!==ra(c)||(c=j,"selectionStart"in c&&I(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),X&&m(X,c)||(X=c,c=cu(F,"onSelect"),0<c.length&&(n=new vn("onSelect","select",null,n,s),e.push({event:n,listeners:c}),n.target=j)))}function ye(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ge={animationend:ye("Animation","AnimationEnd"),animationiteration:ye("Animation","AnimationIteration"),animationstart:ye("Animation","AnimationStart"),transitionrun:ye("Transition","TransitionRun"),transitionstart:ye("Transition","TransitionStart"),transitioncancel:ye("Transition","TransitionCancel"),transitionend:ye("Transition","TransitionEnd")},tt={},Ke={};Ut&&(Ke=document.createElement("div").style,"AnimationEvent"in window||(delete ge.animationend.animation,delete ge.animationiteration.animation,delete ge.animationstart.animation),"TransitionEvent"in window||delete ge.transitionend.transition);function tn(e){if(tt[e])return tt[e];if(!ge[e])return e;var n=ge[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ke)return tt[e]=n[s];return e}var er=tn("animationend"),Dn=tn("animationiteration"),Tt=tn("animationstart"),_n=tn("transitionrun"),Yn=tn("transitionstart"),Zi=tn("transitioncancel"),xi=tn("transitionend"),Eo=new Map,fl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fl.push("scrollEnd");function Vr(e,n){Eo.set(e,n),Ct(n,[e])}var _o=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nr=[],fa=0,hc=0;function Ao(){for(var e=fa,n=hc=fa=0;n<e;){var s=Nr[n];Nr[n++]=null;var c=Nr[n];Nr[n++]=null;var y=Nr[n];Nr[n++]=null;var w=Nr[n];if(Nr[n++]=null,c!==null&&y!==null){var S=c.pending;S===null?y.next=y:(y.next=S.next,S.next=y),c.pending=y}w!==0&&n0(s,y,w)}}function Co(e,n,s,c){Nr[fa++]=e,Nr[fa++]=n,Nr[fa++]=s,Nr[fa++]=c,hc|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function fc(e,n,s,c){return Co(e,n,s,c),So(e)}function Ms(e,n){return Co(e,null,null,n),So(e)}function n0(e,n,s){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s);for(var y=!1,w=e.return;w!==null;)w.childLanes|=s,c=w.alternate,c!==null&&(c.childLanes|=s),w.tag===22&&(e=w.stateNode,e===null||e._visibility&1||(y=!0)),e=w,w=w.return;return e.tag===3?(w=e.stateNode,y&&n!==null&&(y=31-Je(s),e=w.hiddenUpdates,c=e[y],c===null?e[y]=[n]:c.push(n),n.lane=s|536870912),w):null}function So(e){if(50<Bl)throw Bl=0,vh=null,Error(f(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function rx(e,n,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(e,n,s,c){return new rx(e,n,s,c)}function dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yi(e,n){var s=e.alternate;return s===null?(s=xr(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function r0(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function To(e,n,s,c,y,w){var S=0;if(c=e,typeof e=="function")dc(e)&&(S=1);else if(typeof e=="string")S=oy(e,s,ve.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fe:return e=xr(31,s,n,y),e.elementType=fe,e.lanes=w,e;case q:return Bs(s.children,y,w,n);case Q:S=8,y|=24;break;case se:return e=xr(12,s,n,y|2),e.elementType=se,e.lanes=w,e;case ke:return e=xr(13,s,n,y),e.elementType=ke,e.lanes=w,e;case _e:return e=xr(19,s,n,y),e.elementType=_e,e.lanes=w,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:S=10;break e;case ce:S=9;break e;case me:S=11;break e;case $:S=14;break e;case Me:S=16,c=null;break e}S=29,s=Error(f(130,e===null?"null":typeof e,"")),c=null}return n=xr(S,s,n,y),n.elementType=e,n.type=c,n.lanes=w,n}function Bs(e,n,s,c){return e=xr(7,e,c,n),e.lanes=s,e}function gc(e,n,s){return e=xr(6,e,null,n),e.lanes=s,e}function i0(e){var n=xr(18,null,null,0);return n.stateNode=e,n}function mc(e,n,s){return n=xr(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var s0=new WeakMap;function Ir(e,n){if(typeof e=="object"&&e!==null){var s=s0.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Pe(n)},s0.set(e,n),n)}return{value:e,source:n,stack:Pe(n)}}var ga=[],ma=0,Oo=null,dl=0,Dr=[],Mr=0,Qi=null,si=1,ai="";function pi(e,n){ga[ma++]=dl,ga[ma++]=Oo,Oo=e,dl=n}function a0(e,n,s){Dr[Mr++]=si,Dr[Mr++]=ai,Dr[Mr++]=Qi,Qi=e;var c=si;e=ai;var y=32-Je(c)-1;c&=~(1<<y),s+=1;var w=32-Je(n)+y;if(30<w){var S=y-y%5;w=(c&(1<<S)-1).toString(32),c>>=S,y-=S,si=1<<32-Je(n)+y|s<<y|c,ai=w+e}else si=1<<w|s<<y|c,ai=e}function xc(e){e.return!==null&&(pi(e,1),a0(e,1,0))}function yc(e){for(;e===Oo;)Oo=ga[--ma],ga[ma]=null,dl=ga[--ma],ga[ma]=null;for(;e===Qi;)Qi=Dr[--Mr],Dr[Mr]=null,ai=Dr[--Mr],Dr[Mr]=null,si=Dr[--Mr],Dr[Mr]=null}function l0(e,n){Dr[Mr++]=si,Dr[Mr++]=ai,Dr[Mr++]=Qi,si=n.id,ai=n.overflow,Qi=e}var Mn=null,Gt=null,gt=!1,Ji=null,Br=!1,pc=Error(f(519));function $i(e){var n=Error(f(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(Ir(n,e)),pc}function o0(e){var n=e.stateNode,s=e.type,c=e.memoizedProps;switch(n[ln]=e,n[Rt]=c,s){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(s=0;s<Ll.length;s++)st(Ll[s],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":st("invalid",n),K(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":st("invalid",n);break;case"textarea":st("invalid",n),Vn(n,c.value,c.defaultValue,c.children)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||c.suppressHydrationWarning===!0||C1(n.textContent,s)?(c.popover!=null&&(st("beforetoggle",n),st("toggle",n)),c.onScroll!=null&&st("scroll",n),c.onScrollEnd!=null&&st("scrollend",n),c.onClick!=null&&(n.onclick=Jn),n=!0):n=!1,n||$i(e,!0)}function u0(e){for(Mn=e.return;Mn;)switch(Mn.tag){case 5:case 31:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:Mn=Mn.return}}function xa(e){if(e!==Mn)return!1;if(!gt)return u0(e),gt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Lh(e.type,e.memoizedProps)),s=!s),s&&Gt&&$i(e),u0(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));Gt=B1(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));Gt=B1(e)}else n===27?(n=Gt,ds(e.type)?(e=zh,zh=null,Gt=e):Gt=n):Gt=Mn?Lr(e.stateNode.nextSibling):null;return!0}function ks(){Gt=Mn=null,gt=!1}function wc(){var e=Ji;return e!==null&&(ir===null?ir=e:ir.push.apply(ir,e),Ji=null),e}function gl(e){Ji===null?Ji=[e]:Ji.push(e)}var bc=z(null),Ls=null,wi=null;function es(e,n,s){Ee(bc,n._currentValue),n._currentValue=s}function bi(e){e._currentValue=bc.current,ae(bc)}function vc(e,n,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===s)break;e=e.return}}function Ec(e,n,s,c){var y=e.child;for(y!==null&&(y.return=e);y!==null;){var w=y.dependencies;if(w!==null){var S=y.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=y;for(var U=0;U<n.length;U++)if(D.context===n[U]){w.lanes|=s,D=w.alternate,D!==null&&(D.lanes|=s),vc(w.return,s,e),c||(S=null);break e}w=D.next}}else if(y.tag===18){if(S=y.return,S===null)throw Error(f(341));S.lanes|=s,w=S.alternate,w!==null&&(w.lanes|=s),vc(S,s,e),S=null}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===e){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}}function ya(e,n,s,c){e=null;for(var y=n,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var S=y.alternate;if(S===null)throw Error(f(387));if(S=S.memoizedProps,S!==null){var D=y.type;h(y.pendingProps.value,S.value)||(e!==null?e.push(D):e=[D])}}else if(y===at.current){if(S=y.alternate,S===null)throw Error(f(387));S.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(e!==null?e.push(zl):e=[zl])}y=y.return}e!==null&&Ec(n,e,s,c),n.flags|=262144}function Ro(e){for(e=e.firstContext;e!==null;){if(!h(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Us(e){Ls=e,wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bn(e){return c0(Ls,e)}function No(e,n){return Ls===null&&Us(e),c0(e,n)}function c0(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},wi===null){if(e===null)throw Error(f(308));wi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else wi=wi.next=n;return s}var ix=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},sx=d.unstable_scheduleCallback,ax=d.unstable_NormalPriority,gn={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _c(){return{controller:new ix,data:new Map,refCount:0}}function ml(e){e.refCount--,e.refCount===0&&sx(ax,function(){e.controller.abort()})}var xl=null,Ac=0,pa=0,wa=null;function lx(e,n){if(xl===null){var s=xl=[];Ac=0,pa=Th(),wa={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Ac++,n.then(h0,h0),n}function h0(){if(--Ac===0&&xl!==null){wa!==null&&(wa.status="fulfilled");var e=xl;xl=null,pa=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ox(e,n){var s=[],c={status:"pending",value:null,reason:null,then:function(y){s.push(y)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var y=0;y<s.length;y++)(0,s[y])(n)},function(y){for(c.status="rejected",c.reason=y,y=0;y<s.length;y++)(0,s[y])(void 0)}),c}var f0=ee.S;ee.S=function(e,n){Wd=Qt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&lx(e,n),f0!==null&&f0(e,n)};var Ps=z(null);function Cc(){var e=Ps.current;return e!==null?e:jt.pooledCache}function Io(e,n){n===null?Ee(Ps,Ps.current):Ee(Ps,n.pool)}function d0(){var e=Cc();return e===null?null:{parent:gn._currentValue,pool:e}}var ba=Error(f(460)),Sc=Error(f(474)),Do=Error(f(542)),Mo={then:function(){}};function g0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function m0(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Jn,Jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,y0(e),e;default:if(typeof n.status=="string")n.then(Jn,Jn);else{if(e=jt,e!==null&&100<e.shellSuspendCounter)throw Error(f(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var y=n;y.status="fulfilled",y.value=c}},function(c){if(n.status==="pending"){var y=n;y.status="rejected",y.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,y0(e),e}throw Fs=n,ba}}function js(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Fs=s,ba):s}}var Fs=null;function x0(){if(Fs===null)throw Error(f(459));var e=Fs;return Fs=null,e}function y0(e){if(e===ba||e===Do)throw Error(f(483))}var va=null,yl=0;function Bo(e){var n=yl;return yl+=1,va===null&&(va=[]),m0(va,e,n)}function pl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ko(e,n){throw n.$$typeof===B?Error(f(525)):(e=Object.prototype.toString.call(n),Error(f(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function p0(e){function n(V,H){if(e){var W=V.deletions;W===null?(V.deletions=[H],V.flags|=16):W.push(H)}}function s(V,H){if(!e)return null;for(;H!==null;)n(V,H),H=H.sibling;return null}function c(V){for(var H=new Map;V!==null;)V.key!==null?H.set(V.key,V):H.set(V.index,V),V=V.sibling;return H}function y(V,H){return V=yi(V,H),V.index=0,V.sibling=null,V}function w(V,H,W){return V.index=W,e?(W=V.alternate,W!==null?(W=W.index,W<H?(V.flags|=67108866,H):W):(V.flags|=67108866,H)):(V.flags|=1048576,H)}function S(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function D(V,H,W,ue){return H===null||H.tag!==6?(H=gc(W,V.mode,ue),H.return=V,H):(H=y(H,W),H.return=V,H)}function U(V,H,W,ue){var Ue=W.type;return Ue===q?le(V,H,W.props.children,ue,W.key):H!==null&&(H.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===Me&&js(Ue)===H.type)?(H=y(H,W.props),pl(H,W),H.return=V,H):(H=To(W.type,W.key,W.props,null,V.mode,ue),pl(H,W),H.return=V,H)}function Z(V,H,W,ue){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=mc(W,V.mode,ue),H.return=V,H):(H=y(H,W.children||[]),H.return=V,H)}function le(V,H,W,ue,Ue){return H===null||H.tag!==7?(H=Bs(W,V.mode,ue,Ue),H.return=V,H):(H=y(H,W),H.return=V,H)}function he(V,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=gc(""+H,V.mode,W),H.return=V,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return W=To(H.type,H.key,H.props,null,V.mode,W),pl(W,H),W.return=V,W;case P:return H=mc(H,V.mode,W),H.return=V,H;case Me:return H=js(H),he(V,H,W)}if(re(H)||Ae(H))return H=Bs(H,V.mode,W,null),H.return=V,H;if(typeof H.then=="function")return he(V,Bo(H),W);if(H.$$typeof===Y)return he(V,No(V,H),W);ko(V,H)}return null}function J(V,H,W,ue){var Ue=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ue!==null?null:D(V,H,""+W,ue);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return W.key===Ue?U(V,H,W,ue):null;case P:return W.key===Ue?Z(V,H,W,ue):null;case Me:return W=js(W),J(V,H,W,ue)}if(re(W)||Ae(W))return Ue!==null?null:le(V,H,W,ue,null);if(typeof W.then=="function")return J(V,H,Bo(W),ue);if(W.$$typeof===Y)return J(V,H,No(V,W),ue);ko(V,W)}return null}function ie(V,H,W,ue,Ue){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return V=V.get(W)||null,D(H,V,""+ue,Ue);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:return V=V.get(ue.key===null?W:ue.key)||null,U(H,V,ue,Ue);case P:return V=V.get(ue.key===null?W:ue.key)||null,Z(H,V,ue,Ue);case Me:return ue=js(ue),ie(V,H,W,ue,Ue)}if(re(ue)||Ae(ue))return V=V.get(W)||null,le(H,V,ue,Ue,null);if(typeof ue.then=="function")return ie(V,H,W,Bo(ue),Ue);if(ue.$$typeof===Y)return ie(V,H,W,No(H,ue),Ue);ko(H,ue)}return null}function Ne(V,H,W,ue){for(var Ue=null,wt=null,De=H,et=H=0,ft=null;De!==null&&et<W.length;et++){De.index>et?(ft=De,De=null):ft=De.sibling;var bt=J(V,De,W[et],ue);if(bt===null){De===null&&(De=ft);break}e&&De&&bt.alternate===null&&n(V,De),H=w(bt,H,et),wt===null?Ue=bt:wt.sibling=bt,wt=bt,De=ft}if(et===W.length)return s(V,De),gt&&pi(V,et),Ue;if(De===null){for(;et<W.length;et++)De=he(V,W[et],ue),De!==null&&(H=w(De,H,et),wt===null?Ue=De:wt.sibling=De,wt=De);return gt&&pi(V,et),Ue}for(De=c(De);et<W.length;et++)ft=ie(De,V,et,W[et],ue),ft!==null&&(e&&ft.alternate!==null&&De.delete(ft.key===null?et:ft.key),H=w(ft,H,et),wt===null?Ue=ft:wt.sibling=ft,wt=ft);return e&&De.forEach(function(ps){return n(V,ps)}),gt&&pi(V,et),Ue}function qe(V,H,W,ue){if(W==null)throw Error(f(151));for(var Ue=null,wt=null,De=H,et=H=0,ft=null,bt=W.next();De!==null&&!bt.done;et++,bt=W.next()){De.index>et?(ft=De,De=null):ft=De.sibling;var ps=J(V,De,bt.value,ue);if(ps===null){De===null&&(De=ft);break}e&&De&&ps.alternate===null&&n(V,De),H=w(ps,H,et),wt===null?Ue=ps:wt.sibling=ps,wt=ps,De=ft}if(bt.done)return s(V,De),gt&&pi(V,et),Ue;if(De===null){for(;!bt.done;et++,bt=W.next())bt=he(V,bt.value,ue),bt!==null&&(H=w(bt,H,et),wt===null?Ue=bt:wt.sibling=bt,wt=bt);return gt&&pi(V,et),Ue}for(De=c(De);!bt.done;et++,bt=W.next())bt=ie(De,V,et,bt.value,ue),bt!==null&&(e&&bt.alternate!==null&&De.delete(bt.key===null?et:bt.key),H=w(bt,H,et),wt===null?Ue=bt:wt.sibling=bt,wt=bt);return e&&De.forEach(function(wy){return n(V,wy)}),gt&&pi(V,et),Ue}function kt(V,H,W,ue){if(typeof W=="object"&&W!==null&&W.type===q&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case L:e:{for(var Ue=W.key;H!==null;){if(H.key===Ue){if(Ue=W.type,Ue===q){if(H.tag===7){s(V,H.sibling),ue=y(H,W.props.children),ue.return=V,V=ue;break e}}else if(H.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===Me&&js(Ue)===H.type){s(V,H.sibling),ue=y(H,W.props),pl(ue,W),ue.return=V,V=ue;break e}s(V,H);break}else n(V,H);H=H.sibling}W.type===q?(ue=Bs(W.props.children,V.mode,ue,W.key),ue.return=V,V=ue):(ue=To(W.type,W.key,W.props,null,V.mode,ue),pl(ue,W),ue.return=V,V=ue)}return S(V);case P:e:{for(Ue=W.key;H!==null;){if(H.key===Ue)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){s(V,H.sibling),ue=y(H,W.children||[]),ue.return=V,V=ue;break e}else{s(V,H);break}else n(V,H);H=H.sibling}ue=mc(W,V.mode,ue),ue.return=V,V=ue}return S(V);case Me:return W=js(W),kt(V,H,W,ue)}if(re(W))return Ne(V,H,W,ue);if(Ae(W)){if(Ue=Ae(W),typeof Ue!="function")throw Error(f(150));return W=Ue.call(W),qe(V,H,W,ue)}if(typeof W.then=="function")return kt(V,H,Bo(W),ue);if(W.$$typeof===Y)return kt(V,H,No(V,W),ue);ko(V,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(s(V,H.sibling),ue=y(H,W),ue.return=V,V=ue):(s(V,H),ue=gc(W,V.mode,ue),ue.return=V,V=ue),S(V)):s(V,H)}return function(V,H,W,ue){try{yl=0;var Ue=kt(V,H,W,ue);return va=null,Ue}catch(De){if(De===ba||De===Do)throw De;var wt=xr(29,De,null,V.mode);return wt.lanes=ue,wt.return=V,wt}finally{}}}var zs=p0(!0),w0=p0(!1),ts=!1;function Tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ns(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rs(e,n,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(At&2)!==0){var y=c.pending;return y===null?n.next=n:(n.next=y.next,y.next=n),c.pending=n,n=So(e),n0(e,null,s),n}return Co(e,c,n,s),So(e)}function wl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,ei(e,s)}}function Rc(e,n){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var y=null,w=null;if(s=s.firstBaseUpdate,s!==null){do{var S={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};w===null?y=w=S:w=w.next=S,s=s.next}while(s!==null);w===null?y=w=n:w=w.next=n}else y=w=n;s={baseState:c.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:c.shared,callbacks:c.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Nc=!1;function bl(){if(Nc){var e=wa;if(e!==null)throw e}}function vl(e,n,s,c){Nc=!1;var y=e.updateQueue;ts=!1;var w=y.firstBaseUpdate,S=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var U=D,Z=U.next;U.next=null,S===null?w=Z:S.next=Z,S=U;var le=e.alternate;le!==null&&(le=le.updateQueue,D=le.lastBaseUpdate,D!==S&&(D===null?le.firstBaseUpdate=Z:D.next=Z,le.lastBaseUpdate=U))}if(w!==null){var he=y.baseState;S=0,le=Z=U=null,D=w;do{var J=D.lane&-536870913,ie=J!==D.lane;if(ie?(ht&J)===J:(c&J)===J){J!==0&&J===pa&&(Nc=!0),le!==null&&(le=le.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ne=e,qe=D;J=n;var kt=s;switch(qe.tag){case 1:if(Ne=qe.payload,typeof Ne=="function"){he=Ne.call(kt,he,J);break e}he=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=qe.payload,J=typeof Ne=="function"?Ne.call(kt,he,J):Ne,J==null)break e;he=N({},he,J);break e;case 2:ts=!0}}J=D.callback,J!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=y.callbacks,ie===null?y.callbacks=[J]:ie.push(J))}else ie={lane:J,tag:D.tag,payload:D.payload,callback:D.callback,next:null},le===null?(Z=le=ie,U=he):le=le.next=ie,S|=J;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;ie=D,D=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);le===null&&(U=he),y.baseState=U,y.firstBaseUpdate=Z,y.lastBaseUpdate=le,w===null&&(y.shared.lanes=0),os|=S,e.lanes=S,e.memoizedState=he}}function b0(e,n){if(typeof e!="function")throw Error(f(191,e));e.call(n)}function v0(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)b0(s[e],n)}var Ea=z(null),Lo=z(0);function E0(e,n){e=Ri,Ee(Lo,e),Ee(Ea,n),Ri=e|n.baseLanes}function Ic(){Ee(Lo,Ri),Ee(Ea,Ea.current)}function Dc(){Ri=Lo.current,ae(Ea),ae(Lo)}var yr=z(null),kr=null;function is(e){var n=e.alternate;Ee(cn,cn.current&1),Ee(yr,e),kr===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(kr=e)}function Mc(e){Ee(cn,cn.current),Ee(yr,e),kr===null&&(kr=e)}function _0(e){e.tag===22?(Ee(cn,cn.current),Ee(yr,e),kr===null&&(kr=e)):ss()}function ss(){Ee(cn,cn.current),Ee(yr,yr.current)}function pr(e){ae(yr),kr===e&&(kr=null),ae(cn)}var cn=z(0);function Uo(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||jh(s)||Fh(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var vi=0,Qe=null,Mt=null,mn=null,Po=!1,_a=!1,Hs=!1,jo=0,El=0,Aa=null,ux=0;function nn(){throw Error(f(321))}function Bc(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!h(e[s],n[s]))return!1;return!0}function kc(e,n,s,c,y,w){return vi=w,Qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ee.H=e===null||e.memoizedState===null?ad:Zc,Hs=!1,w=s(c,y),Hs=!1,_a&&(w=C0(n,s,c,y)),A0(e),w}function A0(e){ee.H=Cl;var n=Mt!==null&&Mt.next!==null;if(vi=0,mn=Mt=Qe=null,Po=!1,El=0,Aa=null,n)throw Error(f(300));e===null||xn||(e=e.dependencies,e!==null&&Ro(e)&&(xn=!0))}function C0(e,n,s,c){Qe=e;var y=0;do{if(_a&&(Aa=null),El=0,_a=!1,25<=y)throw Error(f(301));if(y+=1,mn=Mt=null,e.updateQueue!=null){var w=e.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}ee.H=ld,w=n(s,c)}while(_a);return w}function cx(){var e=ee.H,n=e.useState()[0];return n=typeof n.then=="function"?_l(n):n,e=e.useState()[0],(Mt!==null?Mt.memoizedState:null)!==e&&(Qe.flags|=1024),n}function Lc(){var e=jo!==0;return jo=0,e}function Uc(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Pc(e){if(Po){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Po=!1}vi=0,mn=Mt=Qe=null,_a=!1,El=jo=0,Aa=null}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Qe.memoizedState=mn=e:mn=mn.next=e,mn}function hn(){if(Mt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var n=mn===null?Qe.memoizedState:mn.next;if(n!==null)mn=n,Mt=e;else{if(e===null)throw Qe.alternate===null?Error(f(467)):Error(f(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},mn===null?Qe.memoizedState=mn=e:mn=mn.next=e}return mn}function Fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(e){var n=El;return El+=1,Aa===null&&(Aa=[]),e=m0(Aa,e,n),n=Qe,(mn===null?n.memoizedState:mn.next)===null&&(n=n.alternate,ee.H=n===null||n.memoizedState===null?ad:Zc),e}function zo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _l(e);if(e.$$typeof===Y)return Bn(e)}throw Error(f(438,String(e)))}function jc(e){var n=null,s=Qe.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var c=Qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(y){return y.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Fo(),Qe.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),c=0;c<e;c++)s[c]=Tn;return n.index++,s}function Ei(e,n){return typeof n=="function"?n(e):n}function Ho(e){var n=hn();return Fc(n,Mt,e)}function Fc(e,n,s){var c=e.queue;if(c===null)throw Error(f(311));c.lastRenderedReducer=s;var y=e.baseQueue,w=c.pending;if(w!==null){if(y!==null){var S=y.next;y.next=w.next,w.next=S}n.baseQueue=y=w,c.pending=null}if(w=e.baseState,y===null)e.memoizedState=w;else{n=y.next;var D=S=null,U=null,Z=n,le=!1;do{var he=Z.lane&-536870913;if(he!==Z.lane?(ht&he)===he:(vi&he)===he){var J=Z.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),he===pa&&(le=!0);else if((vi&J)===J){Z=Z.next,J===pa&&(le=!0);continue}else he={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(D=U=he,S=w):U=U.next=he,Qe.lanes|=J,os|=J;he=Z.action,Hs&&s(w,he),w=Z.hasEagerState?Z.eagerState:s(w,he)}else J={lane:he,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(D=U=J,S=w):U=U.next=J,Qe.lanes|=he,os|=he;Z=Z.next}while(Z!==null&&Z!==n);if(U===null?S=w:U.next=D,!h(w,e.memoizedState)&&(xn=!0,le&&(s=wa,s!==null)))throw s;e.memoizedState=w,e.baseState=S,e.baseQueue=U,c.lastRenderedState=w}return y===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function zc(e){var n=hn(),s=n.queue;if(s===null)throw Error(f(311));s.lastRenderedReducer=e;var c=s.dispatch,y=s.pending,w=n.memoizedState;if(y!==null){s.pending=null;var S=y=y.next;do w=e(w,S.action),S=S.next;while(S!==y);h(w,n.memoizedState)||(xn=!0),n.memoizedState=w,n.baseQueue===null&&(n.baseState=w),s.lastRenderedState=w}return[w,c]}function S0(e,n,s){var c=Qe,y=hn(),w=gt;if(w){if(s===void 0)throw Error(f(407));s=s()}else s=n();var S=!h((Mt||y).memoizedState,s);if(S&&(y.memoizedState=s,xn=!0),y=y.queue,Gc(R0.bind(null,c,y,e),[e]),y.getSnapshot!==n||S||mn!==null&&mn.memoizedState.tag&1){if(c.flags|=2048,Ca(9,{destroy:void 0},O0.bind(null,c,y,s,n),null),jt===null)throw Error(f(349));w||(vi&127)!==0||T0(c,n,s)}return s}function T0(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Qe.updateQueue,n===null?(n=Fo(),Qe.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function O0(e,n,s,c){n.value=s,n.getSnapshot=c,N0(n)&&I0(e)}function R0(e,n,s){return s(function(){N0(n)&&I0(e)})}function N0(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!h(e,s)}catch{return!0}}function I0(e){var n=Ms(e,2);n!==null&&sr(n,e,2)}function Hc(e){var n=Kn();if(typeof e=="function"){var s=e;if(e=s(),Hs){Dt(!0);try{s()}finally{Dt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:e},n}function D0(e,n,s,c){return e.baseState=s,Fc(e,Mt,typeof c=="function"?c:Ei)}function hx(e,n,s,c,y){if(Vo(e))throw Error(f(485));if(e=n.action,e!==null){var w={payload:y,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){w.listeners.push(S)}};ee.T!==null?s(!0):w.isTransition=!1,c(w),s=n.pending,s===null?(w.next=n.pending=w,M0(n,w)):(w.next=s.next,n.pending=s.next=w)}}function M0(e,n){var s=n.action,c=n.payload,y=e.state;if(n.isTransition){var w=ee.T,S={};ee.T=S;try{var D=s(y,c),U=ee.S;U!==null&&U(S,D),B0(e,n,D)}catch(Z){qc(e,n,Z)}finally{w!==null&&S.types!==null&&(w.types=S.types),ee.T=w}}else try{w=s(y,c),B0(e,n,w)}catch(Z){qc(e,n,Z)}}function B0(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){k0(e,n,c)},function(c){return qc(e,n,c)}):k0(e,n,s)}function k0(e,n,s){n.status="fulfilled",n.value=s,L0(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,M0(e,s)))}function qc(e,n,s){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=s,L0(n),n=n.next;while(n!==c)}e.action=null}function L0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function U0(e,n){return n}function P0(e,n){if(gt){var s=jt.formState;if(s!==null){e:{var c=Qe;if(gt){if(Gt){t:{for(var y=Gt,w=Br;y.nodeType!==8;){if(!w){y=null;break t}if(y=Lr(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Gt=Lr(y.nextSibling),c=y.data==="F!";break e}}$i(c)}c=!1}c&&(n=s[0])}}return s=Kn(),s.memoizedState=s.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U0,lastRenderedState:n},s.queue=c,s=rd.bind(null,Qe,c),c.dispatch=s,c=Hc(!1),w=Wc.bind(null,Qe,!1,c.queue),c=Kn(),y={state:n,dispatch:null,action:e,pending:null},c.queue=y,s=hx.bind(null,Qe,y,w,s),y.dispatch=s,c.memoizedState=e,[n,s,!1]}function j0(e){var n=hn();return F0(n,Mt,e)}function F0(e,n,s){if(n=Fc(e,n,U0)[0],e=Ho(Ei)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=_l(n)}catch(S){throw S===ba?Do:S}else c=n;n=hn();var y=n.queue,w=y.dispatch;return s!==n.memoizedState&&(Qe.flags|=2048,Ca(9,{destroy:void 0},fx.bind(null,y,s),null)),[c,w,e]}function fx(e,n){e.action=n}function z0(e){var n=hn(),s=Mt;if(s!==null)return F0(n,s,e);hn(),n=n.memoizedState,s=hn();var c=s.queue.dispatch;return s.memoizedState=e,[n,c,!1]}function Ca(e,n,s,c){return e={tag:e,create:s,deps:c,inst:n,next:null},n=Qe.updateQueue,n===null&&(n=Fo(),Qe.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,n.lastEffect=e),e}function H0(){return hn().memoizedState}function qo(e,n,s,c){var y=Kn();Qe.flags|=e,y.memoizedState=Ca(1|n,{destroy:void 0},s,c===void 0?null:c)}function Go(e,n,s,c){var y=hn();c=c===void 0?null:c;var w=y.memoizedState.inst;Mt!==null&&c!==null&&Bc(c,Mt.memoizedState.deps)?y.memoizedState=Ca(n,w,s,c):(Qe.flags|=e,y.memoizedState=Ca(1|n,w,s,c))}function q0(e,n){qo(8390656,8,e,n)}function Gc(e,n){Go(2048,8,e,n)}function dx(e){Qe.flags|=4;var n=Qe.updateQueue;if(n===null)n=Fo(),Qe.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function G0(e){var n=hn().memoizedState;return dx({ref:n,nextImpl:e}),function(){if((At&2)!==0)throw Error(f(440));return n.impl.apply(void 0,arguments)}}function V0(e,n){return Go(4,2,e,n)}function X0(e,n){return Go(4,4,e,n)}function Y0(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function K0(e,n,s){s=s!=null?s.concat([e]):null,Go(4,4,Y0.bind(null,n,e),s)}function Vc(){}function W0(e,n){var s=hn();n=n===void 0?null:n;var c=s.memoizedState;return n!==null&&Bc(n,c[1])?c[0]:(s.memoizedState=[e,n],e)}function Z0(e,n){var s=hn();n=n===void 0?null:n;var c=s.memoizedState;if(n!==null&&Bc(n,c[1]))return c[0];if(c=e(),Hs){Dt(!0);try{e()}finally{Dt(!1)}}return s.memoizedState=[c,n],c}function Xc(e,n,s){return s===void 0||(vi&1073741824)!==0&&(ht&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Qd(),Qe.lanes|=e,os|=e,s)}function Q0(e,n,s,c){return h(s,n)?s:Ea.current!==null?(e=Xc(e,s,c),h(e,n)||(xn=!0),e):(vi&42)===0||(vi&1073741824)!==0&&(ht&261930)===0?(xn=!0,e.memoizedState=s):(e=Qd(),Qe.lanes|=e,os|=e,n)}function J0(e,n,s,c,y){var w=oe.p;oe.p=w!==0&&8>w?w:8;var S=ee.T,D={};ee.T=D,Wc(e,!1,n,s);try{var U=y(),Z=ee.S;if(Z!==null&&Z(D,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var le=ox(U,c);Al(e,n,le,vr(e))}else Al(e,n,c,vr(e))}catch(he){Al(e,n,{then:function(){},status:"rejected",reason:he},vr())}finally{oe.p=w,S!==null&&D.types!==null&&(S.types=D.types),ee.T=S}}function gx(){}function Yc(e,n,s,c){if(e.tag!==5)throw Error(f(476));var y=$0(e).queue;J0(e,y,n,Oe,s===null?gx:function(){return ed(e),s(c)})}function $0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:Oe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ed(e){var n=$0(e);n.next===null&&(n=e.alternate.memoizedState),Al(e,n.next.queue,{},vr())}function Kc(){return Bn(zl)}function td(){return hn().memoizedState}function nd(){return hn().memoizedState}function mx(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vr();e=ns(s);var c=rs(n,e,s);c!==null&&(sr(c,n,s),wl(c,n,s)),n={cache:_c()},e.payload=n;return}n=n.return}}function xx(e,n,s){var c=vr();s={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Vo(e)?id(n,s):(s=fc(e,n,s,c),s!==null&&(sr(s,e,c),sd(s,n,c)))}function rd(e,n,s){var c=vr();Al(e,n,s,c)}function Al(e,n,s,c){var y={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Vo(e))id(n,y);else{var w=e.alternate;if(e.lanes===0&&(w===null||w.lanes===0)&&(w=n.lastRenderedReducer,w!==null))try{var S=n.lastRenderedState,D=w(S,s);if(y.hasEagerState=!0,y.eagerState=D,h(D,S))return Co(e,n,y,0),jt===null&&Ao(),!1}catch{}finally{}if(s=fc(e,n,y,c),s!==null)return sr(s,e,c),sd(s,n,c),!0}return!1}function Wc(e,n,s,c){if(c={lane:2,revertLane:Th(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Vo(e)){if(n)throw Error(f(479))}else n=fc(e,s,c,2),n!==null&&sr(n,e,2)}function Vo(e){var n=e.alternate;return e===Qe||n!==null&&n===Qe}function id(e,n){_a=Po=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function sd(e,n,s){if((s&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,ei(e,s)}}var Cl={readContext:Bn,use:zo,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};Cl.useEffectEvent=nn;var ad={readContext:Bn,use:zo,useCallback:function(e,n){return Kn().memoizedState=[e,n===void 0?null:n],e},useContext:Bn,useEffect:q0,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,qo(4194308,4,Y0.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qo(4194308,4,e,n)},useInsertionEffect:function(e,n){qo(4,2,e,n)},useMemo:function(e,n){var s=Kn();n=n===void 0?null:n;var c=e();if(Hs){Dt(!0);try{e()}finally{Dt(!1)}}return s.memoizedState=[c,n],c},useReducer:function(e,n,s){var c=Kn();if(s!==void 0){var y=s(n);if(Hs){Dt(!0);try{s(n)}finally{Dt(!1)}}}else y=n;return c.memoizedState=c.baseState=y,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:y},c.queue=e,e=e.dispatch=xx.bind(null,Qe,e),[c.memoizedState,e]},useRef:function(e){var n=Kn();return e={current:e},n.memoizedState=e},useState:function(e){e=Hc(e);var n=e.queue,s=rd.bind(null,Qe,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Vc,useDeferredValue:function(e,n){var s=Kn();return Xc(s,e,n)},useTransition:function(){var e=Hc(!1);return e=J0.bind(null,Qe,e.queue,!0,!1),Kn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var c=Qe,y=Kn();if(gt){if(s===void 0)throw Error(f(407));s=s()}else{if(s=n(),jt===null)throw Error(f(349));(ht&127)!==0||T0(c,n,s)}y.memoizedState=s;var w={value:s,getSnapshot:n};return y.queue=w,q0(R0.bind(null,c,w,e),[e]),c.flags|=2048,Ca(9,{destroy:void 0},O0.bind(null,c,w,s,n),null),s},useId:function(){var e=Kn(),n=jt.identifierPrefix;if(gt){var s=ai,c=si;s=(c&~(1<<32-Je(c)-1)).toString(32)+s,n="_"+n+"R_"+s,s=jo++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=ux++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Kc,useFormState:P0,useActionState:P0,useOptimistic:function(e){var n=Kn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Wc.bind(null,Qe,!0,s),s.dispatch=n,[e,n]},useMemoCache:jc,useCacheRefresh:function(){return Kn().memoizedState=mx.bind(null,Qe)},useEffectEvent:function(e){var n=Kn(),s={impl:e};return n.memoizedState=s,function(){if((At&2)!==0)throw Error(f(440));return s.impl.apply(void 0,arguments)}}},Zc={readContext:Bn,use:zo,useCallback:W0,useContext:Bn,useEffect:Gc,useImperativeHandle:K0,useInsertionEffect:V0,useLayoutEffect:X0,useMemo:Z0,useReducer:Ho,useRef:H0,useState:function(){return Ho(Ei)},useDebugValue:Vc,useDeferredValue:function(e,n){var s=hn();return Q0(s,Mt.memoizedState,e,n)},useTransition:function(){var e=Ho(Ei)[0],n=hn().memoizedState;return[typeof e=="boolean"?e:_l(e),n]},useSyncExternalStore:S0,useId:td,useHostTransitionStatus:Kc,useFormState:j0,useActionState:j0,useOptimistic:function(e,n){var s=hn();return D0(s,Mt,e,n)},useMemoCache:jc,useCacheRefresh:nd};Zc.useEffectEvent=G0;var ld={readContext:Bn,use:zo,useCallback:W0,useContext:Bn,useEffect:Gc,useImperativeHandle:K0,useInsertionEffect:V0,useLayoutEffect:X0,useMemo:Z0,useReducer:zc,useRef:H0,useState:function(){return zc(Ei)},useDebugValue:Vc,useDeferredValue:function(e,n){var s=hn();return Mt===null?Xc(s,e,n):Q0(s,Mt.memoizedState,e,n)},useTransition:function(){var e=zc(Ei)[0],n=hn().memoizedState;return[typeof e=="boolean"?e:_l(e),n]},useSyncExternalStore:S0,useId:td,useHostTransitionStatus:Kc,useFormState:z0,useActionState:z0,useOptimistic:function(e,n){var s=hn();return Mt!==null?D0(s,Mt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:jc,useCacheRefresh:nd};ld.useEffectEvent=G0;function Qc(e,n,s,c){n=e.memoizedState,s=s(c,n),s=s==null?n:N({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Jc={enqueueSetState:function(e,n,s){e=e._reactInternals;var c=vr(),y=ns(c);y.payload=n,s!=null&&(y.callback=s),n=rs(e,y,c),n!==null&&(sr(n,e,c),wl(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var c=vr(),y=ns(c);y.tag=1,y.payload=n,s!=null&&(y.callback=s),n=rs(e,y,c),n!==null&&(sr(n,e,c),wl(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vr(),c=ns(s);c.tag=2,n!=null&&(c.callback=n),n=rs(e,c,s),n!==null&&(sr(n,e,s),wl(n,e,s))}};function od(e,n,s,c,y,w,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,w,S):n.prototype&&n.prototype.isPureReactComponent?!m(s,c)||!m(y,w):!0}function ud(e,n,s,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,c),n.state!==e&&Jc.enqueueReplaceState(n,n.state,null)}function qs(e,n){var s=n;if("ref"in n){s={};for(var c in n)c!=="ref"&&(s[c]=n[c])}if(e=e.defaultProps){s===n&&(s=N({},s));for(var y in e)s[y]===void 0&&(s[y]=e[y])}return s}function cd(e){_o(e)}function hd(e){console.error(e)}function fd(e){_o(e)}function Xo(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function dd(e,n,s){try{var c=e.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function $c(e,n,s){return s=ns(s),s.tag=3,s.payload={element:null},s.callback=function(){Xo(e,n)},s}function gd(e){return e=ns(e),e.tag=3,e}function md(e,n,s,c){var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var w=c.value;e.payload=function(){return y(w)},e.callback=function(){dd(n,s,c)}}var S=s.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){dd(n,s,c),typeof y!="function"&&(us===null?us=new Set([this]):us.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function yx(e,n,s,c,y){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=s.alternate,n!==null&&ya(n,s,y,!0),s=yr.current,s!==null){switch(s.tag){case 31:case 13:return kr===null?iu():s.alternate===null&&rn===0&&(rn=3),s.flags&=-257,s.flags|=65536,s.lanes=y,c===Mo?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([c]):n.add(c),Ah(e,c,y)),!1;case 22:return s.flags|=65536,c===Mo?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([c]):s.add(c)),Ah(e,c,y)),!1}throw Error(f(435,s.tag))}return Ah(e,c,y),iu(),!1}if(gt)return n=yr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=y,c!==pc&&(e=Error(f(422),{cause:c}),gl(Ir(e,s)))):(c!==pc&&(n=Error(f(423),{cause:c}),gl(Ir(n,s))),e=e.current.alternate,e.flags|=65536,y&=-y,e.lanes|=y,c=Ir(c,s),y=$c(e.stateNode,c,y),Rc(e,y),rn!==4&&(rn=2)),!1;var w=Error(f(520),{cause:c});if(w=Ir(w,s),Ml===null?Ml=[w]:Ml.push(w),rn!==4&&(rn=2),n===null)return!0;c=Ir(c,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=y&-y,s.lanes|=e,e=$c(s.stateNode,c,e),Rc(s,e),!1;case 1:if(n=s.type,w=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(us===null||!us.has(w))))return s.flags|=65536,y&=-y,s.lanes|=y,y=gd(y),md(y,e,s,c),Rc(s,y),!1}s=s.return}while(s!==null);return!1}var eh=Error(f(461)),xn=!1;function kn(e,n,s,c){n.child=e===null?w0(n,null,s,c):zs(n,e.child,s,c)}function xd(e,n,s,c,y){s=s.render;var w=n.ref;if("ref"in c){var S={};for(var D in c)D!=="ref"&&(S[D]=c[D])}else S=c;return Us(n),c=kc(e,n,s,S,w,y),D=Lc(),e!==null&&!xn?(Uc(e,n,y),_i(e,n,y)):(gt&&D&&xc(n),n.flags|=1,kn(e,n,c,y),n.child)}function yd(e,n,s,c,y){if(e===null){var w=s.type;return typeof w=="function"&&!dc(w)&&w.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=w,pd(e,n,w,c,y)):(e=To(s.type,null,c,n,n.mode,y),e.ref=n.ref,e.return=n,n.child=e)}if(w=e.child,!oh(e,y)){var S=w.memoizedProps;if(s=s.compare,s=s!==null?s:m,s(S,c)&&e.ref===n.ref)return _i(e,n,y)}return n.flags|=1,e=yi(w,c),e.ref=n.ref,e.return=n,n.child=e}function pd(e,n,s,c,y){if(e!==null){var w=e.memoizedProps;if(m(w,c)&&e.ref===n.ref)if(xn=!1,n.pendingProps=c=w,oh(e,y))(e.flags&131072)!==0&&(xn=!0);else return n.lanes=e.lanes,_i(e,n,y)}return th(e,n,s,c,y)}function wd(e,n,s,c){var y=c.children,w=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(w=w!==null?w.baseLanes|s:s,e!==null){for(c=n.child=e.child,y=0;c!==null;)y=y|c.lanes|c.childLanes,c=c.sibling;c=y&~w}else c=0,n.child=null;return bd(e,n,w,s,c)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Io(n,w!==null?w.cachePool:null),w!==null?E0(n,w):Ic(),_0(n);else return c=n.lanes=536870912,bd(e,n,w!==null?w.baseLanes|s:s,s,c)}else w!==null?(Io(n,w.cachePool),E0(n,w),ss(),n.memoizedState=null):(e!==null&&Io(n,null),Ic(),ss());return kn(e,n,y,s),n.child}function Sl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function bd(e,n,s,c,y){var w=Cc();return w=w===null?null:{parent:gn._currentValue,pool:w},n.memoizedState={baseLanes:s,cachePool:w},e!==null&&Io(n,null),Ic(),_0(n),e!==null&&ya(e,n,c,!0),n.childLanes=y,null}function Yo(e,n){return n=Wo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function vd(e,n,s){return zs(n,e.child,null,s),e=Yo(n,n.pendingProps),e.flags|=2,pr(n),n.memoizedState=null,e}function px(e,n,s){var c=n.pendingProps,y=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(gt){if(c.mode==="hidden")return e=Yo(n,c),n.lanes=536870912,Sl(null,e);if(Mc(n),(e=Gt)?(e=M1(e,Br),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qi!==null?{id:si,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},s=i0(e),s.return=n,n.child=s,Mn=n,Gt=null)):e=null,e===null)throw $i(n);return n.lanes=536870912,null}return Yo(n,c)}var w=e.memoizedState;if(w!==null){var S=w.dehydrated;if(Mc(n),y)if(n.flags&256)n.flags&=-257,n=vd(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(f(558));else if(xn||ya(e,n,s,!1),y=(s&e.childLanes)!==0,xn||y){if(c=jt,c!==null&&(S=ta(c,s),S!==0&&S!==w.retryLane))throw w.retryLane=S,Ms(e,S),sr(c,e,S),eh;iu(),n=vd(e,n,s)}else e=w.treeContext,Gt=Lr(S.nextSibling),Mn=n,gt=!0,Ji=null,Br=!1,e!==null&&l0(n,e),n=Yo(n,c),n.flags|=4096;return n}return e=yi(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ko(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(f(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function th(e,n,s,c,y){return Us(n),s=kc(e,n,s,c,void 0,y),c=Lc(),e!==null&&!xn?(Uc(e,n,y),_i(e,n,y)):(gt&&c&&xc(n),n.flags|=1,kn(e,n,s,y),n.child)}function Ed(e,n,s,c,y,w){return Us(n),n.updateQueue=null,s=C0(n,c,s,y),A0(e),c=Lc(),e!==null&&!xn?(Uc(e,n,w),_i(e,n,w)):(gt&&c&&xc(n),n.flags|=1,kn(e,n,s,w),n.child)}function _d(e,n,s,c,y){if(Us(n),n.stateNode===null){var w=da,S=s.contextType;typeof S=="object"&&S!==null&&(w=Bn(S)),w=new s(c,w),n.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Jc,n.stateNode=w,w._reactInternals=n,w=n.stateNode,w.props=c,w.state=n.memoizedState,w.refs={},Tc(n),S=s.contextType,w.context=typeof S=="object"&&S!==null?Bn(S):da,w.state=n.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(Qc(n,s,S,c),w.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(S=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),S!==w.state&&Jc.enqueueReplaceState(w,w.state,null),vl(n,c,w,y),bl(),w.state=n.memoizedState),typeof w.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){w=n.stateNode;var D=n.memoizedProps,U=qs(s,D);w.props=U;var Z=w.context,le=s.contextType;S=da,typeof le=="object"&&le!==null&&(S=Bn(le));var he=s.getDerivedStateFromProps;le=typeof he=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=n.pendingProps!==D,le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||Z!==S)&&ud(n,w,c,S),ts=!1;var J=n.memoizedState;w.state=J,vl(n,c,w,y),bl(),Z=n.memoizedState,D||J!==Z||ts?(typeof he=="function"&&(Qc(n,s,he,c),Z=n.memoizedState),(U=ts||od(n,s,U,c,J,Z,S))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=Z),w.props=c,w.state=Z,w.context=S,c=U):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{w=n.stateNode,Oc(e,n),S=n.memoizedProps,le=qs(s,S),w.props=le,he=n.pendingProps,J=w.context,Z=s.contextType,U=da,typeof Z=="object"&&Z!==null&&(U=Bn(Z)),D=s.getDerivedStateFromProps,(Z=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(S!==he||J!==U)&&ud(n,w,c,U),ts=!1,J=n.memoizedState,w.state=J,vl(n,c,w,y),bl();var ie=n.memoizedState;S!==he||J!==ie||ts||e!==null&&e.dependencies!==null&&Ro(e.dependencies)?(typeof D=="function"&&(Qc(n,s,D,c),ie=n.memoizedState),(le=ts||od(n,s,le,c,J,ie,U)||e!==null&&e.dependencies!==null&&Ro(e.dependencies))?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ie,U),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ie,U)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||S===e.memoizedProps&&J===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&J===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ie),w.props=c,w.state=ie,w.context=U,c=le):(typeof w.componentDidUpdate!="function"||S===e.memoizedProps&&J===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&J===e.memoizedState||(n.flags|=1024),c=!1)}return w=c,Ko(e,n),c=(n.flags&128)!==0,w||c?(w=n.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:w.render(),n.flags|=1,e!==null&&c?(n.child=zs(n,e.child,null,y),n.child=zs(n,null,s,y)):kn(e,n,s,y),n.memoizedState=w.state,e=n.child):e=_i(e,n,y),e}function Ad(e,n,s,c){return ks(),n.flags|=256,kn(e,n,s,c),n.child}var nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rh(e){return{baseLanes:e,cachePool:d0()}}function ih(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=br),e}function Cd(e,n,s){var c=n.pendingProps,y=!1,w=(n.flags&128)!==0,S;if((S=w)||(S=e!==null&&e.memoizedState===null?!1:(cn.current&2)!==0),S&&(y=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(gt){if(y?is(n):ss(),(e=Gt)?(e=M1(e,Br),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qi!==null?{id:si,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},s=i0(e),s.return=n,n.child=s,Mn=n,Gt=null)):e=null,e===null)throw $i(n);return Fh(e)?n.lanes=32:n.lanes=536870912,null}var D=c.children;return c=c.fallback,y?(ss(),y=n.mode,D=Wo({mode:"hidden",children:D},y),c=Bs(c,y,s,null),D.return=n,c.return=n,D.sibling=c,n.child=D,c=n.child,c.memoizedState=rh(s),c.childLanes=ih(e,S,s),n.memoizedState=nh,Sl(null,c)):(is(n),sh(n,D))}var U=e.memoizedState;if(U!==null&&(D=U.dehydrated,D!==null)){if(w)n.flags&256?(is(n),n.flags&=-257,n=ah(e,n,s)):n.memoizedState!==null?(ss(),n.child=e.child,n.flags|=128,n=null):(ss(),D=c.fallback,y=n.mode,c=Wo({mode:"visible",children:c.children},y),D=Bs(D,y,s,null),D.flags|=2,c.return=n,D.return=n,c.sibling=D,n.child=c,zs(n,e.child,null,s),c=n.child,c.memoizedState=rh(s),c.childLanes=ih(e,S,s),n.memoizedState=nh,n=Sl(null,c));else if(is(n),Fh(D)){if(S=D.nextSibling&&D.nextSibling.dataset,S)var Z=S.dgst;S=Z,c=Error(f(419)),c.stack="",c.digest=S,gl({value:c,source:null,stack:null}),n=ah(e,n,s)}else if(xn||ya(e,n,s,!1),S=(s&e.childLanes)!==0,xn||S){if(S=jt,S!==null&&(c=ta(S,s),c!==0&&c!==U.retryLane))throw U.retryLane=c,Ms(e,c),sr(S,e,c),eh;jh(D)||iu(),n=ah(e,n,s)}else jh(D)?(n.flags|=192,n.child=e.child,n=null):(e=U.treeContext,Gt=Lr(D.nextSibling),Mn=n,gt=!0,Ji=null,Br=!1,e!==null&&l0(n,e),n=sh(n,c.children),n.flags|=4096);return n}return y?(ss(),D=c.fallback,y=n.mode,U=e.child,Z=U.sibling,c=yi(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,Z!==null?D=yi(Z,D):(D=Bs(D,y,s,null),D.flags|=2),D.return=n,c.return=n,c.sibling=D,n.child=c,Sl(null,c),c=n.child,D=e.child.memoizedState,D===null?D=rh(s):(y=D.cachePool,y!==null?(U=gn._currentValue,y=y.parent!==U?{parent:U,pool:U}:y):y=d0(),D={baseLanes:D.baseLanes|s,cachePool:y}),c.memoizedState=D,c.childLanes=ih(e,S,s),n.memoizedState=nh,Sl(e.child,c)):(is(n),s=e.child,e=s.sibling,s=yi(s,{mode:"visible",children:c.children}),s.return=n,s.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=s,n.memoizedState=null,s)}function sh(e,n){return n=Wo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wo(e,n){return e=xr(22,e,null,n),e.lanes=0,e}function ah(e,n,s){return zs(n,e.child,null,s),e=sh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Sd(e,n,s){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),vc(e.return,n,s)}function lh(e,n,s,c,y,w){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:y,treeForkCount:w}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=c,S.tail=s,S.tailMode=y,S.treeForkCount=w)}function Td(e,n,s){var c=n.pendingProps,y=c.revealOrder,w=c.tail;c=c.children;var S=cn.current,D=(S&2)!==0;if(D?(S=S&1|2,n.flags|=128):S&=1,Ee(cn,S),kn(e,n,c,s),c=gt?dl:0,!D&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sd(e,s,n);else if(e.tag===19)Sd(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(y){case"forwards":for(s=n.child,y=null;s!==null;)e=s.alternate,e!==null&&Uo(e)===null&&(y=s),s=s.sibling;s=y,s===null?(y=n.child,n.child=null):(y=s.sibling,s.sibling=null),lh(n,!1,y,s,w,c);break;case"backwards":case"unstable_legacy-backwards":for(s=null,y=n.child,n.child=null;y!==null;){if(e=y.alternate,e!==null&&Uo(e)===null){n.child=y;break}e=y.sibling,y.sibling=s,s=y,y=e}lh(n,!0,s,null,w,c);break;case"together":lh(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function _i(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),os|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ya(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(f(153));if(n.child!==null){for(e=n.child,s=yi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=yi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function oh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ro(e)))}function wx(e,n,s){switch(n.tag){case 3:lt(n,n.stateNode.containerInfo),es(n,gn,e.memoizedState.cache),ks();break;case 27:case 5:or(n);break;case 4:lt(n,n.stateNode.containerInfo);break;case 10:es(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Mc(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(is(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Cd(e,n,s):(is(n),e=_i(e,n,s),e!==null?e.sibling:null);is(n);break;case 19:var y=(e.flags&128)!==0;if(c=(s&n.childLanes)!==0,c||(ya(e,n,s,!1),c=(s&n.childLanes)!==0),y){if(c)return Td(e,n,s);n.flags|=128}if(y=n.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ee(cn,cn.current),c)break;return null;case 22:return n.lanes=0,wd(e,n,s,n.pendingProps);case 24:es(n,gn,e.memoizedState.cache)}return _i(e,n,s)}function Od(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)xn=!0;else{if(!oh(e,s)&&(n.flags&128)===0)return xn=!1,wx(e,n,s);xn=(e.flags&131072)!==0}else xn=!1,gt&&(n.flags&1048576)!==0&&a0(n,dl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=js(n.elementType),n.type=e,typeof e=="function")dc(e)?(c=qs(e,c),n.tag=1,n=_d(null,n,e,c,s)):(n.tag=0,n=th(null,n,e,c,s));else{if(e!=null){var y=e.$$typeof;if(y===me){n.tag=11,n=xd(null,n,e,c,s);break e}else if(y===$){n.tag=14,n=yd(null,n,e,c,s);break e}}throw n=dt(e)||e,Error(f(306,n,""))}}return n;case 0:return th(e,n,n.type,n.pendingProps,s);case 1:return c=n.type,y=qs(c,n.pendingProps),_d(e,n,c,y,s);case 3:e:{if(lt(n,n.stateNode.containerInfo),e===null)throw Error(f(387));c=n.pendingProps;var w=n.memoizedState;y=w.element,Oc(e,n),vl(n,c,null,s);var S=n.memoizedState;if(c=S.cache,es(n,gn,c),c!==w.cache&&Ec(n,[gn],s,!0),bl(),c=S.element,w.isDehydrated)if(w={element:c,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=w,n.memoizedState=w,n.flags&256){n=Ad(e,n,c,s);break e}else if(c!==y){y=Ir(Error(f(424)),n),gl(y),n=Ad(e,n,c,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Gt=Lr(e.firstChild),Mn=n,gt=!0,Ji=null,Br=!0,s=w0(n,null,c,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ks(),c===y){n=_i(e,n,s);break e}kn(e,n,c,s)}n=n.child}return n;case 26:return Ko(e,n),e===null?(s=j1(n.type,null,n.pendingProps,null))?n.memoizedState=s:gt||(s=n.type,e=n.pendingProps,c=hu(pe.current).createElement(s),c[ln]=n,c[Rt]=e,Ln(c,s,e),en(c),n.stateNode=c):n.memoizedState=j1(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return or(n),e===null&&gt&&(c=n.stateNode=L1(n.type,n.pendingProps,pe.current),Mn=n,Br=!0,y=Gt,ds(n.type)?(zh=y,Gt=Lr(c.firstChild)):Gt=y),kn(e,n,n.pendingProps.children,s),Ko(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&gt&&((y=c=Gt)&&(c=Wx(c,n.type,n.pendingProps,Br),c!==null?(n.stateNode=c,Mn=n,Gt=Lr(c.firstChild),Br=!1,y=!0):y=!1),y||$i(n)),or(n),y=n.type,w=n.pendingProps,S=e!==null?e.memoizedProps:null,c=w.children,Lh(y,w)?c=null:S!==null&&Lh(y,S)&&(n.flags|=32),n.memoizedState!==null&&(y=kc(e,n,cx,null,null,s),zl._currentValue=y),Ko(e,n),kn(e,n,c,s),n.child;case 6:return e===null&&gt&&((e=s=Gt)&&(s=Zx(s,n.pendingProps,Br),s!==null?(n.stateNode=s,Mn=n,Gt=null,e=!0):e=!1),e||$i(n)),null;case 13:return Cd(e,n,s);case 4:return lt(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=zs(n,null,c,s):kn(e,n,c,s),n.child;case 11:return xd(e,n,n.type,n.pendingProps,s);case 7:return kn(e,n,n.pendingProps,s),n.child;case 8:return kn(e,n,n.pendingProps.children,s),n.child;case 12:return kn(e,n,n.pendingProps.children,s),n.child;case 10:return c=n.pendingProps,es(n,n.type,c.value),kn(e,n,c.children,s),n.child;case 9:return y=n.type._context,c=n.pendingProps.children,Us(n),y=Bn(y),c=c(y),n.flags|=1,kn(e,n,c,s),n.child;case 14:return yd(e,n,n.type,n.pendingProps,s);case 15:return pd(e,n,n.type,n.pendingProps,s);case 19:return Td(e,n,s);case 31:return px(e,n,s);case 22:return wd(e,n,s,n.pendingProps);case 24:return Us(n),c=Bn(gn),e===null?(y=Cc(),y===null&&(y=jt,w=_c(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=s),y=w),n.memoizedState={parent:c,cache:y},Tc(n),es(n,gn,y)):((e.lanes&s)!==0&&(Oc(e,n),vl(n,null,null,s),bl()),y=e.memoizedState,w=n.memoizedState,y.parent!==c?(y={parent:c,cache:c},n.memoizedState=y,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=y),es(n,gn,c)):(c=w.cache,es(n,gn,c),c!==y.cache&&Ec(n,[gn],s,!0))),kn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(f(156,n.tag))}function Ai(e){e.flags|=4}function uh(e,n,s,c,y){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(y&335544128)===y)if(e.stateNode.complete)e.flags|=8192;else if(t1())e.flags|=8192;else throw Fs=Mo,Sc}else e.flags&=-16777217}function Rd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!G1(n))if(t1())e.flags|=8192;else throw Fs=Mo,Sc}function Zo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?bn():536870912,e.lanes|=n,Ra|=n)}function Tl(e,n){if(!gt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Vt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(n)for(var y=e.child;y!==null;)s|=y.lanes|y.childLanes,c|=y.subtreeFlags&65011712,c|=y.flags&65011712,y.return=e,y=y.sibling;else for(y=e.child;y!==null;)s|=y.lanes|y.childLanes,c|=y.subtreeFlags,c|=y.flags,y.return=e,y=y.sibling;return e.subtreeFlags|=c,e.childLanes=s,n}function bx(e,n,s){var c=n.pendingProps;switch(yc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(n),null;case 1:return Vt(n),null;case 3:return s=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),bi(gn),Ot(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(xa(n)?Ai(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wc())),Vt(n),null;case 26:var y=n.type,w=n.memoizedState;return e===null?(Ai(n),w!==null?(Vt(n),Rd(n,w)):(Vt(n),uh(n,y,null,c,s))):w?w!==e.memoizedState?(Ai(n),Vt(n),Rd(n,w)):(Vt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&Ai(n),Vt(n),uh(n,y,e,c,s)),null;case 27:if(an(n),s=pe.current,y=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Ai(n);else{if(!c){if(n.stateNode===null)throw Error(f(166));return Vt(n),null}e=ve.current,xa(n)?o0(n):(e=L1(y,c,s),n.stateNode=e,Ai(n))}return Vt(n),null;case 5:if(an(n),y=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Ai(n);else{if(!c){if(n.stateNode===null)throw Error(f(166));return Vt(n),null}if(w=ve.current,xa(n))o0(n);else{var S=hu(pe.current);switch(w){case 1:w=S.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=S.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=S.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=S.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=S.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof c.is=="string"?S.createElement("select",{is:c.is}):S.createElement("select"),c.multiple?w.multiple=!0:c.size&&(w.size=c.size);break;default:w=typeof c.is=="string"?S.createElement(y,{is:c.is}):S.createElement(y)}}w[ln]=n,w[Rt]=c;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)w.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=w;e:switch(Ln(w,y,c),y){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ai(n)}}return Vt(n),uh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Ai(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(f(166));if(e=pe.current,xa(n)){if(e=n.stateNode,s=n.memoizedProps,c=null,y=Mn,y!==null)switch(y.tag){case 27:case 5:c=y.memoizedProps}e[ln]=n,e=!!(e.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||C1(e.nodeValue,s)),e||$i(n,!0)}else e=hu(e).createTextNode(c),e[ln]=n,n.stateNode=e}return Vt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(c=xa(n),s!==null){if(e===null){if(!c)throw Error(f(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(557));e[ln]=n}else ks(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Vt(n),e=!1}else s=wc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(pr(n),n):(pr(n),null);if((n.flags&128)!==0)throw Error(f(558))}return Vt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(y=xa(n),c!==null&&c.dehydrated!==null){if(e===null){if(!y)throw Error(f(318));if(y=n.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(f(317));y[ln]=n}else ks(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Vt(n),y=!1}else y=wc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=y),y=!0;if(!y)return n.flags&256?(pr(n),n):(pr(n),null)}return pr(n),(n.flags&128)!==0?(n.lanes=s,n):(s=c!==null,e=e!==null&&e.memoizedState!==null,s&&(c=n.child,y=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(y=c.alternate.memoizedState.cachePool.pool),w=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(w=c.memoizedState.cachePool.pool),w!==y&&(c.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Zo(n,n.updateQueue),Vt(n),null);case 4:return Ot(),e===null&&Ih(n.stateNode.containerInfo),Vt(n),null;case 10:return bi(n.type),Vt(n),null;case 19:if(ae(cn),c=n.memoizedState,c===null)return Vt(n),null;if(y=(n.flags&128)!==0,w=c.rendering,w===null)if(y)Tl(c,!1);else{if(rn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=Uo(e),w!==null){for(n.flags|=128,Tl(c,!1),e=w.updateQueue,n.updateQueue=e,Zo(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)r0(s,e),s=s.sibling;return Ee(cn,cn.current&1|2),gt&&pi(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&Qt()>tu&&(n.flags|=128,y=!0,Tl(c,!1),n.lanes=4194304)}else{if(!y)if(e=Uo(w),e!==null){if(n.flags|=128,y=!0,e=e.updateQueue,n.updateQueue=e,Zo(n,e),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!w.alternate&&!gt)return Vt(n),null}else 2*Qt()-c.renderingStartTime>tu&&s!==536870912&&(n.flags|=128,y=!0,Tl(c,!1),n.lanes=4194304);c.isBackwards?(w.sibling=n.child,n.child=w):(e=c.last,e!==null?e.sibling=w:n.child=w,c.last=w)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Qt(),e.sibling=null,s=cn.current,Ee(cn,y?s&1|2:s&1),gt&&pi(n,c.treeForkCount),e):(Vt(n),null);case 22:case 23:return pr(n),Dc(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(s&536870912)!==0&&(n.flags&128)===0&&(Vt(n),n.subtreeFlags&6&&(n.flags|=8192)):Vt(n),s=n.updateQueue,s!==null&&Zo(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==s&&(n.flags|=2048),e!==null&&ae(Ps),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),bi(gn),Vt(n),null;case 25:return null;case 30:return null}throw Error(f(156,n.tag))}function vx(e,n){switch(yc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return bi(gn),Ot(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return an(n),null;case 31:if(n.memoizedState!==null){if(pr(n),n.alternate===null)throw Error(f(340));ks()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(f(340));ks()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ae(cn),null;case 4:return Ot(),null;case 10:return bi(n.type),null;case 22:case 23:return pr(n),Dc(),e!==null&&ae(Ps),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return bi(gn),null;case 25:return null;default:return null}}function Nd(e,n){switch(yc(n),n.tag){case 3:bi(gn),Ot();break;case 26:case 27:case 5:an(n);break;case 4:Ot();break;case 31:n.memoizedState!==null&&pr(n);break;case 13:pr(n);break;case 19:ae(cn);break;case 10:bi(n.type);break;case 22:case 23:pr(n),Dc(),e!==null&&ae(Ps);break;case 24:bi(gn)}}function Ol(e,n){try{var s=n.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var y=c.next;s=y;do{if((s.tag&e)===e){c=void 0;var w=s.create,S=s.inst;c=w(),S.destroy=c}s=s.next}while(s!==y)}}catch(D){It(n,n.return,D)}}function as(e,n,s){try{var c=n.updateQueue,y=c!==null?c.lastEffect:null;if(y!==null){var w=y.next;c=w;do{if((c.tag&e)===e){var S=c.inst,D=S.destroy;if(D!==void 0){S.destroy=void 0,y=n;var U=s,Z=D;try{Z()}catch(le){It(y,U,le)}}}c=c.next}while(c!==w)}}catch(le){It(n,n.return,le)}}function Id(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{v0(n,s)}catch(c){It(e,e.return,c)}}}function Dd(e,n,s){s.props=qs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(c){It(e,n,c)}}function Rl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof s=="function"?e.refCleanup=s(c):s.current=c}}catch(y){It(e,n,y)}}function li(e,n){var s=e.ref,c=e.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(y){It(e,n,y)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(y){It(e,n,y)}else s.current=null}function Md(e){var n=e.type,s=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(y){It(e,e.return,y)}}function ch(e,n,s){try{var c=e.stateNode;qx(c,e.type,s,n),c[Rt]=n}catch(y){It(e,e.return,y)}}function Bd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ds(e.type)||e.tag===4}function hh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fh(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Jn));else if(c!==4&&(c===27&&ds(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(fh(e,n,s),e=e.sibling;e!==null;)fh(e,n,s),e=e.sibling}function Qo(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(c!==4&&(c===27&&ds(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Qo(e,n,s),e=e.sibling;e!==null;)Qo(e,n,s),e=e.sibling}function kd(e){var n=e.stateNode,s=e.memoizedProps;try{for(var c=e.type,y=n.attributes;y.length;)n.removeAttributeNode(y[0]);Ln(n,c,s),n[ln]=e,n[Rt]=s}catch(w){It(e,e.return,w)}}var Ci=!1,yn=!1,dh=!1,Ld=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function Ex(e,n){if(e=e.containerInfo,Bh=pu,e=O(e),I(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var y=c.anchorOffset,w=c.focusNode;c=c.focusOffset;try{s.nodeType,w.nodeType}catch{s=null;break e}var S=0,D=-1,U=-1,Z=0,le=0,he=e,J=null;t:for(;;){for(var ie;he!==s||y!==0&&he.nodeType!==3||(D=S+y),he!==w||c!==0&&he.nodeType!==3||(U=S+c),he.nodeType===3&&(S+=he.nodeValue.length),(ie=he.firstChild)!==null;)J=he,he=ie;for(;;){if(he===e)break t;if(J===s&&++Z===y&&(D=S),J===w&&++le===c&&(U=S),(ie=he.nextSibling)!==null)break;he=J,J=he.parentNode}he=ie}s=D===-1||U===-1?null:{start:D,end:U}}else s=null}s=s||{start:0,end:0}}else s=null;for(kh={focusedElem:e,selectionRange:s},pu=!1,Sn=n;Sn!==null;)if(n=Sn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Sn=e;else for(;Sn!==null;){switch(n=Sn,w=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)y=e[s],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&w!==null){e=void 0,s=n,y=w.memoizedProps,w=w.memoizedState,c=s.stateNode;try{var Ne=qs(s.type,y);e=c.getSnapshotBeforeUpdate(Ne,w),c.__reactInternalSnapshotBeforeUpdate=e}catch(qe){It(s,s.return,qe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Ph(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ph(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(f(163))}if(e=n.sibling,e!==null){e.return=n.return,Sn=e;break}Sn=n.return}}function Ud(e,n,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Ti(e,s),c&4&&Ol(5,s);break;case 1:if(Ti(e,s),c&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(S){It(s,s.return,S)}else{var y=qs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(y,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){It(s,s.return,S)}}c&64&&Id(s),c&512&&Rl(s,s.return);break;case 3:if(Ti(e,s),c&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{v0(e,n)}catch(S){It(s,s.return,S)}}break;case 27:n===null&&c&4&&kd(s);case 26:case 5:Ti(e,s),n===null&&c&4&&Md(s),c&512&&Rl(s,s.return);break;case 12:Ti(e,s);break;case 31:Ti(e,s),c&4&&Fd(e,s);break;case 13:Ti(e,s),c&4&&zd(e,s),c&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Ix.bind(null,s),Qx(e,s))));break;case 22:if(c=s.memoizedState!==null||Ci,!c){n=n!==null&&n.memoizedState!==null||yn,y=Ci;var w=yn;Ci=c,(yn=n)&&!w?Oi(e,s,(s.subtreeFlags&8772)!==0):Ti(e,s),Ci=y,yn=w}break;case 30:break;default:Ti(e,s)}}function Pd(e){var n=e.alternate;n!==null&&(e.alternate=null,Pd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Qn(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Wt=null,tr=!1;function Si(e,n,s){for(s=s.child;s!==null;)jd(e,n,s),s=s.sibling}function jd(e,n,s){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(Ft,s)}catch{}switch(s.tag){case 26:yn||li(s,n),Si(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:yn||li(s,n);var c=Wt,y=tr;ds(s.type)&&(Wt=s.stateNode,tr=!1),Si(e,n,s),Pl(s.stateNode),Wt=c,tr=y;break;case 5:yn||li(s,n);case 6:if(c=Wt,y=tr,Wt=null,Si(e,n,s),Wt=c,tr=y,Wt!==null)if(tr)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(s.stateNode)}catch(w){It(s,n,w)}else try{Wt.removeChild(s.stateNode)}catch(w){It(s,n,w)}break;case 18:Wt!==null&&(tr?(e=Wt,I1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ua(e)):I1(Wt,s.stateNode));break;case 4:c=Wt,y=tr,Wt=s.stateNode.containerInfo,tr=!0,Si(e,n,s),Wt=c,tr=y;break;case 0:case 11:case 14:case 15:as(2,s,n),yn||as(4,s,n),Si(e,n,s);break;case 1:yn||(li(s,n),c=s.stateNode,typeof c.componentWillUnmount=="function"&&Dd(s,n,c)),Si(e,n,s);break;case 21:Si(e,n,s);break;case 22:yn=(c=yn)||s.memoizedState!==null,Si(e,n,s),yn=c;break;default:Si(e,n,s)}}function Fd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(s){It(n,n.return,s)}}}function zd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(s){It(n,n.return,s)}}function _x(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ld),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ld),n;default:throw Error(f(435,e.tag))}}function Jo(e,n){var s=_x(e);n.forEach(function(c){if(!s.has(c)){s.add(c);var y=Dx.bind(null,e,c);c.then(y,y)}})}function nr(e,n){var s=n.deletions;if(s!==null)for(var c=0;c<s.length;c++){var y=s[c],w=e,S=n,D=S;e:for(;D!==null;){switch(D.tag){case 27:if(ds(D.type)){Wt=D.stateNode,tr=!1;break e}break;case 5:Wt=D.stateNode,tr=!1;break e;case 3:case 4:Wt=D.stateNode.containerInfo,tr=!0;break e}D=D.return}if(Wt===null)throw Error(f(160));jd(w,S,y),Wt=null,tr=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Hd(n,e),n=n.sibling}var Xr=null;function Hd(e,n){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:nr(n,e),rr(e),c&4&&(as(3,e,e.return),Ol(3,e),as(5,e,e.return));break;case 1:nr(n,e),rr(e),c&512&&(yn||s===null||li(s,s.return)),c&64&&Ci&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var y=Xr;if(nr(n,e),rr(e),c&512&&(yn||s===null||li(s,s.return)),c&4){var w=s!==null?s.memoizedState:null;if(c=e.memoizedState,s===null)if(c===null)if(e.stateNode===null){e:{c=e.type,s=e.memoizedProps,y=y.ownerDocument||y;t:switch(c){case"title":w=y.getElementsByTagName("title")[0],(!w||w[As]||w[ln]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(c),y.head.insertBefore(w,y.querySelector("head > title"))),Ln(w,c,s),w[ln]=e,en(w),c=w;break e;case"link":var S=H1("link","href",y).get(c+(s.href||""));if(S){for(var D=0;D<S.length;D++)if(w=S[D],w.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&w.getAttribute("rel")===(s.rel==null?null:s.rel)&&w.getAttribute("title")===(s.title==null?null:s.title)&&w.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){S.splice(D,1);break t}}w=y.createElement(c),Ln(w,c,s),y.head.appendChild(w);break;case"meta":if(S=H1("meta","content",y).get(c+(s.content||""))){for(D=0;D<S.length;D++)if(w=S[D],w.getAttribute("content")===(s.content==null?null:""+s.content)&&w.getAttribute("name")===(s.name==null?null:s.name)&&w.getAttribute("property")===(s.property==null?null:s.property)&&w.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&w.getAttribute("charset")===(s.charSet==null?null:s.charSet)){S.splice(D,1);break t}}w=y.createElement(c),Ln(w,c,s),y.head.appendChild(w);break;default:throw Error(f(468,c))}w[ln]=e,en(w),c=w}e.stateNode=c}else q1(y,e.type,e.stateNode);else e.stateNode=z1(y,c,e.memoizedProps);else w!==c?(w===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):w.count--,c===null?q1(y,e.type,e.stateNode):z1(y,c,e.memoizedProps)):c===null&&e.stateNode!==null&&ch(e,e.memoizedProps,s.memoizedProps)}break;case 27:nr(n,e),rr(e),c&512&&(yn||s===null||li(s,s.return)),s!==null&&c&4&&ch(e,e.memoizedProps,s.memoizedProps);break;case 5:if(nr(n,e),rr(e),c&512&&(yn||s===null||li(s,s.return)),e.flags&32){y=e.stateNode;try{Hi(y,"")}catch(Ne){It(e,e.return,Ne)}}c&4&&e.stateNode!=null&&(y=e.memoizedProps,ch(e,y,s!==null?s.memoizedProps:y)),c&1024&&(dh=!0);break;case 6:if(nr(n,e),rr(e),c&4){if(e.stateNode===null)throw Error(f(162));c=e.memoizedProps,s=e.stateNode;try{s.nodeValue=c}catch(Ne){It(e,e.return,Ne)}}break;case 3:if(gu=null,y=Xr,Xr=fu(n.containerInfo),nr(n,e),Xr=y,rr(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(Ne){It(e,e.return,Ne)}dh&&(dh=!1,qd(e));break;case 4:c=Xr,Xr=fu(e.stateNode.containerInfo),nr(n,e),rr(e),Xr=c;break;case 12:nr(n,e),rr(e);break;case 31:nr(n,e),rr(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Jo(e,c)));break;case 13:nr(n,e),rr(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(eu=Qt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Jo(e,c)));break;case 22:y=e.memoizedState!==null;var U=s!==null&&s.memoizedState!==null,Z=Ci,le=yn;if(Ci=Z||y,yn=le||U,nr(n,e),yn=le,Ci=Z,rr(e),c&8192)e:for(n=e.stateNode,n._visibility=y?n._visibility&-2:n._visibility|1,y&&(s===null||U||Ci||yn||Gs(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){U=s=n;try{if(w=U.stateNode,y)S=w.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{D=U.stateNode;var he=U.memoizedProps.style,J=he!=null&&he.hasOwnProperty("display")?he.display:null;D.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Ne){It(U,U.return,Ne)}}}else if(n.tag===6){if(s===null){U=n;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(Ne){It(U,U.return,Ne)}}}else if(n.tag===18){if(s===null){U=n;try{var ie=U.stateNode;y?D1(ie,!0):D1(U.stateNode,!1)}catch(Ne){It(U,U.return,Ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,Jo(e,s))));break;case 19:nr(n,e),rr(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Jo(e,c)));break;case 30:break;case 21:break;default:nr(n,e),rr(e)}}function rr(e){var n=e.flags;if(n&2){try{for(var s,c=e.return;c!==null;){if(Bd(c)){s=c;break}c=c.return}if(s==null)throw Error(f(160));switch(s.tag){case 27:var y=s.stateNode,w=hh(e);Qo(e,w,y);break;case 5:var S=s.stateNode;s.flags&32&&(Hi(S,""),s.flags&=-33);var D=hh(e);Qo(e,D,S);break;case 3:case 4:var U=s.stateNode.containerInfo,Z=hh(e);fh(e,Z,U);break;default:throw Error(f(161))}}catch(le){It(e,e.return,le)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;qd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ti(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ud(e,n.alternate,n),n=n.sibling}function Gs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:as(4,n,n.return),Gs(n);break;case 1:li(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Dd(n,n.return,s),Gs(n);break;case 27:Pl(n.stateNode);case 26:case 5:li(n,n.return),Gs(n);break;case 22:n.memoizedState===null&&Gs(n);break;case 30:Gs(n);break;default:Gs(n)}e=e.sibling}}function Oi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,y=e,w=n,S=w.flags;switch(w.tag){case 0:case 11:case 15:Oi(y,w,s),Ol(4,w);break;case 1:if(Oi(y,w,s),c=w,y=c.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){It(c,c.return,Z)}if(c=w,y=c.updateQueue,y!==null){var D=c.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)b0(U[y],D)}catch(Z){It(c,c.return,Z)}}s&&S&64&&Id(w),Rl(w,w.return);break;case 27:kd(w);case 26:case 5:Oi(y,w,s),s&&c===null&&S&4&&Md(w),Rl(w,w.return);break;case 12:Oi(y,w,s);break;case 31:Oi(y,w,s),s&&S&4&&Fd(y,w);break;case 13:Oi(y,w,s),s&&S&4&&zd(y,w);break;case 22:w.memoizedState===null&&Oi(y,w,s),Rl(w,w.return);break;case 30:break;default:Oi(y,w,s)}n=n.sibling}}function gh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ml(s))}function mh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ml(e))}function Yr(e,n,s,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gd(e,n,s,c),n=n.sibling}function Gd(e,n,s,c){var y=n.flags;switch(n.tag){case 0:case 11:case 15:Yr(e,n,s,c),y&2048&&Ol(9,n);break;case 1:Yr(e,n,s,c);break;case 3:Yr(e,n,s,c),y&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ml(e)));break;case 12:if(y&2048){Yr(e,n,s,c),e=n.stateNode;try{var w=n.memoizedProps,S=w.id,D=w.onPostCommit;typeof D=="function"&&D(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){It(n,n.return,U)}}else Yr(e,n,s,c);break;case 31:Yr(e,n,s,c);break;case 13:Yr(e,n,s,c);break;case 23:break;case 22:w=n.stateNode,S=n.alternate,n.memoizedState!==null?w._visibility&2?Yr(e,n,s,c):Nl(e,n):w._visibility&2?Yr(e,n,s,c):(w._visibility|=2,Sa(e,n,s,c,(n.subtreeFlags&10256)!==0||!1)),y&2048&&gh(S,n);break;case 24:Yr(e,n,s,c),y&2048&&mh(n.alternate,n);break;default:Yr(e,n,s,c)}}function Sa(e,n,s,c,y){for(y=y&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var w=e,S=n,D=s,U=c,Z=S.flags;switch(S.tag){case 0:case 11:case 15:Sa(w,S,D,U,y),Ol(8,S);break;case 23:break;case 22:var le=S.stateNode;S.memoizedState!==null?le._visibility&2?Sa(w,S,D,U,y):Nl(w,S):(le._visibility|=2,Sa(w,S,D,U,y)),y&&Z&2048&&gh(S.alternate,S);break;case 24:Sa(w,S,D,U,y),y&&Z&2048&&mh(S.alternate,S);break;default:Sa(w,S,D,U,y)}n=n.sibling}}function Nl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,c=n,y=c.flags;switch(c.tag){case 22:Nl(s,c),y&2048&&gh(c.alternate,c);break;case 24:Nl(s,c),y&2048&&mh(c.alternate,c);break;default:Nl(s,c)}n=n.sibling}}var Il=8192;function Ta(e,n,s){if(e.subtreeFlags&Il)for(e=e.child;e!==null;)Vd(e,n,s),e=e.sibling}function Vd(e,n,s){switch(e.tag){case 26:Ta(e,n,s),e.flags&Il&&e.memoizedState!==null&&uy(s,Xr,e.memoizedState,e.memoizedProps);break;case 5:Ta(e,n,s);break;case 3:case 4:var c=Xr;Xr=fu(e.stateNode.containerInfo),Ta(e,n,s),Xr=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Il,Il=16777216,Ta(e,n,s),Il=c):Ta(e,n,s));break;default:Ta(e,n,s)}}function Xd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Dl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var c=n[s];Sn=c,Kd(c,e)}Xd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yd(e),e=e.sibling}function Yd(e){switch(e.tag){case 0:case 11:case 15:Dl(e),e.flags&2048&&as(9,e,e.return);break;case 3:Dl(e);break;case 12:Dl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$o(e)):Dl(e);break;default:Dl(e)}}function $o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var c=n[s];Sn=c,Kd(c,e)}Xd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:as(8,n,n.return),$o(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,$o(n));break;default:$o(n)}e=e.sibling}}function Kd(e,n){for(;Sn!==null;){var s=Sn;switch(s.tag){case 0:case 11:case 15:as(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ml(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,Sn=c;else e:for(s=e;Sn!==null;){c=Sn;var y=c.sibling,w=c.return;if(Pd(c),c===s){Sn=null;break e}if(y!==null){y.return=w,Sn=y;break e}Sn=w}}}var Ax={getCacheForType:function(e){var n=Bn(gn),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Bn(gn).controller.signal}},Cx=typeof WeakMap=="function"?WeakMap:Map,At=0,jt=null,it=null,ht=0,Nt=0,wr=null,ls=!1,Oa=!1,xh=!1,Ri=0,rn=0,os=0,Vs=0,yh=0,br=0,Ra=0,Ml=null,ir=null,ph=!1,eu=0,Wd=0,tu=1/0,nu=null,us=null,An=0,cs=null,Na=null,Ni=0,wh=0,bh=null,Zd=null,Bl=0,vh=null;function vr(){return(At&2)!==0&&ht!==0?ht&-ht:ee.T!==null?Th():Hn()}function Qd(){if(br===0)if((ht&536870912)===0||gt){var e=ut;ut<<=1,(ut&3932160)===0&&(ut=262144),br=e}else br=536870912;return e=yr.current,e!==null&&(e.flags|=32),br}function sr(e,n,s){(e===jt&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),hs(e,ht,br,!1)),$r(e,s),((At&2)===0||e!==jt)&&(e===jt&&((At&2)===0&&(Vs|=s),rn===4&&hs(e,ht,br,!1)),oi(e))}function Jd(e,n,s){if((At&6)!==0)throw Error(f(327));var c=!s&&(n&127)===0&&(n&e.expiredLanes)===0||In(e,n),y=c?Ox(e,n):_h(e,n,!0),w=c;do{if(y===0){Oa&&!c&&hs(e,n,0,!1);break}else{if(s=e.current.alternate,w&&!Sx(s)){y=_h(e,n,!1),w=!1;continue}if(y===2){if(w=n,e.errorRecoveryDisabledLanes&w)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var D=e;y=Ml;var U=D.current.memoizedState.isDehydrated;if(U&&(Ia(D,S).flags|=256),S=_h(D,S,!1),S!==2){if(xh&&!U){D.errorRecoveryDisabledLanes|=w,Vs|=w,y=4;break e}w=ir,ir=y,w!==null&&(ir===null?ir=w:ir.push.apply(ir,w))}y=S}if(w=!1,y!==2)continue}}if(y===1){Ia(e,0),hs(e,n,0,!0);break}e:{switch(c=e,w=y,w){case 0:case 1:throw Error(f(345));case 4:if((n&4194048)!==n)break;case 6:hs(c,n,br,!ls);break e;case 2:ir=null;break;case 3:case 5:break;default:throw Error(f(329))}if((n&62914560)===n&&(y=eu+300-Qt(),10<y)){if(hs(c,n,br,!ls),_s(c,0,!0)!==0)break e;Ni=n,c.timeoutHandle=R1($d.bind(null,c,s,ir,nu,ph,n,br,Vs,Ra,ls,w,"Throttled",-0,0),y);break e}$d(c,s,ir,nu,ph,n,br,Vs,Ra,ls,w,null,-0,0)}}break}while(!0);oi(e)}function $d(e,n,s,c,y,w,S,D,U,Z,le,he,J,ie){if(e.timeoutHandle=-1,he=n.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},Vd(n,w,he);var Ne=(w&62914560)===w?eu-Qt():(w&4194048)===w?Wd-Qt():0;if(Ne=cy(he,Ne),Ne!==null){Ni=w,e.cancelPendingCommit=Ne(l1.bind(null,e,n,w,s,c,y,S,D,U,le,he,null,J,ie)),hs(e,w,S,!Z);return}}l1(e,n,w,s,c,y,S,D,U)}function Sx(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var y=s[c],w=y.getSnapshot;y=y.value;try{if(!h(w(),y))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hs(e,n,s,c){n&=~yh,n&=~Vs,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var y=n;0<y;){var w=31-Je(y),S=1<<w;c[w]=-1,y&=~S}s!==0&&lo(e,s,n)}function ru(){return(At&6)===0?(kl(0),!1):!0}function Eh(){if(it!==null){if(Nt===0)var e=it.return;else e=it,wi=Ls=null,Pc(e),va=null,yl=0,e=it;for(;e!==null;)Nd(e.alternate,e),e=e.return;it=null}}function Ia(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Xx(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ni=0,Eh(),jt=e,it=s=yi(e.current,null),ht=n,Nt=0,wr=null,ls=!1,Oa=In(e,n),xh=!1,Ra=br=yh=Vs=os=rn=0,ir=Ml=null,ph=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var y=31-Je(c),w=1<<y;n|=e[y],c&=~w}return Ri=n,Ao(),s}function e1(e,n){Qe=null,ee.H=Cl,n===ba||n===Do?(n=x0(),Nt=3):n===Sc?(n=x0(),Nt=4):Nt=n===eh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wr=n,it===null&&(rn=1,Xo(e,Ir(n,e.current)))}function t1(){var e=yr.current;return e===null?!0:(ht&4194048)===ht?kr===null:(ht&62914560)===ht||(ht&536870912)!==0?e===kr:!1}function n1(){var e=ee.H;return ee.H=Cl,e===null?Cl:e}function r1(){var e=ee.A;return ee.A=Ax,e}function iu(){rn=4,ls||(ht&4194048)!==ht&&yr.current!==null||(Oa=!0),(os&134217727)===0&&(Vs&134217727)===0||jt===null||hs(jt,ht,br,!1)}function _h(e,n,s){var c=At;At|=2;var y=n1(),w=r1();(jt!==e||ht!==n)&&(nu=null,Ia(e,n)),n=!1;var S=rn;e:do try{if(Nt!==0&&it!==null){var D=it,U=wr;switch(Nt){case 8:Eh(),S=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(n=!0);var Z=Nt;if(Nt=0,wr=null,Da(e,D,U,Z),s&&Oa){S=0;break e}break;default:Z=Nt,Nt=0,wr=null,Da(e,D,U,Z)}}Tx(),S=rn;break}catch(le){e1(e,le)}while(!0);return n&&e.shellSuspendCounter++,wi=Ls=null,At=c,ee.H=y,ee.A=w,it===null&&(jt=null,ht=0,Ao()),S}function Tx(){for(;it!==null;)i1(it)}function Ox(e,n){var s=At;At|=2;var c=n1(),y=r1();jt!==e||ht!==n?(nu=null,tu=Qt()+500,Ia(e,n)):Oa=In(e,n);e:do try{if(Nt!==0&&it!==null){n=it;var w=wr;t:switch(Nt){case 1:Nt=0,wr=null,Da(e,n,w,1);break;case 2:case 9:if(g0(w)){Nt=0,wr=null,s1(n);break}n=function(){Nt!==2&&Nt!==9||jt!==e||(Nt=7),oi(e)},w.then(n,n);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:g0(w)?(Nt=0,wr=null,s1(n)):(Nt=0,wr=null,Da(e,n,w,7));break;case 5:var S=null;switch(it.tag){case 26:S=it.memoizedState;case 5:case 27:var D=it;if(S?G1(S):D.stateNode.complete){Nt=0,wr=null;var U=D.sibling;if(U!==null)it=U;else{var Z=D.return;Z!==null?(it=Z,su(Z)):it=null}break t}}Nt=0,wr=null,Da(e,n,w,5);break;case 6:Nt=0,wr=null,Da(e,n,w,6);break;case 8:Eh(),rn=6;break e;default:throw Error(f(462))}}Rx();break}catch(le){e1(e,le)}while(!0);return wi=Ls=null,ee.H=c,ee.A=y,At=s,it!==null?0:(jt=null,ht=0,Ao(),rn)}function Rx(){for(;it!==null&&!Li();)i1(it)}function i1(e){var n=Od(e.alternate,e,Ri);e.memoizedProps=e.pendingProps,n===null?su(e):it=n}function s1(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Ed(s,n,n.pendingProps,n.type,void 0,ht);break;case 11:n=Ed(s,n,n.pendingProps,n.type.render,n.ref,ht);break;case 5:Pc(n);default:Nd(s,n),n=it=r0(n,Ri),n=Od(s,n,Ri)}e.memoizedProps=e.pendingProps,n===null?su(e):it=n}function Da(e,n,s,c){wi=Ls=null,Pc(n),va=null,yl=0;var y=n.return;try{if(yx(e,y,n,s,ht)){rn=1,Xo(e,Ir(s,e.current)),it=null;return}}catch(w){if(y!==null)throw it=y,w;rn=1,Xo(e,Ir(s,e.current)),it=null;return}n.flags&32768?(gt||c===1?e=!0:Oa||(ht&536870912)!==0?e=!1:(ls=e=!0,(c===2||c===9||c===3||c===6)&&(c=yr.current,c!==null&&c.tag===13&&(c.flags|=16384))),a1(n,e)):su(n)}function su(e){var n=e;do{if((n.flags&32768)!==0){a1(n,ls);return}e=n.return;var s=bx(n.alternate,n,Ri);if(s!==null){it=s;return}if(n=n.sibling,n!==null){it=n;return}it=n=e}while(n!==null);rn===0&&(rn=5)}function a1(e,n){do{var s=vx(e.alternate,e);if(s!==null){s.flags&=32767,it=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){it=e;return}it=e=s}while(e!==null);rn=6,it=null}function l1(e,n,s,c,y,w,S,D,U){e.cancelPendingCommit=null;do au();while(An!==0);if((At&6)!==0)throw Error(f(327));if(n!==null){if(n===e.current)throw Error(f(177));if(w=n.lanes|n.childLanes,w|=hc,Sr(e,s,w,S,D,U),e===jt&&(it=jt=null,ht=0),Na=n,cs=e,Ni=s,wh=w,bh=y,Zd=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Mx(ur,function(){return f1(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,y=oe.p,oe.p=2,S=At,At|=4;try{Ex(e,n,s)}finally{At=S,oe.p=y,ee.T=c}}An=1,o1(),u1(),c1()}}function o1(){if(An===1){An=0;var e=cs,n=Na,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=ee.T,ee.T=null;var c=oe.p;oe.p=2;var y=At;At|=4;try{Hd(n,e);var w=kh,S=O(e.containerInfo),D=w.focusedElem,U=w.selectionRange;if(S!==D&&D&&D.ownerDocument&&C(D.ownerDocument.documentElement,D)){if(U!==null&&I(D)){var Z=U.start,le=U.end;if(le===void 0&&(le=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(le,D.value.length);else{var he=D.ownerDocument||document,J=he&&he.defaultView||window;if(J.getSelection){var ie=J.getSelection(),Ne=D.textContent.length,qe=Math.min(U.start,Ne),kt=U.end===void 0?qe:Math.min(U.end,Ne);!ie.extend&&qe>kt&&(S=kt,kt=qe,qe=S);var V=v(D,qe),H=v(D,kt);if(V&&H&&(ie.rangeCount!==1||ie.anchorNode!==V.node||ie.anchorOffset!==V.offset||ie.focusNode!==H.node||ie.focusOffset!==H.offset)){var W=he.createRange();W.setStart(V.node,V.offset),ie.removeAllRanges(),qe>kt?(ie.addRange(W),ie.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),ie.addRange(W))}}}}for(he=[],ie=D;ie=ie.parentNode;)ie.nodeType===1&&he.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<he.length;D++){var ue=he[D];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}pu=!!Bh,kh=Bh=null}finally{At=y,oe.p=c,ee.T=s}}e.current=n,An=2}}function u1(){if(An===2){An=0;var e=cs,n=Na,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=ee.T,ee.T=null;var c=oe.p;oe.p=2;var y=At;At|=4;try{Ud(e,n.alternate,n)}finally{At=y,oe.p=c,ee.T=s}}An=3}}function c1(){if(An===4||An===3){An=0,ao();var e=cs,n=Na,s=Ni,c=Zd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?An=5:(An=0,Na=cs=null,h1(e,e.pendingLanes));var y=e.pendingLanes;if(y===0&&(us=null),jr(s),n=n.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(Ft,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=ee.T,y=oe.p,oe.p=2,ee.T=null;try{for(var w=e.onRecoverableError,S=0;S<c.length;S++){var D=c[S];w(D.value,{componentStack:D.stack})}}finally{ee.T=n,oe.p=y}}(Ni&3)!==0&&au(),oi(e),y=e.pendingLanes,(s&261930)!==0&&(y&42)!==0?e===vh?Bl++:(Bl=0,vh=e):Bl=0,kl(0)}}function h1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ml(n)))}function au(){return o1(),u1(),c1(),f1()}function f1(){if(An!==5)return!1;var e=cs,n=wh;wh=0;var s=jr(Ni),c=ee.T,y=oe.p;try{oe.p=32>s?32:s,ee.T=null,s=bh,bh=null;var w=cs,S=Ni;if(An=0,Na=cs=null,Ni=0,(At&6)!==0)throw Error(f(331));var D=At;if(At|=4,Yd(w.current),Gd(w,w.current,S,s),At=D,kl(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(Ft,w)}catch{}return!0}finally{oe.p=y,ee.T=c,h1(e,n)}}function d1(e,n,s){n=Ir(s,n),n=$c(e.stateNode,n,2),e=rs(e,n,2),e!==null&&($r(e,2),oi(e))}function It(e,n,s){if(e.tag===3)d1(e,e,s);else for(;n!==null;){if(n.tag===3){d1(n,e,s);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(us===null||!us.has(c))){e=Ir(s,e),s=gd(2),c=rs(n,s,2),c!==null&&(md(s,c,n,e),$r(c,2),oi(c));break}}n=n.return}}function Ah(e,n,s){var c=e.pingCache;if(c===null){c=e.pingCache=new Cx;var y=new Set;c.set(n,y)}else y=c.get(n),y===void 0&&(y=new Set,c.set(n,y));y.has(s)||(xh=!0,y.add(s),e=Nx.bind(null,e,n,s),n.then(e,e))}function Nx(e,n,s){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,jt===e&&(ht&s)===s&&(rn===4||rn===3&&(ht&62914560)===ht&&300>Qt()-eu?(At&2)===0&&Ia(e,0):yh|=s,Ra===ht&&(Ra=0)),oi(e)}function g1(e,n){n===0&&(n=bn()),e=Ms(e,n),e!==null&&($r(e,n),oi(e))}function Ix(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),g1(e,s)}function Dx(e,n){var s=0;switch(e.tag){case 31:case 13:var c=e.stateNode,y=e.memoizedState;y!==null&&(s=y.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(f(314))}c!==null&&c.delete(n),g1(e,s)}function Mx(e,n){return Rn(e,n)}var lu=null,Ma=null,Ch=!1,ou=!1,Sh=!1,fs=0;function oi(e){e!==Ma&&e.next===null&&(Ma===null?lu=Ma=e:Ma=Ma.next=e),ou=!0,Ch||(Ch=!0,kx())}function kl(e,n){if(!Sh&&ou){Sh=!0;do for(var s=!1,c=lu;c!==null;){if(e!==0){var y=c.pendingLanes;if(y===0)var w=0;else{var S=c.suspendedLanes,D=c.pingedLanes;w=(1<<31-Je(42|e)+1)-1,w&=y&~(S&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(s=!0,p1(c,w))}else w=ht,w=_s(c,c===jt?w:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(w&3)===0||In(c,w)||(s=!0,p1(c,w));c=c.next}while(s);Sh=!1}}function Bx(){m1()}function m1(){ou=Ch=!1;var e=0;fs!==0&&Vx()&&(e=fs);for(var n=Qt(),s=null,c=lu;c!==null;){var y=c.next,w=x1(c,n);w===0?(c.next=null,s===null?lu=y:s.next=y,y===null&&(Ma=s)):(s=c,(e!==0||(w&3)!==0)&&(ou=!0)),c=y}An!==0&&An!==5||kl(e),fs!==0&&(fs=0)}function x1(e,n){for(var s=e.suspendedLanes,c=e.pingedLanes,y=e.expirationTimes,w=e.pendingLanes&-62914561;0<w;){var S=31-Je(w),D=1<<S,U=y[S];U===-1?((D&s)===0||(D&c)!==0)&&(y[S]=nl(D,n)):U<=n&&(e.expiredLanes|=D),w&=~D}if(n=jt,s=ht,s=_s(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,s===0||e===n&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Ce(c),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||In(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(c!==null&&Ce(c),jr(s)){case 2:case 8:s=$a;break;case 32:s=ur;break;case 268435456:s=el;break;default:s=ur}return c=y1.bind(null,e),s=Rn(s,c),e.callbackPriority=n,e.callbackNode=s,n}return c!==null&&c!==null&&Ce(c),e.callbackPriority=2,e.callbackNode=null,2}function y1(e,n){if(An!==0&&An!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(au()&&e.callbackNode!==s)return null;var c=ht;return c=_s(e,e===jt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Jd(e,c,n),x1(e,Qt()),e.callbackNode!=null&&e.callbackNode===s?y1.bind(null,e):null)}function p1(e,n){if(au())return null;Jd(e,n,!0)}function kx(){Yx(function(){(At&6)!==0?Rn(Zn,Bx):m1()})}function Th(){if(fs===0){var e=pa;e===0&&(e=Es,Es<<=1,(Es&261888)===0&&(Es=256)),fs=e}return fs}function w1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:qi(""+e)}function b1(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function Lx(e,n,s,c,y){if(n==="submit"&&s&&s.stateNode===y){var w=w1((y[Rt]||null).action),S=c.submitter;S&&(n=(n=S[Rt]||null)?w1(n.formAction):S.getAttribute("formAction"),n!==null&&(w=n,S=null));var D=new vn("action","action",null,c,y);e.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(fs!==0){var U=S?b1(y,S):new FormData(y);Yc(s,{pending:!0,data:U,method:y.method,action:w},null,U)}}else typeof w=="function"&&(D.preventDefault(),U=S?b1(y,S):new FormData(y),Yc(s,{pending:!0,data:U,method:y.method,action:w},w,U))},currentTarget:y}]})}}for(var Oh=0;Oh<fl.length;Oh++){var Rh=fl[Oh],Ux=Rh.toLowerCase(),Px=Rh[0].toUpperCase()+Rh.slice(1);Vr(Ux,"on"+Px)}Vr(er,"onAnimationEnd"),Vr(Dn,"onAnimationIteration"),Vr(Tt,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(_n,"onTransitionRun"),Vr(Yn,"onTransitionStart"),Vr(Zi,"onTransitionCancel"),Vr(xi,"onTransitionEnd"),hr("onMouseEnter",["mouseout","mouseover"]),hr("onMouseLeave",["mouseout","mouseover"]),hr("onPointerEnter",["pointerout","pointerover"]),hr("onPointerLeave",["pointerout","pointerover"]),Ct("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ct("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ct("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ct("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ct("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ct("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function v1(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],y=c.event;c=c.listeners;e:{var w=void 0;if(n)for(var S=c.length-1;0<=S;S--){var D=c[S],U=D.instance,Z=D.currentTarget;if(D=D.listener,U!==w&&y.isPropagationStopped())break e;w=D,y.currentTarget=Z;try{w(y)}catch(le){_o(le)}y.currentTarget=null,w=U}else for(S=0;S<c.length;S++){if(D=c[S],U=D.instance,Z=D.currentTarget,D=D.listener,U!==w&&y.isPropagationStopped())break e;w=D,y.currentTarget=Z;try{w(y)}catch(le){_o(le)}y.currentTarget=null,w=U}}}}function st(e,n){var s=n[Ui];s===void 0&&(s=n[Ui]=new Set);var c=e+"__bubble";s.has(c)||(E1(n,e,2,!1),s.add(c))}function Nh(e,n,s){var c=0;n&&(c|=4),E1(s,e,c,n)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Ih(e){if(!e[uu]){e[uu]=!0,de.forEach(function(s){s!=="selectionchange"&&(jx.has(s)||Nh(s,!1,e),Nh(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uu]||(n[uu]=!0,Nh("selectionchange",!1,n))}}function E1(e,n,s,c){switch(Q1(n)){case 2:var y=dy;break;case 8:y=gy;break;default:y=Xh}s=y.bind(null,n,s,e),y=void 0,!sl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(y=!0),c?y!==void 0?e.addEventListener(n,s,{capture:!0,passive:y}):e.addEventListener(n,s,!0):y!==void 0?e.addEventListener(n,s,{passive:y}):e.addEventListener(n,s,!1)}function Dh(e,n,s,c,y){var w=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var D=c.stateNode.containerInfo;if(D===y)break;if(S===4)for(S=c.return;S!==null;){var U=S.tag;if((U===3||U===4)&&S.stateNode.containerInfo===y)return;S=S.return}for(;D!==null;){if(S=$t(D),S===null)return;if(U=S.tag,U===5||U===6||U===26||U===27){c=w=S;continue e}D=D.parentNode}}c=c.return}ho(function(){var Z=w,le=il(s),he=[];e:{var J=Eo.get(e);if(J!==void 0){var ie=vn,Ne=e;switch(e){case"keypress":if(ti(s)===0)break e;case"keydown":case"keyup":ie=ua;break;case"focusin":Ne="focus",ie=ol;break;case"focusout":Ne="blur",ie=ol;break;case"beforeblur":case"afterblur":ie=ol;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=_t;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=la;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=oc;break;case er:case Dn:case Tt:ie=$e;break;case xi:ie=fi;break;case"scroll":case"scrollend":ie=fo;break;case"wheel":ie=uc;break;case"copy":case"cut":case"paste":ie=oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=St;break;case"toggle":case"beforetoggle":ie=cl}var qe=(n&4)!==0,kt=!qe&&(e==="scroll"||e==="scrollend"),V=qe?J!==null?J+"Capture":null:J;qe=[];for(var H=Z,W;H!==null;){var ue=H;if(W=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||W===null||V===null||(ue=Xe(H,V),ue!=null&&qe.push(Ul(H,ue,W))),kt)break;H=H.return}0<qe.length&&(J=new ie(J,Ne,null,s,le),he.push({event:J,listeners:qe}))}}if((n&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",J&&s!==Cs&&(Ne=s.relatedTarget||s.fromElement)&&($t(Ne)||Ne[cr]))break e;if((ie||J)&&(J=le.window===le?le:(J=le.ownerDocument)?J.defaultView||J.parentWindow:window,ie?(Ne=s.relatedTarget||s.toElement,ie=Z,Ne=Ne?$t(Ne):null,Ne!==null&&(kt=g(Ne),qe=Ne.tag,Ne!==kt||qe!==5&&qe!==27&&qe!==6)&&(Ne=null)):(ie=null,Ne=Z),ie!==Ne)){if(qe=_t,ue="onMouseLeave",V="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(qe=St,ue="onPointerLeave",V="onPointerEnter",H="pointer"),kt=ie==null?J:Pi(ie),W=Ne==null?J:Pi(Ne),J=new qe(ue,H+"leave",ie,s,le),J.target=kt,J.relatedTarget=W,ue=null,$t(le)===Z&&(qe=new qe(V,H+"enter",Ne,s,le),qe.target=W,qe.relatedTarget=kt,ue=qe),kt=ue,ie&&Ne)t:{for(qe=Fx,V=ie,H=Ne,W=0,ue=V;ue;ue=qe(ue))W++;ue=0;for(var Ue=H;Ue;Ue=qe(Ue))ue++;for(;0<W-ue;)V=qe(V),W--;for(;0<ue-W;)H=qe(H),ue--;for(;W--;){if(V===H||H!==null&&V===H.alternate){qe=V;break t}V=qe(V),H=qe(H)}qe=null}else qe=null;ie!==null&&_1(he,J,ie,qe,!1),Ne!==null&&kt!==null&&_1(he,kt,Ne,qe,!0)}}e:{if(J=Z?Pi(Z):window,ie=J.nodeName&&J.nodeName.toLowerCase(),ie==="select"||ie==="input"&&J.type==="file")var wt=mr;else if(hl(J))if(vo)wt=o;else{wt=r;var De=t}else ie=J.nodeName,!ie||ie.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&Lt(Z.elementType)&&(wt=mr):wt=i;if(wt&&(wt=wt(e,Z))){gr(he,wt,s,le);break e}De&&De(e,J,Z),e==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&M(J,"number",J.value)}switch(De=Z?Pi(Z):window,e){case"focusin":(hl(De)||De.contentEditable==="true")&&(j=De,F=Z,X=null);break;case"focusout":X=F=j=null;break;case"mousedown":te=!0;break;case"contextmenu":case"mouseup":case"dragend":te=!1,we(he,s,le);break;case"selectionchange":if(k)break;case"keydown":case"keyup":we(he,s,le)}var et;if(Os)e:{switch(e){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Wi?bo(e,s)&&(ft="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ft="onCompositionStart");ft&&(wo&&s.locale!=="ko"&&(Wi||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Wi&&(et=Gi()):(qr=le,Gr="value"in qr?qr.value:qr.textContent,Wi=!0)),De=cu(Z,ft),0<De.length&&(ft=new xo(ft,e,null,s,le),he.push({event:ft,listeners:De}),et?ft.data=et:(et=Ki(s),et!==null&&(ft.data=et)))),(et=po?ii(e,s):ha(e,s))&&(ft=cu(Z,"onBeforeInput"),0<ft.length&&(De=new xo("onBeforeInput","beforeinput",null,s,le),he.push({event:De,listeners:ft}),De.data=et)),Lx(he,e,Z,s,le)}v1(he,n)})}function Ul(e,n,s){return{instance:e,listener:n,currentTarget:s}}function cu(e,n){for(var s=n+"Capture",c=[];e!==null;){var y=e,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Xe(e,s),y!=null&&c.unshift(Ul(e,y,w)),y=Xe(e,n),y!=null&&c.push(Ul(e,y,w))),e.tag===3)return c;e=e.return}return[]}function Fx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _1(e,n,s,c,y){for(var w=n._reactName,S=[];s!==null&&s!==c;){var D=s,U=D.alternate,Z=D.stateNode;if(D=D.tag,U!==null&&U===c)break;D!==5&&D!==26&&D!==27||Z===null||(U=Z,y?(Z=Xe(s,w),Z!=null&&S.unshift(Ul(s,Z,U))):y||(Z=Xe(s,w),Z!=null&&S.push(Ul(s,Z,U)))),s=s.return}S.length!==0&&e.push({event:n,listeners:S})}var zx=/\r\n?/g,Hx=/\u0000|\uFFFD/g;function A1(e){return(typeof e=="string"?e:""+e).replace(zx,`
`).replace(Hx,"")}function C1(e,n){return n=A1(n),A1(e)===n}function Bt(e,n,s,c,y,w){switch(s){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||Hi(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&Hi(e,""+c);break;case"className":Fi(e,"class",c);break;case"tabIndex":Fi(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Fi(e,s,c);break;case"style":Le(e,c,w);break;case"data":if(n!=="object"){Fi(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=qi(""+c),e.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(s==="formAction"?(n!=="input"&&Bt(e,n,"name",y.name,y,null),Bt(e,n,"formEncType",y.formEncType,y,null),Bt(e,n,"formMethod",y.formMethod,y,null),Bt(e,n,"formTarget",y.formTarget,y,null)):(Bt(e,n,"encType",y.encType,y,null),Bt(e,n,"method",y.method,y,null),Bt(e,n,"target",y.target,y,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=qi(""+c),e.setAttribute(s,c);break;case"onClick":c!=null&&(e.onclick=Jn);break;case"onScroll":c!=null&&st("scroll",e);break;case"onScrollEnd":c!=null&&st("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(f(61));if(s=c.__html,s!=null){if(y.children!=null)throw Error(f(60));e.innerHTML=s}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}s=qi(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""+c):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":c===!0?e.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,c):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(s,c):e.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(s):e.setAttribute(s,c);break;case"popover":st("beforetoggle",e),st("toggle",e),ji(e,"popover",c);break;case"xlinkActuate":fr(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":fr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":fr(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":fr(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":fr(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":fr(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":fr(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":fr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":fr(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ji(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=co.get(s)||s,ji(e,s,c))}}function Mh(e,n,s,c,y,w){switch(s){case"style":Le(e,c,w);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(f(61));if(s=c.__html,s!=null){if(y.children!=null)throw Error(f(60));e.innerHTML=s}}break;case"children":typeof c=="string"?Hi(e,c):(typeof c=="number"||typeof c=="bigint")&&Hi(e,""+c);break;case"onScroll":c!=null&&st("scroll",e);break;case"onScrollEnd":c!=null&&st("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(y=s.endsWith("Capture"),n=s.slice(2,y?s.length-7:void 0),w=e[Rt]||null,w=w!=null?w[s]:null,typeof w=="function"&&e.removeEventListener(n,w,y),typeof c=="function")){typeof w!="function"&&w!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,c,y);break e}s in e?e[s]=c:c===!0?e.setAttribute(s,""):ji(e,s,c)}}}function Ln(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",e),st("load",e);var c=!1,y=!1,w;for(w in s)if(s.hasOwnProperty(w)){var S=s[w];if(S!=null)switch(w){case"src":c=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,n));default:Bt(e,n,w,S,s,null)}}y&&Bt(e,n,"srcSet",s.srcSet,s,null),c&&Bt(e,n,"src",s.src,s,null);return;case"input":st("invalid",e);var D=w=S=y=null,U=null,Z=null;for(c in s)if(s.hasOwnProperty(c)){var le=s[c];if(le!=null)switch(c){case"name":y=le;break;case"type":S=le;break;case"checked":U=le;break;case"defaultChecked":Z=le;break;case"value":w=le;break;case"defaultValue":D=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(f(137,n));break;default:Bt(e,n,c,le,s,null)}}K(e,w,D,U,Z,S,y,!1);return;case"select":st("invalid",e),c=S=w=null;for(y in s)if(s.hasOwnProperty(y)&&(D=s[y],D!=null))switch(y){case"value":w=D;break;case"defaultValue":S=D;break;case"multiple":c=D;default:Bt(e,n,y,D,s,null)}n=w,s=S,e.multiple=!!c,n!=null?Ie(e,!!c,n,!1):s!=null&&Ie(e,!!c,s,!0);return;case"textarea":st("invalid",e),w=y=c=null;for(S in s)if(s.hasOwnProperty(S)&&(D=s[S],D!=null))switch(S){case"value":c=D;break;case"defaultValue":y=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(f(91));break;default:Bt(e,n,S,D,s,null)}Vn(e,c,y,w);return;case"option":for(U in s)if(s.hasOwnProperty(U)&&(c=s[U],c!=null))switch(U){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Bt(e,n,U,c,s,null)}return;case"dialog":st("beforetoggle",e),st("toggle",e),st("cancel",e),st("close",e);break;case"iframe":case"object":st("load",e);break;case"video":case"audio":for(c=0;c<Ll.length;c++)st(Ll[c],e);break;case"image":st("error",e),st("load",e);break;case"details":st("toggle",e);break;case"embed":case"source":case"link":st("error",e),st("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in s)if(s.hasOwnProperty(Z)&&(c=s[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,n));default:Bt(e,n,Z,c,s,null)}return;default:if(Lt(n)){for(le in s)s.hasOwnProperty(le)&&(c=s[le],c!==void 0&&Mh(e,n,le,c,s,void 0));return}}for(D in s)s.hasOwnProperty(D)&&(c=s[D],c!=null&&Bt(e,n,D,c,s,null))}function qx(e,n,s,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,S=null,D=null,U=null,Z=null,le=null;for(ie in s){var he=s[ie];if(s.hasOwnProperty(ie)&&he!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":U=he;default:c.hasOwnProperty(ie)||Bt(e,n,ie,null,c,he)}}for(var J in c){var ie=c[J];if(he=s[J],c.hasOwnProperty(J)&&(ie!=null||he!=null))switch(J){case"type":w=ie;break;case"name":y=ie;break;case"checked":Z=ie;break;case"defaultChecked":le=ie;break;case"value":S=ie;break;case"defaultValue":D=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(f(137,n));break;default:ie!==he&&Bt(e,n,J,ie,c,he)}}fn(e,S,D,U,Z,le,w,y);return;case"select":ie=S=D=J=null;for(w in s)if(U=s[w],s.hasOwnProperty(w)&&U!=null)switch(w){case"value":break;case"multiple":ie=U;default:c.hasOwnProperty(w)||Bt(e,n,w,null,c,U)}for(y in c)if(w=c[y],U=s[y],c.hasOwnProperty(y)&&(w!=null||U!=null))switch(y){case"value":J=w;break;case"defaultValue":D=w;break;case"multiple":S=w;default:w!==U&&Bt(e,n,y,w,c,U)}n=D,s=S,c=ie,J!=null?Ie(e,!!s,J,!1):!!c!=!!s&&(n!=null?Ie(e,!!s,n,!0):Ie(e,!!s,s?[]:"",!1));return;case"textarea":ie=J=null;for(D in s)if(y=s[D],s.hasOwnProperty(D)&&y!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Bt(e,n,D,null,c,y)}for(S in c)if(y=c[S],w=s[S],c.hasOwnProperty(S)&&(y!=null||w!=null))switch(S){case"value":J=y;break;case"defaultValue":ie=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(f(91));break;default:y!==w&&Bt(e,n,S,y,c,w)}on(e,J,ie);return;case"option":for(var Ne in s)if(J=s[Ne],s.hasOwnProperty(Ne)&&J!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:Bt(e,n,Ne,null,c,J)}for(U in c)if(J=c[U],ie=s[U],c.hasOwnProperty(U)&&J!==ie&&(J!=null||ie!=null))switch(U){case"selected":e.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Bt(e,n,U,J,c,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in s)J=s[qe],s.hasOwnProperty(qe)&&J!=null&&!c.hasOwnProperty(qe)&&Bt(e,n,qe,null,c,J);for(Z in c)if(J=c[Z],ie=s[Z],c.hasOwnProperty(Z)&&J!==ie&&(J!=null||ie!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(f(137,n));break;default:Bt(e,n,Z,J,c,ie)}return;default:if(Lt(n)){for(var kt in s)J=s[kt],s.hasOwnProperty(kt)&&J!==void 0&&!c.hasOwnProperty(kt)&&Mh(e,n,kt,void 0,c,J);for(le in c)J=c[le],ie=s[le],!c.hasOwnProperty(le)||J===ie||J===void 0&&ie===void 0||Mh(e,n,le,J,c,ie);return}}for(var V in s)J=s[V],s.hasOwnProperty(V)&&J!=null&&!c.hasOwnProperty(V)&&Bt(e,n,V,null,c,J);for(he in c)J=c[he],ie=s[he],!c.hasOwnProperty(he)||J===ie||J==null&&ie==null||Bt(e,n,he,J,c,ie)}function S1(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),c=0;c<s.length;c++){var y=s[c],w=y.transferSize,S=y.initiatorType,D=y.duration;if(w&&D&&S1(S)){for(S=0,D=y.responseEnd,c+=1;c<s.length;c++){var U=s[c],Z=U.startTime;if(Z>D)break;var le=U.transferSize,he=U.initiatorType;le&&S1(he)&&(U=U.responseEnd,S+=le*(U<D?1:(D-Z)/(U-Z)))}if(--c,n+=8*(w+S)/(y.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bh=null,kh=null;function hu(e){return e.nodeType===9?e:e.ownerDocument}function T1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O1(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Lh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Uh=null;function Vx(){var e=window.event;return e&&e.type==="popstate"?e===Uh?!1:(Uh=e,!0):(Uh=null,!1)}var R1=typeof setTimeout=="function"?setTimeout:void 0,Xx=typeof clearTimeout=="function"?clearTimeout:void 0,N1=typeof Promise=="function"?Promise:void 0,Yx=typeof queueMicrotask=="function"?queueMicrotask:typeof N1<"u"?function(e){return N1.resolve(null).then(e).catch(Kx)}:R1;function Kx(e){setTimeout(function(){throw e})}function ds(e){return e==="head"}function I1(e,n){var s=n,c=0;do{var y=s.nextSibling;if(e.removeChild(s),y&&y.nodeType===8)if(s=y.data,s==="/$"||s==="/&"){if(c===0){e.removeChild(y),Ua(n);return}c--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")c++;else if(s==="html")Pl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Pl(s);for(var w=s.firstChild;w;){var S=w.nextSibling,D=w.nodeName;w[As]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=S}}else s==="body"&&Pl(e.ownerDocument.body);s=y}while(s);Ua(n)}function D1(e,n){var s=e;e=0;do{var c=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=c}while(s)}function Ph(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ph(s),Qn(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Wx(e,n,s,c){for(;e.nodeType===1;){var y=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[As])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(w=e.getAttribute("rel"),w==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(w!==y.rel||e.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||e.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||e.getAttribute("title")!==(y.title==null?null:y.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(w=e.getAttribute("src"),(w!==(y.src==null?null:y.src)||e.getAttribute("type")!==(y.type==null?null:y.type)||e.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&e.getAttribute("name")===w)return e}else return e;if(e=Lr(e.nextSibling),e===null)break}return null}function Zx(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Lr(e.nextSibling),e===null))return null;return e}function M1(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Lr(e.nextSibling),e===null))return null;return e}function jh(e){return e.data==="$?"||e.data==="$~"}function Fh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Qx(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var c=function(){n(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Lr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var zh=null;function B1(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Lr(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function k1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function L1(e,n,s){switch(n=hu(s),e){case"html":if(e=n.documentElement,!e)throw Error(f(452));return e;case"head":if(e=n.head,!e)throw Error(f(453));return e;case"body":if(e=n.body,!e)throw Error(f(454));return e;default:throw Error(f(451))}}function Pl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Qn(e)}var Ur=new Map,U1=new Set;function fu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ii=oe.d;oe.d={f:Jx,r:$x,D:ey,C:ty,L:ny,m:ry,X:sy,S:iy,M:ay};function Jx(){var e=Ii.f(),n=ru();return e||n}function $x(e){var n=Et(e);n!==null&&n.tag===5&&n.type==="form"?ed(n):Ii.r(e)}var Ba=typeof document>"u"?null:document;function P1(e,n,s){var c=Ba;if(c&&typeof n=="string"&&n){var y=nt(n);y='link[rel="'+e+'"][href="'+y+'"]',typeof s=="string"&&(y+='[crossorigin="'+s+'"]'),U1.has(y)||(U1.add(y),e={rel:e,crossOrigin:s,href:n},c.querySelector(y)===null&&(n=c.createElement("link"),Ln(n,"link",e),en(n),c.head.appendChild(n)))}}function ey(e){Ii.D(e),P1("dns-prefetch",e,null)}function ty(e,n){Ii.C(e,n),P1("preconnect",e,n)}function ny(e,n,s){Ii.L(e,n,s);var c=Ba;if(c&&e&&n){var y='link[rel="preload"][as="'+nt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(y+='[imagesrcset="'+nt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(y+='[imagesizes="'+nt(s.imageSizes)+'"]')):y+='[href="'+nt(e)+'"]';var w=y;switch(n){case"style":w=ka(e);break;case"script":w=La(e)}Ur.has(w)||(e=N({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Ur.set(w,e),c.querySelector(y)!==null||n==="style"&&c.querySelector(jl(w))||n==="script"&&c.querySelector(Fl(w))||(n=c.createElement("link"),Ln(n,"link",e),en(n),c.head.appendChild(n)))}}function ry(e,n){Ii.m(e,n);var s=Ba;if(s&&e){var c=n&&typeof n.as=="string"?n.as:"script",y='link[rel="modulepreload"][as="'+nt(c)+'"][href="'+nt(e)+'"]',w=y;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=La(e)}if(!Ur.has(w)&&(e=N({rel:"modulepreload",href:e},n),Ur.set(w,e),s.querySelector(y)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Fl(w)))return}c=s.createElement("link"),Ln(c,"link",e),en(c),s.head.appendChild(c)}}}function iy(e,n,s){Ii.S(e,n,s);var c=Ba;if(c&&e){var y=Gn(c).hoistableStyles,w=ka(e);n=n||"default";var S=y.get(w);if(!S){var D={loading:0,preload:null};if(S=c.querySelector(jl(w)))D.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Ur.get(w))&&Hh(e,s);var U=S=c.createElement("link");en(U),Ln(U,"link",e),U._p=new Promise(function(Z,le){U.onload=Z,U.onerror=le}),U.addEventListener("load",function(){D.loading|=1}),U.addEventListener("error",function(){D.loading|=2}),D.loading|=4,du(S,n,c)}S={type:"stylesheet",instance:S,count:1,state:D},y.set(w,S)}}}function sy(e,n){Ii.X(e,n);var s=Ba;if(s&&e){var c=Gn(s).hoistableScripts,y=La(e),w=c.get(y);w||(w=s.querySelector(Fl(y)),w||(e=N({src:e,async:!0},n),(n=Ur.get(y))&&qh(e,n),w=s.createElement("script"),en(w),Ln(w,"link",e),s.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},c.set(y,w))}}function ay(e,n){Ii.M(e,n);var s=Ba;if(s&&e){var c=Gn(s).hoistableScripts,y=La(e),w=c.get(y);w||(w=s.querySelector(Fl(y)),w||(e=N({src:e,async:!0,type:"module"},n),(n=Ur.get(y))&&qh(e,n),w=s.createElement("script"),en(w),Ln(w,"link",e),s.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},c.set(y,w))}}function j1(e,n,s,c){var y=(y=pe.current)?fu(y):null;if(!y)throw Error(f(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ka(s.href),s=Gn(y).hoistableStyles,c=s.get(n),c||(c={type:"style",instance:null,count:0,state:null},s.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ka(s.href);var w=Gn(y).hoistableStyles,S=w.get(e);if(S||(y=y.ownerDocument||y,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(e,S),(w=y.querySelector(jl(e)))&&!w._p&&(S.instance=w,S.state.loading=5),Ur.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ur.set(e,s),w||ly(y,e,s,S.state))),n&&c===null)throw Error(f(528,""));return S}if(n&&c!==null)throw Error(f(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(s),s=Gn(y).hoistableScripts,c=s.get(n),c||(c={type:"script",instance:null,count:0,state:null},s.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,e))}}function ka(e){return'href="'+nt(e)+'"'}function jl(e){return'link[rel="stylesheet"]['+e+"]"}function F1(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function ly(e,n,s,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Ln(n,"link",s),en(n),e.head.appendChild(n))}function La(e){return'[src="'+nt(e)+'"]'}function Fl(e){return"script[async]"+e}function z1(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+nt(s.href)+'"]');if(c)return n.instance=c,en(c),c;var y=N({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),en(c),Ln(c,"style",y),du(c,s.precedence,e),n.instance=c;case"stylesheet":y=ka(s.href);var w=e.querySelector(jl(y));if(w)return n.state.loading|=4,n.instance=w,en(w),w;c=F1(s),(y=Ur.get(y))&&Hh(c,y),w=(e.ownerDocument||e).createElement("link"),en(w);var S=w;return S._p=new Promise(function(D,U){S.onload=D,S.onerror=U}),Ln(w,"link",c),n.state.loading|=4,du(w,s.precedence,e),n.instance=w;case"script":return w=La(s.src),(y=e.querySelector(Fl(w)))?(n.instance=y,en(y),y):(c=s,(y=Ur.get(w))&&(c=N({},s),qh(c,y)),e=e.ownerDocument||e,y=e.createElement("script"),en(y),Ln(y,"link",c),e.head.appendChild(y),n.instance=y);case"void":return null;default:throw Error(f(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,du(c,s.precedence,e));return n.instance}function du(e,n,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=c.length?c[c.length-1]:null,w=y,S=0;S<c.length;S++){var D=c[S];if(D.dataset.precedence===n)w=D;else if(w!==y)break}w?w.parentNode.insertBefore(e,w.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Hh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function qh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gu=null;function H1(e,n,s){if(gu===null){var c=new Map,y=gu=new Map;y.set(s,c)}else y=gu,c=y.get(s),c||(c=new Map,y.set(s,c));if(c.has(e))return c;for(c.set(e,null),s=s.getElementsByTagName(e),y=0;y<s.length;y++){var w=s[y];if(!(w[As]||w[ln]||e==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var S=w.getAttribute(n)||"";S=e+S;var D=c.get(S);D?D.push(w):c.set(S,[w])}}return c}function q1(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function oy(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function G1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function uy(e,n,s,c){if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=ka(c.href),w=n.querySelector(jl(y));if(w){n=w._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mu.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=w,en(w);return}w=n.ownerDocument||n,c=F1(c),(y=Ur.get(y))&&Hh(c,y),w=w.createElement("link"),en(w);var S=w;S._p=new Promise(function(D,U){S.onload=D,S.onerror=U}),Ln(w,"link",c),s.instance=w}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=mu.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Gh=0;function cy(e,n){return e.stylesheets&&e.count===0&&yu(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var c=setTimeout(function(){if(e.stylesheets&&yu(e,e.stylesheets),e.unsuspend){var w=e.unsuspend;e.unsuspend=null,w()}},6e4+n);0<e.imgBytes&&Gh===0&&(Gh=62500*Gx());var y=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yu(e,e.stylesheets),e.unsuspend)){var w=e.unsuspend;e.unsuspend=null,w()}},(e.imgBytes>Gh?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(y)}}:null}function mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xu=null;function yu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xu=new Map,n.forEach(hy,e),xu=null,mu.call(e))}function hy(e,n){if(!(n.state.loading&4)){var s=xu.get(e);if(s)var c=s.get(null);else{s=new Map,xu.set(e,s);for(var y=e.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var S=y[w];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(s.set(S.dataset.precedence,S),c=S)}c&&s.set(null,c)}y=n.instance,S=y.getAttribute("data-precedence"),w=s.get(S)||c,w===c&&s.set(null,y),s.set(S,y),this.count++,c=mu.bind(this),y.addEventListener("load",c),y.addEventListener("error",c),w?w.parentNode.insertBefore(y,w.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(y,e.firstChild)),n.state.loading|=4}}var zl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function fy(e,n,s,c,y,w,S,D,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=c,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function V1(e,n,s,c,y,w,S,D,U,Z,le,he){return e=new fy(e,n,s,S,U,Z,le,he,D),n=1,w===!0&&(n|=24),w=xr(3,null,null,n),e.current=w,w.stateNode=e,n=_c(),n.refCount++,e.pooledCache=n,n.refCount++,w.memoizedState={element:c,isDehydrated:s,cache:n},Tc(w),e}function X1(e){return e?(e=da,e):da}function Y1(e,n,s,c,y,w){y=X1(y),c.context===null?c.context=y:c.pendingContext=y,c=ns(n),c.payload={element:s},w=w===void 0?null:w,w!==null&&(c.callback=w),s=rs(e,c,n),s!==null&&(sr(s,e,n),wl(s,e,n))}function K1(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Vh(e,n){K1(e,n),(e=e.alternate)&&K1(e,n)}function W1(e){if(e.tag===13||e.tag===31){var n=Ms(e,67108864);n!==null&&sr(n,e,67108864),Vh(e,67108864)}}function Z1(e){if(e.tag===13||e.tag===31){var n=vr();n=Cn(n);var s=Ms(e,n);s!==null&&sr(s,e,n),Vh(e,n)}}var pu=!0;function dy(e,n,s,c){var y=ee.T;ee.T=null;var w=oe.p;try{oe.p=2,Xh(e,n,s,c)}finally{oe.p=w,ee.T=y}}function gy(e,n,s,c){var y=ee.T;ee.T=null;var w=oe.p;try{oe.p=8,Xh(e,n,s,c)}finally{oe.p=w,ee.T=y}}function Xh(e,n,s,c){if(pu){var y=Yh(c);if(y===null)Dh(e,n,c,wu,s),J1(e,c);else if(xy(y,e,n,s,c))c.stopPropagation();else if(J1(e,c),n&4&&-1<my.indexOf(e)){for(;y!==null;){var w=Et(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var S=Qr(w.pendingLanes);if(S!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;S;){var U=1<<31-Je(S);D.entanglements[1]|=U,S&=~U}oi(w),(At&6)===0&&(tu=Qt()+500,kl(0))}}break;case 31:case 13:D=Ms(w,2),D!==null&&sr(D,w,2),ru(),Vh(w,2)}if(w=Yh(c),w===null&&Dh(e,n,c,wu,s),w===y)break;y=w}y!==null&&c.stopPropagation()}else Dh(e,n,c,null,s)}}function Yh(e){return e=il(e),Kh(e)}var wu=null;function Kh(e){if(wu=null,e=$t(e),e!==null){var n=g(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=b(n),e!==null)return e;e=null}else if(s===31){if(e=A(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return wu=e,null}function Q1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ja()){case Zn:return 2;case $a:return 8;case ur:case Nn:return 32;case el:return 268435456;default:return 32}default:return 32}}var Wh=!1,gs=null,ms=null,xs=null,Hl=new Map,ql=new Map,ys=[],my="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J1(e,n){switch(e){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":Hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function Gl(e,n,s,c,y,w){return e===null||e.nativeEvent!==w?(e={blockedOn:n,domEventName:s,eventSystemFlags:c,nativeEvent:w,targetContainers:[y]},n!==null&&(n=Et(n),n!==null&&W1(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,y!==null&&n.indexOf(y)===-1&&n.push(y),e)}function xy(e,n,s,c,y){switch(n){case"focusin":return gs=Gl(gs,e,n,s,c,y),!0;case"dragenter":return ms=Gl(ms,e,n,s,c,y),!0;case"mouseover":return xs=Gl(xs,e,n,s,c,y),!0;case"pointerover":var w=y.pointerId;return Hl.set(w,Gl(Hl.get(w)||null,e,n,s,c,y)),!0;case"gotpointercapture":return w=y.pointerId,ql.set(w,Gl(ql.get(w)||null,e,n,s,c,y)),!0}return!1}function $1(e){var n=$t(e.target);if(n!==null){var s=g(n);if(s!==null){if(n=s.tag,n===13){if(n=b(s),n!==null){e.blockedOn=n,Se(e.priority,function(){Z1(s)});return}}else if(n===31){if(n=A(s),n!==null){e.blockedOn=n,Se(e.priority,function(){Z1(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Yh(e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);Cs=c,s.target.dispatchEvent(c),Cs=null}else return n=Et(s),n!==null&&W1(n),e.blockedOn=s,!1;n.shift()}return!0}function eg(e,n,s){bu(e)&&s.delete(n)}function yy(){Wh=!1,gs!==null&&bu(gs)&&(gs=null),ms!==null&&bu(ms)&&(ms=null),xs!==null&&bu(xs)&&(xs=null),Hl.forEach(eg),ql.forEach(eg)}function vu(e,n){e.blockedOn===n&&(e.blockedOn=null,Wh||(Wh=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,yy)))}var Eu=null;function tg(e){Eu!==e&&(Eu=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Eu===e&&(Eu=null);for(var n=0;n<e.length;n+=3){var s=e[n],c=e[n+1],y=e[n+2];if(typeof c!="function"){if(Kh(c||s)===null)continue;break}var w=Et(s);w!==null&&(e.splice(n,3),n-=3,Yc(w,{pending:!0,data:y,method:s.method,action:c},c,y))}}))}function Ua(e){function n(U){return vu(U,e)}gs!==null&&vu(gs,e),ms!==null&&vu(ms,e),xs!==null&&vu(xs,e),Hl.forEach(n),ql.forEach(n);for(var s=0;s<ys.length;s++){var c=ys[s];c.blockedOn===e&&(c.blockedOn=null)}for(;0<ys.length&&(s=ys[0],s.blockedOn===null);)$1(s),s.blockedOn===null&&ys.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var y=s[c],w=s[c+1],S=y[Rt]||null;if(typeof w=="function")S||tg(s);else if(S){var D=null;if(w&&w.hasAttribute("formAction")){if(y=w,S=w[Rt]||null)D=S.formAction;else if(Kh(y)!==null)continue}else D=S.action;typeof D=="function"?s[c+1]=D:(s.splice(c,3),c-=3),tg(s)}}}function ng(){function e(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(S){return y=S})},focusReset:"manual",scroll:"manual"})}function n(){y!==null&&(y(),y=null),c||setTimeout(s,20)}function s(){if(!c&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,y=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),y!==null&&(y(),y=null)}}}function Zh(e){this._internalRoot=e}_u.prototype.render=Zh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(f(409));var s=n.current,c=vr();Y1(s,c,e,n,null,null)},_u.prototype.unmount=Zh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Y1(e.current,2,null,e,null,null),ru(),n[cr]=null}};function _u(e){this._internalRoot=e}_u.prototype.unstable_scheduleHydration=function(e){if(e){var n=Hn();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ys.length&&n!==0&&n<ys[s].priority;s++);ys.splice(s,0,e),s===0&&$1(e)}};var rg=a.version;if(rg!=="19.2.1")throw Error(f(527,rg,"19.2.1"));oe.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(f(188)):(e=Object.keys(e).join(","),Error(f(268,e)));return e=E(n),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var py={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Ft=Au.inject(py),be=Au}catch{}}return Xl.createRoot=function(e,n){if(!x(e))throw Error(f(299));var s=!1,c="",y=cd,w=hd,S=fd;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(y=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=V1(e,1,!1,null,null,s,c,null,y,w,S,ng),e[cr]=n.current,Ih(e),new Zh(n)},Xl.hydrateRoot=function(e,n,s){if(!x(e))throw Error(f(299));var c=!1,y="",w=cd,S=hd,D=fd,U=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(y=s.identifierPrefix),s.onUncaughtError!==void 0&&(w=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.formState!==void 0&&(U=s.formState)),n=V1(e,1,!0,n,s??null,c,y,U,w,S,D,ng),n.context=X1(null),s=n.current,c=vr(),c=Cn(c),y=ns(c),y.callback=null,rs(s,y,c),s=c,n.current.lanes=s,$r(n,s),oi(n),e[cr]=n.current,Ih(e),new _u(n)},Xl.version="19.2.1",Xl}var dg;function Ry(){if(dg)return $h.exports;dg=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(a){console.error(a)}}return d(),$h.exports=Oy(),$h.exports}var Ny=Ry();const Iy=to(Ny);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=d=>d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),My=d=>d.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,l,f)=>f?f.toUpperCase():l.toLowerCase()),gg=d=>{const a=My(d);return a.charAt(0).toUpperCase()+a.slice(1)},E2=(...d)=>d.filter((a,l,f)=>!!a&&a.trim()!==""&&f.indexOf(a)===l).join(" ").trim(),By=d=>{for(const a in d)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ky={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=vt.forwardRef(({color:d="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:f,className:x="",children:g,iconNode:b,...A},_)=>vt.createElement("svg",{ref:_,...ky,width:a,height:a,stroke:d,strokeWidth:f?Number(l)*24/Number(a):l,className:E2("lucide",x),...!g&&!By(A)&&{"aria-hidden":"true"},...A},[...b.map(([E,R])=>vt.createElement(E,R)),...Array.isArray(g)?g:[g]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=(d,a)=>{const l=vt.forwardRef(({className:f,...x},g)=>vt.createElement(Ly,{ref:g,iconNode:a,className:E2(`lucide-${Dy(gg(d))}`,`lucide-${d}`,f),...x}));return l.displayName=gg(d),l};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Py=Jt("arrow-down",Uy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Fy=Jt("arrow-right",jy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Hy=Jt("arrow-up",zy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],mg=Jt("box",qy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vy=Jt("calendar",Gy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Yy=Jt("camera",Xy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wy=Jt("circle-alert",Ky);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qy=Jt("circle-check-big",Zy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$y=Jt("circle-x",Jy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],tp=Jt("clipboard-list",ep);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],rp=Jt("database",np);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sp=Jt("file-text",ip);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],xg=Jt("history",ap);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],op=Jt("info",lp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=[["path",{d:"M5 12h14",key:"1ays0h"}]],yg=Jt("minus",up);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],pg=Jt("package",cp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rf=Jt("plus",hp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],dp=Jt("printer",fp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],sf=Jt("qr-code",gp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xp=Jt("search",mp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pp=Jt("settings",yp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bp=Jt("trash-2",wp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_2=Jt("x",vp);var Di={},Su={},Sf=function(d,a){return Sf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var x in f)Object.prototype.hasOwnProperty.call(f,x)&&(l[x]=f[x])},Sf(d,a)};function A2(d,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Sf(d,a);function l(){this.constructor=d}d.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}var Fu=function(){return Fu=Object.assign||function(a){for(var l,f=1,x=arguments.length;f<x;f++){l=arguments[f];for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(a[g]=l[g])}return a},Fu.apply(this,arguments)};function Za(d,a){var l={};for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&a.indexOf(f)<0&&(l[f]=d[f]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,f=Object.getOwnPropertySymbols(d);x<f.length;x++)a.indexOf(f[x])<0&&Object.prototype.propertyIsEnumerable.call(d,f[x])&&(l[f[x]]=d[f[x]]);return l}function C2(d,a,l,f){var x=arguments.length,g=x<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(d,a,l,f);else for(var A=d.length-1;A>=0;A--)(b=d[A])&&(g=(x<3?b(g):x>3?b(a,l,g):b(a,l))||g);return x>3&&g&&Object.defineProperty(a,l,g),g}function S2(d,a){return function(l,f){a(l,f,d)}}function T2(d,a,l,f,x,g){function b(se){if(se!==void 0&&typeof se!="function")throw new TypeError("Function expected");return se}for(var A=f.kind,_=A==="getter"?"get":A==="setter"?"set":"value",E=!a&&d?f.static?d:d.prototype:null,R=a||(E?Object.getOwnPropertyDescriptor(E,f.name):{}),N,B=!1,L=l.length-1;L>=0;L--){var P={};for(var q in f)P[q]=q==="access"?{}:f[q];for(var q in f.access)P.access[q]=f.access[q];P.addInitializer=function(se){if(B)throw new TypeError("Cannot add initializers after decoration has completed");g.push(b(se||null))};var Q=(0,l[L])(A==="accessor"?{get:R.get,set:R.set}:R[_],P);if(A==="accessor"){if(Q===void 0)continue;if(Q===null||typeof Q!="object")throw new TypeError("Object expected");(N=b(Q.get))&&(R.get=N),(N=b(Q.set))&&(R.set=N),(N=b(Q.init))&&x.unshift(N)}else(N=b(Q))&&(A==="field"?x.unshift(N):R[_]=N)}E&&Object.defineProperty(E,f.name,R),B=!0}function O2(d,a,l){for(var f=arguments.length>2,x=0;x<a.length;x++)l=f?a[x].call(d,l):a[x].call(d);return f?l:void 0}function R2(d){return typeof d=="symbol"?d:"".concat(d)}function N2(d,a,l){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(d,"name",{configurable:!0,value:l?"".concat(l," ",a):a})}function I2(d,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,a)}function Re(d,a,l,f){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(R){try{E(f.next(R))}catch(N){b(N)}}function _(R){try{E(f.throw(R))}catch(N){b(N)}}function E(R){R.done?g(R.value):x(R.value).then(A,_)}E((f=f.apply(d,a||[])).next())})}function D2(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,b=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return b.next=A(0),b.throw=A(1),b.return=A(2),typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(E){return function(R){return _([E,R])}}function _(E){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,E[0]&&(l=0)),l;)try{if(f=1,x&&(g=E[0]&2?x.return:E[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,E[1])).done)return g;switch(x=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,x=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){l.label=E[1];break}if(E[0]===6&&l.label<g[1]){l.label=g[1],g=E;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(E);break}g[2]&&l.ops.pop(),l.trys.pop();continue}E=a.call(d,l)}catch(R){E=[6,R],x=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}}var Ju=Object.create?(function(d,a,l,f){f===void 0&&(f=l);var x=Object.getOwnPropertyDescriptor(a,l);(!x||("get"in x?!a.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(d,f,x)}):(function(d,a,l,f){f===void 0&&(f=l),d[f]=a[l]});function M2(d,a){for(var l in d)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&Ju(a,d,l)}function zu(d){var a=typeof Symbol=="function"&&Symbol.iterator,l=a&&d[a],f=0;if(l)return l.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&f>=d.length&&(d=void 0),{value:d&&d[f++],done:!d}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vf(d,a){var l=typeof Symbol=="function"&&d[Symbol.iterator];if(!l)return d;var f=l.call(d),x,g=[],b;try{for(;(a===void 0||a-- >0)&&!(x=f.next()).done;)g.push(x.value)}catch(A){b={error:A}}finally{try{x&&!x.done&&(l=f.return)&&l.call(f)}finally{if(b)throw b.error}}return g}function B2(){for(var d=[],a=0;a<arguments.length;a++)d=d.concat(Vf(arguments[a]));return d}function k2(){for(var d=0,a=0,l=arguments.length;a<l;a++)d+=arguments[a].length;for(var f=Array(d),x=0,a=0;a<l;a++)for(var g=arguments[a],b=0,A=g.length;b<A;b++,x++)f[x]=g[b];return f}function L2(d,a,l){if(l||arguments.length===2)for(var f=0,x=a.length,g;f<x;f++)(g||!(f in a))&&(g||(g=Array.prototype.slice.call(a,0,f)),g[f]=a[f]);return d.concat(g||Array.prototype.slice.call(a))}function Ka(d){return this instanceof Ka?(this.v=d,this):new Ka(d)}function U2(d,a,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f=l.apply(d,a||[]),x,g=[];return x=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),A("next"),A("throw"),A("return",b),x[Symbol.asyncIterator]=function(){return this},x;function b(L){return function(P){return Promise.resolve(P).then(L,N)}}function A(L,P){f[L]&&(x[L]=function(q){return new Promise(function(Q,se){g.push([L,q,Q,se])>1||_(L,q)})},P&&(x[L]=P(x[L])))}function _(L,P){try{E(f[L](P))}catch(q){B(g[0][3],q)}}function E(L){L.value instanceof Ka?Promise.resolve(L.value.v).then(R,N):B(g[0][2],L)}function R(L){_("next",L)}function N(L){_("throw",L)}function B(L,P){L(P),g.shift(),g.length&&_(g[0][0],g[0][1])}}function P2(d){var a,l;return a={},f("next"),f("throw",function(x){throw x}),f("return"),a[Symbol.iterator]=function(){return this},a;function f(x,g){a[x]=d[x]?function(b){return(l=!l)?{value:Ka(d[x](b)),done:!1}:g?g(b):b}:g}}function j2(d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=d[Symbol.asyncIterator],l;return a?a.call(d):(d=typeof zu=="function"?zu(d):d[Symbol.iterator](),l={},f("next"),f("throw"),f("return"),l[Symbol.asyncIterator]=function(){return this},l);function f(g){l[g]=d[g]&&function(b){return new Promise(function(A,_){b=d[g](b),x(A,_,b.done,b.value)})}}function x(g,b,A,_){Promise.resolve(_).then(function(E){g({value:E,done:A})},b)}}function F2(d,a){return Object.defineProperty?Object.defineProperty(d,"raw",{value:a}):d.raw=a,d}var Ep=Object.create?(function(d,a){Object.defineProperty(d,"default",{enumerable:!0,value:a})}):function(d,a){d.default=a},Tf=function(d){return Tf=Object.getOwnPropertyNames||function(a){var l=[];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(l[l.length]=f);return l},Tf(d)};function z2(d){if(d&&d.__esModule)return d;var a={};if(d!=null)for(var l=Tf(d),f=0;f<l.length;f++)l[f]!=="default"&&Ju(a,d,l[f]);return Ep(a,d),a}function H2(d){return d&&d.__esModule?d:{default:d}}function q2(d,a,l,f){if(l==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?d!==a||!f:!a.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?f:l==="a"?f.call(d):f?f.value:a.get(d)}function G2(d,a,l,f,x){if(f==="m")throw new TypeError("Private method is not writable");if(f==="a"&&!x)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?d!==a||!x:!a.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f==="a"?x.call(d,l):x?x.value=l:a.set(d,l),l}function V2(d,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof d=="function"?a===d:d.has(a)}function X2(d,a,l){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var f,x;if(l){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");f=a[Symbol.asyncDispose]}if(f===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");f=a[Symbol.dispose],l&&(x=f)}if(typeof f!="function")throw new TypeError("Object not disposable.");x&&(f=function(){try{x.call(this)}catch(g){return Promise.reject(g)}}),d.stack.push({value:a,dispose:f,async:l})}else l&&d.stack.push({async:!0});return a}var _p=typeof SuppressedError=="function"?SuppressedError:function(d,a,l){var f=new Error(l);return f.name="SuppressedError",f.error=d,f.suppressed=a,f};function Y2(d){function a(g){d.error=d.hasError?new _p(g,d.error,"An error was suppressed during disposal."):g,d.hasError=!0}var l,f=0;function x(){for(;l=d.stack.pop();)try{if(!l.async&&f===1)return f=0,d.stack.push(l),Promise.resolve().then(x);if(l.dispose){var g=l.dispose.call(l.value);if(l.async)return f|=2,Promise.resolve(g).then(x,function(b){return a(b),x()})}else f|=1}catch(b){a(b)}if(f===1)return d.hasError?Promise.reject(d.error):Promise.resolve();if(d.hasError)throw d.error}return x()}function K2(d,a){return typeof d=="string"&&/^\.\.?\//.test(d)?d.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(l,f,x,g,b){return f?a?".jsx":".js":x&&(!g||!b)?l:x+g+"."+b.toLowerCase()+"js"}):d}const Ap={__extends:A2,__assign:Fu,__rest:Za,__decorate:C2,__param:S2,__esDecorate:T2,__runInitializers:O2,__propKey:R2,__setFunctionName:N2,__metadata:I2,__awaiter:Re,__generator:D2,__createBinding:Ju,__exportStar:M2,__values:zu,__read:Vf,__spread:B2,__spreadArrays:k2,__spreadArray:L2,__await:Ka,__asyncGenerator:U2,__asyncDelegator:P2,__asyncValues:j2,__makeTemplateObject:F2,__importStar:z2,__importDefault:H2,__classPrivateFieldGet:q2,__classPrivateFieldSet:G2,__classPrivateFieldIn:V2,__addDisposableResource:X2,__disposeResources:Y2,__rewriteRelativeImportExtension:K2},Cp=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:X2,get __assign(){return Fu},__asyncDelegator:P2,__asyncGenerator:U2,__asyncValues:j2,__await:Ka,__awaiter:Re,__classPrivateFieldGet:q2,__classPrivateFieldIn:V2,__classPrivateFieldSet:G2,__createBinding:Ju,__decorate:C2,__disposeResources:Y2,__esDecorate:T2,__exportStar:M2,__extends:A2,__generator:D2,__importDefault:H2,__importStar:z2,__makeTemplateObject:F2,__metadata:I2,__param:S2,__propKey:R2,__read:Vf,__rest:Za,__rewriteRelativeImportExtension:K2,__runInitializers:O2,__setFunctionName:N2,__spread:B2,__spreadArray:L2,__spreadArrays:k2,__values:zu,default:Ap},Symbol.toStringTag,{value:"Module"})),Sp=d=>d?(...a)=>d(...a):(...a)=>fetch(...a);let $u=class extends Error{constructor(a,l="FunctionsError",f){super(a),this.name=l,this.context=f}},W2=class extends $u{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}},Of=class extends $u{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}},Rf=class extends $u{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}};var Hu;(function(d){d.Any="any",d.ApNortheast1="ap-northeast-1",d.ApNortheast2="ap-northeast-2",d.ApSouth1="ap-south-1",d.ApSoutheast1="ap-southeast-1",d.ApSoutheast2="ap-southeast-2",d.CaCentral1="ca-central-1",d.EuCentral1="eu-central-1",d.EuWest1="eu-west-1",d.EuWest2="eu-west-2",d.EuWest3="eu-west-3",d.SaEast1="sa-east-1",d.UsEast1="us-east-1",d.UsWest1="us-west-1",d.UsWest2="us-west-2"})(Hu||(Hu={}));class Tp{constructor(a,{headers:l={},customFetch:f,region:x=Hu.Any}={}){this.url=a,this.headers=l,this.region=x,this.fetch=Sp(f)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Re(this,arguments,void 0,function*(l,f={}){var x;let g,b;try{const{headers:A,method:_,body:E,signal:R,timeout:N}=f;let B={},{region:L}=f;L||(L=this.region);const P=new URL(`${this.url}/${l}`);L&&L!=="any"&&(B["x-region"]=L,P.searchParams.set("forceFunctionRegion",L));let q;E&&(A&&!Object.prototype.hasOwnProperty.call(A,"Content-Type")||!A)?typeof Blob<"u"&&E instanceof Blob||E instanceof ArrayBuffer?(B["Content-Type"]="application/octet-stream",q=E):typeof E=="string"?(B["Content-Type"]="text/plain",q=E):typeof FormData<"u"&&E instanceof FormData?q=E:(B["Content-Type"]="application/json",q=JSON.stringify(E)):q=E;let Q=R;N&&(b=new AbortController,g=setTimeout(()=>b.abort(),N),R?(Q=b.signal,R.addEventListener("abort",()=>b.abort())):Q=b.signal);const se=yield this.fetch(P.toString(),{method:_||"POST",headers:Object.assign(Object.assign(Object.assign({},B),this.headers),A),body:q,signal:Q}).catch(ke=>{throw new W2(ke)}),ce=se.headers.get("x-relay-error");if(ce&&ce==="true")throw new Of(se);if(!se.ok)throw new Rf(se);let Y=((x=se.headers.get("Content-Type"))!==null&&x!==void 0?x:"text/plain").split(";")[0].trim(),me;return Y==="application/json"?me=yield se.json():Y==="application/octet-stream"||Y==="application/pdf"?me=yield se.blob():Y==="text/event-stream"?me=se:Y==="multipart/form-data"?me=yield se.formData():me=yield se.text(),{data:me,error:null,response:se}}catch(A){return{data:null,error:A,response:A instanceof Rf||A instanceof Of?A.context:void 0}}finally{g&&clearTimeout(g)}})}}const Op=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Hu},FunctionsClient:Tp,FunctionsError:$u,FunctionsFetchError:W2,FunctionsHttpError:Rf,FunctionsRelayError:Of},Symbol.toStringTag,{value:"Module"})),Z2=no(Op);var zn={};const Qa=no(Cp);var Tu={},Ou={},Ru={},Nu={},Iu={},Du={},wg;function Q2(){if(wg)return Du;wg=1,Object.defineProperty(Du,"__esModule",{value:!0});class d extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return Du.default=d,Du}var bg;function J2(){if(bg)return Iu;bg=1,Object.defineProperty(Iu,"__esModule",{value:!0});const a=Qa.__importDefault(Q2());let l=class{constructor(x){var g,b;this.shouldThrowOnError=!1,this.method=x.method,this.url=x.url,this.headers=new Headers(x.headers),this.schema=x.schema,this.body=x.body,this.shouldThrowOnError=(g=x.shouldThrowOnError)!==null&&g!==void 0?g:!1,this.signal=x.signal,this.isMaybeSingle=(b=x.isMaybeSingle)!==null&&b!==void 0?b:!1,x.fetch?this.fetch=x.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(x,g){return this.headers=new Headers(this.headers),this.headers.set(x,g),this}then(x,g){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const b=this.fetch;let A=b(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async _=>{var E,R,N,B;let L=null,P=null,q=null,Q=_.status,se=_.statusText;if(_.ok){if(this.method!=="HEAD"){const ke=await _.text();ke===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((E=this.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?P=ke:P=JSON.parse(ke))}const Y=(R=this.headers.get("Prefer"))===null||R===void 0?void 0:R.match(/count=(exact|planned|estimated)/),me=(N=_.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");Y&&me&&me.length>1&&(q=parseInt(me[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(L={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,q=null,Q=406,se="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const Y=await _.text();try{L=JSON.parse(Y),Array.isArray(L)&&_.status===404&&(P=[],L=null,Q=200,se="OK")}catch{_.status===404&&Y===""?(Q=204,se="No Content"):L={message:Y}}if(L&&this.isMaybeSingle&&(!((B=L==null?void 0:L.details)===null||B===void 0)&&B.includes("0 rows"))&&(L=null,Q=200,se="OK"),L&&this.shouldThrowOnError)throw new a.default(L)}return{error:L,data:P,count:q,status:Q,statusText:se}});return this.shouldThrowOnError||(A=A.catch(_=>{var E,R,N,B,L,P;let q="";const Q=_==null?void 0:_.cause;if(Q){const se=(E=Q==null?void 0:Q.message)!==null&&E!==void 0?E:"",ce=(R=Q==null?void 0:Q.code)!==null&&R!==void 0?R:"";q=`${(N=_==null?void 0:_.name)!==null&&N!==void 0?N:"FetchError"}: ${_==null?void 0:_.message}`,q+=`

Caused by: ${(B=Q==null?void 0:Q.name)!==null&&B!==void 0?B:"Error"}: ${se}`,ce&&(q+=` (${ce})`),Q!=null&&Q.stack&&(q+=`
${Q.stack}`)}else q=(L=_==null?void 0:_.stack)!==null&&L!==void 0?L:"";return{error:{message:`${(P=_==null?void 0:_.name)!==null&&P!==void 0?P:"FetchError"}: ${_==null?void 0:_.message}`,details:q,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),A.then(x,g)}returns(){return this}overrideTypes(){return this}};return Iu.default=l,Iu}var vg;function $2(){if(vg)return Nu;vg=1,Object.defineProperty(Nu,"__esModule",{value:!0});const a=Qa.__importDefault(J2());let l=class extends a.default{select(x){let g=!1;const b=(x??"*").split("").map(A=>/\s/.test(A)&&!g?"":(A==='"'&&(g=!g),A)).join("");return this.url.searchParams.set("select",b),this.headers.append("Prefer","return=representation"),this}order(x,{ascending:g=!0,nullsFirst:b,foreignTable:A,referencedTable:_=A}={}){const E=_?`${_}.order`:"order",R=this.url.searchParams.get(E);return this.url.searchParams.set(E,`${R?`${R},`:""}${x}.${g?"asc":"desc"}${b===void 0?"":b?".nullsfirst":".nullslast"}`),this}limit(x,{foreignTable:g,referencedTable:b=g}={}){const A=typeof b>"u"?"limit":`${b}.limit`;return this.url.searchParams.set(A,`${x}`),this}range(x,g,{foreignTable:b,referencedTable:A=b}={}){const _=typeof A>"u"?"offset":`${A}.offset`,E=typeof A>"u"?"limit":`${A}.limit`;return this.url.searchParams.set(_,`${x}`),this.url.searchParams.set(E,`${g-x+1}`),this}abortSignal(x){return this.signal=x,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:x=!1,verbose:g=!1,settings:b=!1,buffers:A=!1,wal:_=!1,format:E="text"}={}){var R;const N=[x?"analyze":null,g?"verbose":null,b?"settings":null,A?"buffers":null,_?"wal":null].filter(Boolean).join("|"),B=(R=this.headers.get("Accept"))!==null&&R!==void 0?R:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${E}; for="${B}"; options=${N};`),E==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(x){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${x}`),this}};return Nu.default=l,Nu}var Eg;function Xf(){if(Eg)return Ru;Eg=1,Object.defineProperty(Ru,"__esModule",{value:!0});const a=Qa.__importDefault($2()),l=new RegExp("[,()]");let f=class extends a.default{eq(g,b){return this.url.searchParams.append(g,`eq.${b}`),this}neq(g,b){return this.url.searchParams.append(g,`neq.${b}`),this}gt(g,b){return this.url.searchParams.append(g,`gt.${b}`),this}gte(g,b){return this.url.searchParams.append(g,`gte.${b}`),this}lt(g,b){return this.url.searchParams.append(g,`lt.${b}`),this}lte(g,b){return this.url.searchParams.append(g,`lte.${b}`),this}like(g,b){return this.url.searchParams.append(g,`like.${b}`),this}likeAllOf(g,b){return this.url.searchParams.append(g,`like(all).{${b.join(",")}}`),this}likeAnyOf(g,b){return this.url.searchParams.append(g,`like(any).{${b.join(",")}}`),this}ilike(g,b){return this.url.searchParams.append(g,`ilike.${b}`),this}ilikeAllOf(g,b){return this.url.searchParams.append(g,`ilike(all).{${b.join(",")}}`),this}ilikeAnyOf(g,b){return this.url.searchParams.append(g,`ilike(any).{${b.join(",")}}`),this}regexMatch(g,b){return this.url.searchParams.append(g,`match.${b}`),this}regexIMatch(g,b){return this.url.searchParams.append(g,`imatch.${b}`),this}is(g,b){return this.url.searchParams.append(g,`is.${b}`),this}isDistinct(g,b){return this.url.searchParams.append(g,`isdistinct.${b}`),this}in(g,b){const A=Array.from(new Set(b)).map(_=>typeof _=="string"&&l.test(_)?`"${_}"`:`${_}`).join(",");return this.url.searchParams.append(g,`in.(${A})`),this}contains(g,b){return typeof b=="string"?this.url.searchParams.append(g,`cs.${b}`):Array.isArray(b)?this.url.searchParams.append(g,`cs.{${b.join(",")}}`):this.url.searchParams.append(g,`cs.${JSON.stringify(b)}`),this}containedBy(g,b){return typeof b=="string"?this.url.searchParams.append(g,`cd.${b}`):Array.isArray(b)?this.url.searchParams.append(g,`cd.{${b.join(",")}}`):this.url.searchParams.append(g,`cd.${JSON.stringify(b)}`),this}rangeGt(g,b){return this.url.searchParams.append(g,`sr.${b}`),this}rangeGte(g,b){return this.url.searchParams.append(g,`nxl.${b}`),this}rangeLt(g,b){return this.url.searchParams.append(g,`sl.${b}`),this}rangeLte(g,b){return this.url.searchParams.append(g,`nxr.${b}`),this}rangeAdjacent(g,b){return this.url.searchParams.append(g,`adj.${b}`),this}overlaps(g,b){return typeof b=="string"?this.url.searchParams.append(g,`ov.${b}`):this.url.searchParams.append(g,`ov.{${b.join(",")}}`),this}textSearch(g,b,{config:A,type:_}={}){let E="";_==="plain"?E="pl":_==="phrase"?E="ph":_==="websearch"&&(E="w");const R=A===void 0?"":`(${A})`;return this.url.searchParams.append(g,`${E}fts${R}.${b}`),this}match(g){return Object.entries(g).forEach(([b,A])=>{this.url.searchParams.append(b,`eq.${A}`)}),this}not(g,b,A){return this.url.searchParams.append(g,`not.${b}.${A}`),this}or(g,{foreignTable:b,referencedTable:A=b}={}){const _=A?`${A}.or`:"or";return this.url.searchParams.append(_,`(${g})`),this}filter(g,b,A){return this.url.searchParams.append(g,`${b}.${A}`),this}};return Ru.default=f,Ru}var _g;function em(){if(_g)return Ou;_g=1,Object.defineProperty(Ou,"__esModule",{value:!0});const a=Qa.__importDefault(Xf());let l=class{constructor(x,{headers:g={},schema:b,fetch:A}){this.url=x,this.headers=new Headers(g),this.schema=b,this.fetch=A}select(x,g){const{head:b=!1,count:A}=g??{},_=b?"HEAD":"GET";let E=!1;const R=(x??"*").split("").map(N=>/\s/.test(N)&&!E?"":(N==='"'&&(E=!E),N)).join("");return this.url.searchParams.set("select",R),A&&this.headers.append("Prefer",`count=${A}`),new a.default({method:_,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(x,{count:g,defaultToNull:b=!0}={}){var A;const _="POST";if(g&&this.headers.append("Prefer",`count=${g}`),b||this.headers.append("Prefer","missing=default"),Array.isArray(x)){const E=x.reduce((R,N)=>R.concat(Object.keys(N)),[]);if(E.length>0){const R=[...new Set(E)].map(N=>`"${N}"`);this.url.searchParams.set("columns",R.join(","))}}return new a.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:x,fetch:(A=this.fetch)!==null&&A!==void 0?A:fetch})}upsert(x,{onConflict:g,ignoreDuplicates:b=!1,count:A,defaultToNull:_=!0}={}){var E;const R="POST";if(this.headers.append("Prefer",`resolution=${b?"ignore":"merge"}-duplicates`),g!==void 0&&this.url.searchParams.set("on_conflict",g),A&&this.headers.append("Prefer",`count=${A}`),_||this.headers.append("Prefer","missing=default"),Array.isArray(x)){const N=x.reduce((B,L)=>B.concat(Object.keys(L)),[]);if(N.length>0){const B=[...new Set(N)].map(L=>`"${L}"`);this.url.searchParams.set("columns",B.join(","))}}return new a.default({method:R,url:this.url,headers:this.headers,schema:this.schema,body:x,fetch:(E=this.fetch)!==null&&E!==void 0?E:fetch})}update(x,{count:g}={}){var b;const A="PATCH";return g&&this.headers.append("Prefer",`count=${g}`),new a.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:x,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}delete({count:x}={}){var g;const b="DELETE";return x&&this.headers.append("Prefer",`count=${x}`),new a.default({method:b,url:this.url,headers:this.headers,schema:this.schema,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}};return Ou.default=l,Ou}var Ag;function Rp(){if(Ag)return Tu;Ag=1,Object.defineProperty(Tu,"__esModule",{value:!0});const d=Qa,a=d.__importDefault(em()),l=d.__importDefault(Xf());let f=class tm{constructor(g,{headers:b={},schema:A,fetch:_}={}){this.url=g,this.headers=new Headers(b),this.schemaName=A,this.fetch=_}from(g){if(!g||typeof g!="string"||g.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const b=new URL(`${this.url}/${g}`);return new a.default(b,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(g){return new tm(this.url,{headers:this.headers,schema:g,fetch:this.fetch})}rpc(g,b={},{head:A=!1,get:_=!1,count:E}={}){var R;let N;const B=new URL(`${this.url}/rpc/${g}`);let L;A||_?(N=A?"HEAD":"GET",Object.entries(b).filter(([q,Q])=>Q!==void 0).map(([q,Q])=>[q,Array.isArray(Q)?`{${Q.join(",")}}`:`${Q}`]).forEach(([q,Q])=>{B.searchParams.append(q,Q)})):(N="POST",L=b);const P=new Headers(this.headers);return E&&P.set("Prefer",`count=${E}`),new l.default({method:N,url:B,headers:P,schema:this.schemaName,body:L,fetch:(R=this.fetch)!==null&&R!==void 0?R:fetch})}};return Tu.default=f,Tu}var Cg;function nm(){if(Cg)return zn;Cg=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.PostgrestError=zn.PostgrestBuilder=zn.PostgrestTransformBuilder=zn.PostgrestFilterBuilder=zn.PostgrestQueryBuilder=zn.PostgrestClient=void 0;const d=Qa,a=d.__importDefault(Rp());zn.PostgrestClient=a.default;const l=d.__importDefault(em());zn.PostgrestQueryBuilder=l.default;const f=d.__importDefault(Xf());zn.PostgrestFilterBuilder=f.default;const x=d.__importDefault($2());zn.PostgrestTransformBuilder=x.default;const g=d.__importDefault(J2());zn.PostgrestBuilder=g.default;const b=d.__importDefault(Q2());return zn.PostgrestError=b.default,zn.default={PostgrestClient:a.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:f.default,PostgrestTransformBuilder:x.default,PostgrestBuilder:g.default,PostgrestError:b.default},zn}class rm{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const f=l.node,x=parseInt(f.replace(/^v/,"").split(".")[0]);return x>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${x} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${x} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let l=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(l+=`

Suggested solution: ${a.workaround}`),new Error(l)}static createWebSocket(a,l){const f=this.getWebSocketConstructor();return new f(a,l)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Np="2.87.1",Ip=`realtime-js/${Np}`,im="1.0.0",Dp="2.0.0",Sg=im,Nf=1e4,Mp=1e3,Bp=100;var Qs;(function(d){d[d.connecting=0]="connecting",d[d.open=1]="open",d[d.closing=2]="closing",d[d.closed=3]="closed"})(Qs||(Qs={}));var pn;(function(d){d.closed="closed",d.errored="errored",d.joined="joined",d.joining="joining",d.leaving="leaving"})(pn||(pn={}));var Zr;(function(d){d.close="phx_close",d.error="phx_error",d.join="phx_join",d.reply="phx_reply",d.leave="phx_leave",d.access_token="access_token"})(Zr||(Zr={}));var If;(function(d){d.websocket="websocket"})(If||(If={}));var Js;(function(d){d.Connecting="connecting",d.Open="open",d.Closing="closing",d.Closed="closed"})(Js||(Js={}));class kp{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,l){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(a));let f=[a.join_ref,a.ref,a.topic,a.event,a.payload];return l(JSON.stringify(f))}_binaryEncodeUserBroadcastPush(a){var l;return this._isArrayBuffer((l=a.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var l,f;const x=(f=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&f!==void 0?f:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,x)}_encodeJsonUserBroadcastPush(a){var l,f;const x=(f=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&f!==void 0?f:{},b=new TextEncoder().encode(JSON.stringify(x)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,b)}_encodeUserBroadcastPush(a,l,f){var x,g;const b=a.topic,A=(x=a.ref)!==null&&x!==void 0?x:"",_=(g=a.join_ref)!==null&&g!==void 0?g:"",E=a.payload.event,R=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},N=Object.keys(R).length===0?"":JSON.stringify(R);if(_.length>255)throw new Error(`joinRef length ${_.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`ref length ${A.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`topic length ${b.length} exceeds maximum of 255`);if(E.length>255)throw new Error(`userEvent length ${E.length} exceeds maximum of 255`);if(N.length>255)throw new Error(`metadata length ${N.length} exceeds maximum of 255`);const B=this.USER_BROADCAST_PUSH_META_LENGTH+_.length+A.length+b.length+E.length+N.length,L=new ArrayBuffer(this.HEADER_LENGTH+B);let P=new DataView(L),q=0;P.setUint8(q++,this.KINDS.userBroadcastPush),P.setUint8(q++,_.length),P.setUint8(q++,A.length),P.setUint8(q++,b.length),P.setUint8(q++,E.length),P.setUint8(q++,N.length),P.setUint8(q++,l),Array.from(_,se=>P.setUint8(q++,se.charCodeAt(0))),Array.from(A,se=>P.setUint8(q++,se.charCodeAt(0))),Array.from(b,se=>P.setUint8(q++,se.charCodeAt(0))),Array.from(E,se=>P.setUint8(q++,se.charCodeAt(0))),Array.from(N,se=>P.setUint8(q++,se.charCodeAt(0)));var Q=new Uint8Array(L.byteLength+f.byteLength);return Q.set(new Uint8Array(L),0),Q.set(new Uint8Array(f),L.byteLength),Q.buffer}decode(a,l){if(this._isArrayBuffer(a)){let f=this._binaryDecode(a);return l(f)}if(typeof a=="string"){const f=JSON.parse(a),[x,g,b,A,_]=f;return l({join_ref:x,ref:g,topic:b,event:A,payload:_})}return l({})}_binaryDecode(a){const l=new DataView(a),f=l.getUint8(0),x=new TextDecoder;switch(f){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,l,x)}}_decodeUserBroadcast(a,l,f){const x=l.getUint8(1),g=l.getUint8(2),b=l.getUint8(3),A=l.getUint8(4);let _=this.HEADER_LENGTH+4;const E=f.decode(a.slice(_,_+x));_=_+x;const R=f.decode(a.slice(_,_+g));_=_+g;const N=f.decode(a.slice(_,_+b));_=_+b;const B=a.slice(_,a.byteLength),L=A===this.JSON_ENCODING?JSON.parse(f.decode(B)):B,P={type:this.BROADCAST_EVENT,event:R,payload:L};return b>0&&(P.meta=JSON.parse(N)),{join_ref:null,ref:null,topic:E,event:this.BROADCAST_EVENT,payload:P}}_isArrayBuffer(a){var l;return a instanceof ArrayBuffer||((l=a==null?void 0:a.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(a,l){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([f])=>l.includes(f)))}}class sm{constructor(a,l){this.callback=a,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(d){d.abstime="abstime",d.bool="bool",d.date="date",d.daterange="daterange",d.float4="float4",d.float8="float8",d.int2="int2",d.int4="int4",d.int4range="int4range",d.int8="int8",d.int8range="int8range",d.json="json",d.jsonb="jsonb",d.money="money",d.numeric="numeric",d.oid="oid",d.reltime="reltime",d.text="text",d.time="time",d.timestamp="timestamp",d.timestamptz="timestamptz",d.timetz="timetz",d.tsrange="tsrange",d.tstzrange="tstzrange"})(zt||(zt={}));const Tg=(d,a,l={})=>{var f;const x=(f=l.skipTypes)!==null&&f!==void 0?f:[];return a?Object.keys(a).reduce((g,b)=>(g[b]=Lp(b,d,a,x),g),{}):{}},Lp=(d,a,l,f)=>{const x=a.find(A=>A.name===d),g=x==null?void 0:x.type,b=l[d];return g&&!f.includes(g)?am(g,b):Df(b)},am=(d,a)=>{if(d.charAt(0)==="_"){const l=d.slice(1,d.length);return Fp(a,l)}switch(d){case zt.bool:return Up(a);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return Pp(a);case zt.json:case zt.jsonb:return jp(a);case zt.timestamp:return zp(a);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return Df(a);default:return Df(a)}},Df=d=>d,Up=d=>{switch(d){case"t":return!0;case"f":return!1;default:return d}},Pp=d=>{if(typeof d=="string"){const a=parseFloat(d);if(!Number.isNaN(a))return a}return d},jp=d=>{if(typeof d=="string")try{return JSON.parse(d)}catch(a){return console.log(`JSON parse error: ${a}`),d}return d},Fp=(d,a)=>{if(typeof d!="string")return d;const l=d.length-1,f=d[l];if(d[0]==="{"&&f==="}"){let g;const b=d.slice(1,l);try{g=JSON.parse("["+b+"]")}catch{g=b?b.split(","):[]}return g.map(A=>am(a,A))}return d},zp=d=>typeof d=="string"?d.replace(" ","T"):d,lm=d=>{const a=new URL(d);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class af{constructor(a,l,f={},x=Nf){this.channel=a,this.event=l,this.payload=f,this.timeout=x,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,l){var f;return this._hasReceived(a)&&l((f=this.receivedResp)===null||f===void 0?void 0:f.response),this.recHooks.push({status:a,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:l}){this.recHooks.filter(f=>f.status===a).forEach(f=>f.callback(l))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Mf;(function(d){d.SYNC="sync",d.JOIN="join",d.LEAVE="leave"})(Mf||(Mf={}));let om=class Lu{constructor(a,l){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const f=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(f.state,{},x=>{const{onJoin:g,onLeave:b,onSync:A}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lu.syncState(this.state,x,g,b),this.pendingDiffs.forEach(_=>{this.state=Lu.syncDiff(this.state,_,g,b)}),this.pendingDiffs=[],A()}),this.channel._on(f.diff,{},x=>{const{onJoin:g,onLeave:b,onSync:A}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(x):(this.state=Lu.syncDiff(this.state,x,g,b),A())}),this.onJoin((x,g,b)=>{this.channel._trigger("presence",{event:"join",key:x,currentPresences:g,newPresences:b})}),this.onLeave((x,g,b)=>{this.channel._trigger("presence",{event:"leave",key:x,currentPresences:g,leftPresences:b})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,l,f,x){const g=this.cloneDeep(a),b=this.transformState(l),A={},_={};return this.map(g,(E,R)=>{b[E]||(_[E]=R)}),this.map(b,(E,R)=>{const N=g[E];if(N){const B=R.map(Q=>Q.presence_ref),L=N.map(Q=>Q.presence_ref),P=R.filter(Q=>L.indexOf(Q.presence_ref)<0),q=N.filter(Q=>B.indexOf(Q.presence_ref)<0);P.length>0&&(A[E]=P),q.length>0&&(_[E]=q)}else A[E]=R}),this.syncDiff(g,{joins:A,leaves:_},f,x)}static syncDiff(a,l,f,x){const{joins:g,leaves:b}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return f||(f=()=>{}),x||(x=()=>{}),this.map(g,(A,_)=>{var E;const R=(E=a[A])!==null&&E!==void 0?E:[];if(a[A]=this.cloneDeep(_),R.length>0){const N=a[A].map(L=>L.presence_ref),B=R.filter(L=>N.indexOf(L.presence_ref)<0);a[A].unshift(...B)}f(A,R,_)}),this.map(b,(A,_)=>{let E=a[A];if(!E)return;const R=_.map(N=>N.presence_ref);E=E.filter(N=>R.indexOf(N.presence_ref)<0),a[A]=E,x(A,E,_),E.length===0&&delete a[A]}),a}static map(a,l){return Object.getOwnPropertyNames(a).map(f=>l(f,a[f]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((l,f)=>{const x=a[f];return"metas"in x?l[f]=x.metas.map(g=>(g.presence_ref=g.phx_ref,delete g.phx_ref,delete g.phx_ref_prev,g)):l[f]=x,l},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Bf;(function(d){d.ALL="*",d.INSERT="INSERT",d.UPDATE="UPDATE",d.DELETE="DELETE"})(Bf||(Bf={}));var Xa;(function(d){d.BROADCAST="broadcast",d.PRESENCE="presence",d.POSTGRES_CHANGES="postgres_changes",d.SYSTEM="system"})(Xa||(Xa={}));var ui;(function(d){d.SUBSCRIBED="SUBSCRIBED",d.TIMED_OUT="TIMED_OUT",d.CLOSED="CLOSED",d.CHANNEL_ERROR="CHANNEL_ERROR"})(ui||(ui={}));const Hp=pn;let um=class Wl{constructor(a,l={config:{}},f){var x,g;if(this.topic=a,this.params=l,this.socket=f,this.bindings={},this.state=pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new af(this,Zr.join,this.params,this.timeout),this.rejoinTimer=new sm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(b=>b.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pn.closed,this.socket._remove(this)}),this._onError(b=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,b),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",b=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,b),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zr.reply,{},(b,A)=>{this._trigger(this._replyEventName(A),b)}),this.presence=new om(this),this.broadcastEndpointURL=lm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((g=(x=this.params.config)===null||x===void 0?void 0:x.broadcast)===null||g===void 0)&&g.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,l=this.timeout){var f,x,g;if(this.socket.isConnected()||this.socket.connect(),this.state==pn.closed){const{config:{broadcast:b,presence:A,private:_}}=this.params,E=(x=(f=this.bindings.postgres_changes)===null||f===void 0?void 0:f.map(L=>L.filter))!==null&&x!==void 0?x:[],R=!!this.bindings[Xa.PRESENCE]&&this.bindings[Xa.PRESENCE].length>0||((g=this.params.config.presence)===null||g===void 0?void 0:g.enabled)===!0,N={},B={broadcast:b,presence:Object.assign(Object.assign({},A),{enabled:R}),postgres_changes:E,private:_};this.socket.accessTokenValue&&(N.access_token=this.socket.accessTokenValue),this._onError(L=>a==null?void 0:a(ui.CHANNEL_ERROR,L)),this._onClose(()=>a==null?void 0:a(ui.CLOSED)),this.updateJoinPayload(Object.assign({config:B},N)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:L})=>{var P;if(this.socket._isManualToken()||this.socket.setAuth(),L===void 0){a==null||a(ui.SUBSCRIBED);return}else{const q=this.bindings.postgres_changes,Q=(P=q==null?void 0:q.length)!==null&&P!==void 0?P:0,se=[];for(let ce=0;ce<Q;ce++){const Y=q[ce],{filter:{event:me,schema:ke,table:_e,filter:$}}=Y,Me=L&&L[ce];if(Me&&Me.event===me&&Wl.isFilterValueEqual(Me.schema,ke)&&Wl.isFilterValueEqual(Me.table,_e)&&Wl.isFilterValueEqual(Me.filter,$))se.push(Object.assign(Object.assign({},Y),{id:Me.id}));else{this.unsubscribe(),this.state=pn.errored,a==null||a(ui.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=se,a&&a(ui.SUBSCRIBED);return}}).receive("error",L=>{this.state=pn.errored,a==null||a(ui.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(L).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(ui.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,l={}){return await this.send({type:"presence",event:"track",payload:a},l.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,l,f){return this.state===pn.joined&&a===Xa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,l,f)}async httpSend(a,l,f={}){var x;const g=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(l==null)return Promise.reject("Payload is required for httpSend()");const b={method:"POST",headers:{Authorization:g,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})},A=await this._fetchWithTimeout(this.broadcastEndpointURL,b,(x=f.timeout)!==null&&x!==void 0?x:this.timeout);if(A.status===202)return{success:!0};let _=A.statusText;try{const E=await A.json();_=E.error||E.message||_}catch{}return Promise.reject(new Error(_))}async send(a,l={}){var f,x;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:g,payload:b}=a,_={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:g,payload:b,private:this.private}]})};try{const E=await this._fetchWithTimeout(this.broadcastEndpointURL,_,(f=l.timeout)!==null&&f!==void 0?f:this.timeout);return await((x=E.body)===null||x===void 0?void 0:x.cancel()),E.ok?"ok":"error"}catch(E){return E.name==="AbortError"?"timed out":"error"}}else return new Promise(g=>{var b,A,_;const E=this._push(a.type,a,l.timeout||this.timeout);a.type==="broadcast"&&!(!((_=(A=(b=this.params)===null||b===void 0?void 0:b.config)===null||A===void 0?void 0:A.broadcast)===null||_===void 0)&&_.ack)&&g("ok"),E.receive("ok",()=>g("ok")),E.receive("error",()=>g("error")),E.receive("timeout",()=>g("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=pn.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zr.close,"leave",this._joinRef())};this.joinPush.destroy();let f=null;return new Promise(x=>{f=new af(this,Zr.leave,{},a),f.receive("ok",()=>{l(),x("ok")}).receive("timeout",()=>{l(),x("timed out")}).receive("error",()=>{x("error")}),f.send(),this._canPush()||f.trigger("ok",{})}).finally(()=>{f==null||f.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pn.closed,this.bindings={}}async _fetchWithTimeout(a,l,f){const x=new AbortController,g=setTimeout(()=>x.abort(),f),b=await this.socket.fetch(a,Object.assign(Object.assign({},l),{signal:x.signal}));return clearTimeout(g),b}_push(a,l,f=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let x=new af(this,a,l,f);return this._canPush()?x.send():this._addToPushBuffer(x),x}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Bp){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(a,l,f){return l}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,l,f){var x,g;const b=a.toLocaleLowerCase(),{close:A,error:_,leave:E,join:R}=Zr;if(f&&[A,_,E,R].indexOf(b)>=0&&f!==this._joinRef())return;let B=this._onMessage(b,l,f);if(l&&!B)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(b)?(x=this.bindings.postgres_changes)===null||x===void 0||x.filter(L=>{var P,q,Q;return((P=L.filter)===null||P===void 0?void 0:P.event)==="*"||((Q=(q=L.filter)===null||q===void 0?void 0:q.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase())===b}).map(L=>L.callback(B,f)):(g=this.bindings[b])===null||g===void 0||g.filter(L=>{var P,q,Q,se,ce,Y;if(["broadcast","presence","postgres_changes"].includes(b))if("id"in L){const me=L.id,ke=(P=L.filter)===null||P===void 0?void 0:P.event;return me&&((q=l.ids)===null||q===void 0?void 0:q.includes(me))&&(ke==="*"||(ke==null?void 0:ke.toLocaleLowerCase())===((Q=l.data)===null||Q===void 0?void 0:Q.type.toLocaleLowerCase()))}else{const me=(ce=(se=L==null?void 0:L.filter)===null||se===void 0?void 0:se.event)===null||ce===void 0?void 0:ce.toLocaleLowerCase();return me==="*"||me===((Y=l==null?void 0:l.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase())}else return L.type.toLocaleLowerCase()===b}).map(L=>{if(typeof B=="object"&&"ids"in B){const P=B.data,{schema:q,table:Q,commit_timestamp:se,type:ce,errors:Y}=P;B=Object.assign(Object.assign({},{schema:q,table:Q,commit_timestamp:se,eventType:ce,new:{},old:{},errors:Y}),this._getPayloadRecords(P))}L.callback(B,f)})}_isClosed(){return this.state===pn.closed}_isJoined(){return this.state===pn.joined}_isJoining(){return this.state===pn.joining}_isLeaving(){return this.state===pn.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,l,f){const x=a.toLocaleLowerCase(),g={type:x,filter:l,callback:f};return this.bindings[x]?this.bindings[x].push(g):this.bindings[x]=[g],this}_off(a,l){const f=a.toLocaleLowerCase();return this.bindings[f]&&(this.bindings[f]=this.bindings[f].filter(x=>{var g;return!(((g=x.type)===null||g===void 0?void 0:g.toLocaleLowerCase())===f&&Wl.isEqual(x.filter,l))})),this}static isEqual(a,l){if(Object.keys(a).length!==Object.keys(l).length)return!1;for(const f in a)if(a[f]!==l[f])return!1;return!0}static isFilterValueEqual(a,l){return(a??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Zr.close,{},a)}_onError(a){this._on(Zr.error,{},l=>a(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pn.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const l={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(l.new=Tg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(l.old=Tg(a.columns,a.old_record)),l}};const lf=()=>{},Mu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qp=[1e3,2e3,5e3,1e4],Gp=1e4,Vp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Xp=class{constructor(a,l){var f;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nf,this.transport=null,this.heartbeatIntervalMs=Mu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lf,this.ref=0,this.reconnectTimer=null,this.vsn=Sg,this.logger=lf,this.conn=null,this.sendBuffer=[],this.serializer=new kp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=x=>x?(...g)=>x(...g):(...g)=>fetch(...g),!(!((f=l==null?void 0:l.params)===null||f===void 0)&&f.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${a}/${If.websocket}`,this.httpEndpoint=lm(a),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=rm.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const l=a.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const f=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(f),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const l=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const a=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,l,f){this.logger(a,l,f)}connectionState(){switch(this.conn&&this.conn.readyState){case Qs.connecting:return Js.Connecting;case Qs.open:return Js.Open;case Qs.closing:return Js.Closing;default:return Js.Closed}}isConnected(){return this.connectionState()===Js.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,l={config:{}}){const f=`realtime:${a}`,x=this.getChannels().find(g=>g.topic===f);if(x)return x;{const g=new um(`realtime:${a}`,l,this);return this.channels.push(g),g}}push(a){const{topic:l,event:f,payload:x,ref:g}=a,b=()=>{this.encode(a,A=>{var _;(_=this.conn)===null||_===void 0||_.send(A)})};this.log("push",`${l} ${f} (${g})`,x),this.isConnected()?b():this.sendBuffer.push(b)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Mp,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Mu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let l=this.channels.find(f=>f.topic===a&&(f._isJoined()||f._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${a}"`),l.unsubscribe())}_remove(a){this.channels=this.channels.filter(l=>l.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(E){this.log("error","error in heartbeat callback",E)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:f,event:x,payload:g,ref:b}=l,A=b?`(${b})`:"",_=g.status||"";this.log("receive",`${_} ${f} ${x} ${A}`.trim(),g),this.channels.filter(E=>E._isMember(f)).forEach(E=>E._trigger(x,g,b)),this._triggerStateCallbacks("message",l)})}_clearTimer(a){var l;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qs.open||this.conn.readyState===Qs.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var l;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Zr.error))}_appendParams(a,l){if(Object.keys(l).length===0)return a;const f=a.match(/\?/)?"&":"?",x=new URLSearchParams(l);return`${a}${f}${x}`}_workerObjectUrl(a){let l;if(a)l=a;else{const f=new Blob([Vp],{type:"application/javascript"});l=URL.createObjectURL(f)}return l}_setConnectionState(a,l=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(a=null){let l,f=!1;if(a)l=a,f=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(x){this.log("error","Error fetching access token from callback",x),l=this.accessTokenValue}else l=this.accessTokenValue;f?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(x=>{const g={access_token:l,version:Ip};l&&x.updateJoinPayload(g),x.joinedOnce&&x._isJoined()&&x._push(Zr.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${a}`,l)})}_triggerStateCallbacks(a,l){try{this.stateChangeCallbacks[a].forEach(f=>{try{f(l)}catch(x){this.log("error",`error in ${a} callback`,x)}})}catch(f){this.log("error",`error triggering ${a} callbacks`,f)}}_setupReconnectionTimer(){this.reconnectTimer=new sm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var l,f,x,g,b,A,_,E,R,N,B,L;switch(this.transport=(l=a==null?void 0:a.transport)!==null&&l!==void 0?l:null,this.timeout=(f=a==null?void 0:a.timeout)!==null&&f!==void 0?f:Nf,this.heartbeatIntervalMs=(x=a==null?void 0:a.heartbeatIntervalMs)!==null&&x!==void 0?x:Mu.HEARTBEAT_INTERVAL,this.worker=(g=a==null?void 0:a.worker)!==null&&g!==void 0?g:!1,this.accessToken=(b=a==null?void 0:a.accessToken)!==null&&b!==void 0?b:null,this.heartbeatCallback=(A=a==null?void 0:a.heartbeatCallback)!==null&&A!==void 0?A:lf,this.vsn=(_=a==null?void 0:a.vsn)!==null&&_!==void 0?_:Sg,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(E=a==null?void 0:a.reconnectAfterMs)!==null&&E!==void 0?E:(P=>qp[P-1]||Gp),this.vsn){case im:this.encode=(R=a==null?void 0:a.encode)!==null&&R!==void 0?R:((P,q)=>q(JSON.stringify(P))),this.decode=(N=a==null?void 0:a.decode)!==null&&N!==void 0?N:((P,q)=>q(JSON.parse(P)));break;case Dp:this.encode=(B=a==null?void 0:a.encode)!==null&&B!==void 0?B:this.serializer.encode.bind(this.serializer),this.decode=(L=a==null?void 0:a.decode)!==null&&L!==void 0?L:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}};const Yp=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Hp,get REALTIME_LISTEN_TYPES(){return Xa},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Bf},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Mf},get REALTIME_SUBSCRIBE_STATES(){return ui},RealtimeChannel:um,RealtimeClient:Xp,RealtimePresence:om,WebSocketFactory:rm},Symbol.toStringTag,{value:"Module"})),cm=no(Yp);class io extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Zt(d){return typeof d=="object"&&d!==null&&"__isStorageError"in d}class hm extends io{constructor(a,l,f){super(a),this.name="StorageApiError",this.status=l,this.statusCode=f}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qu extends io{constructor(a,l){super(a),this.name="StorageUnknownError",this.originalError=l}}const Yf=d=>d?(...a)=>d(...a):(...a)=>fetch(...a),Kp=()=>Response,kf=d=>{if(Array.isArray(d))return d.map(l=>kf(l));if(typeof d=="function"||d!==Object(d))return d;const a={};return Object.entries(d).forEach(([l,f])=>{const x=l.replace(/([-_][a-z])/gi,g=>g.toUpperCase().replace(/[-_]/g,""));a[x]=kf(f)}),a},Wp=d=>{if(typeof d!="object"||d===null)return!1;const a=Object.getPrototypeOf(d);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in d)&&!(Symbol.iterator in d)},Zp=d=>!d||typeof d!="string"||d.length===0||d.length>100||d.trim()!==d||d.includes("/")||d.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(d),of=d=>{var a;return d.msg||d.message||d.error_description||(typeof d.error=="string"?d.error:(a=d.error)===null||a===void 0?void 0:a.message)||JSON.stringify(d)},Qp=(d,a,l)=>Re(void 0,void 0,void 0,function*(){const f=yield Kp();d instanceof f&&!(l!=null&&l.noResolveJson)?d.json().then(x=>{const g=d.status||500,b=(x==null?void 0:x.statusCode)||g+"";a(new hm(of(x),g,b))}).catch(x=>{a(new qu(of(x),x))}):a(new qu(of(d),d))}),Jp=(d,a,l,f)=>{const x={method:d,headers:(a==null?void 0:a.headers)||{}};return d==="GET"||!f?x:(Wp(f)?(x.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),x.body=JSON.stringify(f)):x.body=f,a!=null&&a.duplex&&(x.duplex=a.duplex),Object.assign(Object.assign({},x),l))};function so(d,a,l,f,x,g){return Re(this,void 0,void 0,function*(){return new Promise((b,A)=>{d(l,Jp(a,f,x,g)).then(_=>{if(!_.ok)throw _;return f!=null&&f.noResolveJson?_:_.json()}).then(_=>b(_)).catch(_=>Qp(_,A,f))})})}function $l(d,a,l,f){return Re(this,void 0,void 0,function*(){return so(d,"GET",a,l,f)})}function Wr(d,a,l,f,x){return Re(this,void 0,void 0,function*(){return so(d,"POST",a,f,x,l)})}function Lf(d,a,l,f,x){return Re(this,void 0,void 0,function*(){return so(d,"PUT",a,f,x,l)})}function $p(d,a,l,f){return Re(this,void 0,void 0,function*(){return so(d,"HEAD",a,Object.assign(Object.assign({},l),{noResolveJson:!0}),f)})}function Kf(d,a,l,f,x){return Re(this,void 0,void 0,function*(){return so(d,"DELETE",a,f,x,l)})}class ew{constructor(a,l){this.downloadFn=a,this.shouldThrowOnError=l}then(a,l){return this.execute().then(a,l)}execute(){return Re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zt(a))return{data:null,error:a};throw a}})}}var fm;class tw{constructor(a,l){this.downloadFn=a,this.shouldThrowOnError=l,this[fm]="BlobDownloadBuilder",this.promise=null}asStream(){return new ew(this.downloadFn,this.shouldThrowOnError)}then(a,l){return this.getPromise().then(a,l)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zt(a))return{data:null,error:a};throw a}})}}fm=Symbol.toStringTag;const nw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Og={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rw{constructor(a,l={},f,x){this.shouldThrowOnError=!1,this.url=a,this.headers=l,this.bucketId=f,this.fetch=Yf(x)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,l,f,x){return Re(this,void 0,void 0,function*(){try{let g;const b=Object.assign(Object.assign({},Og),x);let A=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(b.upsert)});const _=b.metadata;typeof Blob<"u"&&f instanceof Blob?(g=new FormData,g.append("cacheControl",b.cacheControl),_&&g.append("metadata",this.encodeMetadata(_)),g.append("",f)):typeof FormData<"u"&&f instanceof FormData?(g=f,g.has("cacheControl")||g.append("cacheControl",b.cacheControl),_&&!g.has("metadata")&&g.append("metadata",this.encodeMetadata(_))):(g=f,A["cache-control"]=`max-age=${b.cacheControl}`,A["content-type"]=b.contentType,_&&(A["x-metadata"]=this.toBase64(this.encodeMetadata(_))),(typeof ReadableStream<"u"&&g instanceof ReadableStream||g&&typeof g=="object"&&"pipe"in g&&typeof g.pipe=="function")&&!b.duplex&&(b.duplex="half")),x!=null&&x.headers&&(A=Object.assign(Object.assign({},A),x.headers));const E=this._removeEmptyFolders(l),R=this._getFinalPath(E),N=yield(a=="PUT"?Lf:Wr)(this.fetch,`${this.url}/object/${R}`,g,Object.assign({headers:A},b!=null&&b.duplex?{duplex:b.duplex}:{}));return{data:{path:E,id:N.Id,fullPath:N.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Zt(g))return{data:null,error:g};throw g}})}upload(a,l,f){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,l,f)})}uploadToSignedUrl(a,l,f,x){return Re(this,void 0,void 0,function*(){const g=this._removeEmptyFolders(a),b=this._getFinalPath(g),A=new URL(this.url+`/object/upload/sign/${b}`);A.searchParams.set("token",l);try{let _;const E=Object.assign({upsert:Og.upsert},x),R=Object.assign(Object.assign({},this.headers),{"x-upsert":String(E.upsert)});typeof Blob<"u"&&f instanceof Blob?(_=new FormData,_.append("cacheControl",E.cacheControl),_.append("",f)):typeof FormData<"u"&&f instanceof FormData?(_=f,_.append("cacheControl",E.cacheControl)):(_=f,R["cache-control"]=`max-age=${E.cacheControl}`,R["content-type"]=E.contentType);const N=yield Lf(this.fetch,A.toString(),_,{headers:R});return{data:{path:g,fullPath:N.Key},error:null}}catch(_){if(this.shouldThrowOnError)throw _;if(Zt(_))return{data:null,error:_};throw _}})}createSignedUploadUrl(a,l){return Re(this,void 0,void 0,function*(){try{let f=this._getFinalPath(a);const x=Object.assign({},this.headers);l!=null&&l.upsert&&(x["x-upsert"]="true");const g=yield Wr(this.fetch,`${this.url}/object/upload/sign/${f}`,{},{headers:x}),b=new URL(this.url+g.url),A=b.searchParams.get("token");if(!A)throw new io("No token returned by API");return{data:{signedUrl:b.toString(),path:a,token:A},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Zt(f))return{data:null,error:f};throw f}})}update(a,l,f){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,l,f)})}move(a,l,f){return Re(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:l,destinationBucket:f==null?void 0:f.destinationBucket},{headers:this.headers}),error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Zt(x))return{data:null,error:x};throw x}})}copy(a,l,f){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield Wr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:l,destinationBucket:f==null?void 0:f.destinationBucket},{headers:this.headers})).Key},error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Zt(x))return{data:null,error:x};throw x}})}createSignedUrl(a,l,f){return Re(this,void 0,void 0,function*(){try{let x=this._getFinalPath(a),g=yield Wr(this.fetch,`${this.url}/object/sign/${x}`,Object.assign({expiresIn:l},f!=null&&f.transform?{transform:f.transform}:{}),{headers:this.headers});const b=f!=null&&f.download?`&download=${f.download===!0?"":f.download}`:"";return g={signedUrl:encodeURI(`${this.url}${g.signedURL}${b}`)},{data:g,error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Zt(x))return{data:null,error:x};throw x}})}createSignedUrls(a,l,f){return Re(this,void 0,void 0,function*(){try{const x=yield Wr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:a},{headers:this.headers}),g=f!=null&&f.download?`&download=${f.download===!0?"":f.download}`:"";return{data:x.map(b=>Object.assign(Object.assign({},b),{signedUrl:b.signedURL?encodeURI(`${this.url}${b.signedURL}${g}`):null})),error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Zt(x))return{data:null,error:x};throw x}})}download(a,l){const x=typeof(l==null?void 0:l.transform)<"u"?"render/image/authenticated":"object",g=this.transformOptsToQueryString((l==null?void 0:l.transform)||{}),b=g?`?${g}`:"",A=this._getFinalPath(a),_=()=>$l(this.fetch,`${this.url}/${x}/${A}${b}`,{headers:this.headers,noResolveJson:!0});return new tw(_,this.shouldThrowOnError)}info(a){return Re(this,void 0,void 0,function*(){const l=this._getFinalPath(a);try{const f=yield $l(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:kf(f),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Zt(f))return{data:null,error:f};throw f}})}exists(a){return Re(this,void 0,void 0,function*(){const l=this._getFinalPath(a);try{return yield $p(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Zt(f)&&f instanceof qu){const x=f.originalError;if([400,404].includes(x==null?void 0:x.status))return{data:!1,error:f}}throw f}})}getPublicUrl(a,l){const f=this._getFinalPath(a),x=[],g=l!=null&&l.download?`download=${l.download===!0?"":l.download}`:"";g!==""&&x.push(g);const A=typeof(l==null?void 0:l.transform)<"u"?"render/image":"object",_=this.transformOptsToQueryString((l==null?void 0:l.transform)||{});_!==""&&x.push(_);let E=x.join("&");return E!==""&&(E=`?${E}`),{data:{publicUrl:encodeURI(`${this.url}/${A}/public/${f}${E}`)}}}remove(a){return Re(this,void 0,void 0,function*(){try{return{data:yield Kf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}list(a,l,f){return Re(this,void 0,void 0,function*(){try{const x=Object.assign(Object.assign(Object.assign({},nw),l),{prefix:a||""});return{data:yield Wr(this.fetch,`${this.url}/object/list/${this.bucketId}`,x,{headers:this.headers},f),error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Zt(x))return{data:null,error:x};throw x}})}listV2(a,l){return Re(this,void 0,void 0,function*(){try{const f=Object.assign({},a);return{data:yield Wr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,f,{headers:this.headers},l),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Zt(f))return{data:null,error:f};throw f}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const l=[];return a.width&&l.push(`width=${a.width}`),a.height&&l.push(`height=${a.height}`),a.resize&&l.push(`resize=${a.resize}`),a.format&&l.push(`format=${a.format}`),a.quality&&l.push(`quality=${a.quality}`),l.join("&")}}const dm="2.87.1",gm={"X-Client-Info":`storage-js/${dm}`};class iw{constructor(a,l={},f,x){this.shouldThrowOnError=!1;const g=new URL(a);x!=null&&x.useNewHostname&&/supabase\.(co|in|red)$/.test(g.hostname)&&!g.hostname.includes("storage.supabase.")&&(g.hostname=g.hostname.replace("supabase.","storage.supabase.")),this.url=g.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gm),l),this.fetch=Yf(f)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return Re(this,void 0,void 0,function*(){try{const l=this.listBucketOptionsToQueryString(a);return{data:yield $l(this.fetch,`${this.url}/bucket${l}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}getBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:yield $l(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}createBucket(a){return Re(this,arguments,void 0,function*(l,f={public:!1}){try{return{data:yield Wr(this.fetch,`${this.url}/bucket`,{id:l,name:l,type:f.type,public:f.public,file_size_limit:f.fileSizeLimit,allowed_mime_types:f.allowedMimeTypes},{headers:this.headers}),error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Zt(x))return{data:null,error:x};throw x}})}updateBucket(a,l){return Re(this,void 0,void 0,function*(){try{return{data:yield Lf(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Zt(f))return{data:null,error:f};throw f}})}emptyBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}deleteBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:yield Kf(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}listBucketOptionsToQueryString(a){const l={};return a&&("limit"in a&&(l.limit=String(a.limit)),"offset"in a&&(l.offset=String(a.offset)),a.search&&(l.search=a.search),a.sortColumn&&(l.sortColumn=a.sortColumn),a.sortOrder&&(l.sortOrder=a.sortOrder)),Object.keys(l).length>0?"?"+new URLSearchParams(l).toString():""}}var eo=class extends Error{constructor(d,a){var l;super(d),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&((l=a.icebergType)==null?void 0:l.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function sw(d,a,l){const f=new URL(a,d);if(l)for(const[x,g]of Object.entries(l))g!==void 0&&f.searchParams.set(x,g);return f.toString()}async function aw(d){return!d||d.type==="none"?{}:d.type==="bearer"?{Authorization:`Bearer ${d.token}`}:d.type==="header"?{[d.name]:d.value}:d.type==="custom"?await d.getHeaders():{}}function lw(d){const a=d.fetchImpl??globalThis.fetch;return{async request({method:l,path:f,query:x,body:g,headers:b}){const A=sw(d.baseUrl,f,x),_=await aw(d.auth),E=await a(A,{method:l,headers:{...g?{"Content-Type":"application/json"}:{},..._,...b},body:g?JSON.stringify(g):void 0}),R=await E.text(),N=(E.headers.get("content-type")||"").includes("application/json"),B=N&&R?JSON.parse(R):R;if(!E.ok){const L=N?B:void 0,P=L==null?void 0:L.error;throw new eo((P==null?void 0:P.message)??`Request failed with status ${E.status}`,{status:E.status,icebergType:P==null?void 0:P.type,icebergCode:P==null?void 0:P.code,details:L})}return{status:E.status,headers:E.headers,data:B}}}}function Bu(d){return d.join("")}var ow=class{constructor(d,a=""){this.client=d,this.prefix=a}async listNamespaces(d){const a=d?{parent:Bu(d.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(f=>({namespace:f}))}async createNamespace(d,a){const l={namespace:d.namespace,properties:a==null?void 0:a.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(d){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bu(d.namespace)}`})}async loadNamespaceMetadata(d){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bu(d.namespace)}`})).data.properties}}async namespaceExists(d){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bu(d.namespace)}`}),!0}catch(a){if(a instanceof eo&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(d,a){try{return await this.createNamespace(d,a)}catch(l){if(l instanceof eo&&l.status===409)return;throw l}}};function Pa(d){return d.join("")}var uw=class{constructor(d,a="",l){this.client=d,this.prefix=a,this.accessDelegation=l}async listTables(d){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pa(d.namespace)}/tables`})).data.identifiers}async createTable(d,a){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pa(d.namespace)}/tables`,body:a,headers:l})).data.metadata}async updateTable(d,a){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pa(d.namespace)}/tables/${d.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(d,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pa(d.namespace)}/tables/${d.name}`,query:{purgeRequested:String((a==null?void 0:a.purge)??!1)}})}async loadTable(d){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pa(d.namespace)}/tables/${d.name}`,headers:a})).data.metadata}async tableExists(d){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pa(d.namespace)}/tables/${d.name}`,headers:a}),!0}catch(l){if(l instanceof eo&&l.status===404)return!1;throw l}}async createTableIfNotExists(d,a){try{return await this.createTable(d,a)}catch(l){if(l instanceof eo&&l.status===409)return await this.loadTable({namespace:d.namespace,name:a.name});throw l}}},cw=class{constructor(d){var f;let a="v1";d.catalogName&&(a+=`/${d.catalogName}`);const l=d.baseUrl.endsWith("/")?d.baseUrl:`${d.baseUrl}/`;this.client=lw({baseUrl:l,auth:d.auth,fetchImpl:d.fetch}),this.accessDelegation=(f=d.accessDelegation)==null?void 0:f.join(","),this.namespaceOps=new ow(this.client,a),this.tableOps=new uw(this.client,a,this.accessDelegation)}async listNamespaces(d){return this.namespaceOps.listNamespaces(d)}async createNamespace(d,a){return this.namespaceOps.createNamespace(d,a)}async dropNamespace(d){await this.namespaceOps.dropNamespace(d)}async loadNamespaceMetadata(d){return this.namespaceOps.loadNamespaceMetadata(d)}async listTables(d){return this.tableOps.listTables(d)}async createTable(d,a){return this.tableOps.createTable(d,a)}async updateTable(d,a){return this.tableOps.updateTable(d,a)}async dropTable(d,a){await this.tableOps.dropTable(d,a)}async loadTable(d){return this.tableOps.loadTable(d)}async namespaceExists(d){return this.namespaceOps.namespaceExists(d)}async tableExists(d){return this.tableOps.tableExists(d)}async createNamespaceIfNotExists(d,a){return this.namespaceOps.createNamespaceIfNotExists(d,a)}async createTableIfNotExists(d,a){return this.tableOps.createTableIfNotExists(d,a)}};class mm{constructor(a,l={},f){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gm),l),this.fetch=Yf(f)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}listBuckets(a){return Re(this,void 0,void 0,function*(){try{const l=new URLSearchParams;(a==null?void 0:a.limit)!==void 0&&l.set("limit",a.limit.toString()),(a==null?void 0:a.offset)!==void 0&&l.set("offset",a.offset.toString()),a!=null&&a.sortColumn&&l.set("sortColumn",a.sortColumn),a!=null&&a.sortOrder&&l.set("sortOrder",a.sortOrder),a!=null&&a.search&&l.set("search",a.search);const f=l.toString(),x=f?`${this.url}/bucket?${f}`:`${this.url}/bucket`;return{data:yield $l(this.fetch,x,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}deleteBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:yield Kf(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}from(a){if(!Zp(a))throw new io("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new cw({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>Re(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),f=this.shouldThrowOnError;return new Proxy(l,{get(g,b){const A=g[b];return typeof A!="function"?A:(..._)=>Re(this,void 0,void 0,function*(){try{return{data:yield A.apply(g,_),error:null}}catch(E){if(f)throw E;return{data:null,error:E}}})}})}}const Wf={"X-Client-Info":`storage-js/${dm}`,"Content-Type":"application/json"};class Zf extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function lr(d){return typeof d=="object"&&d!==null&&"__isStorageVectorsError"in d}class Uu extends Zf{constructor(a,l,f){super(a),this.name="StorageVectorsApiError",this.status=l,this.statusCode=f}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xm extends Zf{constructor(a,l){super(a),this.name="StorageVectorsUnknownError",this.originalError=l}}var Uf;(function(d){d.InternalError="InternalError",d.S3VectorConflictException="S3VectorConflictException",d.S3VectorNotFoundException="S3VectorNotFoundException",d.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",d.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",d.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Uf||(Uf={}));const ec=d=>d?(...a)=>d(...a):(...a)=>fetch(...a),hw=()=>Response,ym=d=>{if(typeof d!="object"||d===null)return!1;const a=Object.getPrototypeOf(d);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in d)&&!(Symbol.iterator in d)},fw=d=>Array.from(new Float32Array(d)),dw=(d,a)=>{if(a!==void 0&&d.float32.length!==a)throw new Error(`Vector dimension mismatch: expected ${a}, got ${d.float32.length}`)},Rg=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),gw=(d,a,l)=>Re(void 0,void 0,void 0,function*(){if(d&&typeof d=="object"&&"status"in d&&"ok"in d&&typeof d.status=="number"&&!(l!=null&&l.noResolveJson)){const x=d.status||500,g=d;if(typeof g.json=="function")g.json().then(b=>{const A=(b==null?void 0:b.statusCode)||(b==null?void 0:b.code)||x+"";a(new Uu(Rg(b),x,A))}).catch(()=>{const b=x+"",A=g.statusText||`HTTP ${x} error`;a(new Uu(A,x,b))});else{const b=x+"",A=g.statusText||`HTTP ${x} error`;a(new Uu(A,x,b))}}else a(new xm(Rg(d),d))}),mw=(d,a,l,f)=>{const x={method:d,headers:(a==null?void 0:a.headers)||{}};return f?(ym(f)?(x.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),x.body=JSON.stringify(f)):x.body=f,Object.assign(Object.assign({},x),l)):x};function xw(d,a,l,f,x,g){return Re(this,void 0,void 0,function*(){return new Promise((b,A)=>{d(l,mw(a,f,x,g)).then(_=>{if(!_.ok)throw _;if(f!=null&&f.noResolveJson)return _;const E=_.headers.get("content-type");return!E||!E.includes("application/json")?{}:_.json()}).then(_=>b(_)).catch(_=>gw(_,A,f))})})}function _r(d,a,l,f,x){return Re(this,void 0,void 0,function*(){return xw(d,"POST",a,f,x,l)})}class pm{constructor(a,l={},f){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wf),l),this.fetch=ec(f)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return Re(this,void 0,void 0,function*(){try{return{data:(yield _r(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}getIndex(a,l){return Re(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:l},{headers:this.headers}),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(lr(f))return{data:null,error:f};throw f}})}listIndexes(a){return Re(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}deleteIndex(a,l){return Re(this,void 0,void 0,function*(){try{return{data:(yield _r(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:l},{headers:this.headers}))||{},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(lr(f))return{data:null,error:f};throw f}})}}class wm{constructor(a,l={},f){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wf),l),this.fetch=ec(f)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return Re(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield _r(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}getVectors(a){return Re(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}listVectors(a){return Re(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield _r(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}queryVectors(a){return Re(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}deleteVectors(a){return Re(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield _r(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}}class bm{constructor(a,l={},f){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wf),l),this.fetch=ec(f)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:(yield _r(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}getBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}listBuckets(){return Re(this,arguments,void 0,function*(a={}){try{return{data:yield _r(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}deleteBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:(yield _r(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}}class vm extends bm{constructor(a,l={}){super(a,l.headers||{},l.fetch)}from(a){return new Em(this.url,this.headers,a,this.fetch)}createBucket(a){const l=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Re(this,void 0,void 0,function*(){return l.createBucket.call(this,a)})}getBucket(a){const l=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Re(this,void 0,void 0,function*(){return l.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Re(this,arguments,void 0,function*(l={}){return a.listBuckets.call(this,l)})}deleteBucket(a){const l=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Re(this,void 0,void 0,function*(){return l.deleteBucket.call(this,a)})}}class Em extends pm{constructor(a,l,f,x){super(a,l,x),this.vectorBucketName=f}createIndex(a){const l=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Re(this,void 0,void 0,function*(){return l.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Re(this,arguments,void 0,function*(l={}){return a.listIndexes.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const l=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Re(this,void 0,void 0,function*(){return l.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const l=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Re(this,void 0,void 0,function*(){return l.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new _m(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class _m extends wm{constructor(a,l,f,x,g){super(a,l,g),this.vectorBucketName=f,this.indexName=x}putVectors(a){const l=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Re(this,void 0,void 0,function*(){return l.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const l=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Re(this,void 0,void 0,function*(){return l.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Re(this,arguments,void 0,function*(l={}){return a.listVectors.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const l=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Re(this,void 0,void 0,function*(){return l.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const l=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Re(this,void 0,void 0,function*(){return l.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class yw extends iw{constructor(a,l={},f,x){super(a,l,f,x)}from(a){return new rw(this.url,this.headers,a,this.fetch)}get vectors(){return new vm(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mm(this.url+"/iceberg",this.headers,this.fetch)}}const pw=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:mm,StorageApiError:hm,StorageClient:yw,StorageError:io,StorageUnknownError:qu,StorageVectorsApiError:Uu,StorageVectorsClient:vm,StorageVectorsError:Zf,get StorageVectorsErrorCode(){return Uf},StorageVectorsUnknownError:xm,VectorBucketApi:bm,VectorBucketScope:Em,VectorDataApi:wm,VectorIndexApi:pm,VectorIndexScope:_m,isPlainObject:ym,isStorageError:Zt,isStorageVectorsError:lr,normalizeToFloat32:fw,resolveFetch:ec,resolveResponse:hw,validateVectorDimension:dw},Symbol.toStringTag,{value:"Module"})),ww=no(pw);var uf={},Yl={},Ng;function bw(){return Ng||(Ng=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.version=void 0,Yl.version="2.87.1"),Yl}var Ig;function vw(){return Ig||(Ig=1,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.DEFAULT_REALTIME_OPTIONS=d.DEFAULT_AUTH_OPTIONS=d.DEFAULT_DB_OPTIONS=d.DEFAULT_GLOBAL_OPTIONS=d.DEFAULT_HEADERS=void 0;const a=bw();let l="";typeof Deno<"u"?l="deno":typeof document<"u"?l="web":typeof navigator<"u"&&navigator.product==="ReactNative"?l="react-native":l="node",d.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${l}/${a.version}`},d.DEFAULT_GLOBAL_OPTIONS={headers:d.DEFAULT_HEADERS},d.DEFAULT_DB_OPTIONS={schema:"public"},d.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d.DEFAULT_REALTIME_OPTIONS={}})(uf)),uf}var cf={},Dg;function Ew(){return Dg||(Dg=1,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.fetchWithAuth=d.resolveHeadersConstructor=d.resolveFetch=void 0;const a=x=>x?(...g)=>x(...g):(...g)=>fetch(...g);d.resolveFetch=a;const l=()=>Headers;d.resolveHeadersConstructor=l;const f=(x,g,b)=>{const A=(0,d.resolveFetch)(b),_=(0,d.resolveHeadersConstructor)();return async(E,R)=>{var N;const B=(N=await g())!==null&&N!==void 0?N:x;let L=new _(R==null?void 0:R.headers);return L.has("apikey")||L.set("apikey",x),L.has("Authorization")||L.set("Authorization",`Bearer ${B}`),A(E,Object.assign(Object.assign({},R),{headers:L}))}};d.fetchWithAuth=f})(cf)),cf}var Mi={},Mg;function _w(){if(Mg)return Mi;Mg=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.isBrowser=void 0,Mi.uuid=d,Mi.ensureTrailingSlash=a,Mi.applySettingDefaults=f,Mi.validateSupabaseUrl=x;function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(g){var b=Math.random()*16|0,A=g=="x"?b:b&3|8;return A.toString(16)})}function a(g){return g.endsWith("/")?g:g+"/"}const l=()=>typeof window<"u";Mi.isBrowser=l;function f(g,b){var A,_;const{db:E,auth:R,realtime:N,global:B}=g,{db:L,auth:P,realtime:q,global:Q}=b,se={db:Object.assign(Object.assign({},L),E),auth:Object.assign(Object.assign({},P),R),realtime:Object.assign(Object.assign({},q),N),storage:{},global:Object.assign(Object.assign(Object.assign({},Q),B),{headers:Object.assign(Object.assign({},(A=Q==null?void 0:Q.headers)!==null&&A!==void 0?A:{}),(_=B==null?void 0:B.headers)!==null&&_!==void 0?_:{})}),accessToken:async()=>""};return g.accessToken?se.accessToken=g.accessToken:delete se.accessToken,se}function x(g){const b=g==null?void 0:g.trim();if(!b)throw new Error("supabaseUrl is required.");if(!b.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a(b))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Mi}var Kl={};const Am="2.87.1",qa=30*1e3,Pf=3,hf=Pf*qa,Aw="http://localhost:9999",Cw="supabase.auth.token",Sw={"X-Client-Info":`gotrue-js/${Am}`},jf="X-Supabase-Api-Version",Cm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Tw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ow=600*1e3;let Wa=class extends Error{constructor(a,l,f){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=f}};function Be(d){return typeof d=="object"&&d!==null&&"__isAuthError"in d}let Sm=class extends Wa{constructor(a,l,f){super(a,l,f),this.name="AuthApiError",this.status=l,this.code=f}};function Tm(d){return Be(d)&&d.name==="AuthApiError"}let ws=class extends Wa{constructor(a,l){super(a),this.name="AuthUnknownError",this.originalError=l}},ki=class extends Wa{constructor(a,l,f,x){super(a,f,x),this.name=l,this.status=f}},ar=class extends ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Om(d){return Be(d)&&d.name==="AuthSessionMissingError"}let Ks=class extends ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Zl=class extends ki{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}},Ql=class extends ki{constructor(a,l=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Rm(d){return Be(d)&&d.name==="AuthImplicitGrantRedirectError"}let Ff=class extends ki{constructor(a,l=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Gu=class extends ki{constructor(a,l){super(a,"AuthRetryableFetchError",l,void 0)}};function Pu(d){return Be(d)&&d.name==="AuthRetryableFetchError"}let zf=class extends ki{constructor(a,l,f){super(a,"AuthWeakPasswordError",l,"weak_password"),this.reasons=f}};function Rw(d){return Be(d)&&d.name==="AuthWeakPasswordError"}let Vu=class extends ki{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}};const Xu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bg=` 	
\r=`.split(""),Nw=(()=>{const d=new Array(128);for(let a=0;a<d.length;a+=1)d[a]=-1;for(let a=0;a<Bg.length;a+=1)d[Bg[a].charCodeAt(0)]=-2;for(let a=0;a<Xu.length;a+=1)d[Xu[a].charCodeAt(0)]=a;return d})();function kg(d,a,l){if(d!==null)for(a.queue=a.queue<<8|d,a.queuedBits+=8;a.queuedBits>=6;){const f=a.queue>>a.queuedBits-6&63;l(Xu[f]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const f=a.queue>>a.queuedBits-6&63;l(Xu[f]),a.queuedBits-=6}}function Nm(d,a,l){const f=Nw[d];if(f>-1)for(a.queue=a.queue<<6|f,a.queuedBits+=6;a.queuedBits>=8;)l(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(f===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(d)}"`)}}function Lg(d){const a=[],l=b=>{a.push(String.fromCodePoint(b))},f={utf8seq:0,codepoint:0},x={queue:0,queuedBits:0},g=b=>{Mw(b,f,l)};for(let b=0;b<d.length;b+=1)Nm(d.charCodeAt(b),x,g);return a.join("")}function Iw(d,a){if(d<=127){a(d);return}else if(d<=2047){a(192|d>>6),a(128|d&63);return}else if(d<=65535){a(224|d>>12),a(128|d>>6&63),a(128|d&63);return}else if(d<=1114111){a(240|d>>18),a(128|d>>12&63),a(128|d>>6&63),a(128|d&63);return}throw new Error(`Unrecognized Unicode codepoint: ${d.toString(16)}`)}function Dw(d,a){for(let l=0;l<d.length;l+=1){let f=d.charCodeAt(l);if(f>55295&&f<=56319){const x=(f-55296)*1024&65535;f=(d.charCodeAt(l+1)-56320&65535|x)+65536,l+=1}Iw(f,a)}}function Mw(d,a,l){if(a.utf8seq===0){if(d<=127){l(d);return}for(let f=1;f<6;f+=1)if((d>>7-f&1)===0){a.utf8seq=f;break}if(a.utf8seq===2)a.codepoint=d&31;else if(a.utf8seq===3)a.codepoint=d&15;else if(a.utf8seq===4)a.codepoint=d&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(d<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|d&63,a.utf8seq-=1,a.utf8seq===0&&l(a.codepoint)}}function Ya(d){const a=[],l={queue:0,queuedBits:0},f=x=>{a.push(x)};for(let x=0;x<d.length;x+=1)Nm(d.charCodeAt(x),l,f);return new Uint8Array(a)}function Bw(d){const a=[];return Dw(d,l=>a.push(l)),new Uint8Array(a)}function $s(d){const a=[],l={queue:0,queuedBits:0},f=x=>{a.push(x)};return d.forEach(x=>kg(x,l,f)),kg(null,l,f),a.join("")}function kw(d){return Math.round(Date.now()/1e3)+d}function Lw(){return Symbol("auth-callback")}const Pn=()=>typeof window<"u"&&typeof document<"u",Xs={tested:!1,writable:!1},Im=()=>{if(!Pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xs.tested)return Xs.writable;const d=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(d,d),globalThis.localStorage.removeItem(d),Xs.tested=!0,Xs.writable=!0}catch{Xs.tested=!0,Xs.writable=!1}return Xs.writable};function Uw(d){const a={},l=new URL(d);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((x,g)=>{a[g]=x})}catch{}return l.searchParams.forEach((f,x)=>{a[x]=f}),a}const Dm=d=>d?(...a)=>d(...a):(...a)=>fetch(...a),Pw=d=>typeof d=="object"&&d!==null&&"status"in d&&"ok"in d&&"json"in d&&typeof d.json=="function",Ga=async(d,a,l)=>{await d.setItem(a,JSON.stringify(l))},Ys=async(d,a)=>{const l=await d.getItem(a);if(!l)return null;try{return JSON.parse(l)}catch{return l}},Un=async(d,a)=>{await d.removeItem(a)};class tc{constructor(){this.promise=new tc.promiseConstructor((a,l)=>{this.resolve=a,this.reject=l})}}tc.promiseConstructor=Promise;function ff(d){const a=d.split(".");if(a.length!==3)throw new Vu("Invalid JWT structure");for(let f=0;f<a.length;f++)if(!Tw.test(a[f]))throw new Vu("JWT not in base64url format");return{header:JSON.parse(Lg(a[0])),payload:JSON.parse(Lg(a[1])),signature:Ya(a[2]),raw:{header:a[0],payload:a[1]}}}async function jw(d){return await new Promise(a=>{setTimeout(()=>a(null),d)})}function Fw(d,a){return new Promise((f,x)=>{(async()=>{for(let g=0;g<1/0;g++)try{const b=await d(g);if(!a(g,null,b)){f(b);return}}catch(b){if(!a(g,b)){x(b);return}}})()})}function zw(d){return("0"+d.toString(16)).substr(-2)}function Hw(){const a=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",f=l.length;let x="";for(let g=0;g<56;g++)x+=l.charAt(Math.floor(Math.random()*f));return x}return crypto.getRandomValues(a),Array.from(a,zw).join("")}async function qw(d){const l=new TextEncoder().encode(d),f=await crypto.subtle.digest("SHA-256",l),x=new Uint8Array(f);return Array.from(x).map(g=>String.fromCharCode(g)).join("")}async function Gw(d){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),d;const l=await qw(d);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ja(d,a,l=!1){const f=Hw();let x=f;l&&(x+="/PASSWORD_RECOVERY"),await Ga(d,`${a}-code-verifier`,x);const g=await Gw(f);return[g,f===g?"plain":"s256"]}const Vw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xw(d){const a=d.headers.get(jf);if(!a||!a.match(Vw))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function Yw(d){if(!d)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(d<=a)throw new Error("JWT has expired")}function Kw(d){switch(d){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ww=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fa(d){if(!Ww.test(d))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function df(){const d={};return new Proxy(d,{get:(a,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const f=l.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zw(d,a){return new Proxy(d,{get:(l,f,x)=>{if(f==="__isInsecureUserWarningProxy")return!0;if(typeof f=="symbol"){const g=f.toString();if(g==="Symbol(Symbol.toPrimitive)"||g==="Symbol(Symbol.toStringTag)"||g==="Symbol(util.inspect.custom)"||g==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,f,x)}return!a.value&&typeof f=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(l,f,x)}})}function Ug(d){return JSON.parse(JSON.stringify(d))}const Ws=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),Qw=[502,503,504];async function Pg(d){var a;if(!Pw(d))throw new Gu(Ws(d),0);if(Qw.includes(d.status))throw new Gu(Ws(d),d.status);let l;try{l=await d.json()}catch(g){throw new ws(Ws(g),g)}let f;const x=Xw(d);if(x&&x.getTime()>=Cm["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?f=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(f=l.error_code),f){if(f==="weak_password")throw new zf(Ws(l),d.status,((a=l.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(f==="session_not_found")throw new ar}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((g,b)=>g&&typeof b=="string",!0))throw new zf(Ws(l),d.status,l.weak_password.reasons);throw new Sm(Ws(l),d.status||500,f)}const Jw=(d,a,l,f)=>{const x={method:d,headers:(a==null?void 0:a.headers)||{}};return d==="GET"?x:(x.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),x.body=JSON.stringify(f),Object.assign(Object.assign({},x),l))};async function Ge(d,a,l,f){var x;const g=Object.assign({},f==null?void 0:f.headers);g[jf]||(g[jf]=Cm["2024-01-01"].name),f!=null&&f.jwt&&(g.Authorization=`Bearer ${f.jwt}`);const b=(x=f==null?void 0:f.query)!==null&&x!==void 0?x:{};f!=null&&f.redirectTo&&(b.redirect_to=f.redirectTo);const A=Object.keys(b).length?"?"+new URLSearchParams(b).toString():"",_=await $w(d,a,l+A,{headers:g,noResolveJson:f==null?void 0:f.noResolveJson},{},f==null?void 0:f.body);return f!=null&&f.xform?f==null?void 0:f.xform(_):{data:Object.assign({},_),error:null}}async function $w(d,a,l,f,x,g){const b=Jw(a,f,x,g);let A;try{A=await d(l,Object.assign({},b))}catch(_){throw console.error(_),new Gu(Ws(_),0)}if(A.ok||await Pg(A),f!=null&&f.noResolveJson)return A;try{return await A.json()}catch(_){await Pg(_)}}function Kr(d){var a;let l=null;nb(d)&&(l=Object.assign({},d),d.expires_at||(l.expires_at=kw(d.expires_in)));const f=(a=d.user)!==null&&a!==void 0?a:d;return{data:{session:l,user:f},error:null}}function jg(d){const a=Kr(d);return!a.error&&d.weak_password&&typeof d.weak_password=="object"&&Array.isArray(d.weak_password.reasons)&&d.weak_password.reasons.length&&d.weak_password.message&&typeof d.weak_password.message=="string"&&d.weak_password.reasons.reduce((l,f)=>l&&typeof f=="string",!0)&&(a.data.weak_password=d.weak_password),a}function bs(d){var a;return{data:{user:(a=d.user)!==null&&a!==void 0?a:d},error:null}}function eb(d){return{data:d,error:null}}function tb(d){const{action_link:a,email_otp:l,hashed_token:f,redirect_to:x,verification_type:g}=d,b=Za(d,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),A={action_link:a,email_otp:l,hashed_token:f,redirect_to:x,verification_type:g},_=Object.assign({},b);return{data:{properties:A,user:_},error:null}}function Fg(d){return d}function nb(d){return d.access_token&&d.refresh_token&&d.expires_in}const ju=["global","local","others"];let Qf=class{constructor({url:a="",headers:l={},fetch:f}){this.url=a,this.headers=l,this.fetch=Dm(f),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,l=ju[0]){if(ju.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ju.join(", ")}`);try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(f){if(Be(f))return{data:null,error:f};throw f}}async inviteUserByEmail(a,l={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:bs})}catch(f){if(Be(f))return{data:{user:null},error:f};throw f}}async generateLink(a){try{const{options:l}=a,f=Za(a,["options"]),x=Object.assign(Object.assign({},f),l);return"newEmail"in f&&(x.new_email=f==null?void 0:f.newEmail,delete x.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:x,headers:this.headers,xform:tb,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(Be(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(a){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:bs})}catch(l){if(Be(l))return{data:{user:null},error:l};throw l}}async listUsers(a){var l,f,x,g,b,A,_;try{const E={nextPage:null,lastPage:0,total:0},R=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(f=(l=a==null?void 0:a.page)===null||l===void 0?void 0:l.toString())!==null&&f!==void 0?f:"",per_page:(g=(x=a==null?void 0:a.perPage)===null||x===void 0?void 0:x.toString())!==null&&g!==void 0?g:""},xform:Fg});if(R.error)throw R.error;const N=await R.json(),B=(b=R.headers.get("x-total-count"))!==null&&b!==void 0?b:0,L=(_=(A=R.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&_!==void 0?_:[];return L.length>0&&(L.forEach(P=>{const q=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),Q=JSON.parse(P.split(";")[1].split("=")[1]);E[`${Q}Page`]=q}),E.total=parseInt(B)),{data:Object.assign(Object.assign({},N),E),error:null}}catch(E){if(Be(E))return{data:{users:[]},error:E};throw E}}async getUserById(a){Fa(a);try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:bs})}catch(l){if(Be(l))return{data:{user:null},error:l};throw l}}async updateUserById(a,l){Fa(a);try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:l,headers:this.headers,xform:bs})}catch(f){if(Be(f))return{data:{user:null},error:f};throw f}}async deleteUser(a,l=!1){Fa(a);try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:l},xform:bs})}catch(f){if(Be(f))return{data:{user:null},error:f};throw f}}async _listFactors(a){Fa(a.userId);try{const{data:l,error:f}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:x=>({data:{factors:x},error:null})});return{data:l,error:f}}catch(l){if(Be(l))return{data:null,error:l};throw l}}async _deleteFactor(a){Fa(a.userId),Fa(a.id);try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(l){if(Be(l))return{data:null,error:l};throw l}}async _listOAuthClients(a){var l,f,x,g,b,A,_;try{const E={nextPage:null,lastPage:0,total:0},R=await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(f=(l=a==null?void 0:a.page)===null||l===void 0?void 0:l.toString())!==null&&f!==void 0?f:"",per_page:(g=(x=a==null?void 0:a.perPage)===null||x===void 0?void 0:x.toString())!==null&&g!==void 0?g:""},xform:Fg});if(R.error)throw R.error;const N=await R.json(),B=(b=R.headers.get("x-total-count"))!==null&&b!==void 0?b:0,L=(_=(A=R.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&_!==void 0?_:[];return L.length>0&&(L.forEach(P=>{const q=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),Q=JSON.parse(P.split(";")[1].split("=")[1]);E[`${Q}Page`]=q}),E.total=parseInt(B)),{data:Object.assign(Object.assign({},N),E),error:null}}catch(E){if(Be(E))return{data:{clients:[]},error:E};throw E}}async _createOAuthClient(a){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Be(l))return{data:null,error:l};throw l}}async _getOAuthClient(a){try{return await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Be(l))return{data:null,error:l};throw l}}async _updateOAuthClient(a,l){try{return await Ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:l,headers:this.headers,xform:f=>({data:f,error:null})})}catch(f){if(Be(f))return{data:null,error:f};throw f}}async _deleteOAuthClient(a){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Be(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(a){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Be(l))return{data:null,error:l};throw l}}};function zg(d={}){return{getItem:a=>d[a]||null,setItem:(a,l)=>{d[a]=l},removeItem:a=>{delete d[a]}}}const Zs={debug:!!(globalThis&&Im()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jf extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}let Mm=class extends Jf{};class rb extends Jf{}async function Bm(d,a,l){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",d,a);const f=new globalThis.AbortController;return a>0&&setTimeout(()=>{f.abort(),Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",d)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(d,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:f.signal},async x=>{if(x){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",d,x.name);try{return await l()}finally{Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",d,x.name)}}else{if(a===0)throw Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",d),new Mm(`Acquiring an exclusive Navigator LockManager lock "${d}" immediately failed`);if(Zs.debug)try{const g=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(g,null,"  "))}catch(g){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",g)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}const Hg={};async function ib(d,a,l){var f;const x=(f=Hg[d])!==null&&f!==void 0?f:Promise.resolve(),g=Promise.race([x.catch(()=>null),a>=0?new Promise((b,A)=>{setTimeout(()=>{A(new rb(`Acquring process lock with name "${d}" timed out`))},a)}):null].filter(b=>b)).catch(b=>{if(b&&b.isAcquireTimeout)throw b;return null}).then(async()=>await l());return Hg[d]=g.catch(async b=>{if(b&&b.isAcquireTimeout)return await x,null;throw b}),await g}function sb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function km(d){if(!/^0x[a-fA-F0-9]{40}$/.test(d))throw new Error(`@supabase/auth-js: Address "${d}" is invalid.`);return d.toLowerCase()}function ab(d){return parseInt(d,16)}function lb(d){const a=new TextEncoder().encode(d);return"0x"+Array.from(a,f=>f.toString(16).padStart(2,"0")).join("")}function ob(d){var a;const{chainId:l,domain:f,expirationTime:x,issuedAt:g=new Date,nonce:b,notBefore:A,requestId:_,resources:E,scheme:R,uri:N,version:B}=d;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(b&&b.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${b}`);if(!N)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(B!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${B}`);if(!((a=d.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${d.statement}`)}const L=km(d.address),P=R?`${R}://${f}`:f,q=d.statement?`${d.statement}
`:"",Q=`${P} wants you to sign in with your Ethereum account:
${L}

${q}`;let se=`URI: ${N}
Version: ${B}
Chain ID: ${l}${b?`
Nonce: ${b}`:""}
Issued At: ${g.toISOString()}`;if(x&&(se+=`
Expiration Time: ${x.toISOString()}`),A&&(se+=`
Not Before: ${A.toISOString()}`),_&&(se+=`
Request ID: ${_}`),E){let ce=`
Resources:`;for(const Y of E){if(!Y||typeof Y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Y}`);ce+=`
- ${Y}`}se+=ce}return`${Q}
${se}`}class wn extends Error{constructor({message:a,code:l,cause:f,name:x}){var g;super(a,{cause:f}),this.__isWebAuthnError=!0,this.name=(g=x??(f instanceof Error?f.name:void 0))!==null&&g!==void 0?g:"Unknown Error",this.code=l}}class Yu extends wn{constructor(a,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:a}),this.name="WebAuthnUnknownError",this.originalError=l}}function ub({error:d,options:a}){var l,f,x;const{publicKey:g}=a;if(!g)throw Error("options was missing required publicKey property");if(d.name==="AbortError"){if(a.signal instanceof AbortSignal)return new wn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:d})}else if(d.name==="ConstraintError"){if(((l=g.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new wn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:d});if(a.mediation==="conditional"&&((f=g.authenticatorSelection)===null||f===void 0?void 0:f.userVerification)==="required")return new wn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:d});if(((x=g.authenticatorSelection)===null||x===void 0?void 0:x.userVerification)==="required")return new wn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:d})}else{if(d.name==="InvalidStateError")return new wn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:d});if(d.name==="NotAllowedError")return new wn({message:d.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d});if(d.name==="NotSupportedError")return g.pubKeyCredParams.filter(A=>A.type==="public-key").length===0?new wn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:d}):new wn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:d});if(d.name==="SecurityError"){const b=window.location.hostname;if(Lm(b)){if(g.rp.id!==b)return new wn({message:`The RP ID "${g.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:d})}else return new wn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:d})}else if(d.name==="TypeError"){if(g.user.id.byteLength<1||g.user.id.byteLength>64)return new wn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:d})}else if(d.name==="UnknownError")return new wn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:d})}return new wn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d})}function cb({error:d,options:a}){const{publicKey:l}=a;if(!l)throw Error("options was missing required publicKey property");if(d.name==="AbortError"){if(a.signal instanceof AbortSignal)return new wn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:d})}else{if(d.name==="NotAllowedError")return new wn({message:d.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d});if(d.name==="SecurityError"){const f=window.location.hostname;if(Lm(f)){if(l.rpId!==f)return new wn({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:d})}else return new wn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:d})}else if(d.name==="UnknownError")return new wn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:d})}return new wn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d})}class hb{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const fb=new hb;function db(d){if(!d)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(d);const{challenge:a,user:l,excludeCredentials:f}=d,x=Za(d,["challenge","user","excludeCredentials"]),g=Ya(a).buffer,b=Object.assign(Object.assign({},l),{id:Ya(l.id).buffer}),A=Object.assign(Object.assign({},x),{challenge:g,user:b});if(f&&f.length>0){A.excludeCredentials=new Array(f.length);for(let _=0;_<f.length;_++){const E=f[_];A.excludeCredentials[_]=Object.assign(Object.assign({},E),{id:Ya(E.id).buffer,type:E.type||"public-key",transports:E.transports})}}return A}function gb(d){if(!d)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(d);const{challenge:a,allowCredentials:l}=d,f=Za(d,["challenge","allowCredentials"]),x=Ya(a).buffer,g=Object.assign(Object.assign({},f),{challenge:x});if(l&&l.length>0){g.allowCredentials=new Array(l.length);for(let b=0;b<l.length;b++){const A=l[b];g.allowCredentials[b]=Object.assign(Object.assign({},A),{id:Ya(A.id).buffer,type:A.type||"public-key",transports:A.transports})}}return g}function mb(d){var a;if("toJSON"in d&&typeof d.toJSON=="function")return d.toJSON();const l=d;return{id:d.id,rawId:d.id,response:{attestationObject:$s(new Uint8Array(d.response.attestationObject)),clientDataJSON:$s(new Uint8Array(d.response.clientDataJSON))},type:"public-key",clientExtensionResults:d.getClientExtensionResults(),authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function xb(d){var a;if("toJSON"in d&&typeof d.toJSON=="function")return d.toJSON();const l=d,f=d.getClientExtensionResults(),x=d.response;return{id:d.id,rawId:d.id,response:{authenticatorData:$s(new Uint8Array(x.authenticatorData)),clientDataJSON:$s(new Uint8Array(x.clientDataJSON)),signature:$s(new Uint8Array(x.signature)),userHandle:x.userHandle?$s(new Uint8Array(x.userHandle)):void 0},type:"public-key",clientExtensionResults:f,authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Lm(d){return d==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(d)}function qg(){var d,a;return!!(Pn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((d=navigator==null?void 0:navigator.credentials)===null||d===void 0?void 0:d.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function yb(d){try{const a=await navigator.credentials.create(d);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Yu("Browser returned unexpected credential type",a)}:{data:null,error:new Yu("Empty credential response",a)}}catch(a){return{data:null,error:ub({error:a,options:d})}}}async function pb(d){try{const a=await navigator.credentials.get(d);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Yu("Browser returned unexpected credential type",a)}:{data:null,error:new Yu("Empty credential response",a)}}catch(a){return{data:null,error:cb({error:a,options:d})}}}const wb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},bb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ku(...d){const a=x=>x!==null&&typeof x=="object"&&!Array.isArray(x),l=x=>x instanceof ArrayBuffer||ArrayBuffer.isView(x),f={};for(const x of d)if(x)for(const g in x){const b=x[g];if(b!==void 0)if(Array.isArray(b))f[g]=b;else if(l(b))f[g]=b;else if(a(b)){const A=f[g];a(A)?f[g]=Ku(A,b):f[g]=Ku(b)}else f[g]=b}return f}function vb(d,a){return Ku(wb,d,a||{})}function Eb(d,a){return Ku(bb,d,a||{})}class _b{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:l,friendlyName:f,signal:x},g){try{const{data:b,error:A}=await this.client.mfa.challenge({factorId:a,webauthn:l});if(!b)return{data:null,error:A};const _=x??fb.createNewAbortSignal();if(b.webauthn.type==="create"){const{user:E}=b.webauthn.credential_options.publicKey;E.name||(E.name=`${E.id}:${f}`),E.displayName||(E.displayName=E.name)}switch(b.webauthn.type){case"create":{const E=vb(b.webauthn.credential_options.publicKey,g==null?void 0:g.create),{data:R,error:N}=await yb({publicKey:E,signal:_});return R?{data:{factorId:a,challengeId:b.id,webauthn:{type:b.webauthn.type,credential_response:R}},error:null}:{data:null,error:N}}case"request":{const E=Eb(b.webauthn.credential_options.publicKey,g==null?void 0:g.request),{data:R,error:N}=await pb(Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:E,signal:_}));return R?{data:{factorId:a,challengeId:b.id,webauthn:{type:b.webauthn.type,credential_response:R}},error:null}:{data:null,error:N}}}}catch(b){return Be(b)?{data:null,error:b}:{data:null,error:new ws("Unexpected error in challenge",b)}}}async _verify({challengeId:a,factorId:l,webauthn:f}){return this.client.mfa.verify({factorId:l,challengeId:a,webauthn:f})}async _authenticate({factorId:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:f=typeof window<"u"?[window.location.origin]:void 0,signal:x}={}},g){if(!l)return{data:null,error:new Wa("rpId is required for WebAuthn authentication")};try{if(!qg())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:b,error:A}=await this.challenge({factorId:a,webauthn:{rpId:l,rpOrigins:f},signal:x},{request:g});if(!b)return{data:null,error:A};const{webauthn:_}=b;return this._verify({factorId:a,challengeId:b.challengeId,webauthn:{type:_.type,rpId:l,rpOrigins:f,credential_response:_.credential_response}})}catch(b){return Be(b)?{data:null,error:b}:{data:null,error:new ws("Unexpected error in authenticate",b)}}}async _register({friendlyName:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:f=typeof window<"u"?[window.location.origin]:void 0,signal:x}={}},g){if(!l)return{data:null,error:new Wa("rpId is required for WebAuthn registration")};try{if(!qg())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:b,error:A}=await this._enroll({friendlyName:a});if(!b)return await this.client.mfa.listFactors().then(R=>{var N;return(N=R.data)===null||N===void 0?void 0:N.all.find(B=>B.factor_type==="webauthn"&&B.friendly_name===a&&B.status!=="unverified")}).then(R=>R?this.client.mfa.unenroll({factorId:R==null?void 0:R.id}):void 0),{data:null,error:A};const{data:_,error:E}=await this._challenge({factorId:b.id,friendlyName:b.friendly_name,webauthn:{rpId:l,rpOrigins:f},signal:x},{create:g});return _?this._verify({factorId:b.id,challengeId:_.challengeId,webauthn:{rpId:l,rpOrigins:f,type:_.webauthn.type,credential_response:_.webauthn.credential_response}}):{data:null,error:E}}catch(b){return Be(b)?{data:null,error:b}:{data:null,error:new ws("Unexpected error in register",b)}}}}sb();const Ab={url:Aw,storageKey:Cw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Gg(d,a,l){return await l()}const za={};let $f=class Hf{get jwks(){var a,l;return(l=(a=za[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(a){za[this.storageKey]=Object.assign(Object.assign({},za[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,l;return(l=(a=za[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){za[this.storageKey]=Object.assign(Object.assign({},za[this.storageKey]),{cachedAt:a})}constructor(a){var l,f,x;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const g=Object.assign(Object.assign({},Ab),a);if(this.storageKey=g.storageKey,this.instanceID=(l=Hf.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,Hf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!g.debug,typeof g.debug=="function"&&(this.logger=g.debug),this.instanceID>0&&Pn()){const b=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(b),this.logDebugMessages&&console.trace(b)}if(this.persistSession=g.persistSession,this.autoRefreshToken=g.autoRefreshToken,this.admin=new Qf({url:g.url,headers:g.headers,fetch:g.fetch}),this.url=g.url,this.headers=g.headers,this.fetch=Dm(g.fetch),this.lock=g.lock||Gg,this.detectSessionInUrl=g.detectSessionInUrl,this.flowType=g.flowType,this.hasCustomAuthorizationHeader=g.hasCustomAuthorizationHeader,this.throwOnError=g.throwOnError,g.lock?this.lock=g.lock:this.persistSession&&Pn()&&(!((f=globalThis==null?void 0:globalThis.navigator)===null||f===void 0)&&f.locks)?this.lock=Bm:this.lock=Gg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _b(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(g.storage?this.storage=g.storage:Im()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zg(this.memoryStorage)),g.userStorage&&(this.userStorage=g.userStorage)):(this.memoryStorage={},this.storage=zg(this.memoryStorage)),Pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(b){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",b)}(x=this.broadcastChannel)===null||x===void 0||x.addEventListener("message",async b=>{this._debug("received broadcast notification from other tab or client",b),await this._notifyAllSubscribers(b.data.event,b.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Am}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let l={},f="none";if(Pn()&&(l=Uw(window.location.href),this._isImplicitGrantCallback(l)?f="implicit":await this._isPKCECallback(l)&&(f="pkce")),Pn()&&this.detectSessionInUrl&&f!=="none"){const{data:x,error:g}=await this._getSessionFromURL(l,f);if(g){if(this._debug("#_initialize()","error detecting session from URL",g),Rm(g)){const _=(a=g.details)===null||a===void 0?void 0:a.code;if(_==="identity_already_exists"||_==="identity_not_found"||_==="single_identity_not_deletable")return{error:g}}return await this._removeSession(),{error:g}}const{session:b,redirectType:A}=x;return this._debug("#_initialize()","detected session in URL",b,"redirect type",A),await this._saveSession(b),setTimeout(async()=>{A==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",b):await this._notifyAllSubscribers("SIGNED_IN",b)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return Be(l)?this._returnResult({error:l}):this._returnResult({error:new ws("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var l,f,x;try{const g=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(f=(l=a==null?void 0:a.options)===null||l===void 0?void 0:l.data)!==null&&f!==void 0?f:{},gotrue_meta_security:{captcha_token:(x=a==null?void 0:a.options)===null||x===void 0?void 0:x.captchaToken}},xform:Kr}),{data:b,error:A}=g;if(A||!b)return this._returnResult({data:{user:null,session:null},error:A});const _=b.session,E=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",_)),this._returnResult({data:{user:E,session:_},error:null})}catch(g){if(Be(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signUp(a){var l,f,x;try{let g;if("email"in a){const{email:R,password:N,options:B}=a;let L=null,P=null;this.flowType==="pkce"&&([L,P]=await ja(this.storage,this.storageKey)),g=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:B==null?void 0:B.emailRedirectTo,body:{email:R,password:N,data:(l=B==null?void 0:B.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:B==null?void 0:B.captchaToken},code_challenge:L,code_challenge_method:P},xform:Kr})}else if("phone"in a){const{phone:R,password:N,options:B}=a;g=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:R,password:N,data:(f=B==null?void 0:B.data)!==null&&f!==void 0?f:{},channel:(x=B==null?void 0:B.channel)!==null&&x!==void 0?x:"sms",gotrue_meta_security:{captcha_token:B==null?void 0:B.captchaToken}},xform:Kr})}else throw new Zl("You must provide either an email or phone number and a password");const{data:b,error:A}=g;if(A||!b)return await Un(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:A});const _=b.session,E=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",_)),this._returnResult({data:{user:E,session:_},error:null})}catch(g){if(await Un(this.storage,`${this.storageKey}-code-verifier`),Be(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithPassword(a){try{let l;if("email"in a){const{email:g,password:b,options:A}=a;l=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:g,password:b,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:jg})}else if("phone"in a){const{phone:g,password:b,options:A}=a;l=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:g,password:b,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:jg})}else throw new Zl("You must provide either an email or phone number and a password");const{data:f,error:x}=l;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!f||!f.session||!f.user){const g=new Ks;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign({user:f.user,session:f.session},f.weak_password?{weakPassword:f.weak_password}:null),error:x})}catch(l){if(Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(a){var l,f,x,g;return await this._handleProviderSignIn(a.provider,{redirectTo:(l=a.options)===null||l===void 0?void 0:l.redirectTo,scopes:(f=a.options)===null||f===void 0?void 0:f.scopes,queryParams:(x=a.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:(g=a.options)===null||g===void 0?void 0:g.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:l}=a;switch(l){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(a){var l,f,x,g,b,A,_,E,R,N,B;let L,P;if("message"in a)L=a.message,P=a.signature;else{const{chain:q,wallet:Q,statement:se,options:ce}=a;let Y;if(Pn())if(typeof Q=="object")Y=Q;else{const fe=window;if("ethereum"in fe&&typeof fe.ethereum=="object"&&"request"in fe.ethereum&&typeof fe.ethereum.request=="function")Y=fe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof Q!="object"||!(ce!=null&&ce.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=Q}const me=new URL((l=ce==null?void 0:ce.url)!==null&&l!==void 0?l:window.location.href),ke=await Y.request({method:"eth_requestAccounts"}).then(fe=>fe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ke||ke.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _e=km(ke[0]);let $=(f=ce==null?void 0:ce.signInWithEthereum)===null||f===void 0?void 0:f.chainId;if(!$){const fe=await Y.request({method:"eth_chainId"});$=ab(fe)}const Me={domain:me.host,address:_e,statement:se,uri:me.href,version:"1",chainId:$,nonce:(x=ce==null?void 0:ce.signInWithEthereum)===null||x===void 0?void 0:x.nonce,issuedAt:(b=(g=ce==null?void 0:ce.signInWithEthereum)===null||g===void 0?void 0:g.issuedAt)!==null&&b!==void 0?b:new Date,expirationTime:(A=ce==null?void 0:ce.signInWithEthereum)===null||A===void 0?void 0:A.expirationTime,notBefore:(_=ce==null?void 0:ce.signInWithEthereum)===null||_===void 0?void 0:_.notBefore,requestId:(E=ce==null?void 0:ce.signInWithEthereum)===null||E===void 0?void 0:E.requestId,resources:(R=ce==null?void 0:ce.signInWithEthereum)===null||R===void 0?void 0:R.resources};L=ob(Me),P=await Y.request({method:"personal_sign",params:[lb(L),_e]})}try{const{data:q,error:Q}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:L,signature:P},!((N=a.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(B=a.options)===null||B===void 0?void 0:B.captchaToken}}:null),xform:Kr});if(Q)throw Q;if(!q||!q.session||!q.user){const se=new Ks;return this._returnResult({data:{user:null,session:null},error:se})}return q.session&&(await this._saveSession(q.session),await this._notifyAllSubscribers("SIGNED_IN",q.session)),this._returnResult({data:Object.assign({},q),error:Q})}catch(q){if(Be(q))return this._returnResult({data:{user:null,session:null},error:q});throw q}}async signInWithSolana(a){var l,f,x,g,b,A,_,E,R,N,B,L;let P,q;if("message"in a)P=a.message,q=a.signature;else{const{chain:Q,wallet:se,statement:ce,options:Y}=a;let me;if(Pn())if(typeof se=="object")me=se;else{const _e=window;if("solana"in _e&&typeof _e.solana=="object"&&("signIn"in _e.solana&&typeof _e.solana.signIn=="function"||"signMessage"in _e.solana&&typeof _e.solana.signMessage=="function"))me=_e.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof se!="object"||!(Y!=null&&Y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");me=se}const ke=new URL((l=Y==null?void 0:Y.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in me&&me.signIn){const _e=await me.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Y==null?void 0:Y.signInWithSolana),{version:"1",domain:ke.host,uri:ke.href}),ce?{statement:ce}:null));let $;if(Array.isArray(_e)&&_e[0]&&typeof _e[0]=="object")$=_e[0];else if(_e&&typeof _e=="object"&&"signedMessage"in _e&&"signature"in _e)$=_e;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)P=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),q=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in me)||typeof me.signMessage!="function"||!("publicKey"in me)||typeof me!="object"||!me.publicKey||!("toBase58"in me.publicKey)||typeof me.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${ke.host} wants you to sign in with your Solana account:`,me.publicKey.toBase58(),...ce?["",ce,""]:[""],"Version: 1",`URI: ${ke.href}`,`Issued At: ${(x=(f=Y==null?void 0:Y.signInWithSolana)===null||f===void 0?void 0:f.issuedAt)!==null&&x!==void 0?x:new Date().toISOString()}`,...!((g=Y==null?void 0:Y.signInWithSolana)===null||g===void 0)&&g.notBefore?[`Not Before: ${Y.signInWithSolana.notBefore}`]:[],...!((b=Y==null?void 0:Y.signInWithSolana)===null||b===void 0)&&b.expirationTime?[`Expiration Time: ${Y.signInWithSolana.expirationTime}`]:[],...!((A=Y==null?void 0:Y.signInWithSolana)===null||A===void 0)&&A.chainId?[`Chain ID: ${Y.signInWithSolana.chainId}`]:[],...!((_=Y==null?void 0:Y.signInWithSolana)===null||_===void 0)&&_.nonce?[`Nonce: ${Y.signInWithSolana.nonce}`]:[],...!((E=Y==null?void 0:Y.signInWithSolana)===null||E===void 0)&&E.requestId?[`Request ID: ${Y.signInWithSolana.requestId}`]:[],...!((N=(R=Y==null?void 0:Y.signInWithSolana)===null||R===void 0?void 0:R.resources)===null||N===void 0)&&N.length?["Resources",...Y.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const _e=await me.signMessage(new TextEncoder().encode(P),"utf8");if(!_e||!(_e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");q=_e}}try{const{data:Q,error:se}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:$s(q)},!((B=a.options)===null||B===void 0)&&B.captchaToken?{gotrue_meta_security:{captcha_token:(L=a.options)===null||L===void 0?void 0:L.captchaToken}}:null),xform:Kr});if(se)throw se;if(!Q||!Q.session||!Q.user){const ce=new Ks;return this._returnResult({data:{user:null,session:null},error:ce})}return Q.session&&(await this._saveSession(Q.session),await this._notifyAllSubscribers("SIGNED_IN",Q.session)),this._returnResult({data:Object.assign({},Q),error:se})}catch(Q){if(Be(Q))return this._returnResult({data:{user:null,session:null},error:Q});throw Q}}async _exchangeCodeForSession(a){const l=await Ys(this.storage,`${this.storageKey}-code-verifier`),[f,x]=(l??"").split("/");try{const{data:g,error:b}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:f},xform:Kr});if(await Un(this.storage,`${this.storageKey}-code-verifier`),b)throw b;if(!g||!g.session||!g.user){const A=new Ks;return this._returnResult({data:{user:null,session:null,redirectType:null},error:A})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign(Object.assign({},g),{redirectType:x??null}),error:b})}catch(g){if(await Un(this.storage,`${this.storageKey}-code-verifier`),Be(g))return this._returnResult({data:{user:null,session:null,redirectType:null},error:g});throw g}}async signInWithIdToken(a){try{const{options:l,provider:f,token:x,access_token:g,nonce:b}=a,A=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:f,id_token:x,access_token:g,nonce:b,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kr}),{data:_,error:E}=A;if(E)return this._returnResult({data:{user:null,session:null},error:E});if(!_||!_.session||!_.user){const R=new Ks;return this._returnResult({data:{user:null,session:null},error:R})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:_,error:E})}catch(l){if(Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(a){var l,f,x,g,b;try{if("email"in a){const{email:A,options:_}=a;let E=null,R=null;this.flowType==="pkce"&&([E,R]=await ja(this.storage,this.storageKey));const{error:N}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:A,data:(l=_==null?void 0:_.data)!==null&&l!==void 0?l:{},create_user:(f=_==null?void 0:_.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:E,code_challenge_method:R},redirectTo:_==null?void 0:_.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:N})}if("phone"in a){const{phone:A,options:_}=a,{data:E,error:R}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:A,data:(x=_==null?void 0:_.data)!==null&&x!==void 0?x:{},create_user:(g=_==null?void 0:_.shouldCreateUser)!==null&&g!==void 0?g:!0,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},channel:(b=_==null?void 0:_.channel)!==null&&b!==void 0?b:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:E==null?void 0:E.message_id},error:R})}throw new Zl("You must provide either an email or phone number.")}catch(A){if(await Un(this.storage,`${this.storageKey}-code-verifier`),Be(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async verifyOtp(a){var l,f;try{let x,g;"options"in a&&(x=(l=a.options)===null||l===void 0?void 0:l.redirectTo,g=(f=a.options)===null||f===void 0?void 0:f.captchaToken);const{data:b,error:A}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:g}}),redirectTo:x,xform:Kr});if(A)throw A;if(!b)throw new Error("An error occurred on token verification.");const _=b.session,E=b.user;return _!=null&&_.access_token&&(await this._saveSession(_),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",_)),this._returnResult({data:{user:E,session:_},error:null})}catch(x){if(Be(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSSO(a){var l,f,x,g,b;try{let A=null,_=null;this.flowType==="pkce"&&([A,_]=await ja(this.storage,this.storageKey));const E=await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(f=(l=a.options)===null||l===void 0?void 0:l.redirectTo)!==null&&f!==void 0?f:void 0}),!((x=a==null?void 0:a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:A,code_challenge_method:_}),headers:this.headers,xform:eb});return!((g=E.data)===null||g===void 0)&&g.url&&Pn()&&!(!((b=a.options)===null||b===void 0)&&b.skipBrowserRedirect)&&window.location.assign(E.data.url),this._returnResult(E)}catch(A){if(await Un(this.storage,`${this.storageKey}-code-verifier`),Be(A))return this._returnResult({data:null,error:A});throw A}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:l},error:f}=a;if(f)throw f;if(!l)throw new ar;const{error:x}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:x})})}catch(a){if(Be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const l=`${this.url}/resend`;if("email"in a){const{email:f,type:x,options:g}=a,{error:b}=await Ge(this.fetch,"POST",l,{headers:this.headers,body:{email:f,type:x,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}else if("phone"in a){const{phone:f,type:x,options:g}=a,{data:b,error:A}=await Ge(this.fetch,"POST",l,{headers:this.headers,body:{phone:f,type:x,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:A})}throw new Zl("You must provide either an email or phone number and a type")}catch(l){if(Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(a,l){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const f=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),x=(async()=>(await f,await l()))();return this.pendingInLock.push((async()=>{try{await x}catch{}})()),x}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const f=l();for(this.pendingInLock.push((async()=>{try{await f}catch{}})()),await f;this.pendingInLock.length;){const x=[...this.pendingInLock];await Promise.all(x),this.pendingInLock.splice(0,x.length)}return await f}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await a(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const l=await Ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?a=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const f=a.expires_at?a.expires_at*1e3-Date.now()<hf:!1;if(this._debug("#__loadSession()",`session has${f?"":" not"} expired`,"expires_at",a.expires_at),!f){if(this.userStorage){const b=await Ys(this.userStorage,this.storageKey+"-user");b!=null&&b.user?a.user=b.user:a.user=df()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const b={value:this.suppressGetSessionWarning};a.user=Zw(a.user,b),b.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:x,error:g}=await this._callRefreshToken(a.refresh_token);return g?this._returnResult({data:{session:null},error:g}):this._returnResult({data:{session:x},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const l=await this._acquireLock(-1,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(a){try{return a?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:bs}):await this._useSession(async l=>{var f,x,g;const{data:b,error:A}=l;if(A)throw A;return!(!((f=b.session)===null||f===void 0)&&f.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ar}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(g=(x=b.session)===null||x===void 0?void 0:x.access_token)!==null&&g!==void 0?g:void 0,xform:bs})})}catch(l){if(Be(l))return Om(l)&&(await this._removeSession(),await Un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(a,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,l))}async _updateUser(a,l={}){try{return await this._useSession(async f=>{const{data:x,error:g}=f;if(g)throw g;if(!x.session)throw new ar;const b=x.session;let A=null,_=null;this.flowType==="pkce"&&a.email!=null&&([A,_]=await ja(this.storage,this.storageKey));const{data:E,error:R}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:A,code_challenge_method:_}),jwt:b.access_token,xform:bs});if(R)throw R;return b.user=E.user,await this._saveSession(b),await this._notifyAllSubscribers("USER_UPDATED",b),this._returnResult({data:{user:b.user},error:null})})}catch(f){if(await Un(this.storage,`${this.storageKey}-code-verifier`),Be(f))return this._returnResult({data:{user:null},error:f});throw f}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new ar;const l=Date.now()/1e3;let f=l,x=!0,g=null;const{payload:b}=ff(a.access_token);if(b.exp&&(f=b.exp,x=f<=l),x){const{data:A,error:_}=await this._callRefreshToken(a.refresh_token);if(_)return this._returnResult({data:{user:null,session:null},error:_});if(!A)return{data:{user:null,session:null},error:null};g=A}else{const{data:A,error:_}=await this._getUser(a.access_token);if(_)throw _;g={access_token:a.access_token,refresh_token:a.refresh_token,user:A.user,token_type:"bearer",expires_in:f-l,expires_at:f},await this._saveSession(g),await this._notifyAllSubscribers("SIGNED_IN",g)}return this._returnResult({data:{user:g.user,session:g},error:null})}catch(l){if(Be(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async l=>{var f;if(!a){const{data:b,error:A}=l;if(A)throw A;a=(f=b.session)!==null&&f!==void 0?f:void 0}if(!(a!=null&&a.refresh_token))throw new ar;const{data:x,error:g}=await this._callRefreshToken(a.refresh_token);return g?this._returnResult({data:{user:null,session:null},error:g}):x?this._returnResult({data:{user:x.user,session:x},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(a,l){try{if(!Pn())throw new Ql("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Ql(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Ff("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ql("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Ff("No code detected.");const{data:ce,error:Y}=await this._exchangeCodeForSession(a.code);if(Y)throw Y;const me=new URL(window.location.href);return me.searchParams.delete("code"),window.history.replaceState(window.history.state,"",me.toString()),{data:{session:ce.session,redirectType:null},error:null}}const{provider_token:f,provider_refresh_token:x,access_token:g,refresh_token:b,expires_in:A,expires_at:_,token_type:E}=a;if(!g||!A||!b||!E)throw new Ql("No session defined in URL");const R=Math.round(Date.now()/1e3),N=parseInt(A);let B=R+N;_&&(B=parseInt(_));const L=B-R;L*1e3<=qa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${L}s, should have been closer to ${N}s`);const P=B-N;R-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,B,R):R-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,B,R);const{data:q,error:Q}=await this._getUser(g);if(Q)throw Q;const se={provider_token:f,provider_refresh_token:x,access_token:g,expires_in:N,expires_at:B,refresh_token:b,token_type:E,user:q.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:se,redirectType:a.type},error:null})}catch(f){if(Be(f))return this._returnResult({data:{session:null,redirectType:null},error:f});throw f}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const l=await Ys(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&l)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async l=>{var f;const{data:x,error:g}=l;if(g)return this._returnResult({error:g});const b=(f=x.session)===null||f===void 0?void 0:f.access_token;if(b){const{error:A}=await this.admin.signOut(b,a);if(A&&!(Tm(A)&&(A.status===404||A.status===401||A.status===403)))return this._returnResult({error:A})}return a!=="others"&&(await this._removeSession(),await Un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const l=Lw(),f={id:l,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,f),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:f}}}async _emitInitialSession(a){return await this._useSession(async l=>{var f,x;try{const{data:{session:g},error:b}=l;if(b)throw b;await((f=this.stateChangeEmitters.get(a))===null||f===void 0?void 0:f.callback("INITIAL_SESSION",g)),this._debug("INITIAL_SESSION","callback id",a,"session",g)}catch(g){await((x=this.stateChangeEmitters.get(a))===null||x===void 0?void 0:x.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",g),console.error(g)}})}async resetPasswordForEmail(a,l={}){let f=null,x=null;this.flowType==="pkce"&&([f,x]=await ja(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:f,code_challenge_method:x,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(g){if(await Un(this.storage,`${this.storageKey}-code-verifier`),Be(g))return this._returnResult({data:null,error:g});throw g}}async getUserIdentities(){var a;try{const{data:l,error:f}=await this.getUser();if(f)throw f;return this._returnResult({data:{identities:(a=l.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var l;try{const{data:f,error:x}=await this._useSession(async g=>{var b,A,_,E,R;const{data:N,error:B}=g;if(B)throw B;const L=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(b=a.options)===null||b===void 0?void 0:b.redirectTo,scopes:(A=a.options)===null||A===void 0?void 0:A.scopes,queryParams:(_=a.options)===null||_===void 0?void 0:_.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",L,{headers:this.headers,jwt:(R=(E=N.session)===null||E===void 0?void 0:E.access_token)!==null&&R!==void 0?R:void 0})});if(x)throw x;return Pn()&&!(!((l=a.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f==null?void 0:f.url),this._returnResult({data:{provider:a.provider,url:f==null?void 0:f.url},error:null})}catch(f){if(Be(f))return this._returnResult({data:{provider:a.provider,url:null},error:f});throw f}}async linkIdentityIdToken(a){return await this._useSession(async l=>{var f;try{const{error:x,data:{session:g}}=l;if(x)throw x;const{options:b,provider:A,token:_,access_token:E,nonce:R}=a,N=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(f=g==null?void 0:g.access_token)!==null&&f!==void 0?f:void 0,body:{provider:A,id_token:_,access_token:E,nonce:R,link_identity:!0,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Kr}),{data:B,error:L}=N;return L?this._returnResult({data:{user:null,session:null},error:L}):!B||!B.session||!B.user?this._returnResult({data:{user:null,session:null},error:new Ks}):(B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("USER_UPDATED",B.session)),this._returnResult({data:B,error:L}))}catch(x){if(await Un(this.storage,`${this.storageKey}-code-verifier`),Be(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}})}async unlinkIdentity(a){try{return await this._useSession(async l=>{var f,x;const{data:g,error:b}=l;if(b)throw b;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(x=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&x!==void 0?x:void 0})})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(a){const l=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(l,"begin");try{const f=Date.now();return await Fw(async x=>(x>0&&await jw(200*Math.pow(2,x-1)),this._debug(l,"refreshing attempt",x),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Kr})),(x,g)=>{const b=200*Math.pow(2,x);return g&&Pu(g)&&Date.now()+b-f<qa})}catch(f){if(this._debug(l,"error",f),Be(f))return this._returnResult({data:{session:null,user:null},error:f});throw f}finally{this._debug(l,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,l){const f=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",l,"url",f),Pn()&&!l.skipBrowserRedirect&&window.location.assign(f),{data:{provider:a,url:f},error:null}}async _recoverAndRefresh(){var a,l;const f="#_recoverAndRefresh()";this._debug(f,"begin");try{const x=await Ys(this.storage,this.storageKey);if(x&&this.userStorage){let b=await Ys(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!b&&(b={user:x.user},await Ga(this.userStorage,this.storageKey+"-user",b)),x.user=(a=b==null?void 0:b.user)!==null&&a!==void 0?a:df()}else if(x&&!x.user&&!x.user){const b=await Ys(this.storage,this.storageKey+"-user");b&&(b!=null&&b.user)?(x.user=b.user,await Un(this.storage,this.storageKey+"-user"),await Ga(this.storage,this.storageKey,x)):x.user=df()}if(this._debug(f,"session from storage",x),!this._isValidSession(x)){this._debug(f,"session is not valid"),x!==null&&await this._removeSession();return}const g=((l=x.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<hf;if(this._debug(f,`session has${g?"":" not"} expired with margin of ${hf}s`),g){if(this.autoRefreshToken&&x.refresh_token){const{error:b}=await this._callRefreshToken(x.refresh_token);b&&(console.error(b),Pu(b)||(this._debug(f,"refresh failed with a non-retryable error, removing the session",b),await this._removeSession()))}}else if(x.user&&x.user.__isUserNotAvailableProxy===!0)try{const{data:b,error:A}=await this._getUser(x.access_token);!A&&(b!=null&&b.user)?(x.user=b.user,await this._saveSession(x),await this._notifyAllSubscribers("SIGNED_IN",x)):this._debug(f,"could not get user data, skipping SIGNED_IN notification")}catch(b){console.error("Error getting user data:",b),this._debug(f,"error getting user data, skipping SIGNED_IN notification",b)}else await this._notifyAllSubscribers("SIGNED_IN",x)}catch(x){this._debug(f,"error",x),console.error(x);return}finally{this._debug(f,"end")}}async _callRefreshToken(a){var l,f;if(!a)throw new ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const x=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(x,"begin");try{this.refreshingDeferred=new tc;const{data:g,error:b}=await this._refreshAccessToken(a);if(b)throw b;if(!g.session)throw new ar;await this._saveSession(g.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",g.session);const A={data:g.session,error:null};return this.refreshingDeferred.resolve(A),A}catch(g){if(this._debug(x,"error",g),Be(g)){const b={data:null,error:g};return Pu(g)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(b),b}throw(f=this.refreshingDeferred)===null||f===void 0||f.reject(g),g}finally{this.refreshingDeferred=null,this._debug(x,"end")}}async _notifyAllSubscribers(a,l,f=!0){const x=`#_notifyAllSubscribers(${a})`;this._debug(x,"begin",l,`broadcast = ${f}`);try{this.broadcastChannel&&f&&this.broadcastChannel.postMessage({event:a,session:l});const g=[],b=Array.from(this.stateChangeEmitters.values()).map(async A=>{try{await A.callback(a,l)}catch(_){g.push(_)}});if(await Promise.all(b),g.length>0){for(let A=0;A<g.length;A+=1)console.error(g[A]);throw g[0]}}finally{this._debug(x,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await Un(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},a),f=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!f&&l.user&&await Ga(this.userStorage,this.storageKey+"-user",{user:l.user});const x=Object.assign({},l);delete x.user;const g=Ug(x);await Ga(this.storage,this.storageKey,g)}else{const x=Ug(l);await Ga(this.storage,this.storageKey,x)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Un(this.storage,this.storageKey),await Un(this.storage,this.storageKey+"-code-verifier"),await Un(this.storage,this.storageKey+"-user"),this.userStorage&&await Un(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&Pn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),qa);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async l=>{const{data:{session:f}}=l;if(!f||!f.refresh_token||!f.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const x=Math.floor((f.expires_at*1e3-a)/qa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${x} ticks, a tick lasts ${qa}ms, refresh threshold is ${Pf} ticks`),x<=Pf&&await this._callRefreshToken(f.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Jf)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const l=`#_onVisibilityChanged(${a})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,l,f){const x=[`provider=${encodeURIComponent(l)}`];if(f!=null&&f.redirectTo&&x.push(`redirect_to=${encodeURIComponent(f.redirectTo)}`),f!=null&&f.scopes&&x.push(`scopes=${encodeURIComponent(f.scopes)}`),this.flowType==="pkce"){const[g,b]=await ja(this.storage,this.storageKey),A=new URLSearchParams({code_challenge:`${encodeURIComponent(g)}`,code_challenge_method:`${encodeURIComponent(b)}`});x.push(A.toString())}if(f!=null&&f.queryParams){const g=new URLSearchParams(f.queryParams);x.push(g.toString())}return f!=null&&f.skipBrowserRedirect&&x.push(`skip_http_redirect=${f.skipBrowserRedirect}`),`${a}?${x.join("&")}`}async _unenroll(a){try{return await this._useSession(async l=>{var f;const{data:x,error:g}=l;return g?this._returnResult({data:null,error:g}):await Ge(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(f=x==null?void 0:x.session)===null||f===void 0?void 0:f.access_token})})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(a){try{return await this._useSession(async l=>{var f,x;const{data:g,error:b}=l;if(b)return this._returnResult({data:null,error:b});const A=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:_,error:E}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:A,headers:this.headers,jwt:(f=g==null?void 0:g.session)===null||f===void 0?void 0:f.access_token});return E?this._returnResult({data:null,error:E}):(a.factorType==="totp"&&_.type==="totp"&&(!((x=_==null?void 0:_.totp)===null||x===void 0)&&x.qr_code)&&(_.totp.qr_code=`data:image/svg+xml;utf-8,${_.totp.qr_code}`),this._returnResult({data:_,error:null}))})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var f;const{data:x,error:g}=l;if(g)return this._returnResult({data:null,error:g});const b=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?mb(a.webauthn.credential_response):xb(a.webauthn.credential_response)})}:{code:a.code}),{data:A,error:_}=await Ge(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:b,headers:this.headers,jwt:(f=x==null?void 0:x.session)===null||f===void 0?void 0:f.access_token});return _?this._returnResult({data:null,error:_}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+A.expires_in},A)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",A),this._returnResult({data:A,error:_}))})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var f;const{data:x,error:g}=l;if(g)return this._returnResult({data:null,error:g});const b=await Ge(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(f=x==null?void 0:x.session)===null||f===void 0?void 0:f.access_token});if(b.error)return b;const{data:A}=b;if(A.type!=="webauthn")return{data:A,error:null};switch(A.webauthn.type){case"create":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:db(A.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:gb(A.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(a){const{data:l,error:f}=await this._challenge({factorId:a.factorId});return f?this._returnResult({data:null,error:f}):await this._verify({factorId:a.factorId,challengeId:l.id,code:a.code})}async _listFactors(){var a;const{data:{user:l},error:f}=await this.getUser();if(f)return{data:null,error:f};const x={all:[],phone:[],totp:[],webauthn:[]};for(const g of(a=l==null?void 0:l.factors)!==null&&a!==void 0?a:[])x.all.push(g),g.status==="verified"&&x[g.factor_type].push(g);return{data:x,error:null}}async _getAuthenticatorAssuranceLevel(){var a,l;const{data:{session:f},error:x}=await this.getSession();if(x)return this._returnResult({data:null,error:x});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=ff(f.access_token);let b=null;g.aal&&(b=g.aal);let A=b;((l=(a=f.user.factors)===null||a===void 0?void 0:a.filter(R=>R.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(A="aal2");const E=g.amr||[];return{data:{currentLevel:b,nextLevel:A,currentAuthenticationMethods:E},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async l=>{const{data:{session:f},error:x}=l;return x?this._returnResult({data:null,error:x}):f?await Ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:f.access_token,xform:g=>({data:g,error:null})}):this._returnResult({data:null,error:new ar})})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(a,l){try{return await this._useSession(async f=>{const{data:{session:x},error:g}=f;if(g)return this._returnResult({data:null,error:g});if(!x)return this._returnResult({data:null,error:new ar});const b=await Ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:x.access_token,body:{action:"approve"},xform:A=>({data:A,error:null})});return b.data&&b.data.redirect_url&&Pn()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(b.data.redirect_url),b})}catch(f){if(Be(f))return this._returnResult({data:null,error:f});throw f}}async _denyAuthorization(a,l){try{return await this._useSession(async f=>{const{data:{session:x},error:g}=f;if(g)return this._returnResult({data:null,error:g});if(!x)return this._returnResult({data:null,error:new ar});const b=await Ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:x.access_token,body:{action:"deny"},xform:A=>({data:A,error:null})});return b.data&&b.data.redirect_url&&Pn()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(b.data.redirect_url),b})}catch(f){if(Be(f))return this._returnResult({data:null,error:f});throw f}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:l},error:f}=a;return f?this._returnResult({data:null,error:f}):l?await Ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:x=>({data:x,error:null})}):this._returnResult({data:null,error:new ar})})}catch(a){if(Be(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async l=>{const{data:{session:f},error:x}=l;return x?this._returnResult({data:null,error:x}):f?(await Ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:f.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ar})})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(a,l={keys:[]}){let f=l.keys.find(A=>A.kid===a);if(f)return f;const x=Date.now();if(f=this.jwks.keys.find(A=>A.kid===a),f&&this.jwks_cached_at+Ow>x)return f;const{data:g,error:b}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(b)throw b;return!g.keys||g.keys.length===0||(this.jwks=g,this.jwks_cached_at=x,f=g.keys.find(A=>A.kid===a),!f)?null:f}async getClaims(a,l={}){try{let f=a;if(!f){const{data:L,error:P}=await this.getSession();if(P||!L.session)return this._returnResult({data:null,error:P});f=L.session.access_token}const{header:x,payload:g,signature:b,raw:{header:A,payload:_}}=ff(f);l!=null&&l.allowExpired||Yw(g.exp);const E=!x.alg||x.alg.startsWith("HS")||!x.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(x.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!E){const{error:L}=await this.getUser(f);if(L)throw L;return{data:{claims:g,header:x,signature:b},error:null}}const R=Kw(x.alg),N=await crypto.subtle.importKey("jwk",E,R,!0,["verify"]);if(!await crypto.subtle.verify(R,N,b,Bw(`${A}.${_}`)))throw new Vu("Invalid JWT signature");return{data:{claims:g,header:x,signature:b},error:null}}catch(f){if(Be(f))return this._returnResult({data:null,error:f});throw f}}};$f.nextInstanceID={};const Cb=Qf,Sb=$f,Tb=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Cb,AuthApiError:Sm,AuthClient:Sb,AuthError:Wa,AuthImplicitGrantRedirectError:Ql,AuthInvalidCredentialsError:Zl,AuthInvalidJwtError:Vu,AuthInvalidTokenResponseError:Ks,AuthPKCEGrantCodeExchangeError:Ff,AuthRetryableFetchError:Gu,AuthSessionMissingError:ar,AuthUnknownError:ws,AuthWeakPasswordError:zf,CustomAuthError:ki,GoTrueAdminApi:Qf,GoTrueClient:$f,NavigatorLockAcquireTimeoutError:Mm,SIGN_OUT_SCOPES:ju,isAuthApiError:Tm,isAuthError:Be,isAuthImplicitGrantRedirectError:Rm,isAuthRetryableFetchError:Pu,isAuthSessionMissingError:Om,isAuthWeakPasswordError:Rw,lockInternals:Zs,navigatorLock:Bm,processLock:ib},Symbol.toStringTag,{value:"Module"})),Um=no(Tb);var Vg;function Ob(){if(Vg)return Kl;Vg=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.SupabaseAuthClient=void 0;const d=Um;let a=class extends d.AuthClient{constructor(f){super(f)}};return Kl.SupabaseAuthClient=a,Kl}var Xg;function Yg(){if(Xg)return Su;Xg=1,Object.defineProperty(Su,"__esModule",{value:!0});const d=Z2,a=nm(),l=cm,f=ww,x=vw(),g=Ew(),b=_w(),A=Ob();class _{constructor(R,N,B){var L,P,q;this.supabaseUrl=R,this.supabaseKey=N;const Q=(0,b.validateSupabaseUrl)(R);if(!N)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",Q),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",Q),this.storageUrl=new URL("storage/v1",Q),this.functionsUrl=new URL("functions/v1",Q);const se=`sb-${Q.hostname.split(".")[0]}-auth-token`,ce={db:x.DEFAULT_DB_OPTIONS,realtime:x.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},x.DEFAULT_AUTH_OPTIONS),{storageKey:se}),global:x.DEFAULT_GLOBAL_OPTIONS},Y=(0,b.applySettingDefaults)(B??{},ce);this.storageKey=(L=Y.auth.storageKey)!==null&&L!==void 0?L:"",this.headers=(P=Y.global.headers)!==null&&P!==void 0?P:{},Y.accessToken?(this.accessToken=Y.accessToken,this.auth=new Proxy({},{get:(me,ke)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(ke)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((q=Y.auth)!==null&&q!==void 0?q:{},this.headers,Y.global.fetch),this.fetch=(0,g.fetchWithAuth)(N,this._getAccessToken.bind(this),Y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},Y.realtime)),this.accessToken&&this.accessToken().then(me=>this.realtime.setAuth(me)).catch(me=>console.warn("Failed to set initial Realtime auth token:",me)),this.rest=new a.PostgrestClient(new URL("rest/v1",Q).href,{headers:this.headers,schema:Y.db.schema,fetch:this.fetch}),this.storage=new f.StorageClient(this.storageUrl.href,this.headers,this.fetch,B==null?void 0:B.storage),Y.accessToken||this._listenForAuthEvents()}get functions(){return new d.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(R){return this.rest.from(R)}schema(R){return this.rest.schema(R)}rpc(R,N={},B={head:!1,get:!1,count:void 0}){return this.rest.rpc(R,N,B)}channel(R,N={config:{}}){return this.realtime.channel(R,N)}getChannels(){return this.realtime.getChannels()}removeChannel(R){return this.realtime.removeChannel(R)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var R,N;if(this.accessToken)return await this.accessToken();const{data:B}=await this.auth.getSession();return(N=(R=B.session)===null||R===void 0?void 0:R.access_token)!==null&&N!==void 0?N:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:R,persistSession:N,detectSessionInUrl:B,storage:L,userStorage:P,storageKey:q,flowType:Q,lock:se,debug:ce,throwOnError:Y},me,ke){const _e={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new A.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},_e),me),storageKey:q,autoRefreshToken:R,persistSession:N,detectSessionInUrl:B,storage:L,userStorage:P,flowType:Q,lock:se,debug:ce,throwOnError:Y,fetch:ke,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(R){return new l.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},R),{params:Object.assign({apikey:this.supabaseKey},R==null?void 0:R.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((N,B)=>{this._handleTokenChanged(N,"CLIENT",B==null?void 0:B.access_token)})}_handleTokenChanged(R,N,B){(R==="TOKEN_REFRESHED"||R==="SIGNED_IN")&&this.changedAccessToken!==B?(this.changedAccessToken=B,this.realtime.setAuth(B)):R==="SIGNED_OUT"&&(this.realtime.setAuth(),N=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Su.default=_,Su}var Kg;function Rb(){return Kg||(Kg=1,(function(d){var a=Di&&Di.__createBinding||(Object.create?(function(R,N,B,L){L===void 0&&(L=B);var P=Object.getOwnPropertyDescriptor(N,B);(!P||("get"in P?!N.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return N[B]}}),Object.defineProperty(R,L,P)}):(function(R,N,B,L){L===void 0&&(L=B),R[L]=N[B]})),l=Di&&Di.__exportStar||function(R,N){for(var B in R)B!=="default"&&!Object.prototype.hasOwnProperty.call(N,B)&&a(N,R,B)},f=Di&&Di.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(d,"__esModule",{value:!0}),d.createClient=d.SupabaseClient=d.FunctionRegion=d.FunctionsError=d.FunctionsRelayError=d.FunctionsFetchError=d.FunctionsHttpError=d.PostgrestError=void 0;const x=f(Yg());l(Um,d);var g=nm();Object.defineProperty(d,"PostgrestError",{enumerable:!0,get:function(){return g.PostgrestError}});var b=Z2;Object.defineProperty(d,"FunctionsHttpError",{enumerable:!0,get:function(){return b.FunctionsHttpError}}),Object.defineProperty(d,"FunctionsFetchError",{enumerable:!0,get:function(){return b.FunctionsFetchError}}),Object.defineProperty(d,"FunctionsRelayError",{enumerable:!0,get:function(){return b.FunctionsRelayError}}),Object.defineProperty(d,"FunctionsError",{enumerable:!0,get:function(){return b.FunctionsError}}),Object.defineProperty(d,"FunctionRegion",{enumerable:!0,get:function(){return b.FunctionRegion}}),l(cm,d);var A=Yg();Object.defineProperty(d,"SupabaseClient",{enumerable:!0,get:function(){return f(A).default}});const _=(R,N,B)=>new x.default(R,N,B);d.createClient=_;function E(){if(typeof window<"u"||typeof process>"u")return!1;const R=process.version;if(R==null)return!1;const N=R.match(/^v(\d+)\./);return N?parseInt(N[1],10)<=18:!1}E()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Di)),Di}var Pm=Rb();const jm=to(Pm),Nb=v2({__proto__:null,default:jm},[Pm]),{PostgrestError:$3,FunctionsHttpError:ev,FunctionsFetchError:tv,FunctionsRelayError:nv,FunctionsError:rv,FunctionRegion:iv,SupabaseClient:sv,createClient:Ib,GoTrueAdminApi:av,GoTrueClient:lv,AuthAdminApi:ov,AuthClient:uv,navigatorLock:cv,NavigatorLockAcquireTimeoutError:hv,lockInternals:fv,processLock:dv,SIGN_OUT_SCOPES:gv,AuthError:mv,AuthApiError:xv,AuthUnknownError:yv,CustomAuthError:pv,AuthSessionMissingError:wv,AuthInvalidTokenResponseError:bv,AuthInvalidCredentialsError:vv,AuthImplicitGrantRedirectError:Ev,AuthPKCEGrantCodeExchangeError:_v,AuthRetryableFetchError:Av,AuthWeakPasswordError:Cv,AuthInvalidJwtError:Sv,isAuthError:Tv,isAuthApiError:Ov,isAuthSessionMissingError:Rv,isAuthImplicitGrantRedirectError:Nv,isAuthRetryableFetchError:Iv,isAuthWeakPasswordError:Dv,RealtimePresence:Mv,RealtimeChannel:Bv,RealtimeClient:kv,REALTIME_LISTEN_TYPES:Lv,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Uv,REALTIME_PRESENCE_LISTEN_EVENTS:Pv,REALTIME_SUBSCRIBE_STATES:jv,REALTIME_CHANNEL_STATES:Fv}=jm||Nb,Fm="stock_products",e0="stock_movements",zm="qq_sb_url",Hm="qq_sb_key",qm="https://fnhapvoxgqkzokravccd.supabase.co",Gm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZuaGFwdm94Z3Frem9rcmF2Y2NkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyMjU5ODksImV4cCI6MjA4MDgwMTk4OX0.xmZ4F4Zwc4azBr5niczcD9ct37CnTsPb1IFCTKhZ-Bw";let Wn=null;const qf=()=>{const d=qm,a=Gm;try{return Wn=Ib(d,a),!0}catch(l){return console.error("Failed to init supabase",l),!1}return!1},Db=()=>({url:qm,key:Gm}),Mb=d=>{localStorage.setItem(zm,d.url),localStorage.setItem(Hm,d.key),qf()},Bb=()=>{localStorage.removeItem(zm),localStorage.removeItem(Hm),Wn=null},Vm=async()=>{if(Wn){const{data:a,error:l}=await Wn.from("products").select("*").order("name");if(!l&&a)return a.map(f=>({...f,id:Array.isArray(f.id)?f.id[0]:f.id}))}const d=localStorage.getItem(Fm);return d?JSON.parse(d):[]},Wg=async(d,a)=>{if(Wn)if(a){let{error:l}=await Wn.from("products").insert([d]);if(l&&l.message&&l.message.includes("malformed array literal")){const f={...d,id:[d.id]},x=await Wn.from("products").insert([f]);if(x.error)throw new Error(x.error.message)}else if(l)throw new Error(l.message)}else{const{error:l}=await Wn.from("products").update({qty:d.qty}).eq("id",d.id);if(l)throw new Error(l.message)}else{const l=await Vm();let f=[...l];if(a){if(l.find(x=>x.id===d.id))throw new Error("Produto j existe!");f.unshift(d)}else f=l.map(x=>x.id===d.id?d:x);localStorage.setItem(Fm,JSON.stringify(f))}},Xm=async()=>{if(Wn){const{data:a,error:l}=await Wn.from("movements").select("*").order("created_at",{ascending:!1}).limit(200);if(!l&&a)return a.map(f=>{let x=f.matricula,g=f.obs;const b=f.prod_id,A=Array.isArray(b)?b[0]||"":b;if(!x&&g&&typeof g=="string"&&g.startsWith("[Mat:")){const _=g.match(/^\[Mat: (.+?)\]\s*(.*)$/);_&&(x=_[1],g=_[2])}return{id:f.id,date:f.created_at,prodId:A,prodName:f.prod_name,qty:f.qty,obs:g,matricula:x}})}const d=localStorage.getItem(e0);return d?JSON.parse(d):[]},kb=async d=>{if(Wn){const a=d.matricula?`[Mat: ${d.matricula}] ${d.obs||""}`.trim():d.obs,l={prod_id:d.prodId,prod_name:d.prodName,qty:d.qty,obs:a,created_at:d.date};let{error:f}=await Wn.from("movements").insert([l]);if(f&&f.message&&f.message.includes("malformed array literal")){console.warn("Retrying insert with array prod_id due to schema mismatch.");const x={...l,prod_id:[d.prodId]},g=await Wn.from("movements").insert([x]);if(g.error)throw new Error(g.error.message)}else if(f)throw new Error(f.message)}else{const a=await Xm();a.unshift(d),localStorage.setItem(e0,JSON.stringify(a))}},Lb=()=>{localStorage.removeItem(e0)},Ub=async()=>{if(Wn){const{error:d}=await Wn.from("movements").delete().lte("created_at","3000-01-01");if(d)throw console.error("Supabase Delete Error:",d),new Error(d.message)}Lb()},Ym=(d,a)=>{const l=new Blob(["\uFEFF"+d],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a");if(f.download!==void 0){const x=URL.createObjectURL(l);f.setAttribute("href",x),f.setAttribute("download",a),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f)}},Pb=d=>{const a=`Codigo;Produto;Qtd
`,l=d.map(f=>`${f.id};${f.name};${f.qty}`).join(`
`);Ym(a+l,`estoque_${new Date().toISOString().slice(0,10)}.csv`)},jb=d=>{const a=`Data;Produto;Qtd;Obs
`,l=d.map(f=>`${new Date(f.date).toLocaleDateString()};${f.prodName};${f.qty};${f.obs||""}`).join(`
`);Ym(a+l,`historico_${new Date().toISOString().slice(0,10)}.csv`)};var Te;(function(d){d[d.QR_CODE=0]="QR_CODE",d[d.AZTEC=1]="AZTEC",d[d.CODABAR=2]="CODABAR",d[d.CODE_39=3]="CODE_39",d[d.CODE_93=4]="CODE_93",d[d.CODE_128=5]="CODE_128",d[d.DATA_MATRIX=6]="DATA_MATRIX",d[d.MAXICODE=7]="MAXICODE",d[d.ITF=8]="ITF",d[d.EAN_13=9]="EAN_13",d[d.EAN_8=10]="EAN_8",d[d.PDF_417=11]="PDF_417",d[d.RSS_14=12]="RSS_14",d[d.RSS_EXPANDED=13]="RSS_EXPANDED",d[d.UPC_A=14]="UPC_A",d[d.UPC_E=15]="UPC_E",d[d.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Te||(Te={}));var Zg=new Map([[Te.QR_CODE,"QR_CODE"],[Te.AZTEC,"AZTEC"],[Te.CODABAR,"CODABAR"],[Te.CODE_39,"CODE_39"],[Te.CODE_93,"CODE_93"],[Te.CODE_128,"CODE_128"],[Te.DATA_MATRIX,"DATA_MATRIX"],[Te.MAXICODE,"MAXICODE"],[Te.ITF,"ITF"],[Te.EAN_13,"EAN_13"],[Te.EAN_8,"EAN_8"],[Te.PDF_417,"PDF_417"],[Te.RSS_14,"RSS_14"],[Te.RSS_EXPANDED,"RSS_EXPANDED"],[Te.UPC_A,"UPC_A"],[Te.UPC_E,"UPC_E"],[Te.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Qg;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.URL=1]="URL"})(Qg||(Qg={}));function Fb(d){return Object.values(Te).includes(d)}var Wu;(function(d){d[d.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",d[d.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Wu||(Wu={}));var zb=(function(){function d(){}return d.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",d.SCAN_DEFAULT_FPS=2,d.DEFAULT_DISABLE_FLIP=!1,d.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,d.DEFAULT_SUPPORTED_SCAN_TYPE=[Wu.SCAN_TYPE_CAMERA,Wu.SCAN_TYPE_FILE],d})(),Km=(function(){function d(a,l){this.format=a,this.formatName=l}return d.prototype.toString=function(){return this.formatName},d.create=function(a){if(!Zg.has(a))throw"".concat(a," not in html5QrcodeSupportedFormatsTextMap");return new d(a,Zg.get(a))},d})(),Jg=(function(){function d(){}return d.createFromText=function(a){var l={text:a};return{decodedText:a,result:l}},d.createFromQrcodeResult=function(a){return{decodedText:a.text,result:a}},d})(),Gf;(function(d){d[d.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",d[d.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",d[d.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Gf||(Gf={}));var Hb=(function(){function d(){}return d.createFrom=function(a){return{errorMessage:a,type:Gf.UNKWOWN_ERROR}},d})(),qb=(function(){function d(a){this.verbose=a}return d.prototype.log=function(a){this.verbose&&console.log(a)},d.prototype.warn=function(a){this.verbose&&console.warn(a)},d.prototype.logError=function(a,l){(this.verbose||l===!0)&&console.error(a)},d.prototype.logErrors=function(a){if(a.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(a)},d})();function Bi(d){return typeof d>"u"||d===null}var Va=(function(){function d(){}return d.codeParseError=function(a){return"QR code parse error, error = ".concat(a)},d.errorGettingUserMedia=function(a){return"Error getting userMedia, error = ".concat(a)},d.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},d.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},d.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},d.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},d.scannerPaused=function(){return"Scanner paused"},d})(),Wm=(function(){function d(){}return d.isMediaStreamConstraintsValid=function(a,l){if(typeof a!="object"){var f=typeof a;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(f,"."),!0),!1}for(var x=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],g=new Set(x),b=Object.keys(a),A=0,_=b;A<_.length;A++){var E=_[A];if(g.has(E))return l.logError("".concat(E," is not supported videoConstaints."),!0),!1}return!0},d})(),Jl={exports:{}},Gb=Jl.exports,$g;function Vb(){return $g||($g=1,(function(d,a){(function(l,f){f(a)})(Gb,(function(l){function f(T){return T==null}var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,t){T.__proto__=t}||function(T,t){for(var r in t)t.hasOwnProperty(r)&&(T[r]=t[r])};function g(T,t){x(T,t);function r(){this.constructor=T}T.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function b(T,t){var r=Object.setPrototypeOf;r?r(T,t):T.__proto__=t}function A(T,t){t===void 0&&(t=T.constructor);var r=Error.captureStackTrace;r&&r(T,t)}var _=(function(T){g(t,T);function t(r){var i=this.constructor,o=T.call(this,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),b(o,i.prototype),A(o),o}return t})(Error);class E extends _{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}E.kind="Exception";class R extends E{}R.kind="ArgumentException";class N extends E{}N.kind="IllegalArgumentException";class B{constructor(t){if(this.binarizer=t,t===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,i,o){const u=this.binarizer.getLuminanceSource().crop(t,r,i,o);return new B(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new B(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new B(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends E{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class P{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class q{static arraycopy(t,r,i,o,u){for(;u--;)i[o++]=t[r++]}static currentTimeMillis(){return Date.now()}}class Q extends E{}Q.kind="IndexOutOfBoundsException";class se extends Q{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}se.kind="ArrayIndexOutOfBoundsException";class ce{static fill(t,r){for(let i=0,o=t.length;i<o;i++)t[i]=r}static fillWithin(t,r,i,o){ce.rangeCheck(t.length,r,i);for(let u=r;u<i;u++)t[u]=o}static rangeCheck(t,r,i){if(r>i)throw new N("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new se(r);if(i>t)throw new se(i)}static asList(...t){return t}static create(t,r,i){return Array.from({length:t}).map(u=>Array.from({length:r}).fill(i))}static createInt32Array(t,r,i){return Array.from({length:t}).map(u=>Int32Array.from({length:r}).fill(i))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let i=0,o=t.length;i<o;i++)if(t[i]!==r[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const i of t)r=31*r+i;return r}static fillUint8Array(t,r){for(let i=0;i!==t.length;i++)t[i]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const i=new Uint8Array(r);return i.set(t),i}return t.slice(0,r)}static copyOfRange(t,r,i){const o=i-r,u=new Int32Array(o);return q.arraycopy(t,r,u,0,o),u}static binarySearch(t,r,i){i===void 0&&(i=ce.numberComparator);let o=0,u=t.length-1;for(;o<=u;){const h=u+o>>1,m=i(r,t[h]);if(m>0)o=h+1;else if(m<0)u=h-1;else return h}return-o-1}static numberComparator(t,r){return t-r}}class Y{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let i=31;return r=t<<16,r!==0&&(i-=16,t=r),r=t<<8,r!==0&&(i-=8,t=r),r=t<<4,r!==0&&(i-=4,t=r),r=t<<2,r!==0&&(i-=2,t=r),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}Y.MIN_VALUE_32_BITS=-2147483648,Y.MAX_VALUE=Number.MAX_SAFE_INTEGER;class me{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=me.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=me.makeArray(t);q.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const i=this.bits;let o=Math.floor(t/32),u=i[o];u&=~((1<<(t&31))-1);const h=i.length;for(;u===0;){if(++o===h)return r;u=i[o]}const m=o*32+Y.numberOfTrailingZeros(u);return m>r?r:m}getNextUnset(t){const r=this.size;if(t>=r)return r;const i=this.bits;let o=Math.floor(t/32),u=~i[o];u&=~((1<<(t&31))-1);const h=i.length;for(;u===0;){if(++o===h)return r;u=~i[o]}const m=o*32+Y.numberOfTrailingZeros(u);return m>r?r:m}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new N;if(r===t)return;r--;const i=Math.floor(t/32),o=Math.floor(r/32),u=this.bits;for(let h=i;h<=o;h++){const m=h>i?0:t&31,v=(2<<(h<o?31:r&31))-(1<<m);u[h]|=v}}clear(){const t=this.bits.length,r=this.bits;for(let i=0;i<t;i++)r[i]=0}isRange(t,r,i){if(r<t||t<0||r>this.size)throw new N;if(r===t)return!0;r--;const o=Math.floor(t/32),u=Math.floor(r/32),h=this.bits;for(let m=o;m<=u;m++){const p=m>o?0:t&31,C=(2<<(m<u?31:r&31))-(1<<p)&4294967295;if((h[m]&C)!==(i?C:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new N("Sizes don't match");const r=this.bits;for(let i=0,o=r.length;i<o;i++)r[i]^=t.bits[i]}toBytes(t,r,i,o){for(let u=0;u<o;u++){let h=0;for(let m=0;m<8;m++)this.get(t)&&(h|=1<<7-m),t++;r[i+u]=h}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,o=this.bits;for(let u=0;u<i;u++){let h=o[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,t[r-u]=h}if(this.size!==i*32){const u=i*32-this.size;let h=t[0]>>>u;for(let m=1;m<i;m++){const p=t[m];h|=p<<32-u,t[m-1]=h,h=p>>>u}t[i-1]=h}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof me))return!1;const r=t;return this.size===r.size&&ce.equals(this.bits,r.bits)}hashCode(){return 31*this.size+ce.hashCode(this.bits)}toString(){let t="";for(let r=0,i=this.size;r<i;r++)(r&7)===0&&(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new me(this.size,this.bits.slice())}}var ke;(function(T){T[T.OTHER=0]="OTHER",T[T.PURE_BARCODE=1]="PURE_BARCODE",T[T.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",T[T.TRY_HARDER=3]="TRY_HARDER",T[T.CHARACTER_SET=4]="CHARACTER_SET",T[T.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",T[T.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",T[T.ASSUME_GS1=7]="ASSUME_GS1",T[T.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",T[T.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",T[T.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ke||(ke={}));var _e=ke;class $ extends E{static getFormatInstance(){return new $}}$.kind="FormatException";var Me;(function(T){T[T.Cp437=0]="Cp437",T[T.ISO8859_1=1]="ISO8859_1",T[T.ISO8859_2=2]="ISO8859_2",T[T.ISO8859_3=3]="ISO8859_3",T[T.ISO8859_4=4]="ISO8859_4",T[T.ISO8859_5=5]="ISO8859_5",T[T.ISO8859_6=6]="ISO8859_6",T[T.ISO8859_7=7]="ISO8859_7",T[T.ISO8859_8=8]="ISO8859_8",T[T.ISO8859_9=9]="ISO8859_9",T[T.ISO8859_10=10]="ISO8859_10",T[T.ISO8859_11=11]="ISO8859_11",T[T.ISO8859_13=12]="ISO8859_13",T[T.ISO8859_14=13]="ISO8859_14",T[T.ISO8859_15=14]="ISO8859_15",T[T.ISO8859_16=15]="ISO8859_16",T[T.SJIS=16]="SJIS",T[T.Cp1250=17]="Cp1250",T[T.Cp1251=18]="Cp1251",T[T.Cp1252=19]="Cp1252",T[T.Cp1256=20]="Cp1256",T[T.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",T[T.UTF8=22]="UTF8",T[T.ASCII=23]="ASCII",T[T.Big5=24]="Big5",T[T.GB18030=25]="GB18030",T[T.EUC_KR=26]="EUC_KR"})(Me||(Me={}));class fe{constructor(t,r,i,...o){this.valueIdentifier=t,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,fe.VALUE_IDENTIFIER_TO_ECI.set(t,this),fe.NAME_TO_ECI.set(i,this);const u=this.values;for(let h=0,m=u.length;h!==m;h++){const p=u[h];fe.VALUES_TO_ECI.set(p,this)}for(const h of o)fe.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new $("incorect value");const r=fe.VALUES_TO_ECI.get(t);if(r===void 0)throw new $("incorect value");return r}static getCharacterSetECIByName(t){const r=fe.NAME_TO_ECI.get(t);if(r===void 0)throw new $("incorect value");return r}equals(t){if(!(t instanceof fe))return!1;const r=t;return this.getName()===r.getName()}}fe.VALUE_IDENTIFIER_TO_ECI=new Map,fe.VALUES_TO_ECI=new Map,fe.NAME_TO_ECI=new Map,fe.Cp437=new fe(Me.Cp437,Int32Array.from([0,2]),"Cp437"),fe.ISO8859_1=new fe(Me.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),fe.ISO8859_2=new fe(Me.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),fe.ISO8859_3=new fe(Me.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),fe.ISO8859_4=new fe(Me.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),fe.ISO8859_5=new fe(Me.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),fe.ISO8859_6=new fe(Me.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),fe.ISO8859_7=new fe(Me.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),fe.ISO8859_8=new fe(Me.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),fe.ISO8859_9=new fe(Me.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),fe.ISO8859_10=new fe(Me.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),fe.ISO8859_11=new fe(Me.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),fe.ISO8859_13=new fe(Me.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),fe.ISO8859_14=new fe(Me.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),fe.ISO8859_15=new fe(Me.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),fe.ISO8859_16=new fe(Me.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),fe.SJIS=new fe(Me.SJIS,20,"SJIS","Shift_JIS"),fe.Cp1250=new fe(Me.Cp1250,21,"Cp1250","windows-1250"),fe.Cp1251=new fe(Me.Cp1251,22,"Cp1251","windows-1251"),fe.Cp1252=new fe(Me.Cp1252,23,"Cp1252","windows-1252"),fe.Cp1256=new fe(Me.Cp1256,24,"Cp1256","windows-1256"),fe.UnicodeBigUnmarked=new fe(Me.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),fe.UTF8=new fe(Me.UTF8,26,"UTF8","UTF-8"),fe.ASCII=new fe(Me.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),fe.Big5=new fe(Me.Big5,28,"Big5"),fe.GB18030=new fe(Me.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),fe.EUC_KR=new fe(Me.EUC_KR,30,"EUC_KR","EUC-KR");class Tn extends E{}Tn.kind="UnsupportedOperationException";class xt{static decode(t,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!xt.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof fe?t:fe.getCharacterSetECIByName(t)}static decodeFallback(t,r){const i=this.encodingCharacterSet(r);if(xt.isDecodeFallbackSupported(i)){let o="";for(let u=0,h=t.length;u<h;u++){let m=t[u].toString(16);m.length<2&&(m="0"+m),o+="%"+m}return decodeURIComponent(o)}if(i.equals(fe.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Tn(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(fe.UTF8)||t.equals(fe.ISO8859_1)||t.equals(fe.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let u=0;u<i.length;u++)o.push(i[u].charCodeAt(0));return new Uint8Array(o)}}class Ae{static castAsNonUtf8Char(t,r=null){const i=r?r.getName():this.ISO88591;return xt.decode(new Uint8Array([t]),i)}static guessEncoding(t,r){if(r!=null&&r.get(_e.CHARACTER_SET)!==void 0)return r.get(_e.CHARACTER_SET).toString();const i=t.length;let o=!0,u=!0,h=!0,m=0,p=0,v=0,C=0,O=0,I=0,k=0,j=0,F=0,X=0,te=0;const we=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ye=0;ye<i&&(o||u||h);ye++){const ge=t[ye]&255;h&&(m>0?(ge&128)===0?h=!1:m--:(ge&128)!==0&&((ge&64)===0?h=!1:(m++,(ge&32)===0?p++:(m++,(ge&16)===0?v++:(m++,(ge&8)===0?C++:h=!1))))),o&&(ge>127&&ge<160?o=!1:ge>159&&(ge<192||ge===215||ge===247)&&te++),u&&(O>0?ge<64||ge===127||ge>252?u=!1:O--:ge===128||ge===160||ge>239?u=!1:ge>160&&ge<224?(I++,j=0,k++,k>F&&(F=k)):ge>127?(O++,k=0,j++,j>X&&(X=j)):(k=0,j=0))}return h&&m>0&&(h=!1),u&&O>0&&(u=!1),h&&(we||p+v+C>0)?Ae.UTF8:u&&(Ae.ASSUME_SHIFT_JIS||F>=3||X>=3)?Ae.SHIFT_JIS:o&&u?F===2&&I===2||te*10>=i?Ae.SHIFT_JIS:Ae.ISO88591:o?Ae.ISO88591:u?Ae.SHIFT_JIS:h?Ae.UTF8:Ae.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let i=-1;function o(h,m,p,v,C,O){if(h==="%%")return"%";if(r[++i]===void 0)return;h=v?parseInt(v.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,k;switch(O){case"s":k=r[i];break;case"c":k=r[i][0];break;case"f":k=parseFloat(r[i]).toFixed(h);break;case"p":k=parseFloat(r[i]).toPrecision(h);break;case"e":k=parseFloat(r[i]).toExponential(h);break;case"x":k=parseInt(r[i]).toString(I||16);break;case"d":k=parseFloat(parseInt(r[i],I||10).toPrecision(h)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(I);let j=parseInt(p),F=p&&p[0]+""=="0"?"0":" ";for(;k.length<j;)k=m!==void 0?k+F:F+k;return k}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,o)}static getBytes(t,r){return xt.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}Ae.SHIFT_JIS=fe.SJIS.getName(),Ae.GB2312="GB2312",Ae.ISO88591=fe.ISO8859_1.getName(),Ae.EUC_JP="EUC_JP",Ae.UTF8=fe.UTF8.getName(),Ae.PLATFORM_DEFAULT_ENCODING=Ae.UTF8,Ae.ASSUME_SHIFT_JIS=!1;class Ye{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Ae.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,i){for(let o=r;r<r+i;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class dt{constructor(t,r,i,o){if(this.width=t,this.height=r,this.rowSize=i,this.bits=o,r==null&&(r=t),this.height=r,t<1||r<1)throw new N("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,i=t[0].length,o=new dt(i,r);for(let u=0;u<r;u++){const h=t[u];for(let m=0;m<i;m++)h[m]&&o.set(m,u)}return o}static parseFromString(t,r,i){if(t===null)throw new N("stringRepresentation cannot be null");const o=new Array(t.length);let u=0,h=0,m=-1,p=0,v=0;for(;v<t.length;)if(t.charAt(v)===`
`||t.charAt(v)==="\r"){if(u>h){if(m===-1)m=u-h;else if(u-h!==m)throw new N("row lengths do not match");h=u,p++}v++}else if(t.substring(v,v+r.length)===r)v+=r.length,o[u]=!0,u++;else if(t.substring(v,v+i.length)===i)v+=i.length,o[u]=!1,u++;else throw new N("illegal character encountered: "+t.substring(v));if(u>h){if(m===-1)m=u-h;else if(u-h!==m)throw new N("row lengths do not match");p++}const C=new dt(m,p);for(let O=0;O<u;O++)o[O]&&C.set(Math.floor(O%m),Math.floor(O/m));return C}get(t,r){const i=r*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new N("input matrix dimensions do not match");const r=new me(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let u=0,h=this.height;u<h;u++){const m=u*i,p=t.getRow(u,r).getBitArray();for(let v=0;v<i;v++)o[m+v]^=p[v]}}clear(){const t=this.bits,r=t.length;for(let i=0;i<r;i++)t[i]=0}setRegion(t,r,i,o){if(r<0||t<0)throw new N("Left and top must be nonnegative");if(o<1||i<1)throw new N("Height and width must be at least 1");const u=t+i,h=r+o;if(h>this.height||u>this.width)throw new N("The region must fit inside the matrix");const m=this.rowSize,p=this.bits;for(let v=r;v<h;v++){const C=v*m;for(let O=t;O<u;O++)p[C+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new me(this.width):r.clear();const i=this.rowSize,o=this.bits,u=t*i;for(let h=0;h<i;h++)r.setBulk(h*32,o[u+h]);return r}setRow(t,r){q.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let i=new me(t),o=new me(t);for(let u=0,h=Math.floor((r+1)/2);u<h;u++)i=this.getRow(u,i),o=this.getRow(r-1-u,o),i.reverse(),o.reverse(),this.setRow(u,o),this.setRow(r-1-u,i)}getEnclosingRectangle(){const t=this.width,r=this.height,i=this.rowSize,o=this.bits;let u=t,h=r,m=-1,p=-1;for(let v=0;v<r;v++)for(let C=0;C<i;C++){const O=o[v*i+C];if(O!==0){if(v<h&&(h=v),v>p&&(p=v),C*32<u){let I=0;for(;(O<<31-I&4294967295)===0;)I++;C*32+I<u&&(u=C*32+I)}if(C*32+31>m){let I=31;for(;!(O>>>I);)I--;C*32+I>m&&(m=C*32+I)}}}return m<u||p<h?null:Int32Array.from([u,h,m-u+1,p-h+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const o=i/t;let u=i%t*32;const h=r[i];let m=0;for(;(h<<31-m&4294967295)===0;)m++;return u+=m,Int32Array.from([u,o])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/t);let u=Math.floor(i%t)*32;const h=r[i];let m=31;for(;!(h>>>m);)m--;return u+=m,Int32Array.from([u,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof dt))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&ce.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+ce.hashCode(this.bits),t}toString(t="X ",r="  ",i=`
`){return this.buildToString(t,r,i)}buildToString(t,r,i){let o=new Ye;for(let u=0,h=this.height;u<h;u++){for(let m=0,p=this.width;m<p;m++)o.append(this.get(m,u)?t:r);o.append(i)}return o.toString()}clone(){return new dt(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends E{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class ee extends P{constructor(t){super(t),this.luminances=ee.EMPTY,this.buckets=new Int32Array(ee.LUMINANCE_BUCKETS)}getBlackRow(t,r){const i=this.getLuminanceSource(),o=i.getWidth();r==null||r.getSize()<o?r=new me(o):r.clear(),this.initArrays(o);const u=i.getRow(t,this.luminances),h=this.buckets;for(let p=0;p<o;p++)h[(u[p]&255)>>ee.LUMINANCE_SHIFT]++;const m=ee.estimateBlackPoint(h);if(o<3)for(let p=0;p<o;p++)(u[p]&255)<m&&r.set(p);else{let p=u[0]&255,v=u[1]&255;for(let C=1;C<o-1;C++){const O=u[C+1]&255;(v*4-p-O)/2<m&&r.set(C),p=v,v=O}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),o=new dt(r,i);this.initArrays(r);const u=this.buckets;for(let p=1;p<5;p++){const v=Math.floor(i*p/5),C=t.getRow(v,this.luminances),O=Math.floor(r*4/5);for(let I=Math.floor(r/5);I<O;I++){const k=C[I]&255;u[k>>ee.LUMINANCE_SHIFT]++}}const h=ee.estimateBlackPoint(u),m=t.getMatrix();for(let p=0;p<i;p++){const v=p*r;for(let C=0;C<r;C++)(m[v+C]&255)<h&&o.set(C,p)}return o}createBinarizer(t){return new ee(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let i=0;i<ee.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(t){const r=t.length;let i=0,o=0,u=0;for(let C=0;C<r;C++)t[C]>u&&(o=C,u=t[C]),t[C]>i&&(i=t[C]);let h=0,m=0;for(let C=0;C<r;C++){const O=C-o,I=t[C]*O*O;I>m&&(h=C,m=I)}if(o>h){const C=o;o=h,h=C}if(h-o<=r/16)throw new re;let p=h-1,v=-1;for(let C=h-1;C>o;C--){const O=C-o,I=O*O*(h-C)*(i-t[C]);I>v&&(p=C,v=I)}return p<<ee.LUMINANCE_SHIFT}}ee.LUMINANCE_BITS=5,ee.LUMINANCE_SHIFT=8-ee.LUMINANCE_BITS,ee.LUMINANCE_BUCKETS=1<<ee.LUMINANCE_BITS,ee.EMPTY=Uint8ClampedArray.from([0]);class oe extends ee{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=oe.MINIMUM_DIMENSION&&i>=oe.MINIMUM_DIMENSION){const o=t.getMatrix();let u=r>>oe.BLOCK_SIZE_POWER;(r&oe.BLOCK_SIZE_MASK)!==0&&u++;let h=i>>oe.BLOCK_SIZE_POWER;(i&oe.BLOCK_SIZE_MASK)!==0&&h++;const m=oe.calculateBlackPoints(o,u,h,r,i),p=new dt(r,i);oe.calculateThresholdForBlock(o,u,h,r,i,m,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new oe(t)}static calculateThresholdForBlock(t,r,i,o,u,h,m){const p=u-oe.BLOCK_SIZE,v=o-oe.BLOCK_SIZE;for(let C=0;C<i;C++){let O=C<<oe.BLOCK_SIZE_POWER;O>p&&(O=p);const I=oe.cap(C,2,i-3);for(let k=0;k<r;k++){let j=k<<oe.BLOCK_SIZE_POWER;j>v&&(j=v);const F=oe.cap(k,2,r-3);let X=0;for(let we=-2;we<=2;we++){const ye=h[I+we];X+=ye[F-2]+ye[F-1]+ye[F]+ye[F+1]+ye[F+2]}const te=X/25;oe.thresholdBlock(t,j,O,te,o,m)}}}static cap(t,r,i){return t<r?r:t>i?i:t}static thresholdBlock(t,r,i,o,u,h){for(let m=0,p=i*u+r;m<oe.BLOCK_SIZE;m++,p+=u)for(let v=0;v<oe.BLOCK_SIZE;v++)(t[p+v]&255)<=o&&h.set(r+v,i+m)}static calculateBlackPoints(t,r,i,o,u){const h=u-oe.BLOCK_SIZE,m=o-oe.BLOCK_SIZE,p=new Array(i);for(let v=0;v<i;v++){p[v]=new Int32Array(r);let C=v<<oe.BLOCK_SIZE_POWER;C>h&&(C=h);for(let O=0;O<r;O++){let I=O<<oe.BLOCK_SIZE_POWER;I>m&&(I=m);let k=0,j=255,F=0;for(let te=0,we=C*o+I;te<oe.BLOCK_SIZE;te++,we+=o){for(let ye=0;ye<oe.BLOCK_SIZE;ye++){const ge=t[we+ye]&255;k+=ge,ge<j&&(j=ge),ge>F&&(F=ge)}if(F-j>oe.MIN_DYNAMIC_RANGE)for(te++,we+=o;te<oe.BLOCK_SIZE;te++,we+=o)for(let ye=0;ye<oe.BLOCK_SIZE;ye++)k+=t[we+ye]&255}let X=k>>oe.BLOCK_SIZE_POWER*2;if(F-j<=oe.MIN_DYNAMIC_RANGE&&(X=j/2,v>0&&O>0)){const te=(p[v-1][O]+2*p[v][O-1]+p[v-1][O-1])/4;j<te&&(X=te)}p[v][O]=X}}return p}}oe.BLOCK_SIZE_POWER=3,oe.BLOCK_SIZE=1<<oe.BLOCK_SIZE_POWER,oe.BLOCK_SIZE_MASK=oe.BLOCK_SIZE-1,oe.MINIMUM_DIMENSION=oe.BLOCK_SIZE*5,oe.MIN_DYNAMIC_RANGE=24;class Oe{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,i,o){throw new Tn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Tn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Tn("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new Ye;for(let i=0;i<this.height;i++){const o=this.getRow(i,t);for(let u=0;u<this.width;u++){const h=o[u]&255;let m;h<64?m="#":h<128?m="+":h<192?m=".":m=" ",r.append(m)}r.append(`
`)}return r.toString()}}class Ze extends Oe{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const i=this.delegate.getRow(t,r),o=this.getWidth();for(let u=0;u<o;u++)i[u]=255-(i[u]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let o=0;o<r;o++)i[o]=255-(t[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,i,o){return new Ze(this.delegate.crop(t,r,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ze(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ze(this.delegate.rotateCounterClockwise45())}}class He extends Oe{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=He.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return He.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,i){const o=new Uint8ClampedArray(r*i);for(let u=0,h=0,m=t.length;u<m;u+=4,h++){let p;if(t[u+3]===0)p=255;else{const C=t[u],O=t[u+1],I=t[u+2];p=306*C+601*O+117*I+512>>10}o[h]=p}return o}getRow(t,r){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const i=this.getWidth(),o=t*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,i,o){return super.crop(t,r,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),i=r.getContext("2d"),o=t*He.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(o))*u+Math.abs(Math.sin(o))*h),p=Math.ceil(Math.abs(Math.sin(o))*u+Math.abs(Math.cos(o))*h);return r.width=m,r.height=p,i.translate(m/2,p/2),i.rotate(o),i.drawImage(this.canvas,u/-2,h/-2),this.buffer=He.makeBufferFromCanvasImageData(r),this}invert(){return new Ze(this)}}He.DEGREE_TO_RADIANS=Math.PI/180;class z{constructor(t,r,i){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ae=(globalThis||Cu||self||window||void 0)&&(globalThis||Cu||self||window||void 0).__awaiter||function(T,t,r,i){function o(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function m(C){try{v(i.next(C))}catch(O){h(O)}}function p(C){try{v(i.throw(C))}catch(O){h(O)}}function v(C){C.done?u(C.value):o(C.value).then(m,p)}v((i=i.apply(T,t||[])).next())})};class Ee{constructor(t,r=500,i){this.reader=t,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of t){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const u=i.deviceId||i.id,h=i.label||`Video device ${r.length+1}`,m=i.groupId,p={deviceId:u,label:h,kind:o,groupId:m};r.push(p)}return r})}getVideoInputDevices(){return ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new z(r.deviceId,r.label))})}findDeviceById(t){return ae(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return ae(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(t,r){return ae(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(t,r){return ae(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,r,i){return ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,i)})}decodeFromVideoDevice(t,r,i){return ae(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const u={video:o};return yield this.decodeFromConstraints(u,r,i)})}decodeFromConstraints(t,r,i){return ae(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,r,i)})}decodeFromStream(t,r,i){return ae(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return ae(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((r,i)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ae(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const i=document.getElementById(t);if(!i)throw new R(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new R(`element with id '${t}' must be an ${r} element`);return i}decodeFromImage(t,r){if(!t&&!r)throw new R("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new R("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,i){if(t===void 0&&r===void 0)throw new R("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new R("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(t){if(!t)throw new R("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new R("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=t,i}decodeFromVideoUrl(t){if(!t)throw new R("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=t,i}decodeFromVideoUrlContinuously(t,r){if(!t)throw new R("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,r);return i.src=t,o}_decodeOnLoadImage(t){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,i=!0){this._stopAsyncDecode=!1;const o=(u,h)=>{if(this._stopAsyncDecode){h(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(t);u(m)}catch(m){const p=r&&m instanceof re,C=(m instanceof L||m instanceof $)&&i;if(p||C)return setTimeout(o,this._timeBetweenDecodingAttempts,u,h);h(m)}};return new Promise((u,h)=>o(u,h))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);r(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){r(null,o);const u=o instanceof L||o instanceof $,h=o instanceof re;(u||h)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,i){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,i=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),i=new He(r),o=new oe(i);return new B(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class ve{constructor(t,r,i=r==null?0:8*r.length,o,u,h=q.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=i,this.resultPoints=o,this.format=u,this.timestamp=h,this.text=t,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=o,this.format=u,this.resultMetadata=null,h==null?this.timestamp=q.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(r.length+t.length);q.arraycopy(r,0,i,0,r.length),q.arraycopy(t,0,i,r.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ve;(function(T){T[T.AZTEC=0]="AZTEC",T[T.CODABAR=1]="CODABAR",T[T.CODE_39=2]="CODE_39",T[T.CODE_93=3]="CODE_93",T[T.CODE_128=4]="CODE_128",T[T.DATA_MATRIX=5]="DATA_MATRIX",T[T.EAN_8=6]="EAN_8",T[T.EAN_13=7]="EAN_13",T[T.ITF=8]="ITF",T[T.MAXICODE=9]="MAXICODE",T[T.PDF_417=10]="PDF_417",T[T.QR_CODE=11]="QR_CODE",T[T.RSS_14=12]="RSS_14",T[T.RSS_EXPANDED=13]="RSS_EXPANDED",T[T.UPC_A=14]="UPC_A",T[T.UPC_E=15]="UPC_E",T[T.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ve||(Ve={}));var pe=Ve,at;(function(T){T[T.OTHER=0]="OTHER",T[T.ORIENTATION=1]="ORIENTATION",T[T.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",T[T.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",T[T.ISSUE_NUMBER=4]="ISSUE_NUMBER",T[T.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",T[T.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",T[T.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",T[T.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",T[T.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",T[T.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(at||(at={}));var lt=at;class Ot{constructor(t,r,i,o,u=-1,h=-1){this.rawBytes=t,this.text=r,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class or{exp(t){return this.expTable[t]}log(t){if(t===0)throw new N;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class an{constructor(t,r){if(r.length===0)throw new N;this.field=t;const i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),q.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(t===1){i=0;for(let h=0,m=r.length;h!==m;h++){const p=r[h];i=or.addOrSubtract(i,p)}return i}i=r[0];const o=r.length,u=this.field;for(let h=1;h<o;h++)i=or.addOrSubtract(u.multiply(t,i),r[h]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){const h=r;r=i,i=h}let o=new Int32Array(i.length);const u=i.length-r.length;q.arraycopy(i,0,o,0,u);for(let h=u;h<i.length;h++)o[h]=or.addOrSubtract(r[h-u],i[h]);return new an(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,o=t.coefficients,u=o.length,h=new Int32Array(i+u-1),m=this.field;for(let p=0;p<i;p++){const v=r[p];for(let C=0;C<u;C++)h[p+C]=or.addOrSubtract(h[p+C],m.multiply(v,o[C]))}return new an(m,h)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,i=this.field,o=new Int32Array(r),u=this.coefficients;for(let h=0;h<r;h++)o[h]=i.multiply(u[h],t);return new an(i,o)}multiplyByMonomial(t,r){if(t<0)throw new N;if(r===0)return this.field.getZero();const i=this.coefficients,o=i.length,u=new Int32Array(o+t),h=this.field;for(let m=0;m<o;m++)u[m]=h.multiply(i[m],r);return new an(h,u)}divide(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new N("Divide by 0");const r=this.field;let i=r.getZero(),o=this;const u=t.getCoefficient(t.getDegree()),h=r.inverse(u);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const m=o.getDegree()-t.getDegree(),p=r.multiply(o.getCoefficient(o.getDegree()),h),v=t.multiplyByMonomial(m,p),C=r.buildMonomial(m,p);i=i.addOrSubtract(C),o=o.addOrSubtract(v)}return[i,o]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),r===0||i!==1){const o=this.field.log(i);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class Pr extends E{}Pr.kind="ArithmeticException";class ot extends or{constructor(t,r,i){super(),this.primitive=t,this.size=r,this.generatorBase=i;const o=new Int32Array(r);let u=1;for(let m=0;m<r;m++)o[m]=u,u*=2,u>=r&&(u^=t,u&=r-1);this.expTable=o;const h=new Int32Array(r);for(let m=0;m<r-1;m++)h[o[m]]=m;this.logTable=h,this.zero=new an(this,Int32Array.from([0])),this.one=new an(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new N;if(r===0)return this.zero;const i=new Int32Array(t+1);return i[0]=r,new an(this,i)}inverse(t){if(t===0)throw new Pr;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Y.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}ot.AZTEC_DATA_12=new ot(4201,4096,1),ot.AZTEC_DATA_10=new ot(1033,1024,1),ot.AZTEC_DATA_6=new ot(67,64,1),ot.AZTEC_PARAM=new ot(19,16,1),ot.QR_CODE_FIELD_256=new ot(285,256,0),ot.DATA_MATRIX_FIELD_256=new ot(301,256,1),ot.AZTEC_DATA_8=ot.DATA_MATRIX_FIELD_256,ot.MAXICODE_FIELD_64=ot.AZTEC_DATA_6;class jn extends E{}jn.kind="ReedSolomonException";class On extends E{}On.kind="IllegalStateException";class Ar{constructor(t){this.field=t}decode(t,r){const i=this.field,o=new an(i,t),u=new Int32Array(r);let h=!0;for(let k=0;k<r;k++){const j=o.evaluateAt(i.exp(k+i.getGeneratorBase()));u[u.length-1-k]=j,j!==0&&(h=!1)}if(h)return;const m=new an(i,u),p=this.runEuclideanAlgorithm(i.buildMonomial(r,1),m,r),v=p[0],C=p[1],O=this.findErrorLocations(v),I=this.findErrorMagnitudes(C,O);for(let k=0;k<O.length;k++){const j=t.length-1-i.log(O[k]);if(j<0)throw new jn("Bad error location");t[j]=ot.addOrSubtract(t[j],I[k])}}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){const k=t;t=r,r=k}const o=this.field;let u=t,h=r,m=o.getZero(),p=o.getOne();for(;h.getDegree()>=(i/2|0);){let k=u,j=m;if(u=h,m=p,u.isZero())throw new jn("r_{i-1} was zero");h=k;let F=o.getZero();const X=u.getCoefficient(u.getDegree()),te=o.inverse(X);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const we=h.getDegree()-u.getDegree(),ye=o.multiply(h.getCoefficient(h.getDegree()),te);F=F.addOrSubtract(o.buildMonomial(we,ye)),h=h.addOrSubtract(u.multiplyByMonomial(we,ye))}if(p=F.multiply(m).addOrSubtract(j),h.getDegree()>=u.getDegree())throw new On("Division algorithm failed to reduce polynomial?")}const v=p.getCoefficient(0);if(v===0)throw new jn("sigmaTilde(0) was zero");const C=o.inverse(v),O=p.multiplyScalar(C),I=h.multiplyScalar(C);return[O,I]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(r);let o=0;const u=this.field;for(let h=1;h<u.getSize()&&o<r;h++)t.evaluateAt(h)===0&&(i[o]=u.inverse(h),o++);if(o!==r)throw new jn("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,r){const i=r.length,o=new Int32Array(i),u=this.field;for(let h=0;h<i;h++){const m=u.inverse(r[h]);let p=1;for(let v=0;v<i;v++)if(h!==v){const C=u.multiply(r[v],m),O=(C&1)===0?C|1:C&-2;p=u.multiply(p,O)}o[h]=u.multiply(t.evaluateAt(m),u.inverse(p)),u.getGeneratorBase()!==0&&(o[h]=u.multiply(o[h],m))}return o}}var xe;(function(T){T[T.UPPER=0]="UPPER",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.DIGIT=3]="DIGIT",T[T.PUNCT=4]="PUNCT",T[T.BINARY=5]="BINARY"})(xe||(xe={}));class Pe{decode(t){this.ddata=t;let r=t.getBits(),i=this.extractBits(r),o=this.correctBits(i),u=Pe.convertBoolArrayToByteArray(o),h=Pe.getEncodedData(o),m=new Ot(u,h,null,null);return m.setNumBits(o.length),m}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,i=xe.UPPER,o=xe.UPPER,u="",h=0;for(;h<r;)if(o===xe.BINARY){if(r-h<5)break;let m=Pe.readCode(t,h,5);if(h+=5,m===0){if(r-h<11)break;m=Pe.readCode(t,h,11)+31,h+=11}for(let p=0;p<m;p++){if(r-h<8){h=r;break}const v=Pe.readCode(t,h,8);u+=Ae.castAsNonUtf8Char(v),h+=8}o=i}else{let m=o===xe.DIGIT?4:5;if(r-h<m)break;let p=Pe.readCode(t,h,m);h+=m;let v=Pe.getCharacter(o,p);v.startsWith("CTRL_")?(i=o,o=Pe.getTable(v.charAt(5)),v.charAt(6)==="L"&&(i=o)):(u+=v,o=i)}return u}static getTable(t){switch(t){case"L":return xe.LOWER;case"P":return xe.PUNCT;case"M":return xe.MIXED;case"D":return xe.DIGIT;case"B":return xe.BINARY;case"U":default:return xe.UPPER}}static getCharacter(t,r){switch(t){case xe.UPPER:return Pe.UPPER_TABLE[r];case xe.LOWER:return Pe.LOWER_TABLE[r];case xe.MIXED:return Pe.MIXED_TABLE[r];case xe.PUNCT:return Pe.PUNCT_TABLE[r];case xe.DIGIT:return Pe.DIGIT_TABLE[r];default:throw new On("Bad table")}}correctBits(t){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=ot.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=ot.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=ot.AZTEC_DATA_10):(i=12,r=ot.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),u=t.length/i;if(u<o)throw new $;let h=t.length%i,m=new Int32Array(u);for(let I=0;I<u;I++,h+=i)m[I]=Pe.readCode(t,h,i);try{new Ar(r).decode(m,u-o)}catch(I){throw new $(I)}let p=(1<<i)-1,v=0;for(let I=0;I<o;I++){let k=m[I];if(k===0||k===p)throw new $;(k===1||k===p-1)&&v++}let C=new Array(o*i-v),O=0;for(let I=0;I<o;I++){let k=m[I];if(k===1||k===p-1)C.fill(k>1,O,O+i-1),O+=i-1;else for(let j=i-1;j>=0;--j)C[O++]=(k&1<<j)!==0}return C}extractBits(t){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(r?11:14)+i*4,u=new Int32Array(o),h=new Array(this.totalBitsInLayer(i,r));if(r)for(let m=0;m<u.length;m++)u[m]=m;else{let m=o+1+2*Y.truncDivision(Y.truncDivision(o,2)-1,15),p=o/2,v=Y.truncDivision(m,2);for(let C=0;C<p;C++){let O=C+Y.truncDivision(C,15);u[p-C-1]=v-O-1,u[p+C]=v+O+1}}for(let m=0,p=0;m<i;m++){let v=(i-m)*4+(r?9:12),C=m*2,O=o-1-C;for(let I=0;I<v;I++){let k=I*2;for(let j=0;j<2;j++)h[p+k+j]=t.get(u[C+j],u[C+I]),h[p+2*v+k+j]=t.get(u[C+I],u[O-j]),h[p+4*v+k+j]=t.get(u[O-j],u[O-I]),h[p+6*v+k+j]=t.get(u[O-I],u[C+j])}p+=v*8}return h}static readCode(t,r,i){let o=0;for(let u=r;u<r+i;u++)o<<=1,t[u]&&(o|=1);return o}static readByte(t,r){let i=t.length-r;return i>=8?Pe.readCode(t,r,8):Pe.readCode(t,r,i)<<8-i}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let i=0;i<r.length;i++)r[i]=Pe.readByte(t,8*i);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Pe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Pe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Pe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Pe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Pe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ze{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,i,o){const u=t-i,h=r-o;return Math.sqrt(u*u+h*h)}static sum(t){let r=0;for(let i=0,o=t.length;i!==o;i++){const u=t[i];r+=u}return r}}class Rn{static floatToIntBits(t){return t}}Rn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ce{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Ce){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Rn.floatToIntBits(this.x)+Rn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let u,h,m;if(i>=r&&i>=o?(h=t[0],u=t[1],m=t[2]):o>=i&&o>=r?(h=t[1],u=t[0],m=t[2]):(h=t[2],u=t[0],m=t[1]),this.crossProductZ(u,h,m)<0){const p=u;u=m,m=p}t[0]=u,t[1]=h,t[2]=m}static distance(t,r){return ze.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,i){const o=r.x,u=r.y;return(i.x-o)*(t.y-u)-(i.y-u)*(t.x-o)}}class Li{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class ao extends Li{constructor(t,r,i,o,u){super(t,r),this.compact=i,this.nbDatablocks=o,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Qt{constructor(t,r,i,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Qt.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const u=r/2|0;if(this.leftInit=i-u,this.rightInit=i+u,this.upInit=o-u,this.downInit=o+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let t=this.leftInit,r=this.rightInit,i=this.upInit,o=this.downInit,u=!1,h=!0,m=!1,p=!1,v=!1,C=!1,O=!1;const I=this.width,k=this.height;for(;h;){h=!1;let j=!0;for(;(j||!p)&&r<I;)j=this.containsBlackPoint(i,o,r,!1),j?(r++,h=!0,p=!0):p||r++;if(r>=I){u=!0;break}let F=!0;for(;(F||!v)&&o<k;)F=this.containsBlackPoint(t,r,o,!0),F?(o++,h=!0,v=!0):v||o++;if(o>=k){u=!0;break}let X=!0;for(;(X||!C)&&t>=0;)X=this.containsBlackPoint(i,o,t,!1),X?(t--,h=!0,C=!0):C||t--;if(t<0){u=!0;break}let te=!0;for(;(te||!O)&&i>=0;)te=this.containsBlackPoint(t,r,i,!0),te?(i--,h=!0,O=!0):O||i--;if(i<0){u=!0;break}h&&(m=!0)}if(!u&&m){const j=r-t;let F=null;for(let ye=1;F===null&&ye<j;ye++)F=this.getBlackPointOnSegment(t,o-ye,t+ye,o);if(F==null)throw new re;let X=null;for(let ye=1;X===null&&ye<j;ye++)X=this.getBlackPointOnSegment(t,i+ye,t+ye,i);if(X==null)throw new re;let te=null;for(let ye=1;te===null&&ye<j;ye++)te=this.getBlackPointOnSegment(r,i+ye,r-ye,i);if(te==null)throw new re;let we=null;for(let ye=1;we===null&&ye<j;ye++)we=this.getBlackPointOnSegment(r,o-ye,r-ye,o);if(we==null)throw new re;return this.centerEdges(we,F,te,X)}else throw new re}getBlackPointOnSegment(t,r,i,o){const u=ze.round(ze.distance(t,r,i,o)),h=(i-t)/u,m=(o-r)/u,p=this.image;for(let v=0;v<u;v++){const C=ze.round(t+v*h),O=ze.round(r+v*m);if(p.get(C,O))return new Ce(C,O)}return null}centerEdges(t,r,i,o){const u=t.getX(),h=t.getY(),m=r.getX(),p=r.getY(),v=i.getX(),C=i.getY(),O=o.getX(),I=o.getY(),k=Qt.CORR;return u<this.width/2?[new Ce(O-k,I+k),new Ce(m+k,p+k),new Ce(v-k,C-k),new Ce(u+k,h-k)]:[new Ce(O+k,I+k),new Ce(m+k,p-k),new Ce(v-k,C+k),new Ce(u-k,h-k)]}containsBlackPoint(t,r,i,o){const u=this.image;if(o){for(let h=t;h<=r;h++)if(u.get(h,i))return!0}else for(let h=t;h<=r;h++)if(u.get(i,h))return!0;return!1}}Qt.INIT_SIZE=10,Qt.CORR=1;class Ja{static checkAndNudgePoints(t,r){const i=t.getWidth(),o=t.getHeight();let u=!0;for(let h=0;h<r.length&&u;h+=2){const m=Math.floor(r[h]),p=Math.floor(r[h+1]);if(m<-1||m>i||p<-1||p>o)throw new re;u=!1,m===-1?(r[h]=0,u=!0):m===i&&(r[h]=i-1,u=!0),p===-1?(r[h+1]=0,u=!0):p===o&&(r[h+1]=o-1,u=!0)}u=!0;for(let h=r.length-2;h>=0&&u;h-=2){const m=Math.floor(r[h]),p=Math.floor(r[h+1]);if(m<-1||m>i||p<-1||p>o)throw new re;u=!1,m===-1?(r[h]=0,u=!0):m===i&&(r[h]=i-1,u=!0),p===-1?(r[h+1]=0,u=!0):p===o&&(r[h+1]=o-1,u=!0)}}}class Zn{constructor(t,r,i,o,u,h,m,p,v){this.a11=t,this.a21=r,this.a31=i,this.a12=o,this.a22=u,this.a32=h,this.a13=m,this.a23=p,this.a33=v}static quadrilateralToQuadrilateral(t,r,i,o,u,h,m,p,v,C,O,I,k,j,F,X){const te=Zn.quadrilateralToSquare(t,r,i,o,u,h,m,p);return Zn.squareToQuadrilateral(v,C,O,I,k,j,F,X).times(te)}transformPoints(t){const r=t.length,i=this.a11,o=this.a12,u=this.a13,h=this.a21,m=this.a22,p=this.a23,v=this.a31,C=this.a32,O=this.a33;for(let I=0;I<r;I+=2){const k=t[I],j=t[I+1],F=u*k+p*j+O;t[I]=(i*k+h*j+v)/F,t[I+1]=(o*k+m*j+C)/F}}transformPointsWithValues(t,r){const i=this.a11,o=this.a12,u=this.a13,h=this.a21,m=this.a22,p=this.a23,v=this.a31,C=this.a32,O=this.a33,I=t.length;for(let k=0;k<I;k++){const j=t[k],F=r[k],X=u*j+p*F+O;t[k]=(i*j+h*F+v)/X,r[k]=(o*j+m*F+C)/X}}static squareToQuadrilateral(t,r,i,o,u,h,m,p){const v=t-i+u-m,C=r-o+h-p;if(v===0&&C===0)return new Zn(i-t,u-i,t,o-r,h-o,r,0,0,1);{const O=i-u,I=m-u,k=o-h,j=p-h,F=O*j-I*k,X=(v*j-I*C)/F,te=(O*C-v*k)/F;return new Zn(i-t+X*i,m-t+te*m,t,o-r+X*o,p-r+te*p,r,X,te,1)}}static quadrilateralToSquare(t,r,i,o,u,h,m,p){return Zn.squareToQuadrilateral(t,r,i,o,u,h,m,p).buildAdjoint()}buildAdjoint(){return new Zn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Zn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class $a extends Ja{sampleGrid(t,r,i,o,u,h,m,p,v,C,O,I,k,j,F,X,te,we,ye){const ge=Zn.quadrilateralToQuadrilateral(o,u,h,m,p,v,C,O,I,k,j,F,X,te,we,ye);return this.sampleGridWithTransform(t,r,i,ge)}sampleGridWithTransform(t,r,i,o){if(r<=0||i<=0)throw new re;const u=new dt(r,i),h=new Float32Array(2*r);for(let m=0;m<i;m++){const p=h.length,v=m+.5;for(let C=0;C<p;C+=2)h[C]=C/2+.5,h[C+1]=v;o.transformPoints(h),Ja.checkAndNudgePoints(t,h);try{for(let C=0;C<p;C+=2)t.get(Math.floor(h[C]),Math.floor(h[C+1]))&&u.set(C/2,m)}catch{throw new re}}return u}}class ur{static setGridSampler(t){ur.gridSampler=t}static getInstance(){return ur.gridSampler}}ur.gridSampler=new $a;class Nn{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new Ce(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class el{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(t){let h=i[0];i[0]=i[2],i[2]=h}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),u=this.getMatrixCornerPoints(i);return new ao(o,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new re;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(i,r);let o=0;for(let h=0;h<4;h++){let m=i[(this.shift+h)%4];this.compact?(o<<=7,o+=m>>1&127):(o<<=10,o+=(m>>2&992)+(m>>1&31))}let u=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(t,r){let i=0;t.forEach((o,u,h)=>{let m=(o>>r-2<<1)+(o&1);i=(i<<3)+m}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(Y.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new re}getCorrectedParameterData(t,r){let i,o;r?(i=7,o=2):(i=10,o=4);let u=i-o,h=new Int32Array(i);for(let p=i-1;p>=0;--p)h[p]=t&15,t>>=4;try{new Ar(ot.AZTEC_PARAM).decode(h,u)}catch{throw new re}let m=0;for(let p=0;p<o;p++)m=(m<<4)+h[p];return m}getBullsEyeCorners(t){let r=t,i=t,o=t,u=t,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(r,h,1,-1),I=this.getFirstDifferent(i,h,1,1),k=this.getFirstDifferent(o,h,-1,1),j=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(j,O)*this.nbCenterLayers/(this.distancePoint(u,r)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(O,I,k,j))break}r=O,i=I,o=k,u=j,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let m=new Ce(r.getX()+.5,r.getY()-.5),p=new Ce(i.getX()+.5,i.getY()+.5),v=new Ce(o.getX()-.5,o.getY()+.5),C=new Ce(u.getX()-.5,u.getY()-.5);return this.expandSquare([m,p,v,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,i,o;try{let m=new Qt(this.image).detect();t=m[0],r=m[1],i=m[2],o=m[3]}catch{let p=this.image.getWidth()/2,v=this.image.getHeight()/2;t=this.getFirstDifferent(new Nn(p+7,v-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Nn(p+7,v+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Nn(p-7,v+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Nn(p-7,v-7),!1,-1,-1).toResultPoint()}let u=ze.round((t.getX()+o.getX()+r.getX()+i.getX())/4),h=ze.round((t.getY()+o.getY()+r.getY()+i.getY())/4);try{let m=new Qt(this.image,15,u,h).detect();t=m[0],r=m[1],i=m[2],o=m[3]}catch{t=this.getFirstDifferent(new Nn(u+7,h-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Nn(u+7,h+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Nn(u-7,h+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Nn(u-7,h-7),!1,-1,-1).toResultPoint()}return u=ze.round((t.getX()+o.getX()+r.getX()+i.getX())/4),h=ze.round((t.getY()+o.getY()+r.getY()+i.getY())/4),new Nn(u,h)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,i,o,u){let h=ur.getInstance(),m=this.getDimension(),p=m/2-this.nbCenterLayers,v=m/2+this.nbCenterLayers;return h.sampleGrid(t,m,m,p,p,v,p,v,v,p,v,r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY(),u.getX(),u.getY())}sampleLine(t,r,i){let o=0,u=this.distanceResultPoint(t,r),h=u/i,m=t.getX(),p=t.getY(),v=h*(r.getX()-t.getX())/u,C=h*(r.getY()-t.getY())/u;for(let O=0;O<i;O++)this.image.get(ze.round(m+O*v),ze.round(p+O*C))&&(o|=1<<i-O-1);return o}isWhiteOrBlackRectangle(t,r,i,o){let u=3;t=new Nn(t.getX()-u,t.getY()+u),r=new Nn(r.getX()-u,r.getY()-u),i=new Nn(i.getX()+u,i.getY()-u),o=new Nn(o.getX()+u,o.getY()+u);let h=this.getColor(o,t);if(h===0)return!1;let m=this.getColor(t,r);return m!==h||(m=this.getColor(r,i),m!==h)?!1:(m=this.getColor(i,o),m===h)}getColor(t,r){let i=this.distancePoint(t,r),o=(r.getX()-t.getX())/i,u=(r.getY()-t.getY())/i,h=0,m=t.getX(),p=t.getY(),v=this.image.get(t.getX(),t.getY()),C=Math.ceil(i);for(let I=0;I<C;I++)m+=o,p+=u,this.image.get(ze.round(m),ze.round(p))!==v&&h++;let O=h/i;return O>.1&&O<.9?0:O<=.1===v?1:-1}getFirstDifferent(t,r,i,o){let u=t.getX()+i,h=t.getY()+o;for(;this.isValid(u,h)&&this.image.get(u,h)===r;)u+=i,h+=o;for(u-=i,h-=o;this.isValid(u,h)&&this.image.get(u,h)===r;)u+=i;for(u-=i;this.isValid(u,h)&&this.image.get(u,h)===r;)h+=o;return h-=o,new Nn(u,h)}expandSquare(t,r,i){let o=i/(2*r),u=t[0].getX()-t[2].getX(),h=t[0].getY()-t[2].getY(),m=(t[0].getX()+t[2].getX())/2,p=(t[0].getY()+t[2].getY())/2,v=new Ce(m+o*u,p+o*h),C=new Ce(m-o*u,p-o*h);u=t[1].getX()-t[3].getX(),h=t[1].getY()-t[3].getY(),m=(t[1].getX()+t[3].getX())/2,p=(t[1].getY()+t[3].getY())/2;let O=new Ce(m+o*u,p+o*h),I=new Ce(m-o*u,p-o*h);return[v,O,C,I]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=ze.round(t.getX()),i=ze.round(t.getY());return this.isValid(r,i)}distancePoint(t,r){return ze.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return ze.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Y.truncDivision(this.nbLayers-4,8)+1)+15}}class ea{decode(t,r=null){let i=null,o=new el(t.getBlackMatrix()),u=null,h=null;try{let C=o.detectMirror(!1);u=C.getPoints(),this.reportFoundResultPoints(r,u),h=new Pe().decode(C)}catch(C){i=C}if(h==null)try{let C=o.detectMirror(!0);u=C.getPoints(),this.reportFoundResultPoints(r,u),h=new Pe().decode(C)}catch(C){throw i??C}let m=new ve(h.getText(),h.getRawBytes(),h.getNumBits(),u,pe.AZTEC,q.currentTimeMillis()),p=h.getByteSegments();p!=null&&m.putMetadata(lt.BYTE_SEGMENTS,p);let v=h.getECLevel();return v!=null&&m.putMetadata(lt.ERROR_CORRECTION_LEVEL,v),m}reportFoundResultPoints(t,r){if(t!=null){let i=t.get(_e.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((o,u,h)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class nc extends Ee{constructor(t=500){super(new ea,t)}}class Ft{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(_e.TRY_HARDER)===!0&&t.isRotateSupported()){const u=t.rotateCounterClockwise(),h=this.doDecode(u,r),m=h.getResultMetadata();let p=270;m!==null&&m.get(lt.ORIENTATION)===!0&&(p=p+m.get(lt.ORIENTATION)%360),h.putMetadata(lt.ORIENTATION,p);const v=h.getResultPoints();if(v!==null){const C=u.getHeight();for(let O=0;O<v.length;O++)v[O]=new Ce(C-v[O].getY()-1,v[O].getX())}return h}else throw new re}}reset(){}doDecode(t,r){const i=t.getWidth(),o=t.getHeight();let u=new me(i);const h=r&&r.get(_e.TRY_HARDER)===!0,m=Math.max(1,o>>(h?8:5));let p;h?p=o:p=15;const v=Math.trunc(o/2);for(let C=0;C<p;C++){const O=Math.trunc((C+1)/2),I=(C&1)===0,k=v+m*(I?O:-O);if(k<0||k>=o)break;try{u=t.getBlackRow(k,u)}catch{continue}for(let j=0;j<2;j++){if(j===1&&(u.reverse(),r&&r.get(_e.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;r.forEach((X,te)=>F.set(te,X)),F.delete(_e.NEED_RESULT_POINT_CALLBACK),r=F}try{const F=this.decodeRow(k,u,r);if(j===1){F.putMetadata(lt.ORIENTATION,180);const X=F.getResultPoints();X!==null&&(X[0]=new Ce(i-X[0].getX()-1,X[0].getY()),X[1]=new Ce(i-X[1].getX()-1,X[1].getY()))}return F}catch{}}}throw new re}static recordPattern(t,r,i){const o=i.length;for(let v=0;v<o;v++)i[v]=0;const u=t.getSize();if(r>=u)throw new re;let h=!t.get(r),m=0,p=r;for(;p<u;){if(t.get(p)!==h)i[m]++;else{if(++m===o)break;i[m]=1,h=!h}p++}if(!(m===o||m===o-1&&p===u))throw new re}static recordPatternInReverse(t,r,i){let o=i.length,u=t.get(r);for(;r>0&&o>=0;)t.get(--r)!==u&&(o--,u=!u);if(o>=0)throw new re;Ft.recordPattern(t,r+1,i)}static patternMatchVariance(t,r,i){const o=t.length;let u=0,h=0;for(let v=0;v<o;v++)u+=t[v],h+=r[v];if(u<h)return Number.POSITIVE_INFINITY;const m=u/h;i*=m;let p=0;for(let v=0;v<o;v++){const C=t[v],O=r[v]*m,I=C>O?C-O:O-C;if(I>i)return Number.POSITIVE_INFINITY;p+=I}return p/u}}class be extends Ft{static findStartPattern(t){const r=t.getSize(),i=t.getNextSet(0);let o=0,u=Int32Array.from([0,0,0,0,0,0]),h=i,m=!1;const p=6;for(let v=i;v<r;v++)if(t.get(v)!==m)u[o]++;else{if(o===p-1){let C=be.MAX_AVG_VARIANCE,O=-1;for(let I=be.CODE_START_A;I<=be.CODE_START_C;I++){const k=Ft.patternMatchVariance(u,be.CODE_PATTERNS[I],be.MAX_INDIVIDUAL_VARIANCE);k<C&&(C=k,O=I)}if(O>=0&&t.isRange(Math.max(0,h-(v-h)/2),h,!1))return Int32Array.from([h,v,O]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[o-1]=0,u[o]=0,o--}else o++;u[o]=1,m=!m}throw new re}static decodeCode(t,r,i){Ft.recordPattern(t,i,r);let o=be.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<be.CODE_PATTERNS.length;h++){const m=be.CODE_PATTERNS[h],p=this.patternMatchVariance(r,m,be.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,u=h)}if(u>=0)return u;throw new re}decodeRow(t,r,i){const o=i&&i.get(_e.ASSUME_GS1)===!0,u=be.findStartPattern(r),h=u[2];let m=0;const p=new Uint8Array(20);p[m++]=h;let v;switch(h){case be.CODE_START_A:v=be.CODE_CODE_A;break;case be.CODE_START_B:v=be.CODE_CODE_B;break;case be.CODE_START_C:v=be.CODE_CODE_C;break;default:throw new $}let C=!1,O=!1,I="",k=u[0],j=u[1];const F=Int32Array.from([0,0,0,0,0,0]);let X=0,te=0,we=h,ye=0,ge=!0,tt=!1,Ke=!1;for(;!C;){const xi=O;switch(O=!1,X=te,te=be.decodeCode(r,F,j),p[m++]=te,te!==be.CODE_STOP&&(ge=!0),te!==be.CODE_STOP&&(ye++,we+=ye*te),k=j,j+=F.reduce((Eo,fl)=>Eo+fl,0),te){case be.CODE_START_A:case be.CODE_START_B:case be.CODE_START_C:throw new $}switch(v){case be.CODE_CODE_A:if(te<64)Ke===tt?I+=String.fromCharCode(32+te):I+=String.fromCharCode(32+te+128),Ke=!1;else if(te<96)Ke===tt?I+=String.fromCharCode(te-64):I+=String.fromCharCode(te+64),Ke=!1;else switch(te!==be.CODE_STOP&&(ge=!1),te){case be.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_A:!tt&&Ke?(tt=!0,Ke=!1):tt&&Ke?(tt=!1,Ke=!1):Ke=!0;break;case be.CODE_SHIFT:O=!0,v=be.CODE_CODE_B;break;case be.CODE_CODE_B:v=be.CODE_CODE_B;break;case be.CODE_CODE_C:v=be.CODE_CODE_C;break;case be.CODE_STOP:C=!0;break}break;case be.CODE_CODE_B:if(te<96)Ke===tt?I+=String.fromCharCode(32+te):I+=String.fromCharCode(32+te+128),Ke=!1;else switch(te!==be.CODE_STOP&&(ge=!1),te){case be.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_B:!tt&&Ke?(tt=!0,Ke=!1):tt&&Ke?(tt=!1,Ke=!1):Ke=!0;break;case be.CODE_SHIFT:O=!0,v=be.CODE_CODE_A;break;case be.CODE_CODE_A:v=be.CODE_CODE_A;break;case be.CODE_CODE_C:v=be.CODE_CODE_C;break;case be.CODE_STOP:C=!0;break}break;case be.CODE_CODE_C:if(te<100)te<10&&(I+="0"),I+=te;else switch(te!==be.CODE_STOP&&(ge=!1),te){case be.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case be.CODE_CODE_A:v=be.CODE_CODE_A;break;case be.CODE_CODE_B:v=be.CODE_CODE_B;break;case be.CODE_STOP:C=!0;break}break}xi&&(v=v===be.CODE_CODE_A?be.CODE_CODE_B:be.CODE_CODE_A)}const tn=j-k;if(j=r.getNextUnset(j),!r.isRange(j,Math.min(r.getSize(),j+(j-k)/2),!1))throw new re;if(we-=ye*X,we%103!==X)throw new L;const er=I.length;if(er===0)throw new re;er>0&&ge&&(v===be.CODE_CODE_C?I=I.substring(0,er-2):I=I.substring(0,er-1));const Dn=(u[1]+u[0])/2,Tt=k+tn/2,_n=p.length,Yn=new Uint8Array(_n);for(let xi=0;xi<_n;xi++)Yn[xi]=p[xi];const Zi=[new Ce(Dn,t),new Ce(Tt,t)];return new ve(I,Yn,0,Zi,pe.CODE_128,new Date().getTime())}}be.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],be.MAX_AVG_VARIANCE=.25,be.MAX_INDIVIDUAL_VARIANCE=.7,be.CODE_SHIFT=98,be.CODE_CODE_C=99,be.CODE_CODE_B=100,be.CODE_CODE_A=101,be.CODE_FNC_1=102,be.CODE_FNC_2=97,be.CODE_FNC_3=96,be.CODE_FNC_4_A=101,be.CODE_FNC_4_B=100,be.CODE_START_A=103,be.CODE_START_B=104,be.CODE_START_C=105,be.CODE_STOP=106;class Dt extends Ft{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let u=Dt.findAsteriskPattern(r,o),h=r.getNextSet(u[1]),m=r.getSize(),p,v;do{Dt.recordPattern(r,h,o);let F=Dt.toNarrowWidePattern(o);if(F<0)throw new re;p=Dt.patternToChar(F),this.decodeRowResult+=p,v=h;for(let X of o)h+=X;h=r.getNextSet(h)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let F of o)C+=F;let O=h-v-C;if(h!==m&&O*2<C)throw new re;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,X=0;for(let te=0;te<F;te++)X+=Dt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt(F)!==Dt.ALPHABET_STRING.charAt(X%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new re;let I;this.extendedMode?I=Dt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let k=(u[1]+u[0])/2,j=v+C/2;return new ve(I,null,0,[new Ce(k,t),new Ce(j,t)],pe.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let i=t.getSize(),o=t.getNextSet(0),u=0,h=o,m=!1,p=r.length;for(let v=o;v<i;v++)if(t.get(v)!==m)r[u]++;else{if(u===p-1){if(this.toNarrowWidePattern(r)===Dt.ASTERISK_ENCODING&&t.isRange(Math.max(0,h-Math.floor((v-h)/2)),h,!1))return[h,v];h+=r[0]+r[1],r.copyWithin(0,2,2+u-1),r[u-1]=0,r[u]=0,u--}else u++;r[u]=1,m=!m}throw new re}static toNarrowWidePattern(t){let r=t.length,i=0,o;do{let u=2147483647;for(let p of t)p<u&&p>i&&(u=p);i=u,o=0;let h=0,m=0;for(let p=0;p<r;p++){let v=t[p];v>i&&(m|=1<<r-1-p,o++,h+=v)}if(o===3){for(let p=0;p<r&&o>0;p++){let v=t[p];if(v>i&&(o--,v*2>=h))return-1}return m}}while(o>3);return-1}static patternToChar(t){for(let r=0;r<Dt.CHARACTER_ENCODINGS.length;r++)if(Dt.CHARACTER_ENCODINGS[r]===t)return Dt.ALPHABET_STRING.charAt(r);if(t===Dt.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(t){let r=t.length,i="";for(let o=0;o<r;o++){let u=t.charAt(o);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=t.charAt(o+1),m="\0";switch(u){case"+":if(h>="A"&&h<="Z")m=String.fromCharCode(h.charCodeAt(0)+32);else throw new $;break;case"$":if(h>="A"&&h<="Z")m=String.fromCharCode(h.charCodeAt(0)-64);else throw new $;break;case"%":if(h>="A"&&h<="E")m=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")m=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")m=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")m=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")m="\0";else if(h==="V")m="@";else if(h==="W")m="`";else if(h==="X"||h==="Y"||h==="Z")m="";else throw new $;break;case"/":if(h>="A"&&h<="O")m=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")m=":";else throw new $;break}i+=m,o++}else i+=u}return i}}Dt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Dt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Dt.ASTERISK_ENCODING=148;class Je extends Ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,i){let o=this.decodeStart(r),u=this.decodeEnd(r),h=new Ye;Je.decodeMiddle(r,o[1],u[0],h);let m=h.toString(),p=null;i!=null&&(p=i.get(_e.ALLOWED_LENGTHS)),p==null&&(p=Je.DEFAULT_ALLOWED_LENGTHS);let v=m.length,C=!1,O=0;for(let j of p){if(v===j){C=!0;break}j>O&&(O=j)}if(!C&&v>O&&(C=!0),!C)throw new $;const I=[new Ce(o[1],t),new Ce(u[0],t)];return new ve(m,null,0,I,pe.ITF,new Date().getTime())}static decodeMiddle(t,r,i,o){let u=new Int32Array(10),h=new Int32Array(5),m=new Int32Array(5);for(u.fill(0),h.fill(0),m.fill(0);r<i;){Ft.recordPattern(t,r,u);for(let v=0;v<5;v++){let C=2*v;h[v]=u[C],m[v]=u[C+1]}let p=Je.decodeDigit(h);o.append(p.toString()),p=this.decodeDigit(m),o.append(p.toString()),u.forEach(function(v){r+=v})}}decodeStart(t){let r=Je.skipWhiteSpace(t),i=Je.findGuardPattern(t,r,Je.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let o=r-1;i>0&&o>=0&&!t.get(o);o--)i--;if(i!==0)throw new re}static skipWhiteSpace(t){const r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new re;return i}decodeEnd(t){t.reverse();try{let r=Je.skipWhiteSpace(t),i;try{i=Je.findGuardPattern(t,r,Je.END_PATTERN_REVERSED[0])}catch(u){u instanceof re&&(i=Je.findGuardPattern(t,r,Je.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let o=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-o,i}finally{t.reverse()}}static findGuardPattern(t,r,i){let o=i.length,u=new Int32Array(o),h=t.getSize(),m=!1,p=0,v=r;u.fill(0);for(let C=r;C<h;C++)if(t.get(C)!==m)u[p]++;else{if(p===o-1){if(Ft.patternMatchVariance(u,i,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE)return[v,C];v+=u[0]+u[1],q.arraycopy(u,2,u,0,p-1),u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,m=!m}throw new re}static decodeDigit(t){let r=Je.MAX_AVG_VARIANCE,i=-1,o=Je.PATTERNS.length;for(let u=0;u<o;u++){let h=Je.PATTERNS[u],m=Ft.patternMatchVariance(t,h,Je.MAX_INDIVIDUAL_VARIANCE);m<r?(r=m,i=u):m===r&&(i=-1)}if(i>=0)return i%10;throw new re}}Je.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Je.MAX_AVG_VARIANCE=.38,Je.MAX_INDIVIDUAL_VARIANCE=.5,Je.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Je.START_PATTERN=Int32Array.from([1,1,1,1]),Je.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Yt extends Ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,i,o=0,u=Int32Array.from([0,0,0]);for(;!r;){u=Int32Array.from([0,0,0]),i=Yt.findGuardPattern(t,o,!1,this.START_END_PATTERN,u);let h=i[0];o=i[1];let m=h-(o-h);m>=0&&(r=t.isRange(m,h,!1))}return i}static checkChecksum(t){return Yt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return Yt.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let o=r-1;o>=0;o-=2){let u=t.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new $;i+=u}i*=3;for(let o=r-2;o>=0;o-=2){let u=t.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new $;i+=u}return(1e3-i)%10}static decodeEnd(t,r){return Yt.findGuardPattern(t,r,!1,Yt.START_END_PATTERN,new Int32Array(Yt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,i,o){return this.findGuardPattern(t,r,i,o,new Int32Array(o.length))}static findGuardPattern(t,r,i,o,u){let h=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);let m=0,p=r,v=o.length,C=i;for(let O=r;O<h;O++)if(t.get(O)!==C)u[m]++;else{if(m===v-1){if(Ft.patternMatchVariance(u,o,Yt.MAX_INDIVIDUAL_VARIANCE)<Yt.MAX_AVG_VARIANCE)return Int32Array.from([p,O]);p+=u[0]+u[1];let I=u.slice(2,u.length-1);for(let k=0;k<m-1;k++)u[k]=I[k];u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,C=!C}throw new re}static decodeDigit(t,r,i,o){this.recordPattern(t,i,r);let u=this.MAX_AVG_VARIANCE,h=-1,m=o.length;for(let p=0;p<m;p++){let v=o[p],C=Ft.patternMatchVariance(r,v,Yt.MAX_INDIVIDUAL_VARIANCE);C<u&&(u=C,h=p)}if(h>=0)return h;throw new re}}Yt.MAX_AVG_VARIANCE=.48,Yt.MAX_INDIVIDUAL_VARIANCE=.7,Yt.START_END_PATTERN=Int32Array.from([1,1,1]),Yt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Yt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class vs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let o=this.decodeRowStringBuffer,u=this.decodeMiddle(r,i,o),h=o.toString(),m=vs.parseExtensionString(h),p=[new Ce((i[0]+i[1])/2,t),new Ce(u,t)],v=new ve(h,null,0,p,pe.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=t.getSize(),h=r[1],m=0;for(let v=0;v<5&&h<u;v++){let C=Yt.decodeDigit(t,o,h,Yt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+C%10);for(let O of o)h+=O;C>=10&&(m|=1<<4-v),v!==4&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(i.length!==5)throw new re;let p=this.determineCheckDigit(m);if(vs.extensionChecksum(i.toString())!==p)throw new re;return h}static extensionChecksum(t){let r=t.length,i=0;for(let o=r-2;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;i*=3;for(let o=r-1;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new re}static parseExtensionString(t){if(t.length!==5)return null;let r=vs.parseExtension5String(t);return r==null?null:new Map([[lt.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(t.substring(1)),o=(i/100).toString(),u=i%100,h=u<10?"0"+u:u.toString();return r+o+"."+h}}class tl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let o=this.decodeRowStringBuffer,u=this.decodeMiddle(r,i,o),h=o.toString(),m=tl.parseExtensionString(h),p=[new Ce((i[0]+i[1])/2,t),new Ce(u,t)],v=new ve(h,null,0,p,pe.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=t.getSize(),h=r[1],m=0;for(let p=0;p<2&&h<u;p++){let v=Yt.decodeDigit(t,o,h,Yt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);for(let C of o)h+=C;v>=10&&(m|=1<<1-p),p!==1&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(i.length!==2)throw new re;if(parseInt(i.toString())%4!==m)throw new re;return h}static parseExtensionString(t){return t.length!==2?null:new Map([[lt.ISSUE_NUMBER,parseInt(t)]])}}class Es{static decodeRow(t,r,i){let o=Yt.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new vs().decodeRow(t,r,o)}catch{return new tl().decodeRow(t,r,o)}}}Es.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ut extends Yt{constructor(){super(),this.decodeRowStringBuffer="",ut.L_AND_G_PATTERNS=ut.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=ut.L_PATTERNS[t-10],i=new Int32Array(r.length);for(let o=0;o<r.length;o++)i[o]=r[r.length-o-1];ut.L_AND_G_PATTERNS[t]=i}}decodeRow(t,r,i){let o=ut.findStartGuardPattern(r),u=i==null?null:i.get(_e.NEED_RESULT_POINT_CALLBACK);if(u!=null){const ge=new Ce((o[0]+o[1])/2,t);u.foundPossibleResultPoint(ge)}let h=this.decodeMiddle(r,o,this.decodeRowStringBuffer),m=h.rowOffset,p=h.resultString;if(u!=null){const ge=new Ce(m,t);u.foundPossibleResultPoint(ge)}let v=this.decodeEnd(r,m);if(u!=null){const ge=new Ce((v[0]+v[1])/2,t);u.foundPossibleResultPoint(ge)}let C=v[1],O=C+(C-v[0]);if(O>=r.getSize()||!r.isRange(C,O,!1))throw new re;let I=p.toString();if(I.length<8)throw new $;if(!ut.checkChecksum(I))throw new L;let k=(o[1]+o[0])/2,j=(v[1]+v[0])/2,F=this.getBarcodeFormat(),X=[new Ce(k,t),new Ce(j,t)],te=new ve(I,null,0,X,F,new Date().getTime()),we=0;try{let ge=Es.decodeRow(t,r,v[1]);te.putMetadata(lt.UPC_EAN_EXTENSION,ge.getText()),te.putAllMetadata(ge.getResultMetadata()),te.addResultPoints(ge.getResultPoints()),we=ge.getText().length}catch{}let ye=i==null?null:i.get(_e.ALLOWED_EAN_EXTENSIONS);if(ye!=null){let ge=!1;for(let tt in ye)if(we.toString()===tt){ge=!0;break}if(!ge)throw new re}return te}decodeEnd(t,r){return ut.findGuardPattern(t,r,!1,ut.START_END_PATTERN,new Int32Array(ut.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return ut.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return ut.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let o=r-1;o>=0;o-=2){let u=t.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new $;i+=u}i*=3;for(let o=r-2;o>=0;o-=2){let u=t.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new $;i+=u}return(1e3-i)%10}}class Cr extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=t.getSize(),h=r[1],m=0;for(let v=0;v<6&&h<u;v++){let C=ut.decodeDigit(t,o,h,ut.L_AND_G_PATTERNS);i+=String.fromCharCode(48+C%10);for(let O of o)h+=O;C>=10&&(m|=1<<5-v)}i=Cr.determineFirstDigit(i,m),h=ut.findGuardPattern(t,h,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&h<u;v++){let C=ut.decodeDigit(t,o,h,ut.L_PATTERNS);i+=String.fromCharCode(48+C);for(let O of o)h+=O}return{rowOffset:h,resultString:i}}getBarcodeFormat(){return pe.EAN_13}static determineFirstDigit(t,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new re}}Cr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Qr extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=t.getSize(),h=r[1];for(let p=0;p<4&&h<u;p++){let v=ut.decodeDigit(t,o,h,ut.L_PATTERNS);i+=String.fromCharCode(48+v);for(let C of o)h+=C}h=ut.findGuardPattern(t,h,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&h<u;p++){let v=ut.decodeDigit(t,o,h,ut.L_PATTERNS);i+=String.fromCharCode(48+v);for(let C of o)h+=C}return{rowOffset:h,resultString:i}}getBarcodeFormat(){return pe.EAN_8}}class _s extends ut{constructor(){super(...arguments),this.ean13Reader=new Cr}getBarcodeFormat(){return pe.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))}decodeMiddle(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let i=new ve(r.substring(1),null,null,t.getResultPoints(),pe.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new re}reset(){this.ean13Reader.reset()}}class In extends ut{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,i){const o=this.decodeMiddleCounters.map(v=>v);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const u=t.getSize();let h=r[1],m=0;for(let v=0;v<6&&h<u;v++){const C=In.decodeDigit(t,o,h,In.L_AND_G_PATTERNS);i+=String.fromCharCode(48+C%10);for(let O of o)h+=O;C>=10&&(m|=1<<5-v)}let p=In.determineNumSysAndCheckDigit(i,m);return{rowOffset:h,resultString:p}}decodeEnd(t,r){return In.findGuardPatternWithoutCounters(t,r,!0,In.MIDDLE_END_PATTERN)}checkChecksum(t){return ut.checkChecksum(In.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let u=String.fromCharCode(48+i),h=String.fromCharCode(48+o);return u+t+h}throw re.getNotFoundInstance()}getBarcodeFormat(){return pe.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(u=>u.charCodeAt(0)),i=new Ye;i.append(t.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}In.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),In.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class nl extends Ft{constructor(t){super();let r=t==null?null:t.get(_e.POSSIBLE_FORMATS),i=[];f(r)?(i.push(new Cr),i.push(new _s),i.push(new Qr),i.push(new In)):(r.indexOf(pe.EAN_13)>-1&&i.push(new Cr),r.indexOf(pe.UPC_A)>-1&&i.push(new _s),r.indexOf(pe.EAN_8)>-1&&i.push(new Qr),r.indexOf(pe.UPC_E)>-1&&i.push(new In)),this.readers=i}decodeRow(t,r,i){for(let o of this.readers)try{const u=o.decodeRow(t,r,i),h=u.getBarcodeFormat()===pe.EAN_13&&u.getText().charAt(0)==="0",m=i==null?null:i.get(_e.POSSIBLE_FORMATS),p=m==null||m.includes(pe.UPC_A);if(h&&p){const v=u.getRawBytes(),C=new ve(u.getText().substring(1),v,v?v.length:null,u.getResultPoints(),pe.UPC_A);return C.putAllMetadata(u.getResultMetadata()),C}return u}catch{}throw new re}reset(){for(let t of this.readers)t.reset()}}class bn extends Ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let i=0;i<r.length;i++)if(Ft.patternMatchVariance(t,r[i],bn.MAX_INDIVIDUAL_VARIANCE)<bn.MAX_AVG_VARIANCE)return i;throw new re}static count(t){return ze.sum(new Int32Array(t))}static increment(t,r){let i=0,o=r[0];for(let u=1;u<t.length;u++)r[u]>o&&(o=r[u],i=u);t[i]++}static decrement(t,r){let i=0,o=r[0];for(let u=1;u<t.length;u++)r[u]<o&&(o=r[u],i=u);t[i]--}static isFinderPattern(t){let r=t[0]+t[1],i=r+t[2]+t[3],o=r/i;if(o>=bn.MIN_FINDER_PATTERN_RATIO&&o<=bn.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let m of t)m>h&&(h=m),m<u&&(u=m);return h<10*u}return!1}}bn.MAX_AVG_VARIANCE=.2,bn.MAX_INDIVIDUAL_VARIANCE=.45,bn.MIN_FINDER_PATTERN_RATIO=9.5/12,bn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Jr{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Jr))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class $r{constructor(t,r,i,o,u){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Ce(i,u)),this.resultPoints.push(new Ce(o,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof $r))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Sr{constructor(){}static getRSSvalue(t,r,i){let o=0;for(let p of t)o+=p;let u=0,h=0,m=t.length;for(let p=0;p<m-1;p++){let v;for(v=1,h|=1<<p;v<t[p];v++,h&=~(1<<p)){let C=Sr.combins(o-v-1,m-p-2);if(i&&h===0&&o-v-(m-p-1)>=m-p-1&&(C-=Sr.combins(o-v-(m-p),m-p-2)),m-p-1>1){let O=0;for(let I=o-v-(m-p-2);I>r;I--)O+=Sr.combins(o-v-I-1,m-p-3);C-=O*(m-1-p)}else o-v>r&&C--;u+=C}o-=v}return u}static combins(t,r){let i,o;t-r>r?(o=r,i=t-r):(o=t-r,i=r);let u=1,h=1;for(let m=t;m>i;m--)u*=m,h<=o&&(u/=h,h++);for(;h<=o;)u/=h,h++;return u}}class lo{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let i=12*r,o=new me(i),u=0,m=t[0].getRightChar().getValue();for(let p=11;p>=0;--p)(m&1<<p)!=0&&o.set(u),u++;for(let p=1;p<t.length;++p){let v=t[p],C=v.getLeftChar().getValue();for(let O=11;O>=0;--O)(C&1<<O)!=0&&o.set(u),u++;if(v.getRightChar()!=null){let O=v.getRightChar().getValue();for(let I=11;I>=0;--I)(O&1<<I)!=0&&o.set(u),u++}}return o}}class ei{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ta{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Cn extends ta{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Cn.FNC1}}Cn.FNC1="$";class jr extends ta{constructor(t,r,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Hn extends ta{constructor(t,r,i){if(super(t),r<0||r>10||i<0||i>10)throw new $;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Hn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Hn.FNC1}isAnyFNC1(){return this.firstDigit===Hn.FNC1||this.secondDigit===Hn.FNC1}}Hn.FNC1=10;class Se{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new re;let r=t.substring(0,2);for(let u of Se.TWO_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(2,u[2],t):Se.processFixedAI(2,u[1],t);if(t.length<3)throw new re;let i=t.substring(0,3);for(let u of Se.THREE_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(3,u[2],t):Se.processFixedAI(3,u[1],t);for(let u of Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,u[2],t):Se.processFixedAI(4,u[1],t);if(t.length<4)throw new re;let o=t.substring(0,4);for(let u of Se.FOUR_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,u[2],t):Se.processFixedAI(4,u[1],t);throw new re}static processFixedAI(t,r,i){if(i.length<t)throw new re;let o=i.substring(0,t);if(i.length<t+r)throw new re;let u=i.substring(t,t+r),h=i.substring(t+r),m="("+o+")"+u,p=Se.parseFieldsInGeneralPurpose(h);return p==null?m:m+p}static processVariableAI(t,r,i){let o=i.substring(0,t),u;i.length<t+r?u=i.length:u=t+r;let h=i.substring(t,u),m=i.substring(u),p="("+o+")"+h,v=Se.parseFieldsInGeneralPurpose(m);return v==null?p:p+v}}Se.VARIABLE_LENGTH=[],Se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Se.VARIABLE_LENGTH,20],["22",Se.VARIABLE_LENGTH,29],["30",Se.VARIABLE_LENGTH,8],["37",Se.VARIABLE_LENGTH,8],["90",Se.VARIABLE_LENGTH,30],["91",Se.VARIABLE_LENGTH,30],["92",Se.VARIABLE_LENGTH,30],["93",Se.VARIABLE_LENGTH,30],["94",Se.VARIABLE_LENGTH,30],["95",Se.VARIABLE_LENGTH,30],["96",Se.VARIABLE_LENGTH,30],["97",Se.VARIABLE_LENGTH,3],["98",Se.VARIABLE_LENGTH,30],["99",Se.VARIABLE_LENGTH,30]],Se.THREE_DIGIT_DATA_LENGTH=[["240",Se.VARIABLE_LENGTH,30],["241",Se.VARIABLE_LENGTH,30],["242",Se.VARIABLE_LENGTH,6],["250",Se.VARIABLE_LENGTH,30],["251",Se.VARIABLE_LENGTH,30],["253",Se.VARIABLE_LENGTH,17],["254",Se.VARIABLE_LENGTH,20],["400",Se.VARIABLE_LENGTH,30],["401",Se.VARIABLE_LENGTH,30],["402",17],["403",Se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Se.VARIABLE_LENGTH,20],["421",Se.VARIABLE_LENGTH,15],["422",3],["423",Se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Se.VARIABLE_LENGTH,15],["391",Se.VARIABLE_LENGTH,18],["392",Se.VARIABLE_LENGTH,15],["393",Se.VARIABLE_LENGTH,18],["703",Se.VARIABLE_LENGTH,30]],Se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Se.VARIABLE_LENGTH,20],["8003",Se.VARIABLE_LENGTH,30],["8004",Se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Se.VARIABLE_LENGTH,30],["8008",Se.VARIABLE_LENGTH,12],["8018",18],["8020",Se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Se.VARIABLE_LENGTH,70],["8200",Se.VARIABLE_LENGTH,70]];class qn{constructor(t){this.buffer=new Ye,this.information=t}decodeAllCodes(t,r){let i=r,o=null;do{let u=this.decodeGeneralPurposeField(i,o),h=Se.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&t.append(h),u.isRemaining()?o=""+u.getRemainingValue():o=null,i===u.getNewPosition())break;i=u.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(t,4);return u===0?new Hn(this.information.getSize(),Hn.FNC1,Hn.FNC1):new Hn(this.information.getSize(),u-1,Hn.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),i=(r-8)/11,o=(r-8)%11;return new Hn(t+7,i,o)}extractNumericValueFromBitArray(t,r){return qn.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,i){let o=0;for(let u=0;u<i;++u)t.get(r+u)&&(o|=1<<i-u-1);return o}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new jr(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new jr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new jr(this.current.getPosition(),this.buffer.toString()):r=new jr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new ei(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new jr(this.current.getPosition(),this.buffer.toString());return new ei(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ei(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new jr(this.current.getPosition(),this.buffer.toString());return new ei(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ei(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new jr(this.current.getPosition(),this.buffer.toString());return new ei(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ei(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Cn(t+5,Cn.FNC1);if(r>=5&&r<15)return new Cn(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new Cn(t+7,""+(i+1));if(i>=90&&i<116)return new Cn(t+7,""+(i+7));let o=this.extractNumericValueFromBitArray(t,8),u;switch(o){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new $}return new Cn(t+8,u)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Cn(t+5,Cn.FNC1);if(r>=5&&r<15)return new Cn(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new Cn(t+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new On("Decoding invalid alphanumeric value: "+i)}return new Cn(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class ln{constructor(t){this.information=t,this.generalDecoder=new qn(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Rt extends ln{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)}encodeCompressedGtinWithoutAI(t,r,i){for(let o=0;o<4;++o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);u/100===0&&t.append("0"),u/10===0&&t.append("0"),t.append(u)}Rt.appendCheckDigit(t,i)}static appendCheckDigit(t,r){let i=0;for(let o=0;o<13;o++){let u=t.charAt(o+r).charCodeAt(0)-48;i+=(o&1)===0?3*u:u}i=10-i%10,i===10&&(i=0),t.append(i)}}Rt.GTIN_SIZE=40;class cr extends Rt{constructor(t){super(t)}parseInformation(){let t=new Ye;t.append("(01)");let r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(cr.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,cr.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,cr.HEADER_SIZE+44)}}cr.HEADER_SIZE=4;class Ui extends ln{constructor(t){super(t)}parseInformation(){let t=new Ye;return this.getGeneralDecoder().decodeAllCodes(t,Ui.HEADER_SIZE)}}Ui.HEADER_SIZE=5;class na extends Rt{constructor(t){super(t)}encodeCompressedWeight(t,r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,o);let u=this.checkWeight(o),h=1e5;for(let m=0;m<5;++m)u/h===0&&t.append("0"),h/=10;t.append(u)}}class Tr extends na{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Tr.HEADER_SIZE+na.GTIN_SIZE+Tr.WEIGHT_SIZE)throw new re;let t=new Ye;return this.encodeCompressedGtin(t,Tr.HEADER_SIZE),this.encodeCompressedWeight(t,Tr.HEADER_SIZE+na.GTIN_SIZE,Tr.WEIGHT_SIZE),t.toString()}}Tr.HEADER_SIZE=5,Tr.WEIGHT_SIZE=15;class oo extends Tr{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class As extends Tr{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Qn extends Rt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Qn.HEADER_SIZE+Rt.GTIN_SIZE)throw new re;let t=new Ye;this.encodeCompressedGtin(t,Qn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Qn.HEADER_SIZE+Rt.GTIN_SIZE,Qn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Qn.HEADER_SIZE+Rt.GTIN_SIZE+Qn.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}Qn.HEADER_SIZE=8,Qn.LAST_DIGIT_SIZE=2;class $t extends Rt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<$t.HEADER_SIZE+Rt.GTIN_SIZE)throw new re;let t=new Ye;this.encodeCompressedGtin(t,$t.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray($t.HEADER_SIZE+Rt.GTIN_SIZE,$t.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray($t.HEADER_SIZE+Rt.GTIN_SIZE+$t.LAST_DIGIT_SIZE,$t.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField($t.HEADER_SIZE+Rt.GTIN_SIZE+$t.LAST_DIGIT_SIZE+$t.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}$t.HEADER_SIZE=8,$t.LAST_DIGIT_SIZE=2,$t.FIRST_THREE_DIGITS_SIZE=10;class Et extends na{constructor(t,r,i){super(t),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE+Et.DATE_SIZE)throw new re;let t=new Ye;return this.encodeCompressedGtin(t,Et.HEADER_SIZE),this.encodeCompressedWeight(t,Et.HEADER_SIZE+Et.GTIN_SIZE,Et.WEIGHT_SIZE),this.encodeCompressedDate(t,Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Et.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=i%32;i/=32;let u=i%12+1;i/=12;let h=i;h/10==0&&t.append("0"),t.append(h),u/10==0&&t.append("0"),t.append(u),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}Et.HEADER_SIZE=8,Et.WEIGHT_SIZE=20,Et.DATE_SIZE=16;function Pi(T){try{if(T.get(1))return new cr(T);if(!T.get(2))return new Ui(T);switch(qn.extractNumericValueFromBitArray(T,1,4)){case 4:return new oo(T);case 5:return new As(T)}switch(qn.extractNumericValueFromBitArray(T,1,5)){case 12:return new Qn(T);case 13:return new $t(T)}switch(qn.extractNumericValueFromBitArray(T,1,7)){case 56:return new Et(T,"310","11");case 57:return new Et(T,"320","11");case 58:return new Et(T,"310","13");case 59:return new Et(T,"320","13");case 60:return new Et(T,"310","15");case 61:return new Et(T,"320","15");case 62:return new Et(T,"310","17");case 63:return new Et(T,"320","17")}}catch(t){throw console.log(t),new On("unknown decoder: "+T)}}class Gn{constructor(t,r,i,o){this.leftchar=t,this.rightchar=r,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof Gn?Gn.equalsOrNull(t.leftchar,r.leftchar)&&Gn.equalsOrNull(t.rightchar,r.rightchar)&&Gn.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:Gn.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class en{constructor(t,r,i){this.pairs=t,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof en?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let i;return t.forEach((o,u)=>{r.forEach(h=>{o.getLeftChar().getValue()===h.getLeftChar().getValue()&&o.getRightChar().getValue()===h.getRightChar().getValue()&&o.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(i=!0)})}),i}}class de extends bn{constructor(t){super(...arguments),this.pairs=new Array(de.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return de.constructResult(this.decodeRow2pairs(t,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,de.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(u){if(u instanceof re){if(!this.pairs.length)throw new re;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new re}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let i=r;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let h of t)this.pairs.push(h.getPairs());if(this.pairs.push(o.getPairs()),!de.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(t);u.push(o);try{return this.checkRows(u,i+1)}catch(h){this.verbose&&console.log(h)}}throw new re}static isValidSequence(t){for(let r of de.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let i=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=r[o]){i=!1;break}if(i)return!0}return!1}storeRow(t,r){let i=0,o=!1,u=!1;for(;i<this.rows.length;){let h=this.rows[i];if(h.getRowNumber()>t){u=h.isEquivalent(this.pairs);break}o=h.isEquivalent(this.pairs),i++}u||o||de.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new en(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let i of r)if(i.getPairs().length!==t.length){for(let o of i.getPairs())for(let u of t)if(Gn.equals(o,u))break}}static isPartialRow(t,r){for(let i of r){let o=!0;for(let u of t){let h=!1;for(let m of i.getPairs())if(u.equals(m)){h=!0;break}if(!h){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=lo.buildBitArray(t),o=Pi(r).parseInformation(),u=t[0].getFinderPattern().getResultPoints(),h=t[t.length-1].getFinderPattern().getResultPoints(),m=[u[0],u[1],h[0],h[1]];return new ve(o,null,null,m,pe.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),u=2;for(let m=1;m<this.pairs.size();++m){let p=this.pairs.get(m);o+=p.getLeftChar().getChecksumPortion(),u++;let v=p.getRightChar();v!=null&&(o+=v.getChecksumPortion(),u++)}return o%=211,211*(u-4)+o==r.getValue()}static getNextSecondBar(t,r){let i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i}retrieveNextPair(t,r,i){let o=r.length%2==0;this.startFromEven&&(o=!o);let u,h=!0,m=-1;do this.findNextPair(t,r,m),u=this.parseFoundFinderPattern(t,i,o),u==null?m=de.getNextSecondBar(t,this.startEnd[0]):h=!1;while(h);let p=this.decodeDataCharacter(t,u,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new re;let v;try{v=this.decodeDataCharacter(t,u,o,!1)}catch(C){v=null,this.verbose&&console.log(C)}return new Gn(p,v,u,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=t.getSize(),h;i>=0?h=i:this.isEmptyPair(r)?h=0:h=r[r.length-1].getFinderPattern().getStartEnd()[1];let m=r.length%2!=0;this.startFromEven&&(m=!m);let p=!1;for(;h<u&&(p=!t.get(h),!!p);)h++;let v=0,C=h;for(let O=h;O<u;O++)if(t.get(O)!=p)o[v]++;else{if(v==3){if(m&&de.reverseCounters(o),de.isFinderPattern(o)){this.startEnd[0]=C,this.startEnd[1]=O;return}m&&de.reverseCounters(o),C+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,v--}else v++;o[v]=1,p=!p}throw new re}static reverseCounters(t){let r=t.length;for(let i=0;i<r/2;++i){let o=t[i];t[i]=t[r-i-1],t[r-i-1]=o}}parseFoundFinderPattern(t,r,i){let o,u,h;if(i){let v=this.startEnd[0]-1;for(;v>=0&&!t.get(v);)v--;v++,o=this.startEnd[0]-v,u=v,h=this.startEnd[1]}else u=this.startEnd[0],h=t.getNextUnset(this.startEnd[1]+1),o=h-this.startEnd[1];let m=this.getDecodeFinderCounters();q.arraycopy(m,0,m,1,m.length-1),m[0]=o;let p;try{p=this.parseFinderValue(m,de.FINDER_PATTERNS)}catch{return null}return new $r(p,[u,h],u,h,r)}decodeDataCharacter(t,r,i,o){let u=this.getDataCharacterCounters();for(let Tt=0;Tt<u.length;Tt++)u[Tt]=0;if(o)de.recordPatternInReverse(t,r.getStartEnd()[0],u);else{de.recordPattern(t,r.getStartEnd()[1],u);for(let Tt=0,_n=u.length-1;Tt<_n;Tt++,_n--){let Yn=u[Tt];u[Tt]=u[_n],u[_n]=Yn}}let h=17,m=ze.sum(new Int32Array(u))/h,p=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(m-p)/p>.3)throw new re;let v=this.getOddCounts(),C=this.getEvenCounts(),O=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Tt=0;Tt<u.length;Tt++){let _n=1*u[Tt]/m,Yn=_n+.5;if(Yn<1){if(_n<.3)throw new re;Yn=1}else if(Yn>8){if(_n>8.7)throw new re;Yn=8}let Zi=Tt/2;(Tt&1)==0?(v[Zi]=Yn,O[Zi]=_n-Yn):(C[Zi]=Yn,I[Zi]=_n-Yn)}this.adjustOddEvenCounts(h);let k=4*r.getValue()+(i?0:2)+(o?0:1)-1,j=0,F=0;for(let Tt=v.length-1;Tt>=0;Tt--){if(de.isNotA1left(r,i,o)){let _n=de.WEIGHTS[k][2*Tt];F+=v[Tt]*_n}j+=v[Tt]}let X=0;for(let Tt=C.length-1;Tt>=0;Tt--)if(de.isNotA1left(r,i,o)){let _n=de.WEIGHTS[k][2*Tt+1];X+=C[Tt]*_n}let te=F+X;if((j&1)!=0||j>13||j<4)throw new re;let we=(13-j)/2,ye=de.SYMBOL_WIDEST[we],ge=9-ye,tt=Sr.getRSSvalue(v,ye,!0),Ke=Sr.getRSSvalue(C,ge,!1),tn=de.EVEN_TOTAL_SUBSET[we],er=de.GSUM[we],Dn=tt*tn+Ke+er;return new Jr(Dn,te)}static isNotA1left(t,r,i){return!(t.getValue()==0&&r&&i)}adjustOddEvenCounts(t){let r=ze.sum(new Int32Array(this.getOddCounts())),i=ze.sum(new Int32Array(this.getEvenCounts())),o=!1,u=!1;r>13?u=!0:r<4&&(o=!0);let h=!1,m=!1;i>13?m=!0:i<4&&(h=!0);let p=r+i-t,v=(r&1)==1,C=(i&1)==0;if(p==1)if(v){if(C)throw new re;u=!0}else{if(!C)throw new re;m=!0}else if(p==-1)if(v){if(C)throw new re;o=!0}else{if(!C)throw new re;h=!0}else if(p==0){if(v){if(!C)throw new re;r<i?(o=!0,m=!0):(u=!0,h=!0)}else if(C)throw new re}else throw new re;if(o){if(u)throw new re;de.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&de.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(m)throw new re;de.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&de.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}de.SYMBOL_WIDEST=[7,5,4,3,1],de.EVEN_TOTAL_SUBSET=[4,20,52,104,204],de.GSUM=[0,348,1388,2948,3988],de.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],de.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],de.FINDER_PAT_A=0,de.FINDER_PAT_B=1,de.FINDER_PAT_C=2,de.FINDER_PAT_D=3,de.FINDER_PAT_E=4,de.FINDER_PAT_F=5,de.FINDER_PATTERN_SEQUENCES=[[de.FINDER_PAT_A,de.FINDER_PAT_A],[de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B],[de.FINDER_PAT_A,de.FINDER_PAT_C,de.FINDER_PAT_B,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_C],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F]],de.MAX_PAIRS=11;class uo extends Jr{constructor(t,r,i){super(t,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ct extends bn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,i){const o=this.decodePair(r,!1,t,i);Ct.addOrTally(this.possibleLeftPairs,o),r.reverse();let u=this.decodePair(r,!0,t,i);Ct.addOrTally(this.possibleRightPairs,u),r.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&Ct.checkChecksum(h,m))return Ct.constructResult(h,m)}throw new re}static addOrTally(t,r){if(r==null)return;let i=!1;for(let o of t)if(o.getValue()===r.getValue()){o.incrementCount(),i=!0;break}i||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let i=4537077*t.getValue()+r.getValue(),o=new String(i).toString(),u=new Ye;for(let v=13-o.length;v>0;v--)u.append("0");u.append(o);let h=0;for(let v=0;v<13;v++){let C=u.charAt(v).charCodeAt(0)-48;h+=(v&1)===0?3*C:C}h=10-h%10,h===10&&(h=0),u.append(h.toString());let m=t.getFinderPattern().getResultPoints(),p=r.getFinderPattern().getResultPoints();return new ve(u.toString(),null,0,[m[0],m[1],p[0],p[1]],pe.RSS_14,new Date().getTime())}static checkChecksum(t,r){let i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(t,r,i,o){try{let u=this.findFinderPattern(t,r),h=this.parseFoundFinderPattern(t,i,r,u),m=o==null?null:o.get(_e.NEED_RESULT_POINT_CALLBACK);if(m!=null){let C=(u[0]+u[1])/2;r&&(C=t.getSize()-1-C),m.foundPossibleResultPoint(new Ce(C,i))}let p=this.decodeDataCharacter(t,h,!0),v=this.decodeDataCharacter(t,h,!1);return new uo(1597*p.getValue()+v.getValue(),p.getChecksumPortion()+4*v.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(t,r,i){let o=this.getDataCharacterCounters();for(let X=0;X<o.length;X++)o[X]=0;if(i)Ft.recordPatternInReverse(t,r.getStartEnd()[0],o);else{Ft.recordPattern(t,r.getStartEnd()[1]+1,o);for(let X=0,te=o.length-1;X<te;X++,te--){let we=o[X];o[X]=o[te],o[te]=we}}let u=i?16:15,h=ze.sum(new Int32Array(o))/u,m=this.getOddCounts(),p=this.getEvenCounts(),v=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let X=0;X<o.length;X++){let te=o[X]/h,we=Math.floor(te+.5);we<1?we=1:we>8&&(we=8);let ye=Math.floor(X/2);(X&1)===0?(m[ye]=we,v[ye]=te-we):(p[ye]=we,C[ye]=te-we)}this.adjustOddEvenCounts(i,u);let O=0,I=0;for(let X=m.length-1;X>=0;X--)I*=9,I+=m[X],O+=m[X];let k=0,j=0;for(let X=p.length-1;X>=0;X--)k*=9,k+=p[X],j+=p[X];let F=I+3*k;if(i){if((O&1)!==0||O>12||O<4)throw new re;let X=(12-O)/2,te=Ct.OUTSIDE_ODD_WIDEST[X],we=9-te,ye=Sr.getRSSvalue(m,te,!1),ge=Sr.getRSSvalue(p,we,!0),tt=Ct.OUTSIDE_EVEN_TOTAL_SUBSET[X],Ke=Ct.OUTSIDE_GSUM[X];return new Jr(ye*tt+ge+Ke,F)}else{if((j&1)!==0||j>10||j<4)throw new re;let X=(10-j)/2,te=Ct.INSIDE_ODD_WIDEST[X],we=9-te,ye=Sr.getRSSvalue(m,te,!0),ge=Sr.getRSSvalue(p,we,!1),tt=Ct.INSIDE_ODD_TOTAL_SUBSET[X],Ke=Ct.INSIDE_GSUM[X];return new Jr(ge*tt+ye+Ke,F)}}findFinderPattern(t,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=t.getSize(),u=!1,h=0;for(;h<o&&(u=!t.get(h),r!==u);)h++;let m=0,p=h;for(let v=h;v<o;v++)if(t.get(v)!==u)i[m]++;else{if(m===3){if(bn.isFinderPattern(i))return[p,v];p+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,m--}else m++;i[m]=1,u=!u}throw new re}parseFoundFinderPattern(t,r,i,o){let u=t.get(o[0]),h=o[0]-1;for(;h>=0&&u!==t.get(h);)h--;h++;const m=o[0]-h,p=this.getDecodeFinderCounters(),v=new Int32Array(p.length);q.arraycopy(p,0,v,1,p.length-1),v[0]=m;const C=this.parseFinderValue(v,Ct.FINDER_PATTERNS);let O=h,I=o[1];return i&&(O=t.getSize()-1-O,I=t.getSize()-1-I),new $r(C,[h,o[1]],O,I,r)}adjustOddEvenCounts(t,r){let i=ze.sum(new Int32Array(this.getOddCounts())),o=ze.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,m=!1,p=!1;t?(i>12?h=!0:i<4&&(u=!0),o>12?p=!0:o<4&&(m=!0)):(i>11?h=!0:i<5&&(u=!0),o>10?p=!0:o<4&&(m=!0));let v=i+o-r,C=(i&1)===(t?1:0),O=(o&1)===1;if(v===1)if(C){if(O)throw new re;h=!0}else{if(!O)throw new re;p=!0}else if(v===-1)if(C){if(O)throw new re;u=!0}else{if(!O)throw new re;m=!0}else if(v===0){if(C){if(!O)throw new re;i<o?(u=!0,p=!0):(h=!0,m=!0)}else if(O)throw new re}else throw new re;if(u){if(h)throw new re;bn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&bn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(p)throw new re;bn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&bn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ct.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ct.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ct.OUTSIDE_GSUM=[0,161,961,2015,2715],Ct.INSIDE_GSUM=[0,336,1036,1516],Ct.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ct.INSIDE_ODD_WIDEST=[2,4,6,8],Ct.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class hr extends Ft{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const i=t?t.get(_e.POSSIBLE_FORMATS):null,o=t&&t.get(_e.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(pe.EAN_13)||i.includes(pe.UPC_A)||i.includes(pe.EAN_8)||i.includes(pe.UPC_E))&&this.readers.push(new nl(t)),i.includes(pe.CODE_39)&&this.readers.push(new Dt(o)),i.includes(pe.CODE_128)&&this.readers.push(new be),i.includes(pe.ITF)&&this.readers.push(new Je),i.includes(pe.RSS_14)&&this.readers.push(new Ct),i.includes(pe.RSS_EXPANDED)&&this.readers.push(new de(this.verbose))):(this.readers.push(new nl(t)),this.readers.push(new Dt),this.readers.push(new nl(t)),this.readers.push(new be),this.readers.push(new Je),this.readers.push(new Ct),this.readers.push(new de(this.verbose)))}decodeRow(t,r,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,i)}catch{}throw new re}reset(){this.readers.forEach(t=>t.reset())}}class rc extends Ee{constructor(t=500,r){super(new hr(r),t,r)}}class yt{constructor(t,r,i){this.ecCodewords=t,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class mt{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rt{constructor(t,r,i,o,u,h){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=u,this.ecBlocks=h;let m=0;const p=h.getECCodewords(),v=h.getECBlocks();for(let C of v)m+=C.getCount()*(C.getDataCodewords()+p);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if((t&1)!==0||(r&1)!==0)throw new $;for(let i of rt.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===r)return i;throw new $}toString(){return""+this.versionNumber}static buildVersions(){return[new rt(1,10,10,8,8,new yt(5,new mt(1,3))),new rt(2,12,12,10,10,new yt(7,new mt(1,5))),new rt(3,14,14,12,12,new yt(10,new mt(1,8))),new rt(4,16,16,14,14,new yt(12,new mt(1,12))),new rt(5,18,18,16,16,new yt(14,new mt(1,18))),new rt(6,20,20,18,18,new yt(18,new mt(1,22))),new rt(7,22,22,20,20,new yt(20,new mt(1,30))),new rt(8,24,24,22,22,new yt(24,new mt(1,36))),new rt(9,26,26,24,24,new yt(28,new mt(1,44))),new rt(10,32,32,14,14,new yt(36,new mt(1,62))),new rt(11,36,36,16,16,new yt(42,new mt(1,86))),new rt(12,40,40,18,18,new yt(48,new mt(1,114))),new rt(13,44,44,20,20,new yt(56,new mt(1,144))),new rt(14,48,48,22,22,new yt(68,new mt(1,174))),new rt(15,52,52,24,24,new yt(42,new mt(2,102))),new rt(16,64,64,14,14,new yt(56,new mt(2,140))),new rt(17,72,72,16,16,new yt(36,new mt(4,92))),new rt(18,80,80,18,18,new yt(48,new mt(4,114))),new rt(19,88,88,20,20,new yt(56,new mt(4,144))),new rt(20,96,96,22,22,new yt(68,new mt(4,174))),new rt(21,104,104,24,24,new yt(56,new mt(6,136))),new rt(22,120,120,18,18,new yt(68,new mt(6,175))),new rt(23,132,132,20,20,new yt(62,new mt(8,163))),new rt(24,144,144,22,22,new yt(62,new mt(8,156),new mt(2,155))),new rt(25,8,18,6,16,new yt(7,new mt(1,5))),new rt(26,8,32,6,14,new yt(11,new mt(1,10))),new rt(27,12,26,10,24,new yt(14,new mt(1,16))),new rt(28,12,36,10,16,new yt(18,new mt(1,22))),new rt(29,16,36,14,16,new yt(24,new mt(1,32))),new rt(30,16,48,14,22,new yt(28,new mt(1,49)))]}}rt.VERSIONS=rt.buildVersions();class ji{constructor(t){const r=t.getHeight();if(r<8||r>144||(r&1)!==0)throw new $;this.version=ji.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new dt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),i=t.getWidth();return rt.getVersionForDimensions(r,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,o=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let m=!1,p=!1,v=!1,C=!1;do if(i===u&&o===0&&!m)t[r++]=this.readCorner1(u,h)&255,i-=2,o+=2,m=!0;else if(i===u-2&&o===0&&(h&3)!==0&&!p)t[r++]=this.readCorner2(u,h)&255,i-=2,o+=2,p=!0;else if(i===u+4&&o===2&&(h&7)===0&&!v)t[r++]=this.readCorner3(u,h)&255,i-=2,o+=2,v=!0;else if(i===u-2&&o===0&&(h&7)===4&&!C)t[r++]=this.readCorner4(u,h)&255,i-=2,o+=2,C=!0;else{do i<u&&o>=0&&!this.readMappingMatrix.get(o,i)&&(t[r++]=this.readUtah(i,o,u,h)&255),i-=2,o+=2;while(i>=0&&o<h);i+=1,o+=3;do i>=0&&o<h&&!this.readMappingMatrix.get(o,i)&&(t[r++]=this.readUtah(i,o,u,h)&255),i+=2,o-=2;while(i<u&&o>=0);i+=3,o+=1}while(i<u||o<h);if(r!==this.version.getTotalCodewords())throw new $;return t}readModule(t,r,i,o){return t<0&&(t+=i,r+=4-(i+4&7)),r<0&&(r+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,i,o){let u=0;return this.readModule(t-2,r-2,i,o)&&(u|=1),u<<=1,this.readModule(t-2,r-1,i,o)&&(u|=1),u<<=1,this.readModule(t-1,r-2,i,o)&&(u|=1),u<<=1,this.readModule(t-1,r-1,i,o)&&(u|=1),u<<=1,this.readModule(t-1,r,i,o)&&(u|=1),u<<=1,this.readModule(t,r-2,i,o)&&(u|=1),u<<=1,this.readModule(t,r-1,i,o)&&(u|=1),u<<=1,this.readModule(t,r,i,o)&&(u|=1),u}readCorner1(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,1,t,r)&&(i|=1),i<<=1,this.readModule(t-1,2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}readCorner2(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-4,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner3(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-3,t,r)&&(i|=1),i<<=1,this.readModule(1,r-2,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner4(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new N("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=r/o|0,m=i/u|0,p=h*o,v=m*u,C=new dt(v,p);for(let O=0;O<h;++O){const I=O*o;for(let k=0;k<m;++k){const j=k*u;for(let F=0;F<o;++F){const X=O*(o+2)+1+F,te=I+F;for(let we=0;we<u;++we){const ye=k*(u+2)+1+we;if(t.get(ye,X)){const ge=j+we;C.set(ge,te)}}}}}return C}}class Fi{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const i=r.getECBlocks();let o=0;const u=i.getECBlocks();for(let F of u)o+=F.getCount();const h=new Array(o);let m=0;for(let F of u)for(let X=0;X<F.getCount();X++){const te=F.getDataCodewords(),we=i.getECCodewords()+te;h[m++]=new Fi(te,new Uint8Array(we))}const v=h[0].codewords.length-i.getECCodewords(),C=v-1;let O=0;for(let F=0;F<C;F++)for(let X=0;X<m;X++)h[X].codewords[F]=t[O++];const I=r.getVersionNumber()===24,k=I?8:m;for(let F=0;F<k;F++)h[F].codewords[v-1]=t[O++];const j=h[0].codewords.length;for(let F=v;F<j;F++)for(let X=0;X<m;X++){const te=I?(X+8)%m:X,we=I&&te>7?F-1:F;h[te].codewords[we]=t[O++]}if(O!==t.length)throw new N;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class fr{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new N(""+t);let r=0,i=this.bitOffset,o=this.byteOffset;const u=this.bytes;if(i>0){const h=8-i,m=t<h?t:h,p=h-m,v=255>>8-m<<p;r=(u[o]&v)>>p,t-=m,i+=m,i===8&&(i=0,o++)}if(t>0){for(;t>=8;)r=r<<8|u[o]&255,o++,t-=8;if(t>0){const h=8-t,m=255>>h<<h;r=r<<t|(u[o]&m)>>h,i+=t}}return this.bitOffset=i,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var pt;(function(T){T[T.PAD_ENCODE=0]="PAD_ENCODE",T[T.ASCII_ENCODE=1]="ASCII_ENCODE",T[T.C40_ENCODE=2]="C40_ENCODE",T[T.TEXT_ENCODE=3]="TEXT_ENCODE",T[T.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",T[T.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",T[T.BASE256_ENCODE=6]="BASE256_ENCODE"})(pt||(pt={}));class Fr{static decode(t){const r=new fr(t),i=new Ye,o=new Ye,u=new Array;let h=pt.ASCII_ENCODE;do if(h===pt.ASCII_ENCODE)h=this.decodeAsciiSegment(r,i,o);else{switch(h){case pt.C40_ENCODE:this.decodeC40Segment(r,i);break;case pt.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case pt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case pt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case pt.BASE256_ENCODE:this.decodeBase256Segment(r,i,u);break;default:throw new $}h=pt.ASCII_ENCODE}while(h!==pt.PAD_ENCODE&&r.available()>0);return o.length()>0&&i.append(o.toString()),new Ot(t,i.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(t,r,i){let o=!1;do{let u=t.readBits(8);if(u===0)throw new $;if(u<=128)return o&&(u+=128),r.append(String.fromCharCode(u-1)),pt.ASCII_ENCODE;if(u===129)return pt.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&r.append("0"),r.append(""+h)}else switch(u){case 230:return pt.C40_ENCODE;case 231:return pt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return pt.ANSIX12_ENCODE;case 239:return pt.TEXT_ENCODE;case 240:return pt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||t.available()!==0)throw new $;break}}while(t.available()>0);return pt.ASCII_ENCODE}static decodeC40Segment(t,r){let i=!1;const o=[];let u=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),o);for(let m=0;m<3;m++){const p=o[m];switch(u){case 0:if(p<3)u=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[p];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v)}else throw new $;break;case 1:i?(r.append(String.fromCharCode(p+128)),i=!1):r.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[p];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v)}else switch(p){case 27:r.append("");break;case 30:i=!0;break;default:throw new $}u=0;break;case 3:i?(r.append(String.fromCharCode(p+224)),i=!1):r.append(String.fromCharCode(p+96)),u=0;break;default:throw new $}}}while(t.available()>0)}static decodeTextSegment(t,r){let i=!1,o=[],u=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),o);for(let m=0;m<3;m++){const p=o[m];switch(u){case 0:if(p<3)u=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[p];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v)}else throw new $;break;case 1:i?(r.append(String.fromCharCode(p+128)),i=!1):r.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[p];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v)}else switch(p){case 27:r.append("");break;case 30:i=!0;break;default:throw new $}u=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[p];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v),u=0}else throw new $;break;default:throw new $}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const i=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),i);for(let u=0;u<3;u++){const h=i[u];switch(h){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(h<14)r.append(String.fromCharCode(h+44));else if(h<40)r.append(String.fromCharCode(h+51));else throw new $;break}}}while(t.available()>0)}static parseTwoBytes(t,r,i){let o=(t<<8)+r-1,u=Math.floor(o/1600);i[0]=u,o-=u*1600,u=Math.floor(o/40),i[1]=u,i[2]=o-u*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let o=t.readBits(6);if(o===31){const u=8-t.getBitOffset();u!==8&&t.readBits(u);return}(o&32)===0&&(o|=64),r.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,r,i){let o=1+t.getByteOffset();const u=this.unrandomize255State(t.readBits(8),o++);let h;if(u===0?h=t.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(t.readBits(8),o++),h<0)throw new $;const m=new Uint8Array(h);for(let p=0;p<h;p++){if(t.available()<8)throw new $;m[p]=this.unrandomize255State(t.readBits(8),o++)}i.push(m);try{r.append(xt.decode(m,Ae.ISO88591))}catch(p){throw new On("Platform does not support required encoding: "+p.message)}}static unrandomize255State(t,r){const i=149*r%255+1,o=t-i;return o>=0?o:o+256}}Fr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Fr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Fr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Fr.TEXT_SHIFT2_SET_CHARS=Fr.C40_SHIFT2_SET_CHARS,Fr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ic{constructor(){this.rsDecoder=new Ar(ot.DATA_MATRIX_FIELD_256)}decode(t){const r=new ji(t),i=r.getVersion(),o=r.readCodewords(),u=Fi.getDataBlocks(o,i);let h=0;for(let v of u)h+=v.getNumDataCodewords();const m=new Uint8Array(h),p=u.length;for(let v=0;v<p;v++){const C=u[v],O=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(O,I);for(let k=0;k<I;k++)m[k*p+v]=O[k]}return Fr.decode(m)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new L}for(let o=0;o<r;o++)t[o]=i[o]}}class Ht{constructor(t){this.image=t,this.rectangleDetector=new Qt(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new re;r=this.shiftToModuleCenter(r);const i=r[0],o=r[1],u=r[2],h=r[3];let m=this.transitionsBetween(i,h)+1,p=this.transitionsBetween(u,h)+1;(m&1)===1&&(m+=1),(p&1)===1&&(p+=1),4*m<7*p&&4*p<7*m&&(m=p=Math.max(m,p));let v=Ht.sampleGrid(this.image,i,o,u,h,m,p);return new Li(v,[i,o,u,h])}static shiftPoint(t,r,i){let o=(r.getX()-t.getX())/(i+1),u=(r.getY()-t.getY())/(i+1);return new Ce(t.getX()+o,t.getY()+u)}static moveAway(t,r,i){let o=t.getX(),u=t.getY();return o<r?o-=1:o+=1,u<i?u-=1:u+=1,new Ce(o,u)}detectSolid1(t){let r=t[0],i=t[1],o=t[3],u=t[2],h=this.transitionsBetween(r,i),m=this.transitionsBetween(i,o),p=this.transitionsBetween(o,u),v=this.transitionsBetween(u,r),C=h,O=[u,r,i,o];return C>m&&(C=m,O[0]=r,O[1]=i,O[2]=o,O[3]=u),C>p&&(C=p,O[0]=i,O[1]=o,O[2]=u,O[3]=r),C>v&&(O[0]=o,O[1]=u,O[2]=r,O[3]=i),O}detectSolid2(t){let r=t[0],i=t[1],o=t[2],u=t[3],h=this.transitionsBetween(r,u),m=Ht.shiftPoint(i,o,(h+1)*4),p=Ht.shiftPoint(o,i,(h+1)*4),v=this.transitionsBetween(m,r),C=this.transitionsBetween(p,u);return v<C?(t[0]=r,t[1]=i,t[2]=o,t[3]=u):(t[0]=i,t[1]=o,t[2]=u,t[3]=r),t}correctTopRight(t){let r=t[0],i=t[1],o=t[2],u=t[3],h=this.transitionsBetween(r,u),m=this.transitionsBetween(i,u),p=Ht.shiftPoint(r,i,(m+1)*4),v=Ht.shiftPoint(o,i,(h+1)*4);h=this.transitionsBetween(p,u),m=this.transitionsBetween(v,u);let C=new Ce(u.getX()+(o.getX()-i.getX())/(h+1),u.getY()+(o.getY()-i.getY())/(h+1)),O=new Ce(u.getX()+(r.getX()-i.getX())/(m+1),u.getY()+(r.getY()-i.getY())/(m+1));if(!this.isValid(C))return this.isValid(O)?O:null;if(!this.isValid(O))return C;let I=this.transitionsBetween(p,C)+this.transitionsBetween(v,C),k=this.transitionsBetween(p,O)+this.transitionsBetween(v,O);return I>k?C:O}shiftToModuleCenter(t){let r=t[0],i=t[1],o=t[2],u=t[3],h=this.transitionsBetween(r,u)+1,m=this.transitionsBetween(o,u)+1,p=Ht.shiftPoint(r,i,m*4),v=Ht.shiftPoint(o,i,h*4);h=this.transitionsBetween(p,u)+1,m=this.transitionsBetween(v,u)+1,(h&1)===1&&(h+=1),(m&1)===1&&(m+=1);let C=(r.getX()+i.getX()+o.getX()+u.getX())/4,O=(r.getY()+i.getY()+o.getY()+u.getY())/4;r=Ht.moveAway(r,C,O),i=Ht.moveAway(i,C,O),o=Ht.moveAway(o,C,O),u=Ht.moveAway(u,C,O);let I,k;return p=Ht.shiftPoint(r,i,m*4),p=Ht.shiftPoint(p,u,h*4),I=Ht.shiftPoint(i,r,m*4),I=Ht.shiftPoint(I,o,h*4),v=Ht.shiftPoint(o,u,m*4),v=Ht.shiftPoint(v,i,h*4),k=Ht.shiftPoint(u,o,m*4),k=Ht.shiftPoint(k,r,h*4),[p,I,v,k]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,i,o,u,h,m){return ur.getInstance().sampleGrid(t,h,m,.5,.5,h-.5,.5,h-.5,m-.5,.5,m-.5,r.getX(),r.getY(),u.getX(),u.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(t,r){let i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),u=Math.trunc(r.getX()),h=Math.trunc(r.getY()),m=Math.abs(h-o)>Math.abs(u-i);if(m){let F=i;i=o,o=F,F=u,u=h,h=F}let p=Math.abs(u-i),v=Math.abs(h-o),C=-p/2,O=o<h?1:-1,I=i<u?1:-1,k=0,j=this.image.get(m?o:i,m?i:o);for(let F=i,X=o;F!==u;F+=I){let te=this.image.get(m?X:F,m?F:X);if(te!==j&&(k++,j=te),C+=v,C>0){if(X===h)break;X+=O,C-=p}}return k}}class zr{constructor(){this.decoder=new ic}decode(t,r=null){let i,o;if(r!=null&&r.has(_e.PURE_BARCODE)){const v=zr.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(v),o=zr.NO_POINTS}else{const v=new Ht(t.getBlackMatrix()).detect();i=this.decoder.decode(v.getBits()),o=v.getPoints()}const u=i.getRawBytes(),h=new ve(i.getText(),u,8*u.length,o,pe.DATA_MATRIX,q.currentTimeMillis()),m=i.getByteSegments();m!=null&&h.putMetadata(lt.BYTE_SEGMENTS,m);const p=i.getECLevel();return p!=null&&h.putMetadata(lt.ERROR_CORRECTION_LEVEL,p),h}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r==null||i==null)throw new re;const o=this.moduleSize(r,t);let u=r[1];const h=i[1];let m=r[0];const v=(i[0]-m+1)/o,C=(h-u+1)/o;if(v<=0||C<=0)throw new re;const O=o/2;u+=O,m+=O;const I=new dt(v,C);for(let k=0;k<C;k++){const j=u+k*o;for(let F=0;F<v;F++)t.get(m+F*o,j)&&I.set(F,k)}return I}static moduleSize(t,r){const i=r.getWidth();let o=t[0];const u=t[1];for(;o<i&&r.get(o,u);)o++;if(o===i)throw new re;const h=o-t[0];if(h===0)throw new re;return h}}zr.NO_POINTS=[];class ra extends Ee{constructor(t=500){super(new zr,t)}}var zi;(function(T){T[T.L=0]="L",T[T.M=1]="M",T[T.Q=2]="Q",T[T.H=3]="H"})(zi||(zi={}));class nt{constructor(t,r,i){this.value=t,this.stringValue=r,this.bits=i,nt.FOR_BITS.set(i,this),nt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return nt.L;case"M":return nt.M;case"Q":return nt.Q;case"H":return nt.H;default:throw new R(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof nt))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=nt.FOR_BITS.size)throw new N;return nt.FOR_BITS.get(t)}}nt.FOR_BITS=new Map,nt.FOR_VALUE=new Map,nt.L=new nt(zi.L,"L",1),nt.M=new nt(zi.M,"M",0),nt.Q=new nt(zi.Q,"Q",3),nt.H=new nt(zi.H,"H",2);class fn{constructor(t){this.errorCorrectionLevel=nt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return Y.bitCount(t^r)}static decodeFormatInformation(t,r){const i=fn.doDecodeFormatInformation(t,r);return i!==null?i:fn.doDecodeFormatInformation(t^fn.FORMAT_INFO_MASK_QR,r^fn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let i=Number.MAX_SAFE_INTEGER,o=0;for(const u of fn.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===t||h===r)return new fn(u[1]);let m=fn.numBitsDiffering(t,h);m<i&&(o=u[1],i=m),t!==r&&(m=fn.numBitsDiffering(r,h),m<i&&(o=u[1],i=m))}return i<=3?new fn(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof fn))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}fn.FORMAT_INFO_MASK_QR=21522,fn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const i of r)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ie{constructor(t,r,...i){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=i;let o=0;const u=i[0].getECCodewordsPerBlock(),h=i[0].getECBlocks();for(const m of h)o+=m.getCount()*(m.getDataCodewords()+u);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new $;try{return this.getVersionForNumber((t-17)/4)}catch{throw new $}}static getVersionForNumber(t){if(t<1||t>40)throw new N;return Ie.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<Ie.VERSION_DECODE_INFO.length;o++){const u=Ie.VERSION_DECODE_INFO[o];if(u===t)return Ie.getVersionForNumber(o+7);const h=fn.numBitsDiffering(t,u);h<r&&(i=o+7,r=h)}return r<=3?Ie.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new dt(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const u=this.alignmentPatternCenters[o]-2;for(let h=0;h<i;h++)o===0&&(h===0||h===i-1)||o===i-1&&h===0||r.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}Ie.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ie.VERSIONS=[new Ie(1,new Int32Array(0),new K(7,new M(1,19)),new K(10,new M(1,16)),new K(13,new M(1,13)),new K(17,new M(1,9))),new Ie(2,Int32Array.from([6,18]),new K(10,new M(1,34)),new K(16,new M(1,28)),new K(22,new M(1,22)),new K(28,new M(1,16))),new Ie(3,Int32Array.from([6,22]),new K(15,new M(1,55)),new K(26,new M(1,44)),new K(18,new M(2,17)),new K(22,new M(2,13))),new Ie(4,Int32Array.from([6,26]),new K(20,new M(1,80)),new K(18,new M(2,32)),new K(26,new M(2,24)),new K(16,new M(4,9))),new Ie(5,Int32Array.from([6,30]),new K(26,new M(1,108)),new K(24,new M(2,43)),new K(18,new M(2,15),new M(2,16)),new K(22,new M(2,11),new M(2,12))),new Ie(6,Int32Array.from([6,34]),new K(18,new M(2,68)),new K(16,new M(4,27)),new K(24,new M(4,19)),new K(28,new M(4,15))),new Ie(7,Int32Array.from([6,22,38]),new K(20,new M(2,78)),new K(18,new M(4,31)),new K(18,new M(2,14),new M(4,15)),new K(26,new M(4,13),new M(1,14))),new Ie(8,Int32Array.from([6,24,42]),new K(24,new M(2,97)),new K(22,new M(2,38),new M(2,39)),new K(22,new M(4,18),new M(2,19)),new K(26,new M(4,14),new M(2,15))),new Ie(9,Int32Array.from([6,26,46]),new K(30,new M(2,116)),new K(22,new M(3,36),new M(2,37)),new K(20,new M(4,16),new M(4,17)),new K(24,new M(4,12),new M(4,13))),new Ie(10,Int32Array.from([6,28,50]),new K(18,new M(2,68),new M(2,69)),new K(26,new M(4,43),new M(1,44)),new K(24,new M(6,19),new M(2,20)),new K(28,new M(6,15),new M(2,16))),new Ie(11,Int32Array.from([6,30,54]),new K(20,new M(4,81)),new K(30,new M(1,50),new M(4,51)),new K(28,new M(4,22),new M(4,23)),new K(24,new M(3,12),new M(8,13))),new Ie(12,Int32Array.from([6,32,58]),new K(24,new M(2,92),new M(2,93)),new K(22,new M(6,36),new M(2,37)),new K(26,new M(4,20),new M(6,21)),new K(28,new M(7,14),new M(4,15))),new Ie(13,Int32Array.from([6,34,62]),new K(26,new M(4,107)),new K(22,new M(8,37),new M(1,38)),new K(24,new M(8,20),new M(4,21)),new K(22,new M(12,11),new M(4,12))),new Ie(14,Int32Array.from([6,26,46,66]),new K(30,new M(3,115),new M(1,116)),new K(24,new M(4,40),new M(5,41)),new K(20,new M(11,16),new M(5,17)),new K(24,new M(11,12),new M(5,13))),new Ie(15,Int32Array.from([6,26,48,70]),new K(22,new M(5,87),new M(1,88)),new K(24,new M(5,41),new M(5,42)),new K(30,new M(5,24),new M(7,25)),new K(24,new M(11,12),new M(7,13))),new Ie(16,Int32Array.from([6,26,50,74]),new K(24,new M(5,98),new M(1,99)),new K(28,new M(7,45),new M(3,46)),new K(24,new M(15,19),new M(2,20)),new K(30,new M(3,15),new M(13,16))),new Ie(17,Int32Array.from([6,30,54,78]),new K(28,new M(1,107),new M(5,108)),new K(28,new M(10,46),new M(1,47)),new K(28,new M(1,22),new M(15,23)),new K(28,new M(2,14),new M(17,15))),new Ie(18,Int32Array.from([6,30,56,82]),new K(30,new M(5,120),new M(1,121)),new K(26,new M(9,43),new M(4,44)),new K(28,new M(17,22),new M(1,23)),new K(28,new M(2,14),new M(19,15))),new Ie(19,Int32Array.from([6,30,58,86]),new K(28,new M(3,113),new M(4,114)),new K(26,new M(3,44),new M(11,45)),new K(26,new M(17,21),new M(4,22)),new K(26,new M(9,13),new M(16,14))),new Ie(20,Int32Array.from([6,34,62,90]),new K(28,new M(3,107),new M(5,108)),new K(26,new M(3,41),new M(13,42)),new K(30,new M(15,24),new M(5,25)),new K(28,new M(15,15),new M(10,16))),new Ie(21,Int32Array.from([6,28,50,72,94]),new K(28,new M(4,116),new M(4,117)),new K(26,new M(17,42)),new K(28,new M(17,22),new M(6,23)),new K(30,new M(19,16),new M(6,17))),new Ie(22,Int32Array.from([6,26,50,74,98]),new K(28,new M(2,111),new M(7,112)),new K(28,new M(17,46)),new K(30,new M(7,24),new M(16,25)),new K(24,new M(34,13))),new Ie(23,Int32Array.from([6,30,54,78,102]),new K(30,new M(4,121),new M(5,122)),new K(28,new M(4,47),new M(14,48)),new K(30,new M(11,24),new M(14,25)),new K(30,new M(16,15),new M(14,16))),new Ie(24,Int32Array.from([6,28,54,80,106]),new K(30,new M(6,117),new M(4,118)),new K(28,new M(6,45),new M(14,46)),new K(30,new M(11,24),new M(16,25)),new K(30,new M(30,16),new M(2,17))),new Ie(25,Int32Array.from([6,32,58,84,110]),new K(26,new M(8,106),new M(4,107)),new K(28,new M(8,47),new M(13,48)),new K(30,new M(7,24),new M(22,25)),new K(30,new M(22,15),new M(13,16))),new Ie(26,Int32Array.from([6,30,58,86,114]),new K(28,new M(10,114),new M(2,115)),new K(28,new M(19,46),new M(4,47)),new K(28,new M(28,22),new M(6,23)),new K(30,new M(33,16),new M(4,17))),new Ie(27,Int32Array.from([6,34,62,90,118]),new K(30,new M(8,122),new M(4,123)),new K(28,new M(22,45),new M(3,46)),new K(30,new M(8,23),new M(26,24)),new K(30,new M(12,15),new M(28,16))),new Ie(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new M(3,117),new M(10,118)),new K(28,new M(3,45),new M(23,46)),new K(30,new M(4,24),new M(31,25)),new K(30,new M(11,15),new M(31,16))),new Ie(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new M(7,116),new M(7,117)),new K(28,new M(21,45),new M(7,46)),new K(30,new M(1,23),new M(37,24)),new K(30,new M(19,15),new M(26,16))),new Ie(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new M(5,115),new M(10,116)),new K(28,new M(19,47),new M(10,48)),new K(30,new M(15,24),new M(25,25)),new K(30,new M(23,15),new M(25,16))),new Ie(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new M(13,115),new M(3,116)),new K(28,new M(2,46),new M(29,47)),new K(30,new M(42,24),new M(1,25)),new K(30,new M(23,15),new M(28,16))),new Ie(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new M(17,115)),new K(28,new M(10,46),new M(23,47)),new K(30,new M(10,24),new M(35,25)),new K(30,new M(19,15),new M(35,16))),new Ie(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new M(17,115),new M(1,116)),new K(28,new M(14,46),new M(21,47)),new K(30,new M(29,24),new M(19,25)),new K(30,new M(11,15),new M(46,16))),new Ie(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new M(13,115),new M(6,116)),new K(28,new M(14,46),new M(23,47)),new K(30,new M(44,24),new M(7,25)),new K(30,new M(59,16),new M(1,17))),new Ie(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new M(12,121),new M(7,122)),new K(28,new M(12,47),new M(26,48)),new K(30,new M(39,24),new M(14,25)),new K(30,new M(22,15),new M(41,16))),new Ie(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new M(6,121),new M(14,122)),new K(28,new M(6,47),new M(34,48)),new K(30,new M(46,24),new M(10,25)),new K(30,new M(2,15),new M(64,16))),new Ie(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new M(17,122),new M(4,123)),new K(28,new M(29,46),new M(14,47)),new K(30,new M(49,24),new M(10,25)),new K(30,new M(24,15),new M(46,16))),new Ie(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new M(4,122),new M(18,123)),new K(28,new M(13,46),new M(32,47)),new K(30,new M(48,24),new M(14,25)),new K(30,new M(42,15),new M(32,16))),new Ie(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new M(20,117),new M(4,118)),new K(28,new M(40,47),new M(7,48)),new K(30,new M(43,24),new M(22,25)),new K(30,new M(10,15),new M(67,16))),new Ie(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new M(19,118),new M(6,119)),new K(28,new M(18,47),new M(31,48)),new K(30,new M(34,24),new M(34,25)),new K(30,new M(20,15),new M(61,16)))];var on;(function(T){T[T.DATA_MASK_000=0]="DATA_MASK_000",T[T.DATA_MASK_001=1]="DATA_MASK_001",T[T.DATA_MASK_010=2]="DATA_MASK_010",T[T.DATA_MASK_011=3]="DATA_MASK_011",T[T.DATA_MASK_100=4]="DATA_MASK_100",T[T.DATA_MASK_101=5]="DATA_MASK_101",T[T.DATA_MASK_110=6]="DATA_MASK_110",T[T.DATA_MASK_111=7]="DATA_MASK_111"})(on||(on={}));class Vn{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let i=0;i<r;i++)for(let o=0;o<r;o++)this.isMasked(i,o)&&t.flip(o,i)}}Vn.values=new Map([[on.DATA_MASK_000,new Vn(on.DATA_MASK_000,(T,t)=>(T+t&1)===0)],[on.DATA_MASK_001,new Vn(on.DATA_MASK_001,(T,t)=>(T&1)===0)],[on.DATA_MASK_010,new Vn(on.DATA_MASK_010,(T,t)=>t%3===0)],[on.DATA_MASK_011,new Vn(on.DATA_MASK_011,(T,t)=>(T+t)%3===0)],[on.DATA_MASK_100,new Vn(on.DATA_MASK_100,(T,t)=>(Math.floor(T/2)+Math.floor(t/3)&1)===0)],[on.DATA_MASK_101,new Vn(on.DATA_MASK_101,(T,t)=>T*t%6===0)],[on.DATA_MASK_110,new Vn(on.DATA_MASK_110,(T,t)=>T*t%6<3)],[on.DATA_MASK_111,new Vn(on.DATA_MASK_111,(T,t)=>(T+t+T*t%3&1)===0)]]);class Hi{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new $;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let u=0;u<6;u++)t=this.copyBit(u,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let u=5;u>=0;u--)t=this.copyBit(8,u,t);const r=this.bitMatrix.getHeight();let i=0;const o=r-7;for(let u=r-1;u>=o;u--)i=this.copyBit(8,u,i);for(let u=r-8;u<r;u++)i=this.copyBit(u,8,i);if(this.parsedFormatInfo=fn.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new $}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return Ie.getVersionForNumber(r);let i=0;const o=t-11;for(let h=5;h>=0;h--)for(let m=t-9;m>=o;m--)i=this.copyBit(m,h,i);let u=Ie.decodeVersionInformation(i);if(u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;i=0;for(let h=5;h>=0;h--)for(let m=t-9;m>=o;m--)i=this.copyBit(h,m,i);if(u=Ie.decodeVersionInformation(i),u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;throw new $}copyBit(t,r,i){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),i=Vn.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const u=r.buildFunctionPattern();let h=!0;const m=new Uint8Array(r.getTotalCodewords());let p=0,v=0,C=0;for(let O=o-1;O>0;O-=2){O===6&&O--;for(let I=0;I<o;I++){const k=h?o-1-I:I;for(let j=0;j<2;j++)u.get(O-j,k)||(C++,v<<=1,this.bitMatrix.get(O-j,k)&&(v|=1),C===8&&(m[p++]=v,C=0,v=0))}h=!h}if(p!==r.getTotalCodewords())throw new $;return m}remask(){if(this.parsedFormatInfo===null)return;const t=Vn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,i=t.getWidth();r<i;r++)for(let o=r+1,u=t.getHeight();o<u;o++)t.get(r,o)!==t.get(o,r)&&(t.flip(o,r),t.flip(r,o))}}class rl{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,i){if(t.length!==r.getTotalCodewords())throw new N;const o=r.getECBlocksForLevel(i);let u=0;const h=o.getECBlocks();for(const j of h)u+=j.getCount();const m=new Array(u);let p=0;for(const j of h)for(let F=0;F<j.getCount();F++){const X=j.getDataCodewords(),te=o.getECCodewordsPerBlock()+X;m[p++]=new rl(X,new Uint8Array(te))}const v=m[0].codewords.length;let C=m.length-1;for(;C>=0&&m[C].codewords.length!==v;)C--;C++;const O=v-o.getECCodewordsPerBlock();let I=0;for(let j=0;j<O;j++)for(let F=0;F<p;F++)m[F].codewords[j]=t[I++];for(let j=C;j<p;j++)m[j].codewords[O]=t[I++];const k=m[0].codewords.length;for(let j=O;j<k;j++)for(let F=0;F<p;F++){const X=F<C?j:j+1;m[F].codewords[X]=t[I++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Xn;(function(T){T[T.TERMINATOR=0]="TERMINATOR",T[T.NUMERIC=1]="NUMERIC",T[T.ALPHANUMERIC=2]="ALPHANUMERIC",T[T.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",T[T.BYTE=4]="BYTE",T[T.ECI=5]="ECI",T[T.KANJI=6]="KANJI",T[T.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",T[T.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",T[T.HANZI=9]="HANZI"})(Xn||(Xn={}));class Le{constructor(t,r,i,o){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=o,Le.FOR_BITS.set(o,this),Le.FOR_VALUE.set(t,this)}static forBits(t){const r=Le.FOR_BITS.get(t);if(r===void 0)throw new N;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Le))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}Le.FOR_BITS=new Map,Le.FOR_VALUE=new Map,Le.TERMINATOR=new Le(Xn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Le.NUMERIC=new Le(Xn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Le.ALPHANUMERIC=new Le(Xn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Le.STRUCTURED_APPEND=new Le(Xn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Le.BYTE=new Le(Xn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Le.ECI=new Le(Xn.ECI,"ECI",Int32Array.from([0,0,0]),7),Le.KANJI=new Le(Xn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Le.FNC1_FIRST_POSITION=new Le(Xn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Le.FNC1_SECOND_POSITION=new Le(Xn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Le.HANZI=new Le(Xn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Lt{static decode(t,r,i,o){const u=new fr(t);let h=new Ye;const m=new Array;let p=-1,v=-1;try{let C=null,O=!1,I;do{if(u.available()<4)I=Le.TERMINATOR;else{const k=u.readBits(4);I=Le.forBits(k)}switch(I){case Le.TERMINATOR:break;case Le.FNC1_FIRST_POSITION:case Le.FNC1_SECOND_POSITION:O=!0;break;case Le.STRUCTURED_APPEND:if(u.available()<16)throw new $;p=u.readBits(8),v=u.readBits(8);break;case Le.ECI:const k=Lt.parseECIValue(u);if(C=fe.getCharacterSetECIByValue(k),C===null)throw new $;break;case Le.HANZI:const j=u.readBits(4),F=u.readBits(I.getCharacterCountBits(r));j===Lt.GB2312_SUBSET&&Lt.decodeHanziSegment(u,h,F);break;default:const X=u.readBits(I.getCharacterCountBits(r));switch(I){case Le.NUMERIC:Lt.decodeNumericSegment(u,h,X);break;case Le.ALPHANUMERIC:Lt.decodeAlphanumericSegment(u,h,X,O);break;case Le.BYTE:Lt.decodeByteSegment(u,h,X,C,m,o);break;case Le.KANJI:Lt.decodeKanjiSegment(u,h,X);break;default:throw new $}break}}while(I!==Le.TERMINATOR)}catch{throw new $}return new Ot(t,h.toString(),m.length===0?null:m,i===null?null:i.toString(),p,v)}static decodeHanziSegment(t,r,i){if(i*13>t.available())throw new $;const o=new Uint8Array(2*i);let u=0;for(;i>0;){const h=t.readBits(13);let m=h/96<<8&4294967295|h%96;m<959?m+=41377:m+=42657,o[u]=m>>8&255,o[u+1]=m&255,u+=2,i--}try{r.append(xt.decode(o,Ae.GB2312))}catch(h){throw new $(h)}}static decodeKanjiSegment(t,r,i){if(i*13>t.available())throw new $;const o=new Uint8Array(2*i);let u=0;for(;i>0;){const h=t.readBits(13);let m=h/192<<8&4294967295|h%192;m<7936?m+=33088:m+=49472,o[u]=m>>8,o[u+1]=m,u+=2,i--}try{r.append(xt.decode(o,Ae.SHIFT_JIS))}catch(h){throw new $(h)}}static decodeByteSegment(t,r,i,o,u,h){if(8*i>t.available())throw new $;const m=new Uint8Array(i);for(let v=0;v<i;v++)m[v]=t.readBits(8);let p;o===null?p=Ae.guessEncoding(m,h):p=o.getName();try{r.append(xt.decode(m,p))}catch(v){throw new $(v)}u.push(m)}static toAlphaNumericChar(t){if(t>=Lt.ALPHANUMERIC_CHARS.length)throw new $;return Lt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,i,o){const u=r.length();for(;i>1;){if(t.available()<11)throw new $;const h=t.readBits(11);r.append(Lt.toAlphaNumericChar(Math.floor(h/45))),r.append(Lt.toAlphaNumericChar(h%45)),i-=2}if(i===1){if(t.available()<6)throw new $;r.append(Lt.toAlphaNumericChar(t.readBits(6)))}if(o)for(let h=u;h<r.length();h++)r.charAt(h)==="%"&&(h<r.length()-1&&r.charAt(h+1)==="%"?r.deleteCharAt(h+1):r.setCharAt(h,""))}static decodeNumericSegment(t,r,i){for(;i>=3;){if(t.available()<10)throw new $;const o=t.readBits(10);if(o>=1e3)throw new $;r.append(Lt.toAlphaNumericChar(Math.floor(o/100))),r.append(Lt.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(Lt.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(t.available()<7)throw new $;const o=t.readBits(7);if(o>=100)throw new $;r.append(Lt.toAlphaNumericChar(Math.floor(o/10))),r.append(Lt.toAlphaNumericChar(o%10))}else if(i===1){if(t.available()<4)throw new $;const o=t.readBits(4);if(o>=10)throw new $;r.append(Lt.toAlphaNumericChar(o))}}static parseECIValue(t){const r=t.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){const i=t.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=t.readBits(16);return(r&31)<<16&4294967295|i}throw new $}}Lt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Lt.GB2312_SUBSET=1;class co{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class sc{constructor(){this.rsDecoder=new Ar(ot.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(dt.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const i=new Hi(t);let o=null;try{return this.decodeBitMatrixParser(i,r)}catch(u){o=u}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const u=this.decodeBitMatrixParser(i,r);return u.setOther(new co(!0)),u}catch(u){throw o!==null?o:u}}decodeBitMatrixParser(t,r){const i=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),h=rl.getDataBlocks(u,i,o);let m=0;for(const C of h)m+=C.getNumDataCodewords();const p=new Uint8Array(m);let v=0;for(const C of h){const O=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(O,I);for(let k=0;k<I;k++)p[v++]=O[k]}return Lt.decode(p,i,o,r)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new L}for(let o=0;o<r;o++)t[o]=i[o]}}class qi extends Ce{constructor(t,r,i){super(t,r),this.estimatedModuleSize=i}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const o=(this.getX()+r)/2,u=(this.getY()+t)/2,h=(this.estimatedModuleSize+i)/2;return new qi(o,u,h)}}class Jn{constructor(t,r,i,o,u,h,m){this.image=t,this.startX=r,this.startY=i,this.width=o,this.height=u,this.moduleSize=h,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,i=this.width,o=t+i,u=this.startY+r/2,h=new Int32Array(3),m=this.image;for(let p=0;p<r;p++){const v=u+((p&1)===0?Math.floor((p+1)/2):-Math.floor((p+1)/2));h[0]=0,h[1]=0,h[2]=0;let C=t;for(;C<o&&!m.get(C,v);)C++;let O=0;for(;C<o;){if(m.get(C,v))if(O===1)h[1]++;else if(O===2){if(this.foundPatternCross(h)){const I=this.handlePossibleCenter(h,v,C);if(I!==null)return I}h[0]=h[2],h[1]=1,h[2]=0,O=1}else h[++O]++;else O===1&&O++,h[O]++;C++}if(this.foundPatternCross(h)){const I=this.handlePossibleCenter(h,v,o);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,i=r/2;for(let o=0;o<3;o++)if(Math.abs(r-t[o])>=i)return!1;return!0}crossCheckVertical(t,r,i,o){const u=this.image,h=u.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let p=t;for(;p>=0&&u.get(r,p)&&m[1]<=i;)m[1]++,p--;if(p<0||m[1]>i)return NaN;for(;p>=0&&!u.get(r,p)&&m[0]<=i;)m[0]++,p--;if(m[0]>i)return NaN;for(p=t+1;p<h&&u.get(r,p)&&m[1]<=i;)m[1]++,p++;if(p===h||m[1]>i)return NaN;for(;p<h&&!u.get(r,p)&&m[2]<=i;)m[2]++,p++;if(m[2]>i)return NaN;const v=m[0]+m[1]+m[2];return 5*Math.abs(v-o)>=2*o?NaN:this.foundPatternCross(m)?Jn.centerFromEnd(m,p):NaN}handlePossibleCenter(t,r,i){const o=t[0]+t[1]+t[2],u=Jn.centerFromEnd(t,i),h=this.crossCheckVertical(r,u,2*t[1],o);if(!isNaN(h)){const m=(t[0]+t[1]+t[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(m,h,u))return v.combineEstimate(h,u,m);const p=new qi(u,h,m);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class Cs extends Ce{constructor(t,r,i,o){super(t,r),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const o=this.count+1,u=(this.count*this.getX()+r)/o,h=(this.count*this.getY()+t)/o,m=(this.count*this.estimatedModuleSize+i)/o;return new Cs(u,h,m,o)}}class il{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class qt{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(_e.TRY_HARDER)!==void 0,i=t!=null&&t.get(_e.PURE_BARCODE)!==void 0,o=this.image,u=o.getHeight(),h=o.getWidth();let m=Math.floor(3*u/(4*qt.MAX_MODULES));(m<qt.MIN_SKIP||r)&&(m=qt.MIN_SKIP);let p=!1;const v=new Int32Array(5);for(let O=m-1;O<u&&!p;O+=m){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let I=0;for(let k=0;k<h;k++)if(o.get(k,O))(I&1)===1&&I++,v[I]++;else if((I&1)===0)if(I===4)if(qt.foundPatternCross(v)){if(this.handlePossibleCenter(v,O,k,i)===!0)if(m=2,this.hasSkipped===!0)p=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>v[2]&&(O+=F-v[2]-m,k=h-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,I=3;continue}I=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,I=3;else v[++I]++;else v[I]++;qt.foundPatternCross(v)&&this.handlePossibleCenter(v,O,h,i)===!0&&(m=v[0],this.hasSkipped&&(p=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Ce.orderBestPatterns(C),new il(C)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let u=0;u<5;u++){const h=t[u];if(h===0)return!1;r+=h}if(r<7)return!1;const i=r/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,i,o){const u=this.getCrossCheckStateCount();let h=0;const m=this.image;for(;t>=h&&r>=h&&m.get(r-h,t-h);)u[2]++,h++;if(t<h||r<h)return!1;for(;t>=h&&r>=h&&!m.get(r-h,t-h)&&u[1]<=i;)u[1]++,h++;if(t<h||r<h||u[1]>i)return!1;for(;t>=h&&r>=h&&m.get(r-h,t-h)&&u[0]<=i;)u[0]++,h++;if(u[0]>i)return!1;const p=m.getHeight(),v=m.getWidth();for(h=1;t+h<p&&r+h<v&&m.get(r+h,t+h);)u[2]++,h++;if(t+h>=p||r+h>=v)return!1;for(;t+h<p&&r+h<v&&!m.get(r+h,t+h)&&u[3]<i;)u[3]++,h++;if(t+h>=p||r+h>=v||u[3]>=i)return!1;for(;t+h<p&&r+h<v&&m.get(r+h,t+h)&&u[4]<i;)u[4]++,h++;if(u[4]>=i)return!1;const C=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(C-o)<2*o&&qt.foundPatternCross(u)}crossCheckVertical(t,r,i,o){const u=this.image,h=u.getHeight(),m=this.getCrossCheckStateCount();let p=t;for(;p>=0&&u.get(r,p);)m[2]++,p--;if(p<0)return NaN;for(;p>=0&&!u.get(r,p)&&m[1]<=i;)m[1]++,p--;if(p<0||m[1]>i)return NaN;for(;p>=0&&u.get(r,p)&&m[0]<=i;)m[0]++,p--;if(m[0]>i)return NaN;for(p=t+1;p<h&&u.get(r,p);)m[2]++,p++;if(p===h)return NaN;for(;p<h&&!u.get(r,p)&&m[3]<i;)m[3]++,p++;if(p===h||m[3]>=i)return NaN;for(;p<h&&u.get(r,p)&&m[4]<i;)m[4]++,p++;if(m[4]>=i)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-o)>=2*o?NaN:qt.foundPatternCross(m)?qt.centerFromEnd(m,p):NaN}crossCheckHorizontal(t,r,i,o){const u=this.image,h=u.getWidth(),m=this.getCrossCheckStateCount();let p=t;for(;p>=0&&u.get(p,r);)m[2]++,p--;if(p<0)return NaN;for(;p>=0&&!u.get(p,r)&&m[1]<=i;)m[1]++,p--;if(p<0||m[1]>i)return NaN;for(;p>=0&&u.get(p,r)&&m[0]<=i;)m[0]++,p--;if(m[0]>i)return NaN;for(p=t+1;p<h&&u.get(p,r);)m[2]++,p++;if(p===h)return NaN;for(;p<h&&!u.get(p,r)&&m[3]<i;)m[3]++,p++;if(p===h||m[3]>=i)return NaN;for(;p<h&&u.get(p,r)&&m[4]<i;)m[4]++,p++;if(m[4]>=i)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-o)>=o?NaN:qt.foundPatternCross(m)?qt.centerFromEnd(m,p):NaN}handlePossibleCenter(t,r,i,o){const u=t[0]+t[1]+t[2]+t[3]+t[4];let h=qt.centerFromEnd(t,i),m=this.crossCheckVertical(r,Math.floor(h),t[2],u);if(!isNaN(m)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(m),t[2],u),!isNaN(h)&&(!o||this.crossCheckDiagonal(Math.floor(m),Math.floor(h),t[2],u)))){const p=u/7;let v=!1;const C=this.possibleCenters;for(let O=0,I=C.length;O<I;O++){const k=C[O];if(k.aboutEquals(p,m,h)){C[O]=k.combineEstimate(m,h,p),v=!0;break}}if(!v){const O=new Cs(h,m,p);C.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const i of this.possibleCenters)if(i.getCount()>=qt.CENTER_QUORUM)if(r==null)r=i;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const i=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=qt.CENTER_QUORUM&&(t++,r+=h.getEstimatedModuleSize());if(t<3)return!1;const o=r/i;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-o);return u<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new re;const r=this.possibleCenters;let i;if(t>3){let o=0,u=0;for(const p of this.possibleCenters){const v=p.getEstimatedModuleSize();o+=v,u+=v*v}i=o/t;let h=Math.sqrt(u/t-i*i);r.sort((p,v)=>{const C=Math.abs(v.getEstimatedModuleSize()-i),O=Math.abs(p.getEstimatedModuleSize()-i);return C<O?-1:C>O?1:0});const m=Math.max(.2*i,h);for(let p=0;p<r.length&&r.length>3;p++){const v=r[p];Math.abs(v.getEstimatedModuleSize()-i)>m&&(r.splice(p,1),p--)}}if(r.length>3){let o=0;for(const u of r)o+=u.getEstimatedModuleSize();i=o/r.length,r.sort((u,h)=>{if(h.getCount()===u.getCount()){const m=Math.abs(h.getEstimatedModuleSize()-i),p=Math.abs(u.getEstimatedModuleSize()-i);return m<p?1:m>p?-1:0}else return h.getCount()-u.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}qt.CENTER_QUORUM=2,qt.MIN_SKIP=3,qt.MAX_MODULES=57;class Or{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(_e.NEED_RESULT_POINT_CALLBACK);const i=new qt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const r=t.getTopLeft(),i=t.getTopRight(),o=t.getBottomLeft(),u=this.calculateModuleSize(r,i,o);if(u<1)throw new re("No pattern found in proccess finder.");const h=Or.computeDimension(r,i,o,u),m=Ie.getProvisionalVersionForDimension(h),p=m.getDimensionForVersion()-7;let v=null;if(m.getAlignmentPatternCenters().length>0){const k=i.getX()-r.getX()+o.getX(),j=i.getY()-r.getY()+o.getY(),F=1-3/p,X=Math.floor(r.getX()+F*(k-r.getX())),te=Math.floor(r.getY()+F*(j-r.getY()));for(let we=4;we<=16;we<<=1)try{v=this.findAlignmentInRegion(u,X,te,we);break}catch(ye){if(!(ye instanceof re))throw ye}}const C=Or.createTransform(r,i,o,v,h),O=Or.sampleGrid(this.image,C,h);let I;return v===null?I=[o,r,i]:I=[o,r,i,v],new Li(O,I)}static createTransform(t,r,i,o,u){const h=u-3.5;let m,p,v,C;return o!==null?(m=o.getX(),p=o.getY(),v=h-3,C=v):(m=r.getX()-t.getX()+i.getX(),p=r.getY()-t.getY()+i.getY(),v=h,C=h),Zn.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,v,C,3.5,h,t.getX(),t.getY(),r.getX(),r.getY(),m,p,i.getX(),i.getY())}static sampleGrid(t,r,i){return ur.getInstance().sampleGridWithTransform(t,i,i,r)}static computeDimension(t,r,i,o){const u=ze.round(Ce.distance(t,r)/o),h=ze.round(Ce.distance(t,i)/o);let m=Math.floor((u+h)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new re("Dimensions could be not found.")}return m}calculateModuleSize(t,r,i){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,i,o){let u=this.sizeOfBlackWhiteBlackRun(t,r,i,o),h=1,m=t-(i-t);m<0?(h=t/(t-m),m=0):m>=this.image.getWidth()&&(h=(this.image.getWidth()-1-t)/(m-t),m=this.image.getWidth()-1);let p=Math.floor(r-(o-r)*h);return h=1,p<0?(h=r/(r-p),p=0):p>=this.image.getHeight()&&(h=(this.image.getHeight()-1-r)/(p-r),p=this.image.getHeight()-1),m=Math.floor(t+(m-t)*h),u+=this.sizeOfBlackWhiteBlackRun(t,r,m,p),u-1}sizeOfBlackWhiteBlackRun(t,r,i,o){const u=Math.abs(o-r)>Math.abs(i-t);if(u){let k=t;t=r,r=k,k=i,i=o,o=k}const h=Math.abs(i-t),m=Math.abs(o-r);let p=-h/2;const v=t<i?1:-1,C=r<o?1:-1;let O=0;const I=i+v;for(let k=t,j=r;k!==I;k+=v){const F=u?j:k,X=u?k:j;if(O===1===this.image.get(F,X)){if(O===2)return ze.distance(k,j,t,r);O++}if(p+=m,p>0){if(j===o)break;j+=C,p-=h}}return O===2?ze.distance(i+v,o,t,r):NaN}findAlignmentInRegion(t,r,i,o){const u=Math.floor(o*t),h=Math.max(0,r-u),m=Math.min(this.image.getWidth()-1,r+u);if(m-h<t*3)throw new re("Alignment top exceeds estimated module size.");const p=Math.max(0,i-u),v=Math.min(this.image.getHeight()-1,i+u);if(v-p<t*3)throw new re("Alignment bottom exceeds estimated module size.");return new Jn(this.image,h,p,m-h,v-p,t,this.resultPointCallback).find()}}class Hr{constructor(){this.decoder=new sc}getDecoder(){return this.decoder}decode(t,r){let i,o;if(r!=null&&r.get(_e.PURE_BARCODE)!==void 0){const p=Hr.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(p,r),o=Hr.NO_POINTS}else{const p=new Or(t.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(p.getBits(),r),o=p.getPoints()}i.getOther()instanceof co&&i.getOther().applyMirroredCorrection(o);const u=new ve(i.getText(),i.getRawBytes(),void 0,o,pe.QR_CODE,void 0),h=i.getByteSegments();h!==null&&u.putMetadata(lt.BYTE_SEGMENTS,h);const m=i.getECLevel();return m!==null&&u.putMetadata(lt.ERROR_CORRECTION_LEVEL,m),i.hasStructuredAppend()&&(u.putMetadata(lt.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),u.putMetadata(lt.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r===null||i===null)throw new re;const o=this.moduleSize(r,t);let u=r[1],h=i[1],m=r[0],p=i[0];if(m>=p||u>=h)throw new re;if(h-u!==p-m&&(p=m+(h-u),p>=t.getWidth()))throw new re;const v=Math.round((p-m+1)/o),C=Math.round((h-u+1)/o);if(v<=0||C<=0)throw new re;if(C!==v)throw new re;const O=Math.floor(o/2);u+=O,m+=O;const I=m+Math.floor((v-1)*o)-p;if(I>0){if(I>O)throw new re;m-=I}const k=u+Math.floor((C-1)*o)-h;if(k>0){if(k>O)throw new re;u-=k}const j=new dt(v,C);for(let F=0;F<C;F++){const X=u+Math.floor(F*o);for(let te=0;te<v;te++)t.get(m+Math.floor(te*o),X)&&j.set(te,F)}return j}static moduleSize(t,r){const i=r.getHeight(),o=r.getWidth();let u=t[0],h=t[1],m=!0,p=0;for(;u<o&&h<i;){if(m!==r.get(u,h)){if(++p===5)break;m=!m}u++,h++}if(u===o||h===i)throw new re;return(u-t[0])/7}}Hr.NO_POINTS=new Array;class je{PDF417Common(){}static getBitCountSum(t){return ze.sum(t)}static toIntArray(t){if(t==null||!t.length)return je.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let i=0;for(const o of t)r[i++]=o;return r}static getCodeword(t){const r=ce.binarySearch(je.SYMBOL_TABLE,t&262143);return r<0?-1:(je.CODEWORD_TABLE[r]-1)%je.NUMBER_OF_CODEWORDS}}je.NUMBER_OF_CODEWORDS=929,je.MAX_CODEWORDS_IN_BARCODE=je.NUMBER_OF_CODEWORDS-1,je.MIN_ROWS_IN_BARCODE=3,je.MAX_ROWS_IN_BARCODE=90,je.MODULES_IN_CODEWORD=17,je.MODULES_IN_STOP_PATTERN=18,je.BARS_IN_MODULE=8,je.EMPTY_INT_ARRAY=new Int32Array([]),je.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),je.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ho{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Xe{static detectMultiple(t,r,i){let o=t.getBlackMatrix(),u=Xe.detect(i,o);return u.length||(o=o.clone(),o.rotate180(),u=Xe.detect(i,o)),new ho(o,u)}static detect(t,r){const i=new Array;let o=0,u=0,h=!1;for(;o<r.getHeight();){const m=Xe.findVertices(r,o,u);if(m[0]==null&&m[3]==null){if(!h)break;h=!1,u=0;for(const p of i)p[1]!=null&&(o=Math.trunc(Math.max(o,p[1].getY()))),p[3]!=null&&(o=Math.max(o,Math.trunc(p[3].getY())));o+=Xe.ROW_STEP;continue}if(h=!0,i.push(m),!t)break;m[2]!=null?(u=Math.trunc(m[2].getX()),o=Math.trunc(m[2].getY())):(u=Math.trunc(m[4].getX()),o=Math.trunc(m[4].getY()))}return i}static findVertices(t,r,i){const o=t.getHeight(),u=t.getWidth(),h=new Array(8);return Xe.copyToResult(h,Xe.findRowsWithPattern(t,o,u,r,i,Xe.START_PATTERN),Xe.INDEXES_START_PATTERN),h[4]!=null&&(i=Math.trunc(h[4].getX()),r=Math.trunc(h[4].getY())),Xe.copyToResult(h,Xe.findRowsWithPattern(t,o,u,r,i,Xe.STOP_PATTERN),Xe.INDEXES_STOP_PATTERN),h}static copyToResult(t,r,i){for(let o=0;o<i.length;o++)t[i[o]]=r[o]}static findRowsWithPattern(t,r,i,o,u,h){const m=new Array(4);let p=!1;const v=new Int32Array(h.length);for(;o<r;o+=Xe.ROW_STEP){let O=Xe.findGuardPattern(t,u,o,i,!1,h,v);if(O!=null){for(;o>0;){const I=Xe.findGuardPattern(t,u,--o,i,!1,h,v);if(I!=null)O=I;else{o++;break}}m[0]=new Ce(O[0],o),m[1]=new Ce(O[1],o),p=!0;break}}let C=o+1;if(p){let O=0,I=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;C<r;C++){const k=Xe.findGuardPattern(t,I[0],C,i,!1,h,v);if(k!=null&&Math.abs(I[0]-k[0])<Xe.MAX_PATTERN_DRIFT&&Math.abs(I[1]-k[1])<Xe.MAX_PATTERN_DRIFT)I=k,O=0;else{if(O>Xe.SKIPPED_ROW_COUNT_MAX)break;O++}}C-=O+1,m[2]=new Ce(I[0],C),m[3]=new Ce(I[1],C)}return C-o<Xe.BARCODE_MIN_HEIGHT&&ce.fill(m,null),m}static findGuardPattern(t,r,i,o,u,h,m){ce.fillWithin(m,0,m.length,0);let p=r,v=0;for(;t.get(p,i)&&p>0&&v++<Xe.MAX_PIXEL_DRIFT;)p--;let C=p,O=0,I=h.length;for(let k=u;C<o;C++)if(t.get(C,i)!==k)m[O]++;else{if(O===I-1){if(Xe.patternMatchVariance(m,h,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return new Int32Array([p,C]);p+=m[0]+m[1],q.arraycopy(m,2,m,0,O-1),m[O-1]=0,m[O]=0,O--}else O++;m[O]=1,k=!k}return O===I-1&&Xe.patternMatchVariance(m,h,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE?new Int32Array([p,C-1]):null}static patternMatchVariance(t,r,i){let o=t.length,u=0,h=0;for(let v=0;v<o;v++)u+=t[v],h+=r[v];if(u<h)return 1/0;let m=u/h;i*=m;let p=0;for(let v=0;v<o;v++){let C=t[v],O=r[v]*m,I=C>O?C-O:O-C;if(I>i)return 1/0;p+=I}return p/u}}Xe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Xe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Xe.MAX_AVG_VARIANCE=.42,Xe.MAX_INDIVIDUAL_VARIANCE=.8,Xe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Xe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Xe.MAX_PIXEL_DRIFT=3,Xe.MAX_PATTERN_DRIFT=5,Xe.SKIPPED_ROW_COUNT_MAX=25,Xe.ROW_STEP=5,Xe.BARCODE_MIN_HEIGHT=10;class Ut{constructor(t,r){if(r.length===0)throw new N;this.field=t;let i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),q.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let u of this.coefficients)o=this.field.add(o,u);return o}let r=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)r=this.field.add(this.field.multiply(t,r),this.coefficients[o]);return r}add(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){let h=r;r=i,i=h}let o=new Int32Array(i.length),u=i.length-r.length;q.arraycopy(i,0,o,0,u);for(let h=u;h<i.length;h++)o[h]=this.field.add(r[h-u],i[h]);return new Ut(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Ut?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Ut(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,o=t.coefficients,u=o.length,h=new Int32Array(i+u-1);for(let m=0;m<i;m++){let p=r[m];for(let v=0;v<u;v++)h[m+v]=this.field.add(h[m+v],this.field.multiply(p,o[v]))}return new Ut(this.field,h)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let i=0;i<t;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new Ut(this.field,r)}multiplyScalar(t){if(t===0)return new Ut(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new Ut(this.field,i)}multiplyByMonomial(t,r){if(t<0)throw new N;if(r===0)return new Ut(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+t);for(let u=0;u<i;u++)o[u]=this.field.multiply(this.coefficients[u],r);return new Ut(this.field,o)}toString(){let t=new Ye;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(r===0||i!==1)&&t.append(i),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class sl{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new N;return this.logTable[t]}inverse(t){if(t===0)throw new Pr;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class ci extends sl{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let o=0;o<t;o++)this.expTable[o]=i,i=i*r%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Ut(this,new Int32Array([0])),this.one=new Ut(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new N;if(r===0)return this.zero;let i=new Int32Array(t+1);return i[0]=r,new Ut(this,i)}}ci.PDF417_GF=new ci(je.NUMBER_OF_CODEWORDS,3);class qr{constructor(){this.field=ci.PDF417_GF}decode(t,r,i){let o=new Ut(this.field,t),u=new Int32Array(r),h=!1;for(let j=r;j>0;j--){let F=o.evaluateAt(this.field.exp(j));u[r-j]=F,F!==0&&(h=!0)}if(!h)return 0;let m=this.field.getOne();if(i!=null)for(const j of i){let F=this.field.exp(t.length-1-j),X=new Ut(this.field,new Int32Array([this.field.subtract(0,F),1]));m=m.multiply(X)}let p=new Ut(this.field,u),v=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),p,r),C=v[0],O=v[1],I=this.findErrorLocations(C),k=this.findErrorMagnitudes(O,C,I);for(let j=0;j<I.length;j++){let F=t.length-1-this.field.log(I[j]);if(F<0)throw L.getChecksumInstance();t[F]=this.field.subtract(t[F],k[j])}return I.length}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){let I=t;t=r,r=I}let o=t,u=r,h=this.field.getZero(),m=this.field.getOne();for(;u.getDegree()>=Math.round(i/2);){let I=o,k=h;if(o=u,h=m,o.isZero())throw L.getChecksumInstance();u=I;let j=this.field.getZero(),F=o.getCoefficient(o.getDegree()),X=this.field.inverse(F);for(;u.getDegree()>=o.getDegree()&&!u.isZero();){let te=u.getDegree()-o.getDegree(),we=this.field.multiply(u.getCoefficient(u.getDegree()),X);j=j.add(this.field.buildMonomial(te,we)),u=u.subtract(o.multiplyByMonomial(te,we))}m=j.multiply(h).subtract(k).negative()}let p=m.getCoefficient(0);if(p===0)throw L.getChecksumInstance();let v=this.field.inverse(p),C=m.multiply(v),O=u.multiply(v);return[C,O]}findErrorLocations(t){let r=t.getDegree(),i=new Int32Array(r),o=0;for(let u=1;u<this.field.getSize()&&o<r;u++)t.evaluateAt(u)===0&&(i[o]=this.field.inverse(u),o++);if(o!==r)throw L.getChecksumInstance();return i}findErrorMagnitudes(t,r,i){let o=r.getDegree(),u=new Int32Array(o);for(let v=1;v<=o;v++)u[o-v]=this.field.multiply(v,r.getCoefficient(v));let h=new Ut(this.field,u),m=i.length,p=new Int32Array(m);for(let v=0;v<m;v++){let C=this.field.inverse(i[v]),O=this.field.subtract(0,t.evaluateAt(C)),I=this.field.inverse(h.evaluateAt(C));p[v]=this.field.multiply(O,I)}return p}}class Gr{constructor(t,r,i,o,u){t instanceof Gr?this.constructor_2(t):this.constructor_1(t,r,i,o,u)}constructor_1(t,r,i,o,u){const h=r==null||i==null,m=o==null||u==null;if(h&&m)throw new re;h?(r=new Ce(0,o.getY()),i=new Ce(0,u.getY())):m&&(o=new Ce(t.getWidth()-1,r.getY()),u=new Ce(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=r,this.bottomLeft=i,this.topRight=o,this.bottomRight=u,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),u.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),u.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Gr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,i){let o=this.topLeft,u=this.bottomLeft,h=this.topRight,m=this.bottomRight;if(t>0){let p=i?this.topLeft:this.topRight,v=Math.trunc(p.getY()-t);v<0&&(v=0);let C=new Ce(p.getX(),v);i?o=C:h=C}if(r>0){let p=i?this.bottomLeft:this.bottomRight,v=Math.trunc(p.getY()+r);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let C=new Ce(p.getX(),v);i?u=C:m=C}return new Gr(this.image,o,u,h,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ia{constructor(t,r,i,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Gi{constructor(){this.buffer=""}static form(t,r){let i=-1;function o(h,m,p,v,C,O){if(h==="%%")return"%";if(r[++i]===void 0)return;h=v?parseInt(v.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,k;switch(O){case"s":k=r[i];break;case"c":k=r[i][0];break;case"f":k=parseFloat(r[i]).toFixed(h);break;case"p":k=parseFloat(r[i]).toPrecision(h);break;case"e":k=parseFloat(r[i]).toExponential(h);break;case"x":k=parseInt(r[i]).toString(I||16);break;case"d":k=parseFloat(parseInt(r[i],I||10).toPrecision(h)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(I);let j=parseInt(p),F=p&&p[0]+""=="0"?"0":" ";for(;k.length<j;)k=m!==void 0?k+F:F+k;return k}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,o)}format(t,...r){this.buffer+=Gi.form(t,r)}toString(){return this.buffer}}class ti{constructor(t){this.boundingBox=new Gr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let i=1;i<ti.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(t)-i;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(t)+i,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Gi;let r=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return t.toString()}}ti.MAX_NEARBY_DISTANCE=5;class ni{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[i,o]of this.values.entries()){const u={getKey:()=>i,getValue:()=>o};u.getValue()>t?(t=u.getValue(),r=[],r.push(u.getKey())):u.getValue()===t&&r.push(u.getKey())}return je.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class al extends ti{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(o.getY())),m=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=-1,v=1,C=0;for(let O=h;O<m;O++){if(r[O]==null)continue;let I=r[O],k=I.getRowNumber()-p;if(k===0)C++;else if(k===1)v=Math.max(v,C),C=1,p=I.getRowNumber();else if(k<0||I.getRowNumber()>=t.getRowCount()||k>O)r[O]=null;else{let j;v>2?j=(v-2)*k:j=k;let F=j>=O;for(let X=1;X<=j&&!F;X++)F=r[O-X]!=null;F?r[O]=null:(p=I.getRowNumber(),C=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(i.getY())),h=this.imageRowToCodewordIndex(Math.trunc(o.getY())),m=this.getCodewords(),p=-1;for(let v=u;v<h;v++){if(m[v]==null)continue;let C=m[v];C.setRowNumberAsRowIndicatorColumn();let O=C.getRowNumber()-p;O===0||(O===1?p=C.getRowNumber():C.getRowNumber()>=t.getRowCount()?m[v]=null:p=C.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new ni,i=new ni,o=new ni,u=new ni;for(let m of t){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let p=m.getValue()%30,v=m.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:i.setValue(p*3+1);break;case 1:u.setValue(p/3),o.setValue(p%3);break;case 2:r.setValue(p+1);break}}if(r.getValue().length===0||i.getValue().length===0||o.getValue().length===0||u.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<je.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>je.MAX_ROWS_IN_BARCODE)return null;let h=new ia(r.getValue()[0],i.getValue()[0],o.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(t,h),h}removeIncorrectCodewords(t,r){for(let i=0;i<t.length;i++){let o=t[i];if(t[i]==null)continue;let u=o.getValue()%30,h=o.getRowNumber();if(h>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(u/3)!==r.getErrorCorrectionLevel()||u%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:u+1!==r.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class dn{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=je.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&r[i]!=null&&t[i].getRowNumber()===r[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let u=this.detectionResultColumns[o].getCodewords()[i];u!=null&&(u.setRowNumber(t[i].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let m=this.detectionResultColumns[h].getCodewords()[i];m!=null&&(u=dn.adjustRowNumberIfValid(o,u,m),m.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let m=this.detectionResultColumns[h].getCodewords()[i];m!=null&&(u=dn.adjustRowNumberIfValid(o,u,m),m.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,i){if(!this.detectionResultColumns[t-1])return;let o=i[r],u=this.detectionResultColumns[t-1].getCodewords(),h=u;this.detectionResultColumns[t+1]!=null&&(h=this.detectionResultColumns[t+1].getCodewords());let m=new Array(14);m[2]=u[r],m[3]=h[r],r>0&&(m[0]=i[r-1],m[4]=u[r-1],m[5]=h[r-1]),r>1&&(m[8]=i[r-2],m[10]=u[r-2],m[11]=h[r-2]),r<i.length-1&&(m[1]=i[r+1],m[6]=u[r+1],m[7]=h[r+1]),r<i.length-2&&(m[9]=i[r+2],m[12]=u[r+2],m[13]=h[r+2]);for(let p of m)if(dn.adjustRowNumber(o,p))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Gi;for(let i=0;i<t.getCodewords().length;i++){r.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let u=this.detectionResultColumns[o].getCodewords()[i];if(u==null){r.format("    |   ");continue}r.format(" %3d|%3d",u.getRowNumber(),u.getValue())}r.format("%n")}return r.toString()}}class dr{constructor(t,r,i,o){this.rowNumber=dr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==dr.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}dr.BARCODE_ROW_UNKNOWN=-1;class vn{static initialize(){for(let t=0;t<je.SYMBOL_TABLE.length;t++){let r=je.SYMBOL_TABLE[t],i=r&1;for(let o=0;o<je.BARS_IN_MODULE;o++){let u=0;for(;(r&1)===i;)u+=1,r>>=1;i=r&1,vn.RATIOS_TABLE[t]||(vn.RATIOS_TABLE[t]=new Array(je.BARS_IN_MODULE)),vn.RATIOS_TABLE[t][je.BARS_IN_MODULE-o-1]=Math.fround(u/je.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=vn.getDecodedCodewordValue(vn.sampleBitCounts(t));return r!==-1?r:vn.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=ze.sum(t),i=new Int32Array(je.BARS_IN_MODULE),o=0,u=0;for(let h=0;h<je.MODULES_IN_CODEWORD;h++){let m=r/(2*je.MODULES_IN_CODEWORD)+h*r/je.MODULES_IN_CODEWORD;u+t[o]<=m&&(u+=t[o],o++),i[o]++}return i}static getDecodedCodewordValue(t){let r=vn.getBitValue(t);return je.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let i=0;i<t.length;i++)for(let o=0;o<t[i];o++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=ze.sum(t),i=new Array(je.BARS_IN_MODULE);if(r>1)for(let h=0;h<i.length;h++)i[h]=Math.fround(t[h]/r);let o=Rn.MAX_VALUE,u=-1;this.bSymbolTableReady||vn.initialize();for(let h=0;h<vn.RATIOS_TABLE.length;h++){let m=0,p=vn.RATIOS_TABLE[h];for(let v=0;v<je.BARS_IN_MODULE;v++){let C=Math.fround(p[v]-i[v]);if(m+=Math.fround(C*C),m>=o)break}m<o&&(o=m,u=je.SYMBOL_TABLE[h])}return u}}vn.bSymbolTableReady=!1,vn.RATIOS_TABLE=new Array(je.SYMBOL_TABLE.length).map(T=>new Array(je.BARS_IN_MODULE));class Vi{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class fo{static parseLong(t,r=void 0){return parseInt(t,r)}}class sa extends E{}sa.kind="NullPointerException";class ll{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,i){if(t==null)throw new sa;if(r<0||r>t.length||i<0||r+i>t.length||r+i<0)throw new Q;if(i===0)return;for(let o=0;o<i;o++)this.write(t[r+o])}flush(){}close(){}}class Ss extends E{}class aa extends ll{constructor(t=32){if(super(),this.count=0,t<0)throw new N("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new Ss;i=Y.MAX_VALUE}this.buf=ce.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new Q;this.ensureCapacity(this.count+i),q.arraycopy(t,r,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return ce.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var _t;(function(T){T[T.ALPHA=0]="ALPHA",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.PUNCT=3]="PUNCT",T[T.ALPHA_SHIFT=4]="ALPHA_SHIFT",T[T.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(_t||(_t={}));function go(){if(typeof window<"u")return window.BigInt||null;if(typeof Cu<"u")return Cu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let la;function ri(T){if(typeof la>"u"&&(la=go()),la===null)throw new Error("BigInt is not supported!");return la(T)}function ol(){let T=[];T[0]=ri(1);let t=ri(900);T[1]=t;for(let r=2;r<16;r++)T[r]=T[r-1]*t;return T}class ne{static decode(t,r){let i=new Ye(""),o=fe.ISO8859_1;i.enableDecoding(o);let u=1,h=t[u++],m=new Vi;for(;u<t[0];){switch(h){case ne.TEXT_COMPACTION_MODE_LATCH:u=ne.textCompaction(t,u,i);break;case ne.BYTE_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:u=ne.byteCompaction(h,t,o,u,i);break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u++]);break;case ne.NUMERIC_COMPACTION_MODE_LATCH:u=ne.numericCompaction(t,u,i);break;case ne.ECI_CHARSET:fe.getCharacterSetECIByValue(t[u++]);break;case ne.ECI_GENERAL_PURPOSE:u+=2;break;case ne.ECI_USER_DEFINED:u++;break;case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=ne.decodeMacroBlock(t,u,m);break;case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:throw new $;default:u--,u=ne.textCompaction(t,u,i);break}if(u<t.length)h=t[u++];else throw $.getFormatInstance()}if(i.length()===0)throw $.getFormatInstance();let p=new Ot(null,i.toString(),null,r);return p.setOther(m),p}static decodeMacroBlock(t,r,i){if(r+ne.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw $.getFormatInstance();let o=new Int32Array(ne.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<ne.NUMBER_OF_SEQUENCE_CODEWORDS;m++,r++)o[m]=t[r];i.setSegmentIndex(Y.parseInt(ne.decodeBase900toBase10(o,ne.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Ye;r=ne.textCompaction(t,r,u),i.setFileId(u.toString());let h=-1;for(t[r]===ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=r+1);r<t[0];)switch(t[r]){case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case ne.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new Ye;r=ne.textCompaction(t,r+1,m),i.setFileName(m.toString());break;case ne.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new Ye;r=ne.textCompaction(t,r+1,p),i.setSender(p.toString());break;case ne.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new Ye;r=ne.textCompaction(t,r+1,v),i.setAddressee(v.toString());break;case ne.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Ye;r=ne.numericCompaction(t,r+1,C),i.setSegmentCount(Y.parseInt(C.toString()));break;case ne.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new Ye;r=ne.numericCompaction(t,r+1,O),i.setTimestamp(fo.parseLong(O.toString()));break;case ne.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Ye;r=ne.numericCompaction(t,r+1,I),i.setChecksum(Y.parseInt(I.toString()));break;case ne.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let k=new Ye;r=ne.numericCompaction(t,r+1,k),i.setFileSize(fo.parseLong(k.toString()));break;default:throw $.getFormatInstance()}break;case ne.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw $.getFormatInstance()}if(h!==-1){let m=r-h;i.isLastSegment()&&m--,i.setOptionalData(ce.copyOfRange(t,h,h+m))}return r}static textCompaction(t,r,i){let o=new Int32Array((t[0]-r)*2),u=new Int32Array((t[0]-r)*2),h=0,m=!1;for(;r<t[0]&&!m;){let p=t[r++];if(p<ne.TEXT_COMPACTION_MODE_LATCH)o[h]=p/30,o[h+1]=p%30,h+=2;else switch(p){case ne.TEXT_COMPACTION_MODE_LATCH:o[h++]=ne.TEXT_COMPACTION_MODE_LATCH;break;case ne.BYTE_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:case ne.NUMERIC_COMPACTION_MODE_LATCH:case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:r--,m=!0;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[h]=ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=t[r++],u[h]=p,h++;break}}return ne.decodeTextCompaction(o,u,h,i),r}static decodeTextCompaction(t,r,i,o){let u=_t.ALPHA,h=_t.ALPHA,m=0;for(;m<i;){let p=t[m],v="";switch(u){case _t.ALPHA:if(p<26)v=String.fromCharCode(65+p);else switch(p){case 26:v=" ";break;case ne.LL:u=_t.LOWER;break;case ne.ML:u=_t.MIXED;break;case ne.PS:h=u,u=_t.PUNCT_SHIFT;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=_t.ALPHA;break}break;case _t.LOWER:if(p<26)v=String.fromCharCode(97+p);else switch(p){case 26:v=" ";break;case ne.AS:h=u,u=_t.ALPHA_SHIFT;break;case ne.ML:u=_t.MIXED;break;case ne.PS:h=u,u=_t.PUNCT_SHIFT;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=_t.ALPHA;break}break;case _t.MIXED:if(p<ne.PL)v=ne.MIXED_CHARS[p];else switch(p){case ne.PL:u=_t.PUNCT;break;case 26:v=" ";break;case ne.LL:u=_t.LOWER;break;case ne.AL:u=_t.ALPHA;break;case ne.PS:h=u,u=_t.PUNCT_SHIFT;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=_t.ALPHA;break}break;case _t.PUNCT:if(p<ne.PAL)v=ne.PUNCT_CHARS[p];else switch(p){case ne.PAL:u=_t.ALPHA;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=_t.ALPHA;break}break;case _t.ALPHA_SHIFT:if(u=h,p<26)v=String.fromCharCode(65+p);else switch(p){case 26:v=" ";break;case ne.TEXT_COMPACTION_MODE_LATCH:u=_t.ALPHA;break}break;case _t.PUNCT_SHIFT:if(u=h,p<ne.PAL)v=ne.PUNCT_CHARS[p];else switch(p){case ne.PAL:u=_t.ALPHA;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=_t.ALPHA;break}break}v!==""&&o.append(v),m++}}static byteCompaction(t,r,i,o,u){let h=new aa,m=0,p=0,v=!1;switch(t){case ne.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),O=r[o++];for(;o<r[0]&&!v;)switch(C[m++]=O,p=900*p+O,O=r[o++],O){case ne.TEXT_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH:case ne.NUMERIC_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:o--,v=!0;break;default:if(m%5===0&&m>0){for(let I=0;I<6;++I)h.write(Number(ri(p)>>ri(8*(5-I))));p=0,m=0}break}o===r[0]&&O<ne.TEXT_COMPACTION_MODE_LATCH&&(C[m++]=O);for(let I=0;I<m;I++)h.write(C[I]);break;case ne.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!v;){let I=r[o++];if(I<ne.TEXT_COMPACTION_MODE_LATCH)m++,p=900*p+I;else switch(I){case ne.TEXT_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH:case ne.NUMERIC_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:o--,v=!0;break}if(m%5===0&&m>0){for(let k=0;k<6;++k)h.write(Number(ri(p)>>ri(8*(5-k))));p=0,m=0}}break}return u.append(xt.decode(h.toByteArray(),i)),o}static numericCompaction(t,r,i){let o=0,u=!1,h=new Int32Array(ne.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!u;){let m=t[r++];if(r===t[0]&&(u=!0),m<ne.TEXT_COMPACTION_MODE_LATCH)h[o]=m,o++;else switch(m){case ne.TEXT_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:r--,u=!0;break}(o%ne.MAX_NUMERIC_CODEWORDS===0||m===ne.NUMERIC_COMPACTION_MODE_LATCH||u)&&o>0&&(i.append(ne.decodeBase900toBase10(h,o)),o=0)}return r}static decodeBase900toBase10(t,r){let i=ri(0);for(let u=0;u<r;u++)i+=ne.EXP900[r-u-1]*ri(t[u]);let o=i.toString();if(o.charAt(0)!=="1")throw new $;return o.substring(1)}}ne.TEXT_COMPACTION_MODE_LATCH=900,ne.BYTE_COMPACTION_MODE_LATCH=901,ne.NUMERIC_COMPACTION_MODE_LATCH=902,ne.BYTE_COMPACTION_MODE_LATCH_6=924,ne.ECI_USER_DEFINED=925,ne.ECI_GENERAL_PURPOSE=926,ne.ECI_CHARSET=927,ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ne.MACRO_PDF417_TERMINATOR=922,ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ne.MAX_NUMERIC_CODEWORDS=15,ne.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ne.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ne.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ne.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ne.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ne.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ne.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ne.PL=25,ne.LL=27,ne.AS=27,ne.ML=28,ne.AL=28,ne.PS=29,ne.PAL=29,ne.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ne.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ne.EXP900=go()?ol():[],ne.NUMBER_OF_SEQUENCE_CODEWORDS=2;class $e{constructor(){}static decode(t,r,i,o,u,h,m){let p=new Gr(t,r,i,o,u),v=null,C=null,O;for(let j=!0;;j=!1){if(r!=null&&(v=$e.getRowIndicatorColumn(t,p,r,!0,h,m)),o!=null&&(C=$e.getRowIndicatorColumn(t,p,o,!1,h,m)),O=$e.merge(v,C),O==null)throw re.getNotFoundInstance();let F=O.getBoundingBox();if(j&&F!=null&&(F.getMinY()<p.getMinY()||F.getMaxY()>p.getMaxY()))p=F;else break}O.setBoundingBox(p);let I=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,v),O.setDetectionResultColumn(I,C);let k=v!=null;for(let j=1;j<=I;j++){let F=k?j:I-j;if(O.getDetectionResultColumn(F)!==void 0)continue;let X;F===0||F===I?X=new al(p,F===0):X=new ti(p),O.setDetectionResultColumn(F,X);let te=-1,we=te;for(let ye=p.getMinY();ye<=p.getMaxY();ye++){if(te=$e.getStartColumn(O,F,ye,k),te<0||te>p.getMaxX()){if(we===-1)continue;te=we}let ge=$e.detectCodeword(t,p.getMinX(),p.getMaxX(),k,te,ye,h,m);ge!=null&&(X.setCodeword(ye,ge),we=te,h=Math.min(h,ge.getWidth()),m=Math.max(m,ge.getWidth()))}}return $e.createDecoderResult(O)}static merge(t,r){if(t==null&&r==null)return null;let i=$e.getBarcodeMetadata(t,r);if(i==null)return null;let o=Gr.merge($e.adjustBoundingBox(t),$e.adjustBoundingBox(r));return new dn(i,o)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let i=$e.getMax(r),o=0;for(let m of r)if(o+=i-m,m>0)break;let u=t.getCodewords();for(let m=0;o>0&&u[m]==null;m++)o--;let h=0;for(let m=r.length-1;m>=0&&(h+=i-r[m],!(r[m]>0));m--);for(let m=u.length-1;h>0&&u[m]==null;m--)h--;return t.getBoundingBox().addMissingRows(o,h,t.isLeft())}static getMax(t){let r=-1;for(let i of t)r=Math.max(r,i);return r}static getBarcodeMetadata(t,r){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(t,r,i,o,u,h){let m=new al(r,o);for(let p=0;p<2;p++){let v=p===0?1:-1,C=Math.trunc(Math.trunc(i.getX()));for(let O=Math.trunc(Math.trunc(i.getY()));O<=r.getMaxY()&&O>=r.getMinY();O+=v){let I=$e.detectCodeword(t,0,t.getWidth(),o,C,O,u,h);I!=null&&(m.setCodeword(O,I),o?C=I.getStartX():C=I.getEndX())}}return m}static adjustCodewordCount(t,r){let i=r[0][1],o=i.getValue(),u=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-$e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(u<1||u>je.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();i.setValue(u)}else o[0]!==u&&i.setValue(u)}static createDecoderResult(t){let r=$e.createBarcodeMatrix(t);$e.adjustCodewordCount(t,r);let i=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),u=[],h=new Array;for(let p=0;p<t.getBarcodeRowCount();p++)for(let v=0;v<t.getBarcodeColumnCount();v++){let C=r[p][v+1].getValue(),O=p*t.getBarcodeColumnCount()+v;C.length===0?i.push(O):C.length===1?o[O]=C[0]:(h.push(O),u.push(C))}let m=new Array(u.length);for(let p=0;p<m.length;p++)m[p]=u[p];return $e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,je.toIntArray(i),je.toIntArray(h),m)}static createDecoderResultFromAmbiguousValues(t,r,i,o,u){let h=new Int32Array(o.length),m=100;for(;m-- >0;){for(let p=0;p<h.length;p++)r[o[p]]=u[p][h[p]];try{return $e.decodeCodewords(r,t,i)}catch(p){if(!(p instanceof L))throw p}if(h.length===0)throw L.getChecksumInstance();for(let p=0;p<h.length;p++)if(h[p]<u[p].length-1){h[p]++;break}else if(h[p]=0,p===h.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let u=0;u<r[o].length;u++)r[o][u]=new ni;let i=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let u of o.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=r.length)continue;r[h][i].setValue(u.getValue())}}}i++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,i,o){let u=o?1:-1,h=null;if($e.isValidBarcodeColumn(t,r-u)&&(h=t.getDetectionResultColumn(r-u).getCodeword(i)),h!=null)return o?h.getEndX():h.getStartX();if(h=t.getDetectionResultColumn(r).getCodewordNearby(i),h!=null)return o?h.getStartX():h.getEndX();if($e.isValidBarcodeColumn(t,r-u)&&(h=t.getDetectionResultColumn(r-u).getCodewordNearby(i)),h!=null)return o?h.getEndX():h.getStartX();let m=0;for(;$e.isValidBarcodeColumn(t,r-u);){r-=u;for(let p of t.getDetectionResultColumn(r).getCodewords())if(p!=null)return(o?p.getEndX():p.getStartX())+u*m*(p.getEndX()-p.getStartX());m++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,i,o,u,h,m,p){u=$e.adjustCodewordStartColumn(t,r,i,o,u,h);let v=$e.getModuleBitCount(t,r,i,o,u,h);if(v==null)return null;let C,O=ze.sum(v);if(o)C=u+O;else{for(let j=0;j<v.length/2;j++){let F=v[j];v[j]=v[v.length-1-j],v[v.length-1-j]=F}C=u,u=C-O}if(!$e.checkCodewordSkew(O,m,p))return null;let I=vn.getDecodedValue(v),k=je.getCodeword(I);return k===-1?null:new dr(u,C,$e.getCodewordBucketNumber(I),k)}static getModuleBitCount(t,r,i,o,u,h){let m=u,p=new Int32Array(8),v=0,C=o?1:-1,O=o;for(;(o?m<i:m>=r)&&v<p.length;)t.get(m,h)===O?(p[v]++,m+=C):(v++,O=!O);return v===p.length||m===(o?i:r)&&v===p.length-1?p:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,i,o,u,h){let m=u,p=o?-1:1;for(let v=0;v<2;v++){for(;(o?m>=r:m<i)&&o===t.get(m,h);){if(Math.abs(u-m)>$e.CODEWORD_SKEW_SIZE)return u;m+=p}p=-p,o=!o}return m}static checkCodewordSkew(t,r,i){return r-$e.CODEWORD_SKEW_SIZE<=t&&t<=i+$e.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,i){if(t.length===0)throw $.getFormatInstance();let o=1<<r+1,u=$e.correctErrors(t,i,o);$e.verifyCodewordCount(t,o);let h=ne.decode(t,""+r);return h.setErrorsCorrected(u),h.setErasures(i.length),h}static correctErrors(t,r,i){if(r!=null&&r.length>i/2+$e.MAX_ERRORS||i<0||i>$e.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return $e.errorCorrection.decode(t,i,r)}static verifyCodewordCount(t,r){if(t.length<4)throw $.getFormatInstance();let i=t[0];if(i>t.length)throw $.getFormatInstance();if(i===0)if(r<t.length)t[0]=t.length-r;else throw $.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),i=0,o=r.length-1;for(;!((t&1)!==i&&(i=t&1,o--,o<0));)r[o]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return $e.getCodewordBucketNumber($e.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new Gi;for(let i=0;i<t.length;i++){r.format("Row %2d: ",i);for(let o=0;o<t[i].length;o++){let u=t[i][o];u.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}r.format("%n")}return r.toString()}}$e.CODEWORD_SKEW_SIZE=2,$e.MAX_ERRORS=3,$e.MAX_EC_CODEWORDS=512,$e.errorCorrection=new qr;class En{decode(t,r=null){let i=En.decode(t,r,!1);if(i==null||i.length===0||i[0]==null)throw re.getNotFoundInstance();return i[0]}decodeMultiple(t,r=null){try{return En.decode(t,r,!0)}catch(i){throw i instanceof $||i instanceof L?re.getNotFoundInstance():i}}static decode(t,r,i){const o=new Array,u=Xe.detectMultiple(t,r,i);for(const h of u.getPoints()){const m=$e.decode(u.getBits(),h[4],h[5],h[6],h[7],En.getMinCodewordWidth(h),En.getMaxCodewordWidth(h)),p=new ve(m.getText(),m.getRawBytes(),void 0,h,pe.PDF_417);p.putMetadata(lt.ERROR_CORRECTION_LEVEL,m.getECLevel());const v=m.getOther();v!=null&&p.putMetadata(lt.PDF417_EXTRA_METADATA,v),o.push(p)}return o.map(h=>h)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?Y.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(En.getMaxWidth(t[0],t[4]),En.getMaxWidth(t[6],t[2])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN),Math.max(En.getMaxWidth(t[1],t[5]),En.getMaxWidth(t[7],t[3])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(En.getMinWidth(t[0],t[4]),En.getMinWidth(t[6],t[2])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN),Math.min(En.getMinWidth(t[1],t[5]),En.getMinWidth(t[7],t[3])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN)))}reset(){}}class oa extends E{}oa.kind="ReaderException";class mo{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!f(t)&&t.get(_e.TRY_HARDER)===!0,i=f(t)?null:t.get(_e.POSSIBLE_FORMATS),o=new Array;if(!f(i)){const u=i.some(h=>h===pe.UPC_A||h===pe.UPC_E||h===pe.EAN_13||h===pe.EAN_8||h===pe.CODABAR||h===pe.CODE_39||h===pe.CODE_93||h===pe.CODE_128||h===pe.ITF||h===pe.RSS_14||h===pe.RSS_EXPANDED);u&&!r&&o.push(new hr(t,this.verbose)),i.includes(pe.QR_CODE)&&o.push(new Hr),i.includes(pe.DATA_MATRIX)&&o.push(new zr),i.includes(pe.AZTEC)&&o.push(new ea),i.includes(pe.PDF_417)&&o.push(new En),u&&r&&o.push(new hr(t,this.verbose))}o.length===0&&(r||o.push(new hr(t,this.verbose)),o.push(new Hr),o.push(new zr),o.push(new ea),o.push(new En),r&&o.push(new hr(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new oa("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(i){if(i instanceof oa)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class xo extends Ee{constructor(t=null,r=500){const i=new mo;i.setHints(t),super(i,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class ac extends Ee{constructor(t=500){super(new En,t)}}class lc extends Ee{constructor(t=500){super(new Hr,t)}}var ul;(function(T){T[T.ERROR_CORRECTION=0]="ERROR_CORRECTION",T[T.CHARACTER_SET=1]="CHARACTER_SET",T[T.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",T[T.MIN_SIZE=3]="MIN_SIZE",T[T.MAX_SIZE=4]="MAX_SIZE",T[T.MARGIN=5]="MARGIN",T[T.PDF417_COMPACT=6]="PDF417_COMPACT",T[T.PDF417_COMPACTION=7]="PDF417_COMPACTION",T[T.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",T[T.AZTEC_LAYERS=9]="AZTEC_LAYERS",T[T.QR_VERSION=10]="QR_VERSION"})(ul||(ul={}));var un=ul;class Ts{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new an(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let i=r[r.length-1];const o=this.field;for(let u=r.length;u<=t;u++){const h=i.multiply(new an(o,Int32Array.from([1,o.exp(u-1+o.getGeneratorBase())])));r.push(h),i=h}}return r[t]}encode(t,r){if(r===0)throw new N("No error correction bytes");const i=t.length-r;if(i<=0)throw new N("No data bytes provided");const o=this.buildGenerator(r),u=new Int32Array(i);q.arraycopy(t,0,u,0,i);let h=new an(this.field,u);h=h.multiplyByMonomial(r,1);const p=h.divide(o)[1].getCoefficients(),v=r-p.length;for(let C=0;C<v;C++)t[i+C]=0;q.arraycopy(p,0,t,i+v,p.length)}}class Kt{constructor(){}static applyMaskPenaltyRule1(t){return Kt.applyMaskPenaltyRule1Internal(t,!0)+Kt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const i=t.getArray(),o=t.getWidth(),u=t.getHeight();for(let h=0;h<u-1;h++){const m=i[h];for(let p=0;p<o-1;p++){const v=m[p];v===m[p+1]&&v===i[h+1][p]&&v===i[h+1][p+1]&&r++}}return Kt.N2*r}static applyMaskPenaltyRule3(t){let r=0;const i=t.getArray(),o=t.getWidth(),u=t.getHeight();for(let h=0;h<u;h++)for(let m=0;m<o;m++){const p=i[h];m+6<o&&p[m]===1&&p[m+1]===0&&p[m+2]===1&&p[m+3]===1&&p[m+4]===1&&p[m+5]===0&&p[m+6]===1&&(Kt.isWhiteHorizontal(p,m-4,m)||Kt.isWhiteHorizontal(p,m+7,m+11))&&r++,h+6<u&&i[h][m]===1&&i[h+1][m]===0&&i[h+2][m]===1&&i[h+3][m]===1&&i[h+4][m]===1&&i[h+5][m]===0&&i[h+6][m]===1&&(Kt.isWhiteVertical(i,m,h-4,h)||Kt.isWhiteVertical(i,m,h+7,h+11))&&r++}return r*Kt.N3}static isWhiteHorizontal(t,r,i){r=Math.max(r,0),i=Math.min(i,t.length);for(let o=r;o<i;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,r,i,o){i=Math.max(i,0),o=Math.min(o,t.length);for(let u=i;u<o;u++)if(t[u][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const i=t.getArray(),o=t.getWidth(),u=t.getHeight();for(let p=0;p<u;p++){const v=i[p];for(let C=0;C<o;C++)v[C]===1&&r++}const h=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-h)*10/h)*Kt.N4}static getDataMaskBit(t,r,i){let o,u;switch(t){case 0:o=i+r&1;break;case 1:o=i&1;break;case 2:o=r%3;break;case 3:o=(i+r)%3;break;case 4:o=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:u=i*r,o=(u&1)+u%3;break;case 6:u=i*r,o=(u&1)+u%3&1;break;case 7:u=i*r,o=u%3+(i+r&1)&1;break;default:throw new N("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,r){let i=0;const o=r?t.getHeight():t.getWidth(),u=r?t.getWidth():t.getHeight(),h=t.getArray();for(let m=0;m<o;m++){let p=0,v=-1;for(let C=0;C<u;C++){const O=r?h[m][C]:h[C][m];O===v?p++:(p>=5&&(i+=Kt.N1+(p-5)),p=1,v=O)}p>=5&&(i+=Kt.N1+(p-5))}return i}}Kt.N1=3,Kt.N2=3,Kt.N3=40,Kt.N4=10;class ua{constructor(t,r){this.width=t,this.height=r;const i=new Array(r);for(let o=0;o!==r;o++)i[o]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,i){this.bytes[r][t]=i}setBoolean(t,r,i){this.bytes[r][t]=i?1:0}clear(t){for(const r of this.bytes)ce.fill(r,t)}equals(t){if(!(t instanceof ua))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,o=this.height;i<o;++i){const u=this.bytes[i],h=r.bytes[i];for(let m=0,p=this.width;m<p;++m)if(u[m]!==h[m])return!1}return!0}toString(){const t=new Ye;for(let r=0,i=this.height;r<i;++r){const o=this.bytes[r];for(let u=0,h=this.width;u<h;++u)switch(o[u]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class hi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ye;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<hi.NUM_MASK_PATTERNS}}hi.NUM_MASK_PATTERNS=8;class St extends E{}St.kind="WriterException";class Fe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,i,o,u){Fe.clearMatrix(u),Fe.embedBasicPatterns(i,u),Fe.embedTypeInfo(r,o,u),Fe.maybeEmbedVersionInfo(i,u),Fe.embedDataBits(t,o,u)}static embedBasicPatterns(t,r){Fe.embedPositionDetectionPatternsAndSeparators(r),Fe.embedDarkDotAtLeftBottomCorner(r),Fe.maybeEmbedPositionAdjustmentPatterns(t,r),Fe.embedTimingPatterns(r)}static embedTypeInfo(t,r,i){const o=new me;Fe.makeTypeInfoBits(t,r,o);for(let u=0,h=o.getSize();u<h;++u){const m=o.get(o.getSize()-1-u),p=Fe.TYPE_INFO_COORDINATES[u],v=p[0],C=p[1];if(i.setBoolean(v,C,m),u<8){const O=i.getWidth()-u-1;i.setBoolean(O,8,m)}else{const I=i.getHeight()-7+(u-8);i.setBoolean(8,I,m)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const i=new me;Fe.makeVersionInfoBits(t,i);let o=17;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const m=i.get(o);o--,r.setBoolean(u,r.getHeight()-11+h,m),r.setBoolean(r.getHeight()-11+h,u,m)}}static embedDataBits(t,r,i){let o=0,u=-1,h=i.getWidth()-1,m=i.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);m>=0&&m<i.getHeight();){for(let p=0;p<2;++p){const v=h-p;if(!Fe.isEmpty(i.get(v,m)))continue;let C;o<t.getSize()?(C=t.get(o),++o):C=!1,r!==255&&Kt.getDataMaskBit(r,v,m)&&(C=!C),i.setBoolean(v,m,C)}m+=u}u=-u,m+=u,h-=2}if(o!==t.getSize())throw new St("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-Y.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new N("0 polynomial");const i=Fe.findMSBSet(r);for(t<<=i-1;Fe.findMSBSet(t)>=i;)t^=r<<Fe.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,r,i){if(!hi.isValidMaskPattern(r))throw new St("Invalid mask pattern");const o=t.getBits()<<3|r;i.appendBits(o,5);const u=Fe.calculateBCHCode(o,Fe.TYPE_INFO_POLY);i.appendBits(u,10);const h=new me;if(h.appendBits(Fe.TYPE_INFO_MASK_PATTERN,15),i.xor(h),i.getSize()!==15)throw new St("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const i=Fe.calculateBCHCode(t.getVersionNumber(),Fe.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new St("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const i=(r+1)%2;Fe.isEmpty(t.get(r,6))&&t.setNumber(r,6,i),Fe.isEmpty(t.get(6,r))&&t.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new St;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,i){for(let o=0;o<8;++o){if(!Fe.isEmpty(i.get(t+o,r)))throw new St;i.setNumber(t+o,r,0)}}static embedVerticalSeparationPattern(t,r,i){for(let o=0;o<7;++o){if(!Fe.isEmpty(i.get(t,r+o)))throw new St;i.setNumber(t,r+o,0)}}static embedPositionAdjustmentPattern(t,r,i){for(let o=0;o<5;++o){const u=Fe.POSITION_ADJUSTMENT_PATTERN[o];for(let h=0;h<5;++h)i.setNumber(t+h,r+o,u[h])}}static embedPositionDetectionPattern(t,r,i){for(let o=0;o<7;++o){const u=Fe.POSITION_DETECTION_PATTERN[o];for(let h=0;h<7;++h)i.setNumber(t+h,r+o,u[h])}}static embedPositionDetectionPatternsAndSeparators(t){const r=Fe.POSITION_DETECTION_PATTERN[0].length;Fe.embedPositionDetectionPattern(0,0,t),Fe.embedPositionDetectionPattern(t.getWidth()-r,0,t),Fe.embedPositionDetectionPattern(0,t.getWidth()-r,t);const i=8;Fe.embedHorizontalSeparationPattern(0,i-1,t),Fe.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),Fe.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const o=7;Fe.embedVerticalSeparationPattern(o,0,t),Fe.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),Fe.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,o=Fe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let u=0,h=o.length;u!==h;u++){const m=o[u];if(m>=0)for(let p=0;p!==h;p++){const v=o[p];v>=0&&Fe.isEmpty(r.get(v,m))&&Fe.embedPositionAdjustmentPattern(v-2,m-2,r)}}}}Fe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Fe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Fe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Fe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Fe.VERSION_INFO_POLY=7973,Fe.TYPE_INFO_POLY=1335,Fe.TYPE_INFO_MASK_PATTERN=21522;class oc{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Pt{constructor(){}static calculateMaskPenalty(t){return Kt.applyMaskPenaltyRule1(t)+Kt.applyMaskPenaltyRule2(t)+Kt.applyMaskPenaltyRule3(t)+Kt.applyMaskPenaltyRule4(t)}static encode(t,r,i=null){let o=Pt.DEFAULT_BYTE_MODE_ENCODING;const u=i!==null&&i.get(un.CHARACTER_SET)!==void 0;u&&(o=i.get(un.CHARACTER_SET).toString());const h=this.chooseMode(t,o),m=new me;if(h===Le.BYTE&&(u||Pt.DEFAULT_BYTE_MODE_ENCODING!==o)){const ye=fe.getCharacterSetECIByName(o);ye!==void 0&&this.appendECI(ye,m)}this.appendModeInfo(h,m);const p=new me;this.appendBytes(t,h,p,o);let v;if(i!==null&&i.get(un.QR_VERSION)!==void 0){const ye=Number.parseInt(i.get(un.QR_VERSION).toString(),10);v=Ie.getVersionForNumber(ye);const ge=this.calculateBitsNeeded(h,m,p,v);if(!this.willFit(ge,v,r))throw new St("Data too big for requested version")}else v=this.recommendVersion(r,h,m,p);const C=new me;C.appendBitArray(m);const O=h===Le.BYTE?p.getSizeInBytes():t.length;this.appendLengthInfo(O,v,h,C),C.appendBitArray(p);const I=v.getECBlocksForLevel(r),k=v.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(k,C);const j=this.interleaveWithECBytes(C,v.getTotalCodewords(),k,I.getNumBlocks()),F=new hi;F.setECLevel(r),F.setMode(h),F.setVersion(v);const X=v.getDimensionForVersion(),te=new ua(X,X),we=this.chooseMaskPattern(j,r,v,te);return F.setMaskPattern(we),Fe.buildMatrix(j,r,v,we,te),F.setMatrix(te),F}static recommendVersion(t,r,i,o){const u=this.calculateBitsNeeded(r,i,o,Ie.getVersionForNumber(1)),h=this.chooseVersion(u,t),m=this.calculateBitsNeeded(r,i,o,h);return this.chooseVersion(m,t)}static calculateBitsNeeded(t,r,i,o){return r.getSize()+t.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(t){return t<Pt.ALPHANUMERIC_TABLE.length?Pt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(fe.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return Le.KANJI;let i=!1,o=!1;for(let u=0,h=t.length;u<h;++u){const m=t.charAt(u);if(Pt.isDigit(m))i=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)o=!0;else return Le.BYTE}return o?Le.ALPHANUMERIC:i?Le.NUMERIC:Le.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=xt.encode(t,fe.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const u=r[o]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(t,r,i,o){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let m=0;m<hi.NUM_MASK_PATTERNS;m++){Fe.buildMatrix(t,r,i,m,o);let p=this.calculateMaskPenalty(o);p<u&&(u=p,h=m)}return h}static chooseVersion(t,r){for(let i=1;i<=40;i++){const o=Ie.getVersionForNumber(i);if(Pt.willFit(t,o,r))return o}throw new St("Data too big")}static willFit(t,r,i){const o=r.getTotalCodewords(),h=r.getECBlocksForLevel(i).getTotalECCodewords(),m=o-h,p=(t+7)/8;return m>=p}static terminateBits(t,r){const i=t*8;if(r.getSize()>i)throw new St("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let h=0;h<4&&r.getSize()<i;++h)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let h=o;h<8;h++)r.appendBit(!1);const u=t-r.getSizeInBytes();for(let h=0;h<u;++h)r.appendBits((h&1)===0?236:17,8);if(r.getSize()!==i)throw new St("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,i,o,u,h){if(o>=i)throw new St("Block ID too large");const m=t%i,p=i-m,v=Math.floor(t/i),C=v+1,O=Math.floor(r/i),I=O+1,k=v-O,j=C-I;if(k!==j)throw new St("EC bytes mismatch");if(i!==p+m)throw new St("RS blocks mismatch");if(t!==(O+k)*p+(I+j)*m)throw new St("Total bytes mismatch");o<p?(u[0]=O,h[0]=k):(u[0]=I,h[0]=j)}static interleaveWithECBytes(t,r,i,o){if(t.getSizeInBytes()!==i)throw new St("Number of bits and data bytes does not match");let u=0,h=0,m=0;const p=new Array;for(let C=0;C<o;++C){const O=new Int32Array(1),I=new Int32Array(1);Pt.getNumDataBytesAndNumECBytesForBlockID(r,i,o,C,O,I);const k=O[0],j=new Uint8Array(k);t.toBytes(8*u,j,0,k);const F=Pt.generateECBytes(j,I[0]);p.push(new oc(j,F)),h=Math.max(h,k),m=Math.max(m,F.length),u+=O[0]}if(i!==u)throw new St("Data bytes does not match offset");const v=new me;for(let C=0;C<h;++C)for(const O of p){const I=O.getDataBytes();C<I.length&&v.appendBits(I[C],8)}for(let C=0;C<m;++C)for(const O of p){const I=O.getErrorCorrectionBytes();C<I.length&&v.appendBits(I[C],8)}if(r!==v.getSizeInBytes())throw new St("Interleaving error: "+r+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(t,r){const i=t.length,o=new Int32Array(i+r);for(let h=0;h<i;h++)o[h]=t[h]&255;new Ts(ot.QR_CODE_FIELD_256).encode(o,r);const u=new Uint8Array(r);for(let h=0;h<r;h++)u[h]=o[i+h];return u}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,i,o){const u=i.getCharacterCountBits(r);if(t>=1<<u)throw new St(t+" is bigger than "+((1<<u)-1));o.appendBits(t,u)}static appendBytes(t,r,i,o){switch(r){case Le.NUMERIC:Pt.appendNumericBytes(t,i);break;case Le.ALPHANUMERIC:Pt.appendAlphanumericBytes(t,i);break;case Le.BYTE:Pt.append8BitBytes(t,i,o);break;case Le.KANJI:Pt.appendKanjiBytes(t,i);break;default:throw new St("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=Pt.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const i=t.length;let o=0;for(;o<i;){const u=Pt.getDigit(t.charAt(o));if(o+2<i){const h=Pt.getDigit(t.charAt(o+1)),m=Pt.getDigit(t.charAt(o+2));r.appendBits(u*100+h*10+m,10),o+=3}else if(o+1<i){const h=Pt.getDigit(t.charAt(o+1));r.appendBits(u*10+h,7),o+=2}else r.appendBits(u,4),o++}}static appendAlphanumericBytes(t,r){const i=t.length;let o=0;for(;o<i;){const u=Pt.getAlphanumericCode(t.charCodeAt(o));if(u===-1)throw new St;if(o+1<i){const h=Pt.getAlphanumericCode(t.charCodeAt(o+1));if(h===-1)throw new St;r.appendBits(u*45+h,11),o+=2}else r.appendBits(u,6),o++}}static append8BitBytes(t,r,i){let o;try{o=xt.encode(t,i)}catch(u){throw new St(u)}for(let u=0,h=o.length;u!==h;u++){const m=o[u];r.appendBits(m,8)}}static appendKanjiBytes(t,r){let i;try{i=xt.encode(t,fe.SJIS)}catch(u){throw new St(u)}const o=i.length;for(let u=0;u<o;u+=2){const h=i[u]&255,m=i[u+1]&255,p=h<<8&4294967295|m;let v=-1;if(p>=33088&&p<=40956?v=p-33088:p>=57408&&p<=60351&&(v=p-49472),v===-1)throw new St("Invalid byte sequence");const C=(v>>8)*192+(v&255);r.appendBits(C,13)}}static appendECI(t,r){r.appendBits(Le.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}Pt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Pt.DEFAULT_BYTE_MODE_ENCODING=fe.UTF8.getName();class fi{write(t,r,i,o=null){if(t.length===0)throw new N("Found empty contents");if(r<0||i<0)throw new N("Requested dimensions are too small: "+r+"x"+i);let u=nt.L,h=fi.QUIET_ZONE_SIZE;o!==null&&(o.get(un.ERROR_CORRECTION)!==void 0&&(u=nt.fromString(o.get(un.ERROR_CORRECTION).toString())),o.get(un.MARGIN)!==void 0&&(h=Number.parseInt(o.get(un.MARGIN).toString(),10)));const m=Pt.encode(t,u,o);return this.renderResult(m,r,i,h)}writeToDom(t,r,i,o,u=null){typeof t=="string"&&(t=document.querySelector(t));const h=this.write(r,i,o,u);t&&t.appendChild(h)}renderResult(t,r,i,o){const u=t.getMatrix();if(u===null)throw new On;const h=u.getWidth(),m=u.getHeight(),p=h+o*2,v=m+o*2,C=Math.max(r,p),O=Math.max(i,v),I=Math.min(Math.floor(C/p),Math.floor(O/v)),k=Math.floor((C-h*I)/2),j=Math.floor((O-m*I)/2),F=this.createSVGElement(C,O);for(let X=0,te=j;X<m;X++,te+=I)for(let we=0,ye=k;we<h;we++,ye+=I)if(u.get(we,X)===1){const ge=this.createSvgRectElement(ye,te,I,I);F.appendChild(ge)}return F}createSVGElement(t,r){const i=document.createElementNS(fi.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(t,r,i,o){const u=document.createElementNS(fi.SVG_NS,"rect");return u.setAttributeNS(null,"x",t.toString()),u.setAttributeNS(null,"y",r.toString()),u.setAttributeNS(null,"height",i.toString()),u.setAttributeNS(null,"width",o.toString()),u.setAttributeNS(null,"fill","#000000"),u}}fi.QUIET_ZONE_SIZE=4,fi.SVG_NS="http://www.w3.org/2000/svg";class Xi{encode(t,r,i,o,u){if(t.length===0)throw new N("Found empty contents");if(r!==pe.QR_CODE)throw new N("Can only encode QR_CODE, but got "+r);if(i<0||o<0)throw new N(`Requested dimensions are too small: ${i}x${o}`);let h=nt.L,m=Xi.QUIET_ZONE_SIZE;u!==null&&(u.get(un.ERROR_CORRECTION)!==void 0&&(h=nt.fromString(u.get(un.ERROR_CORRECTION).toString())),u.get(un.MARGIN)!==void 0&&(m=Number.parseInt(u.get(un.MARGIN).toString(),10)));const p=Pt.encode(t,h,u);return Xi.renderResult(p,i,o,m)}static renderResult(t,r,i,o){const u=t.getMatrix();if(u===null)throw new On;const h=u.getWidth(),m=u.getHeight(),p=h+o*2,v=m+o*2,C=Math.max(r,p),O=Math.max(i,v),I=Math.min(Math.floor(C/p),Math.floor(O/v)),k=Math.floor((C-h*I)/2),j=Math.floor((O-m*I)/2),F=new dt(C,O);for(let X=0,te=j;X<m;X++,te+=I)for(let we=0,ye=k;we<h;we++,ye+=I)u.get(we,X)===1&&F.setRegion(ye,te,I,I);return F}}Xi.QUIET_ZONE_SIZE=4;class uc{encode(t,r,i,o,u){let h;switch(r){case pe.QR_CODE:h=new Xi;break;default:throw new N("No encoder available for format "+r)}return h.encode(t,r,i,o,u)}}class Rr extends Oe{constructor(t,r,i,o,u,h,m,p){if(super(h,m),this.yuvData=t,this.dataWidth=r,this.dataHeight=i,this.left=o,this.top=u,o+h>r||u+m>i)throw new N("Crop rectangle does not fit within image data.");p&&this.reverseHorizontal(h,m)}getRow(t,r){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return q.arraycopy(this.yuvData,o,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=t*r,o=new Uint8ClampedArray(i);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return q.arraycopy(this.yuvData,u,o,0,i),o;for(let h=0;h<r;h++){const m=h*t;q.arraycopy(this.yuvData,u,o,m,t),u+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,i,o){return new Rr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,o,!1)}renderThumbnail(){const t=this.getWidth()/Rr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Rr.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),o=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<r;h++){const m=h*t;for(let p=0;p<t;p++){const v=o[u+p*Rr.THUMBNAIL_SCALE_FACTOR]&255;i[m+p]=4278190080|v*65793}u+=this.dataWidth*Rr.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/Rr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Rr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const i=this.yuvData;for(let o=0,u=this.top*this.dataWidth+this.left;o<r;o++,u+=this.dataWidth){const h=u+t/2;for(let m=u,p=u+t-1;m<h;m++,p--){const v=i[m];i[m]=i[p],i[p]=v}}}invert(){return new Ze(this)}}Rr.THUMBNAIL_SCALE_FACTOR=2;class cl extends Oe{constructor(t,r,i,o,u,h,m){if(super(r,i),this.dataWidth=o,this.dataHeight=u,this.left=h,this.top=m,t.BYTES_PER_ELEMENT===4){const p=r*i,v=new Uint8ClampedArray(p);for(let C=0;C<p;C++){const O=t[C],I=O>>16&255,k=O>>7&510,j=O&255;v[C]=(I+k+j)/4&255}this.luminances=v}else this.luminances=t;if(o===void 0&&(this.dataWidth=r),u===void 0&&(this.dataHeight=i),h===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return q.arraycopy(this.luminances,o,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=t*r,o=new Uint8ClampedArray(i);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return q.arraycopy(this.luminances,u,o,0,i),o;for(let h=0;h<r;h++){const m=h*t;q.arraycopy(this.luminances,u,o,m,t),u+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,i,o){return new cl(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new Ze(this)}}class yo extends fe{static forName(t){return this.getCharacterSetECIByName(t)}}class Os{}Os.ISO_8859_1=fe.ISO8859_1;class Yi{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class po{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class wo{constructor(t){this.previous=t}getPrevious(){return this.previous}}class di extends wo{constructor(t,r,i){super(t),this.value=r,this.bitCount=i}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new di(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new di(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Y.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class ca extends di{constructor(t,r,i){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(t,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(t,r){return new ca(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function bo(T,t,r){return new ca(T,t,r)}function Ki(T,t,r){return new di(T,t,r)}const Wi=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ii=0,ha=1,$n=2,hl=3,gr=4,Rs=new di(null,0,0),gi=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function cc(T){for(let t of T)ce.fill(t,-1);return T[ii][gr]=0,T[ha][gr]=0,T[ha][ii]=28,T[hl][gr]=0,T[$n][gr]=0,T[$n][ii]=15,T}const Ns=cc(ce.createInt32Array(6,6));class mr{constructor(t,r,i,o){this.token=t,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let i=this.bitCount,o=this.token;if(t!==this.mode){let h=gi[this.mode][t];o=Ki(o,h&65535,h>>16),i+=h>>16}let u=t===$n?4:5;return o=Ki(o,r,u),new mr(o,t,0,i+u)}shiftAndAppend(t,r){let i=this.token,o=this.mode===$n?4:5;return i=Ki(i,Ns[this.mode][t],o),i=Ki(i,r,5),new mr(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let r=this.token,i=this.mode,o=this.bitCount;if(this.mode===gr||this.mode===$n){let m=gi[i][ii];r=Ki(r,m&65535,m>>16),o+=m>>16,i=ii}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new mr(r,i,this.binaryShiftByteCount+1,o+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(t+1)),h}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=bo(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new mr(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(gi[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=mr.calculateBinaryShiftCost(t)-mr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())r.unshift(o);let i=new me;for(const o of r)o.appendTo(i,t);return i}toString(){return Ae.format("%s bits=%d bytes=%d",Wi[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}mr.INITIAL_STATE=new mr(Rs,ii,0,0);function vo(T){const t=Ae.getCharCode(" "),r=Ae.getCharCode("."),i=Ae.getCharCode(",");T[ii][t]=1;const o=Ae.getCharCode("Z"),u=Ae.getCharCode("A");for(let I=u;I<=o;I++)T[ii][I]=I-u+2;T[ha][t]=1;const h=Ae.getCharCode("z"),m=Ae.getCharCode("a");for(let I=m;I<=h;I++)T[ha][I]=I-m+2;T[$n][t]=1;const p=Ae.getCharCode("9"),v=Ae.getCharCode("0");for(let I=v;I<=p;I++)T[$n][I]=I-v+2;T[$n][i]=12,T[$n][r]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<C.length;I++)T[hl][Ae.getCharCode(C[I])]=I;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<O.length;I++)Ae.getCharCode(O[I])>0&&(T[gr][Ae.getCharCode(O[I])]=I);return T}const Is=vo(ce.createInt32Array(5,256));class mi{constructor(t){this.text=t}encode(){const t=Ae.getCharCode(" "),r=Ae.getCharCode(`
`);let i=po.singletonList(mr.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,m=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Ae.getCharCode("\r"):h=m===r?2:0;break;case Ae.getCharCode("."):h=m===t?3:0;break;case Ae.getCharCode(","):h=m===t?4:0;break;case Ae.getCharCode(":"):h=m===t?5:0;break;default:h=0}h>0?(i=mi.updateStateListForPair(i,u,h),u++):i=this.updateStateListForChar(i,u)}return po.min(i,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const i=[];for(let o of t)this.updateStateForChar(o,r,i);return mi.simplifyStates(i)}updateStateForChar(t,r,i){let o=this.text[r]&255,u=Is[t.getMode()][o]>0,h=null;for(let m=0;m<=gr;m++){let p=Is[m][o];if(p>0){if(h==null&&(h=t.endBinaryShift(r)),!u||m===t.getMode()||m===$n){const v=h.latchAndAppend(m,p);i.push(v)}if(!u&&Ns[t.getMode()][m]>=0){const v=h.shiftAndAppend(m,p);i.push(v)}}}if(t.getBinaryShiftByteCount()>0||Is[t.getMode()][o]===0){let m=t.addBinaryShiftChar(r);i.push(m)}}static updateStateListForPair(t,r,i){const o=[];for(let u of t)this.updateStateForPair(u,r,i,o);return this.simplifyStates(o)}static updateStateForPair(t,r,i,o){let u=t.endBinaryShift(r);if(o.push(u.latchAndAppend(gr,i)),t.getMode()!==gr&&o.push(u.shiftAndAppend(gr,i)),i===3||i===4){let h=u.latchAndAppend($n,16-i).latchAndAppend($n,1);o.push(h)}if(t.getBinaryShiftByteCount()>0){let h=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(h)}}static simplifyStates(t){let r=[];for(const i of t){let o=!0;for(const u of r){if(u.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(u)&&(r=r.filter(h=>h!==u))}o&&r.push(i)}return r}}class ct{constructor(){}static encodeBytes(t){return ct.encode(t,ct.DEFAULT_EC_PERCENT,ct.DEFAULT_AZTEC_LAYERS)}static encode(t,r,i){let o=new mi(t).encode(),u=Y.truncDivision(o.getSize()*r,100)+11,h=o.getSize()+u,m,p,v,C,O;if(i!==ct.DEFAULT_AZTEC_LAYERS){if(m=i<0,p=Math.abs(i),p>(m?ct.MAX_NB_BITS_COMPACT:ct.MAX_NB_BITS))throw new N(Ae.format("Illegal value %s for layers",i));v=ct.totalBitsInLayer(p,m),C=ct.WORD_SIZE[p];let ge=v-v%C;if(O=ct.stuffBits(o,C),O.getSize()+u>ge)throw new N("Data to large for user specified layer");if(m&&O.getSize()>C*64)throw new N("Data to large for user specified layer")}else{C=0,O=null;for(let ge=0;;ge++){if(ge>ct.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(m=ge<=3,p=m?ge+1:ge,v=ct.totalBitsInLayer(p,m),h>v)continue;(O==null||C!==ct.WORD_SIZE[p])&&(C=ct.WORD_SIZE[p],O=ct.stuffBits(o,C));let tt=v-v%C;if(!(m&&O.getSize()>C*64)&&O.getSize()+u<=tt)break}}let I=ct.generateCheckWords(O,v,C),k=O.getSize()/C,j=ct.generateModeMessage(m,p,k),F=(m?11:14)+p*4,X=new Int32Array(F),te;if(m){te=F;for(let ge=0;ge<X.length;ge++)X[ge]=ge}else{te=F+1+2*Y.truncDivision(Y.truncDivision(F,2)-1,15);let ge=Y.truncDivision(F,2),tt=Y.truncDivision(te,2);for(let Ke=0;Ke<ge;Ke++){let tn=Ke+Y.truncDivision(Ke,15);X[ge-Ke-1]=tt-tn-1,X[ge+Ke]=tt+tn+1}}let we=new dt(te);for(let ge=0,tt=0;ge<p;ge++){let Ke=(p-ge)*4+(m?9:12);for(let tn=0;tn<Ke;tn++){let er=tn*2;for(let Dn=0;Dn<2;Dn++)I.get(tt+er+Dn)&&we.set(X[ge*2+Dn],X[ge*2+tn]),I.get(tt+Ke*2+er+Dn)&&we.set(X[ge*2+tn],X[F-1-ge*2-Dn]),I.get(tt+Ke*4+er+Dn)&&we.set(X[F-1-ge*2-Dn],X[F-1-ge*2-tn]),I.get(tt+Ke*6+er+Dn)&&we.set(X[F-1-ge*2-tn],X[ge*2+Dn])}tt+=Ke*8}if(ct.drawModeMessage(we,m,te,j),m)ct.drawBullsEye(we,Y.truncDivision(te,2),5);else{ct.drawBullsEye(we,Y.truncDivision(te,2),7);for(let ge=0,tt=0;ge<Y.truncDivision(F,2)-1;ge+=15,tt+=16)for(let Ke=Y.truncDivision(te,2)&1;Ke<te;Ke+=2)we.set(Y.truncDivision(te,2)-tt,Ke),we.set(Y.truncDivision(te,2)+tt,Ke),we.set(Ke,Y.truncDivision(te,2)-tt),we.set(Ke,Y.truncDivision(te,2)+tt)}let ye=new Yi;return ye.setCompact(m),ye.setSize(te),ye.setLayers(p),ye.setCodeWords(k),ye.setMatrix(we),ye}static drawBullsEye(t,r,i){for(let o=0;o<i;o+=2)for(let u=r-o;u<=r+o;u++)t.set(u,r-o),t.set(u,r+o),t.set(r-o,u),t.set(r+o,u);t.set(r-i,r-i),t.set(r-i+1,r-i),t.set(r-i,r-i+1),t.set(r+i,r-i),t.set(r+i,r-i+1),t.set(r+i,r+i-1)}static generateModeMessage(t,r,i){let o=new me;return t?(o.appendBits(r-1,2),o.appendBits(i-1,6),o=ct.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(i-1,11),o=ct.generateCheckWords(o,40,4)),o}static drawModeMessage(t,r,i,o){let u=Y.truncDivision(i,2);if(r)for(let h=0;h<7;h++){let m=u-3+h;o.get(h)&&t.set(m,u-5),o.get(h+7)&&t.set(u+5,m),o.get(20-h)&&t.set(m,u+5),o.get(27-h)&&t.set(u-5,m)}else for(let h=0;h<10;h++){let m=u-5+h+Y.truncDivision(h,5);o.get(h)&&t.set(m,u-7),o.get(h+10)&&t.set(u+7,m),o.get(29-h)&&t.set(m,u+7),o.get(39-h)&&t.set(u-7,m)}}static generateCheckWords(t,r,i){let o=t.getSize()/i,u=new Ts(ct.getGF(i)),h=Y.truncDivision(r,i),m=ct.bitsToWords(t,i,h);u.encode(m,h-o);let p=r%i,v=new me;v.appendBits(0,p);for(const C of Array.from(m))v.appendBits(C,i);return v}static bitsToWords(t,r,i){let o=new Int32Array(i),u,h;for(u=0,h=t.getSize()/r;u<h;u++){let m=0;for(let p=0;p<r;p++)m|=t.get(u*r+p)?1<<r-p-1:0;o[u]=m}return o}static getGF(t){switch(t){case 4:return ot.AZTEC_PARAM;case 6:return ot.AZTEC_DATA_6;case 8:return ot.AZTEC_DATA_8;case 10:return ot.AZTEC_DATA_10;case 12:return ot.AZTEC_DATA_12;default:throw new N("Unsupported word size "+t)}}static stuffBits(t,r){let i=new me,o=t.getSize(),u=(1<<r)-2;for(let h=0;h<o;h+=r){let m=0;for(let p=0;p<r;p++)(h+p>=o||t.get(h+p))&&(m|=1<<r-1-p);(m&u)===u?(i.appendBits(m&u,r),h--):(m&u)===0?(i.appendBits(m|1,r),h--):i.appendBits(m,r)}return i}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}ct.DEFAULT_EC_PERCENT=33,ct.DEFAULT_AZTEC_LAYERS=0,ct.MAX_NB_BITS=32,ct.MAX_NB_BITS_COMPACT=4,ct.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ds{encode(t,r,i,o){return this.encodeWithHints(t,r,i,o,null)}encodeWithHints(t,r,i,o,u){let h=Os.ISO_8859_1,m=ct.DEFAULT_EC_PERCENT,p=ct.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(un.CHARACTER_SET)&&(h=yo.forName(u.get(un.CHARACTER_SET).toString())),u.has(un.ERROR_CORRECTION)&&(m=Y.parseInt(u.get(un.ERROR_CORRECTION).toString())),u.has(un.AZTEC_LAYERS)&&(p=Y.parseInt(u.get(un.AZTEC_LAYERS).toString()))),Ds.encodeLayers(t,r,i,o,h,m,p)}static encodeLayers(t,r,i,o,u,h,m){if(r!==pe.AZTEC)throw new N("Can only encode AZTEC, but got "+r);let p=ct.encode(Ae.getBytes(t,u),h,m);return Ds.renderResult(p,i,o)}static renderResult(t,r,i){let o=t.getMatrix();if(o==null)throw new On;let u=o.getWidth(),h=o.getHeight(),m=Math.max(r,u),p=Math.max(i,h),v=Math.min(m/u,p/h),C=(m-u*v)/2,O=(p-h*v)/2,I=new dt(m,p);for(let k=0,j=O;k<h;k++,j+=v)for(let F=0,X=C;F<u;F++,X+=v)o.get(F,k)&&I.setRegion(X,j,v,v);return I}}l.AbstractExpandedDecoder=ln,l.ArgumentException=R,l.ArithmeticException=Pr,l.AztecCode=Yi,l.AztecCodeReader=ea,l.AztecCodeWriter=Ds,l.AztecDecoder=Pe,l.AztecDetector=el,l.AztecDetectorResult=ao,l.AztecEncoder=ct,l.AztecHighLevelEncoder=mi,l.AztecPoint=Nn,l.BarcodeFormat=pe,l.Binarizer=P,l.BinaryBitmap=B,l.BitArray=me,l.BitMatrix=dt,l.BitSource=fr,l.BrowserAztecCodeReader=nc,l.BrowserBarcodeReader=rc,l.BrowserCodeReader=Ee,l.BrowserDatamatrixCodeReader=ra,l.BrowserMultiFormatReader=xo,l.BrowserPDF417Reader=ac,l.BrowserQRCodeReader=lc,l.BrowserQRCodeSvgWriter=fi,l.CharacterSetECI=fe,l.ChecksumException=L,l.Code128Reader=be,l.Code39Reader=Dt,l.DataMatrixDecodedBitStreamParser=Fr,l.DataMatrixReader=zr,l.DecodeHintType=_e,l.DecoderResult=Ot,l.DefaultGridSampler=$a,l.DetectorResult=Li,l.EAN13Reader=Cr,l.EncodeHintType=un,l.Exception=E,l.FormatException=$,l.GenericGF=ot,l.GenericGFPoly=an,l.GlobalHistogramBinarizer=ee,l.GridSampler=Ja,l.GridSamplerInstance=ur,l.HTMLCanvasElementLuminanceSource=He,l.HybridBinarizer=oe,l.ITFReader=Je,l.IllegalArgumentException=N,l.IllegalStateException=On,l.InvertedLuminanceSource=Ze,l.LuminanceSource=Oe,l.MathUtils=ze,l.MultiFormatOneDReader=hr,l.MultiFormatReader=mo,l.MultiFormatWriter=uc,l.NotFoundException=re,l.OneDReader=Ft,l.PDF417DecodedBitStreamParser=ne,l.PDF417DecoderErrorCorrection=qr,l.PDF417Reader=En,l.PDF417ResultMetadata=Vi,l.PerspectiveTransform=Zn,l.PlanarYUVLuminanceSource=Rr,l.QRCodeByteMatrix=ua,l.QRCodeDataMask=Vn,l.QRCodeDecodedBitStreamParser=Lt,l.QRCodeDecoderErrorCorrectionLevel=nt,l.QRCodeDecoderFormatInformation=fn,l.QRCodeEncoder=Pt,l.QRCodeEncoderQRCode=hi,l.QRCodeMaskUtil=Kt,l.QRCodeMatrixUtil=Fe,l.QRCodeMode=Le,l.QRCodeReader=Hr,l.QRCodeVersion=Ie,l.QRCodeWriter=Xi,l.RGBLuminanceSource=cl,l.RSS14Reader=Ct,l.RSSExpandedReader=de,l.ReaderException=oa,l.ReedSolomonDecoder=Ar,l.ReedSolomonEncoder=Ts,l.ReedSolomonException=jn,l.Result=ve,l.ResultMetadataType=lt,l.ResultPoint=Ce,l.StringUtils=Ae,l.UnsupportedOperationException=Tn,l.VideoInputDevice=z,l.WhiteRectangleDetector=Qt,l.WriterException=St,l.ZXingArrays=ce,l.ZXingCharset=yo,l.ZXingInteger=Y,l.ZXingStandardCharsets=Os,l.ZXingStringBuilder=Ye,l.ZXingStringEncoding=xt,l.ZXingSystem=q,l.createAbstractExpandedDecoder=Pi,Object.defineProperty(l,"__esModule",{value:!0})}))})(Jl,Jl.exports)),Jl.exports}var Xt=Vb();const Xb=to(Xt),Yb=v2({__proto__:null,default:Xb},[Xt]);var e2=(function(){function d(a,l,f){if(this.formatMap=new Map([[Te.QR_CODE,Xt.BarcodeFormat.QR_CODE],[Te.AZTEC,Xt.BarcodeFormat.AZTEC],[Te.CODABAR,Xt.BarcodeFormat.CODABAR],[Te.CODE_39,Xt.BarcodeFormat.CODE_39],[Te.CODE_93,Xt.BarcodeFormat.CODE_93],[Te.CODE_128,Xt.BarcodeFormat.CODE_128],[Te.DATA_MATRIX,Xt.BarcodeFormat.DATA_MATRIX],[Te.MAXICODE,Xt.BarcodeFormat.MAXICODE],[Te.ITF,Xt.BarcodeFormat.ITF],[Te.EAN_13,Xt.BarcodeFormat.EAN_13],[Te.EAN_8,Xt.BarcodeFormat.EAN_8],[Te.PDF_417,Xt.BarcodeFormat.PDF_417],[Te.RSS_14,Xt.BarcodeFormat.RSS_14],[Te.RSS_EXPANDED,Xt.BarcodeFormat.RSS_EXPANDED],[Te.UPC_A,Xt.BarcodeFormat.UPC_A],[Te.UPC_E,Xt.BarcodeFormat.UPC_E],[Te.UPC_EAN_EXTENSION,Xt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Yb)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=f;var x=this.createZXingFormats(a),g=new Map;g.set(Xt.DecodeHintType.POSSIBLE_FORMATS,x),g.set(Xt.DecodeHintType.TRY_HARDER,!1),this.hints=g}return d.prototype.decodeAsync=function(a){var l=this;return new Promise(function(f,x){try{f(l.decode(a))}catch(g){x(g)}})},d.prototype.decode=function(a){var l=new Xt.MultiFormatReader(this.verbose,this.hints),f=new Xt.HTMLCanvasElementLuminanceSource(a),x=new Xt.BinaryBitmap(new Xt.HybridBinarizer(f)),g=l.decode(x);return{text:g.text,format:Km.create(this.toHtml5QrcodeSupportedFormats(g.format)),debugData:this.createDebugData()}},d.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(l,f,x){a.set(l,f)}),a},d.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},d.prototype.createZXingFormats=function(a){for(var l=[],f=0,x=a;f<x.length;f++){var g=x[f];this.formatMap.has(g)?l.push(this.formatMap.get(g)):this.logger.logError("".concat(g," is not supported by")+"ZXingHtml5QrcodeShim")}return l},d.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},d})(),Kb=function(d,a,l,f){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(R){try{E(f.next(R))}catch(N){b(N)}}function _(R){try{E(f.throw(R))}catch(N){b(N)}}function E(R){R.done?g(R.value):x(R.value).then(A,_)}E((f=f.apply(d,a||[])).next())})},Wb=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(E){return function(R){return _([E,R])}}function _(E){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,E[0]&&(l=0)),l;)try{if(f=1,x&&(g=E[0]&2?x.return:E[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,E[1])).done)return g;switch(x=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,x=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){l.label=E[1];break}if(E[0]===6&&l.label<g[1]){l.label=g[1],g=E;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(E);break}g[2]&&l.ops.pop(),l.trys.pop();continue}E=a.call(d,l)}catch(R){E=[6,R],x=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},t2=(function(){function d(a,l,f){if(this.formatMap=new Map([[Te.QR_CODE,"qr_code"],[Te.AZTEC,"aztec"],[Te.CODABAR,"codabar"],[Te.CODE_39,"code_39"],[Te.CODE_93,"code_93"],[Te.CODE_128,"code_128"],[Te.DATA_MATRIX,"data_matrix"],[Te.ITF,"itf"],[Te.EAN_13,"ean_13"],[Te.EAN_8,"ean_8"],[Te.PDF_417,"pdf417"],[Te.UPC_A,"upc_a"],[Te.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!d.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=f;var x=this.createBarcodeDetectorFormats(a);if(this.detector=new BarcodeDetector(x),!this.detector)throw"BarcodeDetector detector not supported"}return d.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var a=new BarcodeDetector({formats:["qr_code"]});return typeof a<"u"},d.prototype.decodeAsync=function(a){return Kb(this,void 0,void 0,function(){var l,f;return Wb(this,function(x){switch(x.label){case 0:return[4,this.detector.detect(a)];case 1:if(l=x.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return f=this.selectLargestBarcode(l),[2,{text:f.rawValue,format:Km.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}]}})})},d.prototype.selectLargestBarcode=function(a){for(var l=null,f=0,x=0,g=a;x<g.length;x++){var b=g[x],A=b.boundingBox.width*b.boundingBox.height;A>f&&(f=A,l=b)}if(!l)throw"No largest barcode found";return l},d.prototype.createBarcodeDetectorFormats=function(a){for(var l=[],f=0,x=a;f<x.length;f++){var g=x[f];this.formatMap.has(g)?l.push(this.formatMap.get(g)):this.logger.warn("".concat(g," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},d.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},d.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(l,f,x){a.set(l,f)}),a},d.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},d})(),n2=function(d,a,l,f){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(R){try{E(f.next(R))}catch(N){b(N)}}function _(R){try{E(f.throw(R))}catch(N){b(N)}}function E(R){R.done?g(R.value):x(R.value).then(A,_)}E((f=f.apply(d,a||[])).next())})},r2=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(E){return function(R){return _([E,R])}}function _(E){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,E[0]&&(l=0)),l;)try{if(f=1,x&&(g=E[0]&2?x.return:E[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,E[1])).done)return g;switch(x=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,x=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){l.label=E[1];break}if(E[0]===6&&l.label<g[1]){l.label=g[1],g=E;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(E);break}g[2]&&l.ops.pop(),l.trys.pop();continue}E=a.call(d,l)}catch(R){E=[6,R],x=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Zb=(function(){function d(a,l,f,x){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=f,l&&t2.isSupported()?(this.primaryDecoder=new t2(a,f,x),this.secondaryDecoder=new e2(a,f,x)):this.primaryDecoder=new e2(a,f,x)}return d.prototype.decodeAsync=function(a){return n2(this,void 0,void 0,function(){var l;return r2(this,function(f){switch(f.label){case 0:l=performance.now(),f.label=1;case 1:return f.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(a)];case 2:return[2,f.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},d.prototype.decodeRobustlyAsync=function(a){return n2(this,void 0,void 0,function(){var l,f;return r2(this,function(x){switch(x.label){case 0:l=performance.now(),x.label=1;case 1:return x.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(a)];case 2:return[2,x.sent()];case 3:if(f=x.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(a)];throw f;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},d.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},d.prototype.possiblyLogPerformance=function(a){if(this.verbose){var l=performance.now()-a;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},d.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var a=0,l=0,f=this.executionResults;l<f.length;l++){var x=f[l];a+=x}var g=a/this.executionResults.length;console.log("".concat(g," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},d})(),t0=(function(){var d=function(a,l){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,x){f.__proto__=x}||function(f,x){for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(f[g]=x[g])},d(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");d(a,l);function f(){this.constructor=a}a.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}})(),Zu=function(d,a,l,f){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(R){try{E(f.next(R))}catch(N){b(N)}}function _(R){try{E(f.throw(R))}catch(N){b(N)}}function E(R){R.done?g(R.value):x(R.value).then(A,_)}E((f=f.apply(d,a||[])).next())})},Qu=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(E){return function(R){return _([E,R])}}function _(E){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,E[0]&&(l=0)),l;)try{if(f=1,x&&(g=E[0]&2?x.return:E[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,E[1])).done)return g;switch(x=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,x=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){l.label=E[1];break}if(E[0]===6&&l.label<g[1]){l.label=g[1],g=E;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(E);break}g[2]&&l.ops.pop(),l.trys.pop();continue}E=a.call(d,l)}catch(R){E=[6,R],x=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Zm=(function(){function d(a,l){this.name=a,this.track=l}return d.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},d.prototype.apply=function(a){var l={};l[this.name]=a;var f={advanced:[l]};return this.track.applyConstraints(f)},d.prototype.value=function(){var a=this.track.getSettings();if(this.name in a){var l=a[this.name];return l}return null},d})(),Qb=(function(d){t0(a,d);function a(l,f){return d.call(this,l,f)||this}return a.prototype.min=function(){return this.getCapabilities().min},a.prototype.max=function(){return this.getCapabilities().max},a.prototype.step=function(){return this.getCapabilities().step},a.prototype.apply=function(l){var f={};f[this.name]=l;var x={advanced:[f]};return this.track.applyConstraints(x)},a.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),f=l[this.name];return{min:f.min,max:f.max,step:f.step}},a.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},a})(Zm),Jb=(function(d){t0(a,d);function a(l){return d.call(this,"zoom",l)||this}return a})(Qb),$b=(function(d){t0(a,d);function a(l){return d.call(this,"torch",l)||this}return a})(Zm),e3=(function(){function d(a){this.track=a}return d.prototype.zoomFeature=function(){return new Jb(this.track)},d.prototype.torchFeature=function(){return new $b(this.track)},d})(),t3=(function(){function d(a,l,f){this.isClosed=!1,this.parentElement=a,this.mediaStream=l,this.callbacks=f,this.surface=this.createVideoElement(this.parentElement.clientWidth),a.append(this.surface)}return d.prototype.createVideoElement=function(a){var l=document.createElement("video");return l.style.width="".concat(a,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},d.prototype.setupSurface=function(){var a=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var f=a.surface.clientWidth,x=a.surface.clientHeight;a.callbacks.onRenderSurfaceReady(f,x),a.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},d.create=function(a,l,f,x){return Zu(this,void 0,void 0,function(){var g,b;return Qu(this,function(A){switch(A.label){case 0:return g=new d(a,l,x),f.aspectRatio?(b={aspectRatio:f.aspectRatio},[4,g.getFirstTrackOrFail().applyConstraints(b)]):[3,2];case 1:A.sent(),A.label=2;case 2:return g.setupSurface(),[2,g]}})})},d.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},d.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},d.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},d.prototype.resume=function(a){this.failIfClosed();var l=this,f=function(){setTimeout(a,200),l.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.play()},d.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},d.prototype.getSurface=function(){return this.failIfClosed(),this.surface},d.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},d.prototype.applyVideoConstraints=function(a){return Zu(this,void 0,void 0,function(){return Qu(this,function(l){if("aspectRatio"in a)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(a)]})})},d.prototype.close=function(){if(this.isClosed)return Promise.resolve();var a=this;return new Promise(function(l,f){var x=a.mediaStream.getVideoTracks(),g=x.length,b=0;a.mediaStream.getVideoTracks().forEach(function(A){a.mediaStream.removeTrack(A),A.stop(),++b,b>=g&&(a.isClosed=!0,a.parentElement.removeChild(a.surface),l())})})},d.prototype.getCapabilities=function(){return new e3(this.getFirstTrackOrFail())},d})(),n3=(function(){function d(a){this.mediaStream=a}return d.prototype.render=function(a,l,f){return Zu(this,void 0,void 0,function(){return Qu(this,function(x){return[2,t3.create(a,this.mediaStream,l,f)]})})},d.create=function(a){return Zu(this,void 0,void 0,function(){var l,f;return Qu(this,function(x){switch(x.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:a},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return f=x.sent(),[2,new d(f)]}})})},d})(),i2=function(d,a,l,f){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(R){try{E(f.next(R))}catch(N){b(N)}}function _(R){try{E(f.throw(R))}catch(N){b(N)}}function E(R){R.done?g(R.value):x(R.value).then(A,_)}E((f=f.apply(d,a||[])).next())})},s2=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(E){return function(R){return _([E,R])}}function _(E){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,E[0]&&(l=0)),l;)try{if(f=1,x&&(g=E[0]&2?x.return:E[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,E[1])).done)return g;switch(x=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,x=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){l.label=E[1];break}if(E[0]===6&&l.label<g[1]){l.label=g[1],g=E;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(E);break}g[2]&&l.ops.pop(),l.trys.pop();continue}E=a.call(d,l)}catch(R){E=[6,R],x=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},r3=(function(){function d(){}return d.failIfNotSupported=function(){return i2(this,void 0,void 0,function(){return s2(this,function(a){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new d]})})},d.prototype.create=function(a){return i2(this,void 0,void 0,function(){return s2(this,function(l){return[2,n3.create(a)]})})},d})(),i3=function(d,a,l,f){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(R){try{E(f.next(R))}catch(N){b(N)}}function _(R){try{E(f.throw(R))}catch(N){b(N)}}function E(R){R.done?g(R.value):x(R.value).then(A,_)}E((f=f.apply(d,a||[])).next())})},s3=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(E){return function(R){return _([E,R])}}function _(E){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,E[0]&&(l=0)),l;)try{if(f=1,x&&(g=E[0]&2?x.return:E[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,E[1])).done)return g;switch(x=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,x=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){l.label=E[1];break}if(E[0]===6&&l.label<g[1]){l.label=g[1],g=E;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(E);break}g[2]&&l.ops.pop(),l.trys.pop();continue}E=a.call(d,l)}catch(R){E=[6,R],x=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},a3=(function(){function d(){}return d.retrieve=function(){if(navigator.mediaDevices)return d.getCamerasFromMediaDevices();var a=MediaStreamTrack;return MediaStreamTrack&&a.getSources?d.getCamerasFromMediaStreamTrack():d.rejectWithError()},d.rejectWithError=function(){var a=Va.unableToQuerySupportedDevices();return d.isHttpsOrLocalhost()||(a=Va.insecureContextCameraQueryError()),Promise.reject(a)},d.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var a=location.host.split(":")[0];return a==="127.0.0.1"||a==="localhost"},d.getCamerasFromMediaDevices=function(){return i3(this,void 0,void 0,function(){var a,l,f,x,g,b,A;return s3(this,function(_){switch(_.label){case 0:return a=function(E){for(var R=E.getVideoTracks(),N=0,B=R;N<B.length;N++){var L=B[N];L.enabled=!1,L.stop(),E.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=_.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(f=_.sent(),x=[],g=0,b=f;g<b.length;g++)A=b[g],A.kind==="videoinput"&&x.push({id:A.deviceId,label:A.label});return a(l),[2,x]}})})},d.getCamerasFromMediaStreamTrack=function(){return new Promise(function(a,l){var f=function(g){for(var b=[],A=0,_=g;A<_.length;A++){var E=_[A];E.kind==="video"&&b.push({id:E.id,label:E.label})}a(b)},x=MediaStreamTrack;x.getSources(f)})},d})(),sn;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.NOT_STARTED=1]="NOT_STARTED",d[d.SCANNING=2]="SCANNING",d[d.PAUSED=3]="PAUSED"})(sn||(sn={}));var l3=(function(){function d(){this.state=sn.NOT_STARTED,this.onGoingTransactionNewState=sn.UNKNOWN}return d.prototype.directTransition=function(a){this.failIfTransitionOngoing(),this.validateTransition(a),this.state=a},d.prototype.startTransition=function(a){return this.failIfTransitionOngoing(),this.validateTransition(a),this.onGoingTransactionNewState=a,this},d.prototype.execute=function(){if(this.onGoingTransactionNewState===sn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var a=this.onGoingTransactionNewState;this.onGoingTransactionNewState=sn.UNKNOWN,this.directTransition(a)},d.prototype.cancel=function(){if(this.onGoingTransactionNewState===sn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=sn.UNKNOWN},d.prototype.getState=function(){return this.state},d.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==sn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},d.prototype.validateTransition=function(a){switch(this.state){case sn.UNKNOWN:throw"Transition from unknown is not allowed";case sn.NOT_STARTED:this.failIfNewStateIs(a,[sn.PAUSED]);break;case sn.SCANNING:break;case sn.PAUSED:break}},d.prototype.failIfNewStateIs=function(a,l){for(var f=0,x=l;f<x.length;f++){var g=x[f];if(a===g)throw"Cannot transition from ".concat(this.state," to ").concat(a)}},d})(),o3=(function(){function d(a){this.stateManager=a}return d.prototype.startTransition=function(a){return this.stateManager.startTransition(a)},d.prototype.directTransition=function(a){this.stateManager.directTransition(a)},d.prototype.getState=function(){return this.stateManager.getState()},d.prototype.canScanFile=function(){return this.stateManager.getState()===sn.NOT_STARTED},d.prototype.isScanning=function(){return this.stateManager.getState()!==sn.NOT_STARTED},d.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===sn.SCANNING},d.prototype.isPaused=function(){return this.stateManager.getState()===sn.PAUSED},d})(),u3=(function(){function d(){}return d.create=function(){return new o3(new l3)},d})(),c3=(function(){var d=function(a,l){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,x){f.__proto__=x}||function(f,x){for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(f[g]=x[g])},d(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");d(a,l);function f(){this.constructor=a}a.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}})(),Er=(function(d){c3(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.DEFAULT_WIDTH=300,a.DEFAULT_WIDTH_OFFSET=2,a.FILE_SCAN_MIN_HEIGHT=300,a.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,a.MIN_QR_BOX_SIZE=50,a.SHADED_LEFT=1,a.SHADED_RIGHT=2,a.SHADED_TOP=3,a.SHADED_BOTTOM=4,a.SHADED_REGION_ELEMENT_ID="qr-shaded-region",a.VERBOSE=!1,a.BORDER_SHADER_DEFAULT_COLOR="#ffffff",a.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",a})(zb),h3=(function(){function d(a,l){this.logger=l,this.fps=Er.SCAN_DEFAULT_FPS,a?(a.fps&&(this.fps=a.fps),this.disableFlip=a.disableFlip===!0,this.qrbox=a.qrbox,this.aspectRatio=a.aspectRatio,this.videoConstraints=a.videoConstraints):this.disableFlip=Er.DEFAULT_DISABLE_FLIP}return d.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Wm.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},d.prototype.isShadedBoxEnabled=function(){return!Bi(this.qrbox)},d.create=function(a,l){return new d(a,l)},d})(),f3=(function(){function d(a,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(a))throw"HTML Element with id=".concat(a," not found");this.elementId=a,this.verbose=!1;var f;typeof l=="boolean"?this.verbose=l===!0:l&&(f=l,this.verbose=f.verbose===!0,f.experimentalFeatures),this.logger=new qb(this.verbose),this.qrcode=new Zb(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(f),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=u3.create()}return d.prototype.start=function(a,l,f,x){var g=this;if(!a)throw"cameraIdOrConfig is required";if(!f||typeof f!="function")throw"qrCodeSuccessCallback is required and should be a function.";var b;x?b=x:b=this.verbose?this.logger.log:function(){};var A=h3.create(l,this.logger);this.clearElement();var _=!1;A.videoConstraints&&(A.isMediaStreamConstraintsValid()?_=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=_,R=document.getElementById(this.elementId);R.clientWidth?R.clientWidth:Er.DEFAULT_WIDTH,R.style.position="relative",this.shouldScan=!0,this.element=R;var N=this,B=this.stateManagerProxy.startTransition(sn.SCANNING);return new Promise(function(L,P){var q=E?A.videoConstraints:N.createVideoConstraints(a);if(!q){B.cancel(),P("videoConstraints should be defined");return}var Q={};(!E||A.aspectRatio)&&(Q.aspectRatio=A.aspectRatio);var se={onRenderSurfaceReady:function(ce,Y){N.setupUi(ce,Y,A),N.isScanning=!0,N.foreverScan(A,f,b)}};r3.failIfNotSupported().then(function(ce){ce.create(q).then(function(Y){return Y.render(g.element,Q,se).then(function(me){N.renderedCamera=me,B.execute(),L(null)}).catch(function(me){B.cancel(),P(me)})}).catch(function(Y){B.cancel(),P(Va.errorGettingUserMedia(Y))})}).catch(function(ce){B.cancel(),P(Va.cameraStreamingNotSupported())})})},d.prototype.pause=function(a){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(sn.PAUSED),this.showPausedState(),(Bi(a)||a!==!0)&&(a=!1),a&&this.renderedCamera&&this.renderedCamera.pause()},d.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var a=this,l=function(){a.stateManagerProxy.directTransition(sn.SCANNING),a.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},d.prototype.getState=function(){return this.stateManagerProxy.getState()},d.prototype.stop=function(){var a=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(sn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var f=function(){if(a.element){var g=document.getElementById(Er.SHADED_REGION_ELEMENT_ID);g&&a.element.removeChild(g)}},x=this;return this.renderedCamera.close().then(function(){return x.renderedCamera=null,x.element&&(x.element.removeChild(x.canvasElement),x.canvasElement=null),f(),x.qrRegion&&(x.qrRegion=null),x.context&&(x.context=null),l.execute(),x.hidePausedState(),x.isScanning=!1,Promise.resolve()})},d.prototype.scanFile=function(a,l){return this.scanFileV2(a,l).then(function(f){return f.decodedText})},d.prototype.scanFileV2=function(a,l){var f=this;if(!a||!(a instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Bi(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(x,g){f.possiblyCloseLastScanImageFile(),f.clearElement(),f.lastScanImageFile=URL.createObjectURL(a);var b=new Image;b.onload=function(){var A=b.width,_=b.height,E=document.getElementById(f.elementId),R=E.clientWidth?E.clientWidth:Er.DEFAULT_WIDTH,N=Math.max(E.clientHeight?E.clientHeight:_,Er.FILE_SCAN_MIN_HEIGHT),B=f.computeCanvasDrawConfig(A,_,R,N);if(l){var L=f.createCanvasElement(R,N,"qr-canvas-visible");L.style.display="inline-block",E.appendChild(L);var P=L.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=R,P.canvas.height=N,P.drawImage(b,0,0,A,_,B.x,B.y,B.width,B.height)}var q=Er.FILE_SCAN_HIDDEN_CANVAS_PADDING,Q=Math.max(b.width,B.width),se=Math.max(b.height,B.height),ce=Q+2*q,Y=se+2*q,me=f.createCanvasElement(ce,Y);E.appendChild(me);var ke=me.getContext("2d");if(!ke)throw"Unable to get 2d context from canvas";ke.canvas.width=ce,ke.canvas.height=Y,ke.drawImage(b,0,0,A,_,q,q,Q,se);try{f.qrcode.decodeRobustlyAsync(me).then(function(_e){x(Jg.createFromQrcodeResult(_e))}).catch(g)}catch(_e){g("QR code parse error, error = ".concat(_e))}},b.onerror=g,b.onabort=g,b.onstalled=g,b.onsuspend=g,b.src=URL.createObjectURL(a)})},d.prototype.clear=function(){this.clearElement()},d.getCameras=function(){return a3.retrieve()},d.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},d.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},d.prototype.applyVideoConstraints=function(a){if(a){if(!Wm.isMediaStreamConstraintsValid(a,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(a)},d.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},d.prototype.getSupportedFormats=function(a){var l=[Te.QR_CODE,Te.AZTEC,Te.CODABAR,Te.CODE_39,Te.CODE_93,Te.CODE_128,Te.DATA_MATRIX,Te.MAXICODE,Te.ITF,Te.EAN_13,Te.EAN_8,Te.PDF_417,Te.RSS_14,Te.RSS_EXPANDED,Te.UPC_A,Te.UPC_E,Te.UPC_EAN_EXTENSION];if(!a||typeof a=="boolean"||!a.formatsToSupport)return l;if(!Array.isArray(a.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(a.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var f=[],x=0,g=a.formatsToSupport;x<g.length;x++){var b=g[x];Fb(b)?f.push(b):this.logger.warn("Invalid format: ".concat(b," passed in config, ignoring."))}if(f.length===0)throw"None of formatsToSupport match supported values.";return f},d.prototype.getUseBarCodeDetectorIfSupported=function(a){if(Bi(a))return!0;if(!Bi(a.useBarCodeDetectorIfSupported))return a.useBarCodeDetectorIfSupported!==!1;if(Bi(a.experimentalFeatures))return!0;var l=a.experimentalFeatures;return Bi(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},d.prototype.validateQrboxSize=function(a,l,f){var x=this,g=f.qrbox;this.validateQrboxConfig(g);var b=this.toQrdimensions(a,l,g),A=function(E){if(E<Er.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Er.MIN_QR_BOX_SIZE,"px.")},_=function(E){return E>a&&(x.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=a),E};A(b.width),A(b.height),b.width=_(b.width)},d.prototype.validateQrboxConfig=function(a){if(typeof a!="number"&&typeof a!="function"&&(a.width===void 0||a.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},d.prototype.toQrdimensions=function(a,l,f){if(typeof f=="number")return{width:f,height:f};if(typeof f=="function")try{return f(a,l)}catch(x){throw new Error("qrbox config was passed as a function but it failed with unknown error"+x)}return f},d.prototype.setupUi=function(a,l,f){f.isShadedBoxEnabled()&&this.validateQrboxSize(a,l,f);var x=Bi(f.qrbox)?{width:a,height:l}:f.qrbox;this.validateQrboxConfig(x);var g=this.toQrdimensions(a,l,x);g.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var b=f.isShadedBoxEnabled()&&g.height<=l,A={x:0,y:0,width:a,height:l},_=b?this.getShadedRegionBounds(a,l,g):A,E=this.createCanvasElement(_.width,_.height),R={willReadFrequently:!0},N=E.getContext("2d",R);N.canvas.width=_.width,N.canvas.height=_.height,this.element.append(E),b&&this.possiblyInsertShadingElement(this.element,a,l,g),this.createScannerPausedUiElement(this.element),this.qrRegion=_,this.context=N,this.canvasElement=E},d.prototype.createScannerPausedUiElement=function(a){var l=document.createElement("div");l.innerText=Va.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",a.appendChild(l),this.scannerPausedUiElement=l},d.prototype.scanContext=function(a,l){var f=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(x){return a(x.text,Jg.createFromQrcodeResult(x)),f.possiblyUpdateShaders(!0),!0}).catch(function(x){f.possiblyUpdateShaders(!1);var g=Va.codeParseError(x);return l(g,Hb.createFrom(g)),!1})},d.prototype.foreverScan=function(a,l,f){var x=this;if(this.shouldScan&&this.renderedCamera){var g=this.renderedCamera.getSurface(),b=g.videoWidth/g.clientWidth,A=g.videoHeight/g.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var _=this.qrRegion.width*b,E=this.qrRegion.height*A,R=this.qrRegion.x*b,N=this.qrRegion.y*A;this.context.drawImage(g,R,N,_,E,0,0,this.qrRegion.width,this.qrRegion.height);var B=function(){x.foreverScanTimeout=setTimeout(function(){x.foreverScan(a,l,f)},x.getTimeoutFps(a.fps))};this.scanContext(l,f).then(function(L){!L&&a.disableFlip!==!0?(x.context.translate(x.context.canvas.width,0),x.context.scale(-1,1),x.scanContext(l,f).finally(function(){B()})):B()}).catch(function(L){x.logger.logError("Error happend while scanning context",L),B()})}},d.prototype.createVideoConstraints=function(a){if(typeof a=="string")return{deviceId:{exact:a}};if(typeof a=="object"){var l="facingMode",f="deviceId",x={user:!0,environment:!0},g="exact",b=function(P){if(P in x)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},A=Object.keys(a);if(A.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(A.length," keys");var _=Object.keys(a)[0];if(_!==l&&_!==f)throw"Only '".concat(l,"' and '").concat(f,"' ")+" are supported for 'cameraIdOrConfig'";if(_===l){var E=a.facingMode;if(typeof E=="string"){if(b(E))return{facingMode:E}}else if(typeof E=="object")if(g in E){if(b(E["".concat(g)]))return{facingMode:{exact:E["".concat(g)]}}}else throw"'facingMode' should be string or object with"+" ".concat(g," as key.");else{var R=typeof E;throw"Invalid type of 'facingMode' = ".concat(R)}}else{var N=a.deviceId;if(typeof N=="string")return{deviceId:N};if(typeof N=="object"){if(g in N)return{deviceId:{exact:N["".concat(g)]}};throw"'deviceId' should be string or object with"+" ".concat(g," as key.")}else{var B=typeof N;throw"Invalid type of 'deviceId' = ".concat(B)}}}var L=typeof a;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},d.prototype.computeCanvasDrawConfig=function(a,l,f,x){if(a<=f&&l<=x){var g=(f-a)/2,b=(x-l)/2;return{x:g,y:b,width:a,height:l}}else{var A=a,_=l;return a>f&&(l=f/a*l,a=f),l>x&&(a=x/l*a,l=x),this.logger.log("Image downsampled from "+"".concat(A,"X").concat(_)+" to ".concat(a,"X").concat(l,".")),this.computeCanvasDrawConfig(a,l,f,x)}},d.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var a=document.getElementById(this.elementId);a&&(a.innerHTML="")},d.prototype.possiblyUpdateShaders=function(a){this.qrMatch!==a&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=a?Er.BORDER_SHADER_MATCH_COLOR:Er.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=a)},d.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},d.prototype.createCanvasElement=function(a,l,f){var x=a,g=l,b=document.createElement("canvas");return b.style.width="".concat(x,"px"),b.style.height="".concat(g,"px"),b.style.display="none",b.id=Bi(f)?"qr-canvas":f,b},d.prototype.getShadedRegionBounds=function(a,l,f){if(f.width>a||f.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(a-f.width)/2,y:(l-f.height)/2,width:f.width,height:f.height}},d.prototype.possiblyInsertShadingElement=function(a,l,f,x){if(!(l-x.width<1||f-x.height<1)){var g=document.createElement("div");g.style.position="absolute";var b=(l-x.width)/2,A=(f-x.height)/2;if(g.style.borderLeft="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderRight="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderTop="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderBottom="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),g.style.boxSizing="border-box",g.style.top="0px",g.style.bottom="0px",g.style.left="0px",g.style.right="0px",g.id="".concat(Er.SHADED_REGION_ELEMENT_ID),l-x.width<11||f-x.height<11)this.hasBorderShaders=!1;else{var _=5,E=40;this.insertShaderBorders(g,E,_,-_,null,0,!0),this.insertShaderBorders(g,E,_,-_,null,0,!1),this.insertShaderBorders(g,E,_,null,-_,0,!0),this.insertShaderBorders(g,E,_,null,-_,0,!1),this.insertShaderBorders(g,_,E+_,-_,null,-_,!0),this.insertShaderBorders(g,_,E+_,null,-_,-_,!0),this.insertShaderBorders(g,_,E+_,-_,null,-_,!1),this.insertShaderBorders(g,_,E+_,null,-_,-_,!1),this.hasBorderShaders=!0}a.append(g)}},d.prototype.insertShaderBorders=function(a,l,f,x,g,b,A){var _=document.createElement("div");_.style.position="absolute",_.style.backgroundColor=Er.BORDER_SHADER_DEFAULT_COLOR,_.style.width="".concat(l,"px"),_.style.height="".concat(f,"px"),x!==null&&(_.style.top="".concat(x,"px")),g!==null&&(_.style.bottom="".concat(g,"px")),A?_.style.left="".concat(b,"px"):_.style.right="".concat(b,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(_),a.appendChild(_)},d.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},d.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},d.prototype.getTimeoutFps=function(a){return 1e3/a},d})(),a2;(function(d){d[d.STATUS_DEFAULT=0]="STATUS_DEFAULT",d[d.STATUS_SUCCESS=1]="STATUS_SUCCESS",d[d.STATUS_WARNING=2]="STATUS_WARNING",d[d.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(a2||(a2={}));const d3=({onScan:d,onClose:a})=>{const[l,f]=vt.useState(null),x=vt.useRef(null),g=vt.useRef(!1);return vt.useEffect(()=>{g.current=!0;const b="html5qr-code-full-region",_=setTimeout(async()=>{try{const E=new f3(b);x.current=E;const R={fps:10,qrbox:{width:250,height:250},formatsToSupport:[Te.QR_CODE,Te.CODE_128,Te.EAN_13]};await E.start({facingMode:"environment"},R,N=>{g.current&&d(N)},N=>{})}catch(E){g.current&&(f("No foi possvel acessar a cmera. Verifique as permisses."),console.error(E))}},100);return()=>{g.current=!1,clearTimeout(_),x.current&&x.current.isScanning&&x.current.stop().then(()=>{var E;(E=x.current)==null||E.clear()}).catch(console.error)}},[d]),G.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col",children:[G.jsxs("div",{className:"flex justify-between items-center p-4 text-white bg-black/50 z-10",children:[G.jsx("h2",{className:"text-lg font-bold",children:"Escanear Cdigo"}),G.jsx("button",{onClick:a,className:"p-2 rounded-full hover:bg-white/20",children:G.jsx($y,{size:28})})]}),G.jsx("div",{className:"flex-1 relative bg-black flex items-center justify-center",children:l?G.jsxs("div",{className:"text-white text-center p-6",children:[G.jsx(Yy,{size:48,className:"mx-auto mb-4 opacity-50"}),G.jsx("p",{children:l})]}):G.jsx("div",{id:"html5qr-code-full-region",className:"w-full h-full"})}),G.jsx("div",{className:"p-6 bg-black/80 text-white text-center text-sm",children:"Aponte a cmera para o cdigo de barras ou QR Code."})]})};var Ha={},gf={exports:{}},mf,l2;function g3(){if(l2)return mf;l2=1;var d="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mf=d,mf}var xf,o2;function m3(){if(o2)return xf;o2=1;var d=g3();function a(){}function l(){}return l.resetWarningCache=a,xf=function(){function f(b,A,_,E,R,N){if(N!==d){var B=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw B.name="Invariant Violation",B}}f.isRequired=f;function x(){return f}var g={array:f,bigint:f,bool:f,func:f,number:f,object:f,string:f,symbol:f,any:f,arrayOf:x,element:f,elementType:f,instanceOf:x,node:f,objectOf:x,oneOf:x,oneOfType:x,shape:x,exact:x,checkPropTypes:l,resetWarningCache:a};return g.PropTypes=g,g},xf}var u2;function Qm(){return u2||(u2=1,gf.exports=m3()()),gf.exports}var yf,c2;function Jm(){return c2||(c2=1,yf={L:1,M:0,Q:3,H:2}),yf}var pf,h2;function $m(){return h2||(h2=1,pf={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),pf}var wf,f2;function x3(){if(f2)return wf;f2=1;var d=$m();function a(l){this.mode=d.MODE_8BIT_BYTE,this.data=l}return a.prototype={getLength:function(l){return this.data.length},write:function(l){for(var f=0;f<this.data.length;f++)l.put(this.data.charCodeAt(f),8)}},wf=a,wf}var bf,d2;function y3(){if(d2)return bf;d2=1;var d=Jm();function a(l,f){this.totalCount=l,this.dataCount=f}return a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(l,f){var x=a.getRsBlockTable(l,f);if(x==null)throw new Error("bad rs block @ typeNumber:"+l+"/errorCorrectLevel:"+f);for(var g=x.length/3,b=new Array,A=0;A<g;A++)for(var _=x[A*3+0],E=x[A*3+1],R=x[A*3+2],N=0;N<_;N++)b.push(new a(E,R));return b},a.getRsBlockTable=function(l,f){switch(f){case d.L:return a.RS_BLOCK_TABLE[(l-1)*4+0];case d.M:return a.RS_BLOCK_TABLE[(l-1)*4+1];case d.Q:return a.RS_BLOCK_TABLE[(l-1)*4+2];case d.H:return a.RS_BLOCK_TABLE[(l-1)*4+3];default:return}},bf=a,bf}var vf,g2;function p3(){if(g2)return vf;g2=1;function d(){this.buffer=new Array,this.length=0}return d.prototype={get:function(a){var l=Math.floor(a/8);return(this.buffer[l]>>>7-a%8&1)==1},put:function(a,l){for(var f=0;f<l;f++)this.putBit((a>>>l-f-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(a){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),a&&(this.buffer[l]|=128>>>this.length%8),this.length++}},vf=d,vf}var Ef,m2;function ex(){if(m2)return Ef;m2=1;for(var d={glog:function(l){if(l<1)throw new Error("glog("+l+")");return d.LOG_TABLE[l]},gexp:function(l){for(;l<0;)l+=255;for(;l>=256;)l-=255;return d.EXP_TABLE[l]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},a=0;a<8;a++)d.EXP_TABLE[a]=1<<a;for(var a=8;a<256;a++)d.EXP_TABLE[a]=d.EXP_TABLE[a-4]^d.EXP_TABLE[a-5]^d.EXP_TABLE[a-6]^d.EXP_TABLE[a-8];for(var a=0;a<255;a++)d.LOG_TABLE[d.EXP_TABLE[a]]=a;return Ef=d,Ef}var _f,x2;function tx(){if(x2)return _f;x2=1;var d=ex();function a(l,f){if(l.length==null)throw new Error(l.length+"/"+f);for(var x=0;x<l.length&&l[x]==0;)x++;this.num=new Array(l.length-x+f);for(var g=0;g<l.length-x;g++)this.num[g]=l[g+x]}return a.prototype={get:function(l){return this.num[l]},getLength:function(){return this.num.length},multiply:function(l){for(var f=new Array(this.getLength()+l.getLength()-1),x=0;x<this.getLength();x++)for(var g=0;g<l.getLength();g++)f[x+g]^=d.gexp(d.glog(this.get(x))+d.glog(l.get(g)));return new a(f,0)},mod:function(l){if(this.getLength()-l.getLength()<0)return this;for(var f=d.glog(this.get(0))-d.glog(l.get(0)),x=new Array(this.getLength()),g=0;g<this.getLength();g++)x[g]=this.get(g);for(var g=0;g<l.getLength();g++)x[g]^=d.gexp(d.glog(l.get(g))+f);return new a(x,0).mod(l)}},_f=a,_f}var Af,y2;function w3(){if(y2)return Af;y2=1;var d=$m(),a=tx(),l=ex(),f={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},x={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(g){for(var b=g<<10;x.getBCHDigit(b)-x.getBCHDigit(x.G15)>=0;)b^=x.G15<<x.getBCHDigit(b)-x.getBCHDigit(x.G15);return(g<<10|b)^x.G15_MASK},getBCHTypeNumber:function(g){for(var b=g<<12;x.getBCHDigit(b)-x.getBCHDigit(x.G18)>=0;)b^=x.G18<<x.getBCHDigit(b)-x.getBCHDigit(x.G18);return g<<12|b},getBCHDigit:function(g){for(var b=0;g!=0;)b++,g>>>=1;return b},getPatternPosition:function(g){return x.PATTERN_POSITION_TABLE[g-1]},getMask:function(g,b,A){switch(g){case f.PATTERN000:return(b+A)%2==0;case f.PATTERN001:return b%2==0;case f.PATTERN010:return A%3==0;case f.PATTERN011:return(b+A)%3==0;case f.PATTERN100:return(Math.floor(b/2)+Math.floor(A/3))%2==0;case f.PATTERN101:return b*A%2+b*A%3==0;case f.PATTERN110:return(b*A%2+b*A%3)%2==0;case f.PATTERN111:return(b*A%3+(b+A)%2)%2==0;default:throw new Error("bad maskPattern:"+g)}},getErrorCorrectPolynomial:function(g){for(var b=new a([1],0),A=0;A<g;A++)b=b.multiply(new a([1,l.gexp(A)],0));return b},getLengthInBits:function(g,b){if(1<=b&&b<10)switch(g){case d.MODE_NUMBER:return 10;case d.MODE_ALPHA_NUM:return 9;case d.MODE_8BIT_BYTE:return 8;case d.MODE_KANJI:return 8;default:throw new Error("mode:"+g)}else if(b<27)switch(g){case d.MODE_NUMBER:return 12;case d.MODE_ALPHA_NUM:return 11;case d.MODE_8BIT_BYTE:return 16;case d.MODE_KANJI:return 10;default:throw new Error("mode:"+g)}else if(b<41)switch(g){case d.MODE_NUMBER:return 14;case d.MODE_ALPHA_NUM:return 13;case d.MODE_8BIT_BYTE:return 16;case d.MODE_KANJI:return 12;default:throw new Error("mode:"+g)}else throw new Error("type:"+b)},getLostPoint:function(g){for(var b=g.getModuleCount(),A=0,_=0;_<b;_++)for(var E=0;E<b;E++){for(var R=0,N=g.isDark(_,E),B=-1;B<=1;B++)if(!(_+B<0||b<=_+B))for(var L=-1;L<=1;L++)E+L<0||b<=E+L||B==0&&L==0||N==g.isDark(_+B,E+L)&&R++;R>5&&(A+=3+R-5)}for(var _=0;_<b-1;_++)for(var E=0;E<b-1;E++){var P=0;g.isDark(_,E)&&P++,g.isDark(_+1,E)&&P++,g.isDark(_,E+1)&&P++,g.isDark(_+1,E+1)&&P++,(P==0||P==4)&&(A+=3)}for(var _=0;_<b;_++)for(var E=0;E<b-6;E++)g.isDark(_,E)&&!g.isDark(_,E+1)&&g.isDark(_,E+2)&&g.isDark(_,E+3)&&g.isDark(_,E+4)&&!g.isDark(_,E+5)&&g.isDark(_,E+6)&&(A+=40);for(var E=0;E<b;E++)for(var _=0;_<b-6;_++)g.isDark(_,E)&&!g.isDark(_+1,E)&&g.isDark(_+2,E)&&g.isDark(_+3,E)&&g.isDark(_+4,E)&&!g.isDark(_+5,E)&&g.isDark(_+6,E)&&(A+=40);for(var q=0,E=0;E<b;E++)for(var _=0;_<b;_++)g.isDark(_,E)&&q++;var Q=Math.abs(100*q/b/b-50)/5;return A+=Q*10,A}};return Af=x,Af}var Cf,p2;function b3(){if(p2)return Cf;p2=1;var d=x3(),a=y3(),l=p3(),f=w3(),x=tx();function g(A,_){this.typeNumber=A,this.errorCorrectLevel=_,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var b=g.prototype;return b.addData=function(A){var _=new d(A);this.dataList.push(_),this.dataCache=null},b.isDark=function(A,_){if(A<0||this.moduleCount<=A||_<0||this.moduleCount<=_)throw new Error(A+","+_);return this.modules[A][_]},b.getModuleCount=function(){return this.moduleCount},b.make=function(){if(this.typeNumber<1){var A=1;for(A=1;A<40;A++){for(var _=a.getRSBlocks(A,this.errorCorrectLevel),E=new l,R=0,N=0;N<_.length;N++)R+=_[N].dataCount;for(var N=0;N<this.dataList.length;N++){var B=this.dataList[N];E.put(B.mode,4),E.put(B.getLength(),f.getLengthInBits(B.mode,A)),B.write(E)}if(E.getLengthInBits()<=R*8)break}this.typeNumber=A}this.makeImpl(!1,this.getBestMaskPattern())},b.makeImpl=function(A,_){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var E=0;E<this.moduleCount;E++){this.modules[E]=new Array(this.moduleCount);for(var R=0;R<this.moduleCount;R++)this.modules[E][R]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(A,_),this.typeNumber>=7&&this.setupTypeNumber(A),this.dataCache==null&&(this.dataCache=g.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,_)},b.setupPositionProbePattern=function(A,_){for(var E=-1;E<=7;E++)if(!(A+E<=-1||this.moduleCount<=A+E))for(var R=-1;R<=7;R++)_+R<=-1||this.moduleCount<=_+R||(0<=E&&E<=6&&(R==0||R==6)||0<=R&&R<=6&&(E==0||E==6)||2<=E&&E<=4&&2<=R&&R<=4?this.modules[A+E][_+R]=!0:this.modules[A+E][_+R]=!1)},b.getBestMaskPattern=function(){for(var A=0,_=0,E=0;E<8;E++){this.makeImpl(!0,E);var R=f.getLostPoint(this);(E==0||A>R)&&(A=R,_=E)}return _},b.createMovieClip=function(A,_,E){var R=A.createEmptyMovieClip(_,E),N=1;this.make();for(var B=0;B<this.modules.length;B++)for(var L=B*N,P=0;P<this.modules[B].length;P++){var q=P*N,Q=this.modules[B][P];Q&&(R.beginFill(0,100),R.moveTo(q,L),R.lineTo(q+N,L),R.lineTo(q+N,L+N),R.lineTo(q,L+N),R.endFill())}return R},b.setupTimingPattern=function(){for(var A=8;A<this.moduleCount-8;A++)this.modules[A][6]==null&&(this.modules[A][6]=A%2==0);for(var _=8;_<this.moduleCount-8;_++)this.modules[6][_]==null&&(this.modules[6][_]=_%2==0)},b.setupPositionAdjustPattern=function(){for(var A=f.getPatternPosition(this.typeNumber),_=0;_<A.length;_++)for(var E=0;E<A.length;E++){var R=A[_],N=A[E];if(this.modules[R][N]==null)for(var B=-2;B<=2;B++)for(var L=-2;L<=2;L++)B==-2||B==2||L==-2||L==2||B==0&&L==0?this.modules[R+B][N+L]=!0:this.modules[R+B][N+L]=!1}},b.setupTypeNumber=function(A){for(var _=f.getBCHTypeNumber(this.typeNumber),E=0;E<18;E++){var R=!A&&(_>>E&1)==1;this.modules[Math.floor(E/3)][E%3+this.moduleCount-8-3]=R}for(var E=0;E<18;E++){var R=!A&&(_>>E&1)==1;this.modules[E%3+this.moduleCount-8-3][Math.floor(E/3)]=R}},b.setupTypeInfo=function(A,_){for(var E=this.errorCorrectLevel<<3|_,R=f.getBCHTypeInfo(E),N=0;N<15;N++){var B=!A&&(R>>N&1)==1;N<6?this.modules[N][8]=B:N<8?this.modules[N+1][8]=B:this.modules[this.moduleCount-15+N][8]=B}for(var N=0;N<15;N++){var B=!A&&(R>>N&1)==1;N<8?this.modules[8][this.moduleCount-N-1]=B:N<9?this.modules[8][15-N-1+1]=B:this.modules[8][15-N-1]=B}this.modules[this.moduleCount-8][8]=!A},b.mapData=function(A,_){for(var E=-1,R=this.moduleCount-1,N=7,B=0,L=this.moduleCount-1;L>0;L-=2)for(L==6&&L--;;){for(var P=0;P<2;P++)if(this.modules[R][L-P]==null){var q=!1;B<A.length&&(q=(A[B]>>>N&1)==1);var Q=f.getMask(_,R,L-P);Q&&(q=!q),this.modules[R][L-P]=q,N--,N==-1&&(B++,N=7)}if(R+=E,R<0||this.moduleCount<=R){R-=E,E=-E;break}}},g.PAD0=236,g.PAD1=17,g.createData=function(A,_,E){for(var R=a.getRSBlocks(A,_),N=new l,B=0;B<E.length;B++){var L=E[B];N.put(L.mode,4),N.put(L.getLength(),f.getLengthInBits(L.mode,A)),L.write(N)}for(var P=0,B=0;B<R.length;B++)P+=R[B].dataCount;if(N.getLengthInBits()>P*8)throw new Error("code length overflow. ("+N.getLengthInBits()+">"+P*8+")");for(N.getLengthInBits()+4<=P*8&&N.put(0,4);N.getLengthInBits()%8!=0;)N.putBit(!1);for(;!(N.getLengthInBits()>=P*8||(N.put(g.PAD0,8),N.getLengthInBits()>=P*8));)N.put(g.PAD1,8);return g.createBytes(N,R)},g.createBytes=function(A,_){for(var E=0,R=0,N=0,B=new Array(_.length),L=new Array(_.length),P=0;P<_.length;P++){var q=_[P].dataCount,Q=_[P].totalCount-q;R=Math.max(R,q),N=Math.max(N,Q),B[P]=new Array(q);for(var se=0;se<B[P].length;se++)B[P][se]=255&A.buffer[se+E];E+=q;var ce=f.getErrorCorrectPolynomial(Q),Y=new x(B[P],ce.getLength()-1),me=Y.mod(ce);L[P]=new Array(ce.getLength()-1);for(var se=0;se<L[P].length;se++){var ke=se+me.getLength()-L[P].length;L[P][se]=ke>=0?me.get(ke):0}}for(var _e=0,se=0;se<_.length;se++)_e+=_[se].totalCount;for(var $=new Array(_e),Me=0,se=0;se<R;se++)for(var P=0;P<_.length;P++)se<B[P].length&&($[Me++]=B[P][se]);for(var se=0;se<N;se++)for(var P=0;P<_.length;P++)se<L[P].length&&($[Me++]=L[P][se]);return $},Cf=g,Cf}var ku={},w2;function v3(){if(w2)return ku;w2=1,Object.defineProperty(ku,"__esModule",{value:!0});var d=Object.assign||function(E){for(var R=1;R<arguments.length;R++){var N=arguments[R];for(var B in N)Object.prototype.hasOwnProperty.call(N,B)&&(E[B]=N[B])}return E},a=Qm(),l=g(a),f=ro(),x=g(f);function g(E){return E&&E.__esModule?E:{default:E}}function b(E,R){var N={};for(var B in E)R.indexOf(B)>=0||Object.prototype.hasOwnProperty.call(E,B)&&(N[B]=E[B]);return N}var A={bgColor:l.default.oneOfType([l.default.object,l.default.string]).isRequired,bgD:l.default.string.isRequired,fgColor:l.default.oneOfType([l.default.object,l.default.string]).isRequired,fgD:l.default.string.isRequired,size:l.default.number.isRequired,title:l.default.string,viewBoxSize:l.default.number.isRequired,xmlns:l.default.string},_=(0,f.forwardRef)(function(E,R){var N=E.bgColor,B=E.bgD,L=E.fgD,P=E.fgColor,q=E.size,Q=E.title,se=E.viewBoxSize,ce=E.xmlns,Y=ce===void 0?"http://www.w3.org/2000/svg":ce,me=b(E,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return x.default.createElement("svg",d({},me,{height:q,ref:R,viewBox:"0 0 "+se+" "+se,width:q,xmlns:Y}),Q?x.default.createElement("title",null,Q):null,x.default.createElement("path",{d:B,fill:N}),x.default.createElement("path",{d:L,fill:P}))});return _.displayName="QRCodeSvg",_.propTypes=A,ku.default=_,ku}var b2;function E3(){if(b2)return Ha;b2=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.QRCode=void 0;var d=Object.assign||function(q){for(var Q=1;Q<arguments.length;Q++){var se=arguments[Q];for(var ce in se)Object.prototype.hasOwnProperty.call(se,ce)&&(q[ce]=se[ce])}return q},a=Qm(),l=N(a),f=Jm(),x=N(f),g=b3(),b=N(g),A=ro(),_=N(A),E=v3(),R=N(E);function N(q){return q&&q.__esModule?q:{default:q}}function B(q,Q){var se={};for(var ce in q)Q.indexOf(ce)>=0||Object.prototype.hasOwnProperty.call(q,ce)&&(se[ce]=q[ce]);return se}var L={bgColor:l.default.oneOfType([l.default.object,l.default.string]),fgColor:l.default.oneOfType([l.default.object,l.default.string]),level:l.default.string,size:l.default.number,value:l.default.string.isRequired},P=(0,A.forwardRef)(function(q,Q){var se=q.bgColor,ce=se===void 0?"#FFFFFF":se,Y=q.fgColor,me=Y===void 0?"#000000":Y,ke=q.level,_e=ke===void 0?"L":ke,$=q.size,Me=$===void 0?256:$,fe=q.value,Tn=B(q,["bgColor","fgColor","level","size","value"]),xt=new b.default(-1,x.default[_e]);xt.addData(fe),xt.make();var Ae=xt.modules;return _.default.createElement(R.default,d({},Tn,{bgColor:ce,bgD:Ae.map(function(Ye,dt){return Ye.map(function(re,ee){return re?"":"M "+ee+" "+dt+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:me,fgD:Ae.map(function(Ye,dt){return Ye.map(function(re,ee){return re?"M "+ee+" "+dt+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:Q,size:Me,viewBoxSize:Ae.length}))});return Ha.QRCode=P,P.displayName="QRCode",P.propTypes=L,Ha.default=P,Ha}var _3=E3();const A3=to(_3),C3=({product:d,onClose:a})=>{const l=()=>{var x;const f=window.open("","","height=500,width=500");if(f){const g=((x=document.getElementById("qr-code-svg"))==null?void 0:x.outerHTML)||"";f.document.write(`
            <html>
                <body style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%; font-family:sans-serif;">
                    <h2 style="margin-bottom:10px;">${d.name}</h2>
                    ${g}
                    <p style="margin-top:10px; font-weight:bold; font-family:monospace;">${d.id}</p>
                    <script>
                        setTimeout(() => { window.print(); window.close(); }, 500);
                    <\/script>
                </body>
            </html>
        `),f.document.close()}};return G.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:G.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl relative",children:[G.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:G.jsx(_2,{size:24})}),G.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 text-center",children:"Etiqueta"}),G.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl p-6 flex flex-col items-center",children:[G.jsx("h4",{className:"font-bold text-lg mb-4 text-center",children:d.name}),G.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm",children:G.jsx(A3,{id:"qr-code-svg",value:d.id,size:160,level:"H"})}),G.jsx("p",{className:"font-mono font-bold mt-4 text-slate-600",children:d.id})]}),G.jsx("div",{className:"mt-6",children:G.jsxs("button",{onClick:l,className:"w-full bg-qq-green hover:bg-qq-green-dark text-white py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-qq-green/20 transition-all active:scale-95",children:[G.jsx(dp,{size:20}),"Imprimir"]})})]})})},S3=({toasts:d,removeToast:a})=>G.jsx("div",{className:"fixed top-4 left-0 right-0 z-[100] flex flex-col items-center gap-2 pointer-events-none px-4",children:d.map(l=>G.jsxs("div",{className:`
            pointer-events-auto flex items-center p-4 rounded-xl shadow-lg border w-full max-w-sm animate-fade-in
            ${l.type==="success"?"bg-white border-green-200 text-green-700":""}
            ${l.type==="error"?"bg-white border-red-200 text-red-700":""}
            ${l.type==="info"?"bg-white border-blue-200 text-blue-700":""}
          `,children:[G.jsxs("div",{className:"mr-3",children:[l.type==="success"&&G.jsx(Qy,{size:20}),l.type==="error"&&G.jsx(Wy,{size:20}),l.type==="info"&&G.jsx(op,{size:20})]}),G.jsx("p",{className:"flex-1 text-sm font-medium",children:l.text}),G.jsx("button",{onClick:()=>a(l.id),className:"ml-2 opacity-50 hover:opacity-100",children:G.jsx(_2,{size:16})})]},l.id))}),T3=()=>{const[d,a]=vt.useState("home"),[l,f]=vt.useState([]),[x,g]=vt.useState([]),[b,A]=vt.useState(!1),[_,E]=vt.useState(!1),[R,N]=vt.useState(""),[B,L]=vt.useState([]),[P,q]=vt.useState(""),[Q,se]=vt.useState(""),[ce,Y]=vt.useState(!1),[me,ke]=vt.useState(!1),[_e,$]=vt.useState(!1),[Me,fe]=vt.useState(!1),[Tn,xt]=vt.useState(!1),[Ae,Ye]=vt.useState(null),[dt,re]=vt.useState(null),[ee,oe]=vt.useState(Db()),[Oe,Ze]=vt.useState({id:"",name:"",qty:""}),[He,z]=vt.useState({qty:1,obs:"",matricula:""}),[ae,Ee]=vt.useState("out"),ve=(xe,Pe)=>{const ze=Date.now();L(Rn=>[...Rn,{id:ze,type:xe,text:Pe}]),setTimeout(()=>Ve(ze),3e3)},Ve=xe=>{L(Pe=>Pe.filter(ze=>ze.id!==xe))},pe=vt.useCallback(async()=>{A(!0);try{const xe=await Vm(),Pe=await Xm();f(xe),g(Pe)}catch(xe){console.error(xe),ve("error","Erro ao carregar dados.")}finally{A(!1)}},[]);vt.useEffect(()=>{const xe=qf();E(xe),pe()},[pe]);const at=()=>{Mb(ee);const xe=qf();E(xe),Y(!1),ve("success",xe?"Conectado ao Supabase!":"Configurao salva (Offline)."),pe()},lt=()=>{Bb(),E(!1),oe({url:"",key:""}),Y(!1),ve("info","Desconectado. Usando modo offline."),pe()},Ot=async()=>{const xe=_?"ATENO: Isso apagar TODO o histrico no Banco de Dados. Tem certeza?":"Limpar histrico local?";if(window.confirm(xe)){A(!0);try{await Ub(),await pe(),ve("success","Histrico apagado com sucesso.")}catch(Pe){console.error("Delete Error:",Pe),ve("error","Erro ao apagar: "+Pe.message)}finally{A(!1)}}},or=async()=>{if(!Oe.id||!Oe.name){ve("error","Preencha cdigo e nome.");return}A(!0);try{const xe=parseInt(Oe.qty)||0;await Wg({id:Oe.id,name:Oe.name,qty:xe},!0),await pe(),ke(!1),Ze({id:"",name:"",qty:""}),ve("success","Produto salvo!")}catch(xe){ve("error",xe.message||"Erro ao salvar.")}finally{A(!1)}},an=async()=>{if(!Ae)return;const xe=He.qty,Pe=ae==="out",ze=Pe?-xe:xe;if(Pe&&Ae.qty<xe){ve("error","Estoque insuficiente.");return}if(!He.matricula.trim()){ve("error","Preencha a matrcula.");return}A(!0);try{const Rn=Ae.qty+ze,Ce={...Ae,qty:Rn};await Wg(Ce,!1),await kb({id:Date.now(),date:new Date().toISOString(),prodId:Ae.id,prodName:Ae.name,qty:ze,obs:He.obs,matricula:He.matricula}),await pe(),$(!1),Ye(null),z(Li=>({...Li,qty:1,obs:""})),ve("success","Estoque atualizado!")}catch(Rn){ve("error",Rn.message)}finally{A(!1)}},Pr=xe=>{xt(!1);const Pe=l.find(ze=>ze.id===xe);Pe?(Ye(Pe),Ee("out"),z(ze=>({...ze,qty:1,obs:""})),$(!0)):window.confirm(`Produto ${xe} no encontrado. Deseja cadastrar?`)&&(Ze({id:xe,name:"",qty:""}),ke(!0))},ot=()=>{var Pe;const xe=(Pe=document.getElementById("manual-code-input"))==null?void 0:Pe.value;xe&&Pr(xe)},jn=xe=>{Ye(xe),Ee("out"),z({qty:1,obs:"",matricula:""}),$(!0)},On=l.filter(xe=>xe.name.toLowerCase().includes(R.toLowerCase())||xe.id.toLowerCase().includes(R.toLowerCase())),Ar=x.filter(xe=>{if(!P&&!Q)return!0;const Pe=new Date(xe.date);Pe.setHours(0,0,0,0);let ze=!0,Rn=!0;if(P){const Ce=new Date(P);Ce.setHours(0,0,0,0),ze=Pe.getTime()>=Ce.getTime()}if(Q){const Ce=new Date(Q);Ce.setHours(0,0,0,0),Rn=Pe.getTime()<=Ce.getTime()}return ze&&Rn});return G.jsxs("div",{className:"max-w-[480px] mx-auto bg-slate-50 min-h-screen relative shadow-2xl pb-20",children:[G.jsx(S3,{toasts:B,removeToast:Ve}),G.jsxs("header",{className:"bg-qq-green text-white p-4 sticky top-0 z-40 shadow-lg flex justify-between items-center rounded-b-3xl",children:[G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsx("div",{className:"bg-white/10 p-2 rounded-xl backdrop-blur-sm",children:G.jsx(mg,{size:24,className:"text-white"})}),G.jsxs("div",{children:[G.jsxs("h1",{className:"text-lg font-bold leading-tight",children:["Estoque ",G.jsx("span",{className:"text-qq-yellow",children:"Palavra"})]}),G.jsxs("div",{className:"flex items-center gap-1.5 opacity-80",children:[G.jsx("div",{className:`w-2 h-2 rounded-full ${_?"bg-green-400 shadow-[0_0_8px_rgba(74,222,128,0.8)]":"bg-slate-400"}`}),G.jsx("span",{className:"text-[10px] font-medium tracking-wide uppercase",children:_?"Online":"Offline"})]})]})]}),G.jsxs("div",{className:"flex gap-2",children:[G.jsx("button",{onClick:()=>fe(!0),className:"w-10 h-10 flex items-center justify-center bg-qq-green-dark/50 hover:bg-qq-green-dark rounded-full transition active:scale-95 backdrop-blur-sm",children:G.jsx(sp,{size:18})}),G.jsx("button",{onClick:()=>Y(!0),className:"w-10 h-10 flex items-center justify-center bg-qq-green-dark/50 hover:bg-qq-green-dark rounded-full transition active:scale-95 backdrop-blur-sm",children:G.jsx(pp,{size:18})})]})]}),b&&G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/50 backdrop-blur-[2px]",children:G.jsx("div",{className:"w-10 h-10 border-4 border-slate-200 border-t-qq-green rounded-full animate-spin"})}),d==="home"&&G.jsxs("div",{className:"p-6 animate-fade-in space-y-6",children:[G.jsxs("div",{className:"flex justify-between items-end",children:[G.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Produtos"}),G.jsxs("button",{onClick:()=>ke(!0),className:"bg-qq-yellow hover:bg-qq-yellow-dark text-slate-900 px-4 py-2 rounded-xl text-sm font-bold shadow-md shadow-orange-100 transition flex items-center gap-2 active:scale-95",children:[G.jsx(rf,{size:18})," Novo"]})]}),G.jsxs("div",{className:"relative group",children:[G.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:G.jsx(xp,{className:"h-5 w-5 text-slate-400 group-focus-within:text-qq-green transition-colors"})}),G.jsx("input",{type:"text",placeholder:"Buscar nome ou cdigo...",value:R,onChange:xe=>N(xe.target.value),className:"block w-full pl-11 pr-4 py-3.5 bg-white border-2 border-slate-100 rounded-2xl text-slate-700 focus:outline-none focus:border-qq-green focus:ring-4 focus:ring-qq-green/10 transition-all shadow-sm"})]}),G.jsx("div",{className:"space-y-3",children:On.length===0?G.jsxs("div",{className:"text-center py-12 opacity-50",children:[G.jsx(mg,{size:48,className:"mx-auto mb-3 text-slate-400"}),G.jsx("p",{children:"Nenhum produto encontrado"})]}):On.map(xe=>G.jsxs("div",{onClick:()=>jn(xe),className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex justify-between items-center active:scale-[0.98] transition-transform cursor-pointer",children:[G.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[G.jsx("h3",{className:"font-bold text-slate-800 truncate",children:xe.name}),G.jsx("div",{className:"mt-1 inline-flex items-center px-2 py-0.5 rounded bg-slate-100 text-slate-500 text-xs font-mono",children:xe.id})]}),G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsxs("div",{className:"text-right",children:[G.jsx("div",{className:`text-[10px] font-bold uppercase mb-0.5 px-1.5 py-0.5 rounded-md inline-block ${xe.qty<5?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:xe.qty<5?"Baixo":"Ok"}),G.jsx("div",{className:"text-xl font-bold text-slate-700",children:xe.qty})]}),G.jsx("button",{onClick:Pe=>{Pe.stopPropagation(),re(xe)},className:"p-3 bg-slate-50 hover:bg-slate-100 rounded-xl text-slate-400 hover:text-qq-green transition-colors",children:G.jsx(sf,{size:20})})]})]},xe.id))})]}),d==="scan"&&G.jsxs("div",{className:"p-6 animate-fade-in flex flex-col h-[80vh]",children:[G.jsx("h2",{className:"text-2xl font-bold text-slate-800 text-center mb-6",children:"Ler Cdigo"}),G.jsxs("div",{onClick:()=>xt(!0),className:"flex-1 bg-slate-800 rounded-3xl flex flex-col items-center justify-center text-white/50 cursor-pointer hover:bg-slate-700 transition-colors shadow-inner relative overflow-hidden group",children:[G.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-slate-900 to-transparent opacity-50"}),G.jsx(sf,{size:64,className:"mb-4 group-hover:scale-110 transition-transform duration-300 text-white"}),G.jsx("p",{className:"font-medium text-white",children:"Toque para abrir a cmera"})]}),G.jsx("div",{className:"mt-8",children:G.jsxs("div",{className:"flex gap-3",children:[G.jsx("input",{id:"manual-code-input",type:"text",placeholder:"Digitar cdigo...",className:"flex-1 bg-white border-2 border-slate-200 rounded-xl px-4 py-3 text-center text-lg font-mono font-bold text-slate-700 focus:border-qq-green outline-none"}),G.jsx("button",{onClick:ot,className:"bg-qq-green text-white px-5 rounded-xl shadow-lg active:scale-95 transition-transform",children:G.jsx(Fy,{size:24})})]})})]}),d==="history"&&G.jsxs("div",{className:"p-6 animate-fade-in space-y-4",children:[G.jsxs("div",{className:"flex justify-between items-center mb-2",children:[G.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Histrico"}),G.jsxs("button",{onClick:Ot,className:"text-white bg-red-500 hover:bg-red-600 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-1 transition shadow-sm shadow-red-200",children:[G.jsx(bp,{size:14})," Limpar Tudo"]})]}),G.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-100 shadow-sm grid grid-cols-2 gap-3",children:[G.jsxs("div",{className:"col-span-2 text-xs font-bold text-slate-400 uppercase tracking-wide flex items-center gap-1",children:[G.jsx(Vy,{size:12})," Filtro por Data"]}),G.jsxs("div",{children:[G.jsx("label",{className:"text-[10px] text-slate-500 font-bold block mb-1",children:"De:"}),G.jsx("input",{type:"date",value:P,onChange:xe=>q(xe.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-2 text-xs focus:border-qq-green outline-none text-slate-700"})]}),G.jsxs("div",{children:[G.jsx("label",{className:"text-[10px] text-slate-500 font-bold block mb-1",children:"At:"}),G.jsx("input",{type:"date",value:Q,onChange:xe=>se(xe.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-2 text-xs focus:border-qq-green outline-none text-slate-700"})]})]}),G.jsx("div",{className:"space-y-4 pt-2",children:Ar.length===0?G.jsxs("div",{className:"text-center py-12 opacity-50",children:[G.jsx(xg,{size:48,className:"mx-auto mb-3 text-slate-400"}),G.jsx("p",{children:x.length>0?"Nenhum item neste perodo":"Sem movimentaes recentes"})]}):Ar.map(xe=>G.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex items-start gap-4",children:[G.jsx("div",{className:`mt-1 p-2 rounded-lg ${xe.qty>0?"bg-green-50 text-green-700":"bg-yellow-50 text-yellow-700"}`,children:xe.qty>0?G.jsx(rf,{size:16}):G.jsx(yg,{size:16})}),G.jsxs("div",{className:"flex-1 min-w-0",children:[G.jsxs("div",{className:"flex justify-between items-start",children:[G.jsx("h4",{className:"font-bold text-slate-800 truncate",children:xe.prodName}),G.jsx("span",{className:`font-bold ${xe.qty>0?"text-green-600":"text-qq-yellow"}`,children:xe.qty>0?`+${xe.qty}`:xe.qty})]}),G.jsxs("div",{className:"text-xs text-slate-400 mt-1 flex flex-wrap gap-2",children:[G.jsx("span",{children:new Date(xe.date).toLocaleString("pt-BR")}),xe.matricula&&G.jsxs("span",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-slate-600 font-medium",children:["Mat: ",xe.matricula]})]}),xe.obs&&G.jsxs("div",{className:"mt-2 text-xs bg-slate-50 text-slate-600 p-2 rounded italic border border-slate-100",children:['"',xe.obs,'"']})]})]},xe.id))})]}),G.jsxs("nav",{className:"fixed bottom-0 w-full max-w-[480px] bg-white border-t border-slate-100 flex justify-around py-2 pb-safe z-40 shadow-[0_-4px_20px_rgba(0,0,0,0.03)]",children:[G.jsxs("button",{onClick:()=>a("home"),className:`flex flex-col items-center p-2 transition-colors ${d==="home"?"text-qq-green":"text-slate-400 hover:text-slate-600"}`,children:[G.jsx(pg,{size:24,className:d==="home"?"fill-current opacity-20":""}),G.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Estoque"})]}),G.jsx("div",{className:"relative -top-6",children:G.jsx("button",{onClick:()=>a("scan"),className:"w-16 h-16 rounded-full bg-gradient-to-br from-qq-yellow to-qq-yellow-dark text-white flex items-center justify-center shadow-lg shadow-orange-200 border-4 border-slate-50 transform transition active:scale-90",children:G.jsx(sf,{size:28})})}),G.jsxs("button",{onClick:()=>a("history"),className:`flex flex-col items-center p-2 transition-colors ${d==="history"?"text-qq-green":"text-slate-400 hover:text-slate-600"}`,children:[G.jsx(tp,{size:24,className:d==="history"?"fill-current opacity-20":""}),G.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Histrico"})]})]}),ce&&G.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:G.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[G.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[G.jsx("div",{className:"bg-qq-green/10 p-2 rounded-lg text-qq-green",children:G.jsx(rp,{size:24})}),G.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Conexo"})]}),G.jsxs("div",{className:"space-y-4",children:[G.jsxs("div",{children:[G.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"URL do Projeto"}),G.jsx("input",{type:"text",value:ee.url,onChange:xe=>oe({...ee,url:xe.target.value}),className:"w-full mt-1 border-2 border-slate-200 rounded-xl p-2.5 text-sm focus:border-qq-green outline-none font-mono"})]}),G.jsxs("div",{children:[G.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Chave de API (Anon)"}),G.jsx("input",{type:"password",value:ee.key,onChange:xe=>oe({...ee,key:xe.target.value}),className:"w-full mt-1 border-2 border-slate-200 rounded-xl p-2.5 text-sm focus:border-qq-green outline-none font-mono"})]})]}),G.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[G.jsx("button",{onClick:at,className:"bg-qq-green text-white py-3 rounded-xl font-bold hover:bg-qq-green-dark transition",children:"Salvar & Conectar"}),_&&G.jsx("button",{onClick:lt,className:"bg-white border border-slate-200 text-slate-600 py-3 rounded-xl font-bold hover:bg-slate-50 transition",children:"Desconectar"}),G.jsx("button",{onClick:()=>Y(!1),className:"text-slate-400 text-sm font-medium py-2",children:"Cancelar"})]})]})}),me&&G.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:G.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[G.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 text-center",children:"Novo Produto"}),G.jsxs("div",{className:"space-y-4",children:[G.jsx("input",{type:"text",placeholder:"Cdigo (Barras/QR)",value:Oe.id,onChange:xe=>Ze({...Oe,id:xe.target.value}),className:"w-full border-2 border-slate-200 rounded-xl p-3 focus:border-qq-green outline-none"}),G.jsx("input",{type:"text",placeholder:"Nome do Produto",value:Oe.name,onChange:xe=>Ze({...Oe,name:xe.target.value}),className:"w-full border-2 border-slate-200 rounded-xl p-3 focus:border-qq-green outline-none"}),G.jsx("input",{type:"number",placeholder:"Quantidade Inicial",value:Oe.qty,onChange:xe=>Ze({...Oe,qty:xe.target.value}),className:"w-full border-2 border-slate-200 rounded-xl p-3 focus:border-qq-green outline-none"})]}),G.jsxs("div",{className:"flex gap-3 mt-6",children:[G.jsx("button",{onClick:()=>ke(!1),className:"flex-1 bg-slate-100 text-slate-700 py-3 rounded-xl font-bold",children:"Cancelar"}),G.jsx("button",{onClick:or,className:"flex-1 bg-qq-green text-white py-3 rounded-xl font-bold",children:"Salvar"})]})]})}),_e&&Ae&&G.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:G.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[G.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl mb-6",children:[G.jsxs("button",{onClick:()=>Ee("out"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${ae==="out"?"bg-white text-qq-yellow shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[G.jsx(Py,{size:16})," Sada"]}),G.jsxs("button",{onClick:()=>Ee("in"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${ae==="in"?"bg-white text-qq-green shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[G.jsx(Hy,{size:16})," Entrada"]})]}),G.jsxs("div",{className:"text-center mb-6",children:[G.jsx("h3",{className:"text-2xl font-bold text-slate-800 leading-tight",children:Ae.name}),G.jsxs("p",{className:"text-slate-500 font-medium mt-1",children:["Em estoque: ",G.jsx("span",{className:"font-bold text-slate-800",children:Ae.qty})]})]}),G.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[G.jsx("button",{onClick:()=>z({...He,qty:Math.max(1,He.qty-1)}),className:"w-12 h-12 rounded-full bg-slate-100 text-slate-800 font-bold text-xl hover:bg-slate-200 transition",children:G.jsx(yg,{size:20,className:"mx-auto"})}),G.jsx("div",{className:`w-24 h-16 border-2 rounded-2xl flex items-center justify-center ${ae==="in"?"border-green-100":"border-orange-100"}`,children:G.jsx("input",{type:"number",value:He.qty,onChange:xe=>z({...He,qty:parseInt(xe.target.value)||1}),className:`w-full text-center text-2xl font-bold outline-none bg-transparent ${ae==="in"?"text-qq-green":"text-qq-yellow"}`})}),G.jsx("button",{onClick:()=>z({...He,qty:He.qty+1}),className:"w-12 h-12 rounded-full bg-slate-100 text-slate-800 font-bold text-xl hover:bg-slate-200 transition",children:G.jsx(rf,{size:20,className:"mx-auto"})})]}),G.jsxs("div",{className:"space-y-3",children:[G.jsx("input",{type:"text",placeholder:"Matrcula do Funcionrio",value:He.matricula,onChange:xe=>z({...He,matricula:xe.target.value}),className:`w-full border-2 rounded-xl p-3 text-sm outline-none ${ae==="in"?"focus:border-qq-green border-slate-100":"focus:border-qq-yellow border-slate-100"}`}),G.jsx("textarea",{placeholder:"Observao (Opcional)",value:He.obs,onChange:xe=>z({...He,obs:xe.target.value}),rows:2,className:`w-full bg-slate-50 border-2 border-slate-100 rounded-xl p-3 text-sm outline-none resize-none ${ae==="in"?"focus:border-qq-green":"focus:border-qq-yellow"}`})]}),G.jsxs("div",{className:"flex gap-3 mt-6",children:[G.jsx("button",{onClick:()=>{$(!1),Ye(null)},className:"flex-1 bg-slate-100 text-slate-700 py-3 rounded-xl font-bold",children:"Cancelar"}),G.jsx("button",{onClick:an,className:`flex-1 text-white py-3 rounded-xl font-bold shadow-lg transition active:scale-95 ${ae==="in"?"bg-qq-green hover:bg-qq-green-dark shadow-green-200":"bg-qq-yellow hover:bg-qq-yellow-dark shadow-orange-200 text-slate-900"}`,children:ae==="in"?"Adicionar":"Baixar"})]})]})}),Me&&G.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:G.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[G.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 text-center",children:"Exportar Dados"}),G.jsxs("div",{className:"space-y-3",children:[G.jsxs("button",{onClick:()=>Pb(l),className:"w-full flex items-center p-4 rounded-xl border-2 border-qq-green/20 bg-green-50/50 text-qq-green font-bold hover:bg-green-50 transition",children:[G.jsx(pg,{size:24,className:"mr-3"}),"Estoque Atual (.csv)"]}),G.jsxs("button",{onClick:()=>jb(x),className:"w-full flex items-center p-4 rounded-xl border-2 border-qq-yellow/20 bg-yellow-50/50 text-yellow-700 font-bold hover:bg-yellow-50 transition",children:[G.jsx(xg,{size:24,className:"mr-3"}),"Histrico (.csv)"]})]}),G.jsx("button",{onClick:()=>fe(!1),className:"w-full mt-6 bg-slate-100 py-3 rounded-xl font-bold text-slate-600",children:"Fechar"})]})}),Tn&&G.jsx(d3,{onScan:Pr,onClose:()=>xt(!1)}),dt&&G.jsx(C3,{product:dt,onClose:()=>re(null)})]})},nx=document.getElementById("root");if(!nx)throw new Error("Failed to find the root element");const O3=Iy.createRoot(nx);O3.render(G.jsx(_y.StrictMode,{children:G.jsx(T3,{})}));
