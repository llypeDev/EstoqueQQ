function U2(d,a){for(var l=0;l<a.length;l++){const h=a[l];if(typeof h!="string"&&!Array.isArray(h)){for(const x in h)if(x!=="default"&&!(x in d)){const g=Object.getOwnPropertyDescriptor(h,x);g&&Object.defineProperty(d,x,g.get?g:{enumerable:!0,get:()=>h[x]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))h(x);new MutationObserver(x=>{for(const g of x)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&h(b)}).observe(document,{childList:!0,subtree:!0});function l(x){const g={};return x.integrity&&(g.integrity=x.integrity),x.referrerPolicy&&(g.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?g.credentials="include":x.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function h(x){if(x.ep)return;x.ep=!0;const g=l(x);fetch(x.href,g)}})();var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oo(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function co(d){if(Object.prototype.hasOwnProperty.call(d,"__esModule"))return d;var a=d.default;if(typeof a=="function"){var l=function h(){return this instanceof h?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};l.prototype=a.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(d).forEach(function(h){var x=Object.getOwnPropertyDescriptor(d,h);Object.defineProperty(l,h,x.get?x:{enumerable:!0,get:function(){return d[h]}})}),l}var lf={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function Rp(){if(mg)return Zl;mg=1;var d=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(h,x,g){var b=null;if(g!==void 0&&(b=""+g),x.key!==void 0&&(b=""+x.key),"key"in x){g={};for(var A in x)A!=="key"&&(g[A]=x[A])}else g=x;return x=g.ref,{$$typeof:d,type:h,key:b,ref:x!==void 0?x:null,props:g}}return Zl.Fragment=a,Zl.jsx=l,Zl.jsxs=l,Zl}var xg;function Ip(){return xg||(xg=1,lf.exports=Rp()),lf.exports}var M=Ip(),of={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function Dp(){if(pg)return Qe;pg=1;var d=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),b=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.iterator;function j(q){return q===null||typeof q!="object"?null:(q=k&&q[k]||q["@@iterator"],typeof q=="function"?q:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,J={};function ae(q,le,Ee){this.props=q,this.context=le,this.refs=J,this.updater=Ee||P}ae.prototype.isReactComponent={},ae.prototype.setState=function(q,le){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,le,"setState")},ae.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function ce(){}ce.prototype=ae.prototype;function W(q,le,Ee){this.props=q,this.context=le,this.refs=J,this.updater=Ee||P}var me=W.prototype=new ce;me.constructor=W,G(me,ae.prototype),me.isPureReactComponent=!0;var ze=Array.isArray;function _e(){}var ee={H:null,A:null,T:null,S:null},ke=Object.prototype.hasOwnProperty;function de(q,le,Ee){var ve=Ee.ref;return{$$typeof:d,type:q,key:le,ref:ve!==void 0?ve:null,props:Ee}}function Gn(q,le){return de(q.type,le,q.props)}function vt(q){return typeof q=="object"&&q!==null&&q.$$typeof===d}function Ne(q){var le={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Ee){return le[Ee]})}var Je=/\/+/g;function Et(q,le){return typeof q=="object"&&q!==null&&q.key!=null?Ne(""+q.key):le.toString(36)}function ie(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(_e,_e):(q.status="pending",q.then(function(le){q.status==="pending"&&(q.status="fulfilled",q.value=le)},function(le){q.status==="pending"&&(q.status="rejected",q.reason=le)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function te(q,le,Ee,ve,He){var be=typeof q;(be==="undefined"||be==="boolean")&&(q=null);var ft=!1;if(q===null)ft=!0;else switch(be){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(q.$$typeof){case d:case a:ft=!0;break;case T:return ft=q._init,te(ft(q._payload),le,Ee,ve,He)}}if(ft)return He=He(q),ft=ve===""?"."+Et(q,0):ve,ze(He)?(Ee="",ft!=null&&(Ee=ft.replace(Je,"$&/")+"/"),te(He,le,Ee,"",function(fn){return fn})):He!=null&&(vt(He)&&(He=Gn(He,Ee+(He.key==null||q&&q.key===He.key?"":(""+He.key).replace(Je,"$&/")+"/")+ft)),le.push(He)),1;ft=0;var Ye=ve===""?".":ve+":";if(ze(q))for(var Dt=0;Dt<q.length;Dt++)ve=q[Dt],be=Ye+Et(ve,Dt),ft+=te(ve,le,Ee,be,He);else if(Dt=j(q),typeof Dt=="function")for(q=Dt.call(q),Dt=0;!(ve=q.next()).done;)ve=ve.value,be=Ye+Et(ve,Dt++),ft+=te(ve,le,Ee,be,He);else if(be==="object"){if(typeof q.then=="function")return te(ie(q),le,Ee,ve,He);throw le=String(q),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return ft}function ue(q,le,Ee){if(q==null)return q;var ve=[],He=0;return te(q,ve,"","",function(be){return le.call(Ee,be,He++)}),ve}function je(q){if(q._status===-1){var le=q._result;le=le(),le.then(function(Ee){(q._status===0||q._status===-1)&&(q._status=1,q._result=Ee)},function(Ee){(q._status===0||q._status===-1)&&(q._status=2,q._result=Ee)}),q._status===-1&&(q._status=0,q._result=le)}if(q._status===1)return q._result.default;throw q._result}var tt=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ut={map:ue,forEach:function(q,le,Ee){ue(q,function(){le.apply(this,arguments)},Ee)},count:function(q){var le=0;return ue(q,function(){le++}),le},toArray:function(q){return ue(q,function(le){return le})||[]},only:function(q){if(!vt(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Qe.Activity=R,Qe.Children=ut,Qe.Component=ae,Qe.Fragment=l,Qe.Profiler=x,Qe.PureComponent=W,Qe.StrictMode=h,Qe.Suspense=_,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(q){return ee.H.useMemoCache(q)}},Qe.cache=function(q){return function(){return q.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(q,le,Ee){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ve=G({},q.props),He=q.key;if(le!=null)for(be in le.key!==void 0&&(He=""+le.key),le)!ke.call(le,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&le.ref===void 0||(ve[be]=le[be]);var be=arguments.length-2;if(be===1)ve.children=Ee;else if(1<be){for(var ft=Array(be),Ye=0;Ye<be;Ye++)ft[Ye]=arguments[Ye+2];ve.children=ft}return de(q.type,He,ve)},Qe.createContext=function(q){return q={$$typeof:b,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:g,_context:q},q},Qe.createElement=function(q,le,Ee){var ve,He={},be=null;if(le!=null)for(ve in le.key!==void 0&&(be=""+le.key),le)ke.call(le,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(He[ve]=le[ve]);var ft=arguments.length-2;if(ft===1)He.children=Ee;else if(1<ft){for(var Ye=Array(ft),Dt=0;Dt<ft;Dt++)Ye[Dt]=arguments[Dt+2];He.children=Ye}if(q&&q.defaultProps)for(ve in ft=q.defaultProps,ft)He[ve]===void 0&&(He[ve]=ft[ve]);return de(q,be,He)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(q){return{$$typeof:A,render:q}},Qe.isValidElement=vt,Qe.lazy=function(q){return{$$typeof:T,_payload:{_status:-1,_result:q},_init:je}},Qe.memo=function(q,le){return{$$typeof:v,type:q,compare:le===void 0?null:le}},Qe.startTransition=function(q){var le=ee.T,Ee={};ee.T=Ee;try{var ve=q(),He=ee.S;He!==null&&He(Ee,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(_e,tt)}catch(be){tt(be)}finally{le!==null&&Ee.types!==null&&(le.types=Ee.types),ee.T=le}},Qe.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Qe.use=function(q){return ee.H.use(q)},Qe.useActionState=function(q,le,Ee){return ee.H.useActionState(q,le,Ee)},Qe.useCallback=function(q,le){return ee.H.useCallback(q,le)},Qe.useContext=function(q){return ee.H.useContext(q)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(q,le){return ee.H.useDeferredValue(q,le)},Qe.useEffect=function(q,le){return ee.H.useEffect(q,le)},Qe.useEffectEvent=function(q){return ee.H.useEffectEvent(q)},Qe.useId=function(){return ee.H.useId()},Qe.useImperativeHandle=function(q,le,Ee){return ee.H.useImperativeHandle(q,le,Ee)},Qe.useInsertionEffect=function(q,le){return ee.H.useInsertionEffect(q,le)},Qe.useLayoutEffect=function(q,le){return ee.H.useLayoutEffect(q,le)},Qe.useMemo=function(q,le){return ee.H.useMemo(q,le)},Qe.useOptimistic=function(q,le){return ee.H.useOptimistic(q,le)},Qe.useReducer=function(q,le,Ee){return ee.H.useReducer(q,le,Ee)},Qe.useRef=function(q){return ee.H.useRef(q)},Qe.useState=function(q){return ee.H.useState(q)},Qe.useSyncExternalStore=function(q,le,Ee){return ee.H.useSyncExternalStore(q,le,Ee)},Qe.useTransition=function(){return ee.H.useTransition()},Qe.version="19.2.1",Qe}var yg;function uo(){return yg||(yg=1,of.exports=Dp()),of.exports}var rt=uo();const Mp=oo(rt);var cf={exports:{}},Ql={},uf={exports:{}},hf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function Bp(){return wg||(wg=1,(function(d){function a(te,ue){var je=te.length;te.push(ue);e:for(;0<je;){var tt=je-1>>>1,ut=te[tt];if(0<x(ut,ue))te[tt]=ue,te[je]=ut,je=tt;else break e}}function l(te){return te.length===0?null:te[0]}function h(te){if(te.length===0)return null;var ue=te[0],je=te.pop();if(je!==ue){te[0]=je;e:for(var tt=0,ut=te.length,q=ut>>>1;tt<q;){var le=2*(tt+1)-1,Ee=te[le],ve=le+1,He=te[ve];if(0>x(Ee,je))ve<ut&&0>x(He,Ee)?(te[tt]=He,te[ve]=je,tt=ve):(te[tt]=Ee,te[le]=je,tt=le);else if(ve<ut&&0>x(He,je))te[tt]=He,te[ve]=je,tt=ve;else break e}}return ue}function x(te,ue){var je=te.sortIndex-ue.sortIndex;return je!==0?je:te.id-ue.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;d.unstable_now=function(){return g.now()}}else{var b=Date,A=b.now();d.unstable_now=function(){return b.now()-A}}var _=[],v=[],T=1,R=null,k=3,j=!1,P=!1,G=!1,J=!1,ae=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function me(te){for(var ue=l(v);ue!==null;){if(ue.callback===null)h(v);else if(ue.startTime<=te)h(v),ue.sortIndex=ue.expirationTime,a(_,ue);else break;ue=l(v)}}function ze(te){if(G=!1,me(te),!P)if(l(_)!==null)P=!0,_e||(_e=!0,Ne());else{var ue=l(v);ue!==null&&ie(ze,ue.startTime-te)}}var _e=!1,ee=-1,ke=5,de=-1;function Gn(){return J?!0:!(d.unstable_now()-de<ke)}function vt(){if(J=!1,_e){var te=d.unstable_now();de=te;var ue=!0;try{e:{P=!1,G&&(G=!1,ce(ee),ee=-1),j=!0;var je=k;try{t:{for(me(te),R=l(_);R!==null&&!(R.expirationTime>te&&Gn());){var tt=R.callback;if(typeof tt=="function"){R.callback=null,k=R.priorityLevel;var ut=tt(R.expirationTime<=te);if(te=d.unstable_now(),typeof ut=="function"){R.callback=ut,me(te),ue=!0;break t}R===l(_)&&h(_),me(te)}else h(_);R=l(_)}if(R!==null)ue=!0;else{var q=l(v);q!==null&&ie(ze,q.startTime-te),ue=!1}}break e}finally{R=null,k=je,j=!1}ue=void 0}}finally{ue?Ne():_e=!1}}}var Ne;if(typeof W=="function")Ne=function(){W(vt)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Et=Je.port2;Je.port1.onmessage=vt,Ne=function(){Et.postMessage(null)}}else Ne=function(){ae(vt,0)};function ie(te,ue){ee=ae(function(){te(d.unstable_now())},ue)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(te){te.callback=null},d.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ke=0<te?Math.floor(1e3/te):5},d.unstable_getCurrentPriorityLevel=function(){return k},d.unstable_next=function(te){switch(k){case 1:case 2:case 3:var ue=3;break;default:ue=k}var je=k;k=ue;try{return te()}finally{k=je}},d.unstable_requestPaint=function(){J=!0},d.unstable_runWithPriority=function(te,ue){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var je=k;k=te;try{return ue()}finally{k=je}},d.unstable_scheduleCallback=function(te,ue,je){var tt=d.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?tt+je:tt):je=tt,te){case 1:var ut=-1;break;case 2:ut=250;break;case 5:ut=1073741823;break;case 4:ut=1e4;break;default:ut=5e3}return ut=je+ut,te={id:T++,callback:ue,priorityLevel:te,startTime:je,expirationTime:ut,sortIndex:-1},je>tt?(te.sortIndex=je,a(v,te),l(_)===null&&te===l(v)&&(G?(ce(ee),ee=-1):G=!0,ie(ze,je-tt))):(te.sortIndex=ut,a(_,te),P||j||(P=!0,_e||(_e=!0,Ne()))),te},d.unstable_shouldYield=Gn,d.unstable_wrapCallback=function(te){var ue=k;return function(){var je=k;k=ue;try{return te.apply(this,arguments)}finally{k=je}}}})(hf)),hf}var bg;function kp(){return bg||(bg=1,uf.exports=Bp()),uf.exports}var ff={exports:{}},nr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function Lp(){if(vg)return nr;vg=1;var d=uo();function a(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var h={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},x=Symbol.for("react.portal");function g(_,v,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:R==null?null:""+R,children:_,containerInfo:v,implementation:T}}var b=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=h,nr.createPortal=function(_,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(a(299));return g(_,v,null,T)},nr.flushSync=function(_){var v=b.T,T=h.p;try{if(b.T=null,h.p=2,_)return _()}finally{b.T=v,h.p=T,h.d.f()}},nr.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,h.d.C(_,v))},nr.prefetchDNS=function(_){typeof _=="string"&&h.d.D(_)},nr.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var T=v.as,R=A(T,v.crossOrigin),k=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?h.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:R,integrity:k,fetchPriority:j}):T==="script"&&h.d.X(_,{crossOrigin:R,integrity:k,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},nr.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=A(v.as,v.crossOrigin);h.d.M(_,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&h.d.M(_)},nr.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,R=A(T,v.crossOrigin);h.d.L(_,T,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},nr.preloadModule=function(_,v){if(typeof _=="string")if(v){var T=A(v.as,v.crossOrigin);h.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else h.d.m(_)},nr.requestFormReset=function(_){h.d.r(_)},nr.unstable_batchedUpdates=function(_,v){return _(v)},nr.useFormState=function(_,v,T){return b.H.useFormState(_,v,T)},nr.useFormStatus=function(){return b.H.useHostTransitionStatus()},nr.version="19.2.1",nr}var Eg;function jp(){if(Eg)return ff.exports;Eg=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(a){console.error(a)}}return d(),ff.exports=Lp(),ff.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function Up(){if(_g)return Ql;_g=1;var d=kp(),a=uo(),l=jp();function h(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function b(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function A(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(g(e)!==e)throw Error(h(188))}function v(e){var n=e.alternate;if(!n){if(n=g(e),n===null)throw Error(h(188));return n!==e?null:e}for(var s=e,u=n;;){var p=s.return;if(p===null)break;var w=p.alternate;if(w===null){if(u=p.return,u!==null){s=u;continue}break}if(p.child===w.child){for(w=p.child;w;){if(w===s)return _(p),e;if(w===u)return _(p),n;w=w.sibling}throw Error(h(188))}if(s.return!==u.return)s=p,u=w;else{for(var C=!1,D=p.child;D;){if(D===s){C=!0,s=p,u=w;break}if(D===u){C=!0,u=p,s=w;break}D=D.sibling}if(!C){for(D=w.child;D;){if(D===s){C=!0,s=w,u=p;break}if(D===u){C=!0,u=w,s=p;break}D=D.sibling}if(!C)throw Error(h(189))}}if(s.alternate!==u)throw Error(h(190))}if(s.tag!==3)throw Error(h(188));return s.stateNode.current===s?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,k=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),W=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),Gn=Symbol.for("react.memo_cache_sentinel"),vt=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=vt&&e[vt]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Symbol.for("react.client.reference");function Et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case ae:return"Profiler";case J:return"StrictMode";case ze:return"Suspense";case _e:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case W:return e.displayName||"Context";case ce:return(e._context.displayName||"Context")+".Consumer";case me:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return n=e.displayName||null,n!==null?n:Et(e.type)||"Memo";case ke:n=e._payload,e=e._init;try{return Et(e(n))}catch{}}return null}var ie=Array.isArray,te=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je={pending:!1,data:null,method:null,action:null},tt=[],ut=-1;function q(e){return{current:e}}function le(e){0>ut||(e.current=tt[ut],tt[ut]=null,ut--)}function Ee(e,n){ut++,tt[ut]=e.current,e.current=n}var ve=q(null),He=q(null),be=q(null),ft=q(null);function Ye(e,n){switch(Ee(be,n),Ee(He,e),Ee(ve,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?U1(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=U1(n),e=P1(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}le(ve),Ee(ve,e)}function Dt(){le(ve),le(He),le(be)}function fn(e){e.memoizedState!==null&&Ee(ft,e);var n=ve.current,s=P1(n,e.type);n!==s&&(Ee(He,e),Ee(ve,s))}function $t(e){He.current===e&&(le(ve),le(He)),ft.current===e&&(le(ft),Xl._currentValue=je)}var dn,$e;function an(e){if(dn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);dn=n&&n[1]||"",$e=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dn+e+$e}var kn=!1;function vr(e,n){if(!e||kn)return"";kn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(se){var $=se}Reflect.construct(e,[],fe)}else{try{fe.call()}catch(se){$=se}e.call(fe.prototype)}}else{try{throw Error()}catch(se){$=se}(fe=e())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(se){if(se&&$&&typeof se.stack=="string")return[se.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=u.DetermineComponentFrameRoot(),C=w[0],D=w[1];if(C&&D){var U=C.split(`
`),Q=D.split(`
`);for(p=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(u===U.length||p===Q.length)for(u=U.length-1,p=Q.length-1;1<=u&&0<=p&&U[u]!==Q[p];)p--;for(;1<=u&&0<=p;u--,p--)if(U[u]!==Q[p]){if(u!==1||p!==1)do if(u--,p--,0>p||U[u]!==Q[p]){var oe=`
`+U[u].replace(" at new "," at ");return e.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",e.displayName)),oe}while(1<=u&&0<=p);break}}}finally{kn=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?an(s):""}function gn(e,n){switch(e.tag){case 26:case 27:case 5:return an(e.type);case 16:return an("Lazy");case 13:return e.child!==n&&n!==null?an("Suspense Fallback"):an("Suspense");case 19:return an("SuspenseList");case 0:case 15:return vr(e.type,!1);case 11:return vr(e.type.render,!1);case 1:return vr(e.type,!0);case 31:return an("Activity");default:return""}}function Me(e){try{var n="",s=null;do n+=gn(e,s),s=e,e=e.return;while(e);return n}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ge=Object.prototype.hasOwnProperty,Er=d.unstable_scheduleCallback,Oe=d.unstable_cancelCallback,at=d.unstable_shouldYield,Ns=d.unstable_requestPaint,ot=d.unstable_now,Rs=d.unstable_getCurrentPriorityLevel,tr=d.unstable_ImmediatePriority,Is=d.unstable_UserBlockingPriority,ir=d.unstable_NormalPriority,Ln=d.unstable_LowPriority,Ds=d.unstable_IdlePriority,Gi=d.log,ll=d.unstable_setDisableYieldValue,Ft=null,ye=null;function Mt(e){if(typeof Gi=="function"&&ll(e),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(Ft,e)}catch{}}var et=Math.clz32?Math.clz32:Ms,Gt=Math.log,si=Math.LN2;function Ms(e){return e>>>=0,e===0?32:31-(Gt(e)/si|0)|0}var ai=256,ht=262144,ur=4194304;function Lr(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,n,s){var u=e.pendingLanes;if(u===0)return 0;var p=0,w=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var D=u&134217727;return D!==0?(u=D&~w,u!==0?p=Lr(u):(C&=D,C!==0?p=Lr(C):s||(s=D&~e,s!==0&&(p=Lr(s))))):(D=u&~w,D!==0?p=Lr(D):C!==0?p=Lr(C):s||(s=u&~e,s!==0&&(p=Lr(s)))),p===0?0:n!==0&&n!==p&&(n&w)===0&&(w=p&-p,s=n&-n,w>=s||w===32&&(s&4194048)!==0)?n:p}function Cn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Bs(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V(){var e=ur;return ur<<=1,(ur&62914560)===0&&(ur=4194304),e}function Ce(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Se(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ze(e,n,s,u,p,w){var C=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var D=e.entanglements,U=e.expirationTimes,Q=e.hiddenUpdates;for(s=C&~s;0<s;){var oe=31-et(s),fe=1<<oe;D[oe]=0,U[oe]=-1;var $=Q[oe];if($!==null)for(Q[oe]=null,oe=0;oe<$.length;oe++){var se=$[oe];se!==null&&(se.lane&=-536870913)}s&=~fe}u!==0&&jt(e,u,0),w!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=w&~(C&~n))}function jt(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var u=31-et(n);e.entangledLanes|=n,e.entanglements[u]=e.entanglements[u]|1073741824|s&261930}function ln(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var u=31-et(s),p=1<<u;p&n|e[u]&n&&(e[u]|=n),s&=~p}}function mn(e,n){var s=n&-n;return s=(s&42)!==0?1:Ut(s),(s&(e.suspendedLanes|n))!==0?0:s}function Ut(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xn(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:og(e.type))}function Ae(e,n){var s=ue.p;try{return ue.p=e,n()}finally{ue.p=s}}var qn=Math.random().toString(36).slice(2),Xt="__reactFiber$"+qn,Nt="__reactProps$"+qn,sr="__reactContainer$"+qn,oi="__reactEvents$"+qn,Xi="__reactListeners$"+qn,Hn="__reactHandles$"+qn,ua="__reactResources$"+qn,ci="__reactMarker$"+qn;function Yn(e){delete e[Xt],delete e[Nt],delete e[oi],delete e[Xi],delete e[Hn]}function on(e){var n=e[Xt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[sr]||s[Xt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=X1(e);e!==null;){if(s=e[Xt])return s;e=X1(e)}return n}e=s,s=e.parentNode}return null}function _t(e){if(e=e[Xt]||e[sr]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Yr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(h(33))}function jn(e){var n=e[ua];return n||(n=e[ua]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pn(e){e[ci]=!0}var ge=new Set,go={};function Bt(e,n){_r(e,n),_r(e+"Capture",n)}function _r(e,n){for(go[e]=n,e=0;e<n.length;e++)ge.add(n[e])}var fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),St={},At={};function dt(e){return Ge.call(At,e)?!0:Ge.call(St,e)?!1:fu.test(e)?At[e]=!0:(St[e]=!0,!1)}function Yi(e,n,s){if(dt(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Ki(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ar(e,n,s,u){if(u===null)e.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+u)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function du(e,n,s){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,w=u.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(C){s=""+C,w.call(this,C)}}),Object.defineProperty(e,n,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(C){s=""+C},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function en(e){if(!e._valueTracker){var n=Kr(e)?"checked":"value";e._valueTracker=du(e,n,""+e[n])}}function Wr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),u="";return e&&(u=Kr(e)?e.checked?"true":"false":e.value),e=u,e!==s?(n.setValue(e),!0):!1}function ha(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wi=/[\n"\\]/g;function ct(e){return e.replace(Wi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Tn(e,n,s,u,p,w,C,D){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),n!=null?C==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ct(n)):e.value!==""+Ct(n)&&(e.value=""+Ct(n)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),n!=null?B(e,C,Ct(n)):s!=null?B(e,C,Ct(s)):u!=null&&e.removeAttribute("value"),p==null&&w!=null&&(e.defaultChecked=!!w),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?e.name=""+Ct(D):e.removeAttribute("name")}function K(e,n,s,u,p,w,C,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.type=w),n!=null||s!=null){if(!(w!=="submit"&&w!=="reset"||n!=null)){en(e);return}s=s!=null?""+Ct(s):"",n=n!=null?""+Ct(n):s,D||n===e.value||(e.value=n),e.defaultValue=n}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=D?e.checked:!!u,e.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),en(e)}function B(e,n,s){n==="number"&&ha(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function De(e,n,s,u){if(e=e.options,n){n={};for(var p=0;p<s.length;p++)n["$"+s[p]]=!0;for(s=0;s<e.length;s++)p=n.hasOwnProperty("$"+e[s].value),e[s].selected!==p&&(e[s].selected=p),p&&u&&(e[s].defaultSelected=!0)}else{for(s=""+Ct(s),n=null,p=0;p<e.length;p++){if(e[p].value===s){e[p].selected=!0,u&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function En(e,n,s){if(n!=null&&(n=""+Ct(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ct(s):""}function ar(e,n,s,u){if(n==null){if(u!=null){if(s!=null)throw Error(h(92));if(ie(u)){if(1<u.length)throw Error(h(93));u=u[0]}s=u}s==null&&(s=""),n=s}s=Ct(n),e.defaultValue=s,u=e.textContent,u===s&&u!==""&&u!==null&&(e.value=u),en(e)}function Zi(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ol=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lr(e,n,s){var u=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":u?e.setProperty(n,s):typeof s!="number"||s===0||ol.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ue(e,n,s){if(n!=null&&typeof n!="object")throw Error(h(62));if(e=e.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var p in n)u=n[p],n.hasOwnProperty(p)&&s[p]!==u&&lr(e,p,u)}else for(var w in n)n.hasOwnProperty(w)&&lr(e,w,n[w])}function Yt(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qi(e){return gu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function hr(){}var ks=null;function cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tn=null,jr=null;function Zr(e){var n=_t(e);if(n&&(e=n.stateNode)){var s=e[Nt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Tn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ct(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var u=s[n];if(u!==e&&u.form===e.form){var p=u[Nt]||null;if(!p)throw Error(h(90));Tn(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<s.length;n++)u=s[n],u.form===e.form&&Wr(u)}break e;case"textarea":En(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&De(e,!!s.multiple,n,!1)}}}var Fe=!1;function xo(e,n,s){if(Fe)return e(n,s);Fe=!0;try{var u=e(n);return u}finally{if(Fe=!1,(tn!==null||jr!==null)&&(lc(),tn&&(n=tn,e=jr,jr=tn=null,Zr(n),e)))for(n=0;n<e.length;n++)Zr(e[n])}}function Ke(e,n){var s=e.stateNode;if(s===null)return null;var u=s[Nt]||null;if(u===null)return null;s=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(h(231,n,typeof s));return s}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ul=!1;if(Kt)try{var wi={};Object.defineProperty(wi,"passive",{get:function(){ul=!0}}),window.addEventListener("test",wi,wi),window.removeEventListener("test",wi,wi)}catch{ul=!1}var Qr=null,Jr=null,fa=null;function Ji(){if(fa)return fa;var e,n=Jr,s=n.length,u,p="value"in Qr?Qr.value:Qr.textContent,w=p.length;for(e=0;e<s&&n[e]===p[e];e++);var C=s-e;for(u=1;u<=C&&n[s-u]===p[w-u];u++);return fa=p.slice(e,1<u?1-u:void 0)}function ui(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function hi(){return!0}function hl(){return!1}function On(e){function n(s,u,p,w,C){this._reactName=s,this._targetInst=p,this.type=u,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var D in e)e.hasOwnProperty(D)&&(s=e[D],this[D]=s?s(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?hi:hl,this.isPropagationStopped=hl,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),n}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Un=On(Sr),$i=R({},Sr,{view:0,detail:0}),po=On($i),da,fl,Ls,ga=R({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ls&&(Ls&&e.type==="mousemove"?(da=e.screenX-Ls.screenX,fl=e.screenY-Ls.screenY):fl=da=0,Ls=e),da)},movementY:function(e){return"movementY"in e?e.movementY:fl}}),Rt=On(ga),yo=R({},ga,{dataTransfer:0}),ma=On(yo),fi=R({},$i,{relatedTarget:0}),dl=On(fi),re=R({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),it=On(re),Pn=R({},Sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xa=On(Pn),wo=R({},Sr,{data:0}),bo=On(wo),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gl[e])?!!n[e]:!1}function js(){return _n}var cn=R({},$i,{key:function(e){if(e.key){var n=mu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ui(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(e){return e.type==="keypress"?ui(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ui(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pa=On(cn),bi=R({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kt=On(bi),qe=R({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),pu=On(qe),Wt=R({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vi=On(Wt),es=R({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yu=On(es),Ur=R({},Sr,{newState:0,oldState:0}),ml=On(Ur),vo=[9,13,27,32],Us=Kt&&"CompositionEvent"in window,ts=null;Kt&&"documentMode"in document&&(ts=document.documentMode);var Eo=Kt&&"TextEvent"in window&&!ts,_o=Kt&&(!Us||ts&&8<ts&&11>=ts),Ei=" ",ya=!1;function Ao(e,n){switch(e){case"keyup":return vo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ns(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rs=!1;function di(e,n){switch(e){case"compositionend":return ns(n);case"keypress":return n.which!==32?null:(ya=!0,Ei);case"textInput":return e=n.data,e===Ei&&ya?null:e;default:return null}}function wa(e,n){if(rs)return e==="compositionend"||!Us&&Ao(e,n)?(e=Ji(),fa=Jr=Qr=null,rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _o&&n.locale!=="ko"?null:n.data;default:return null}}var fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!fr[e.type]:n==="textarea"}function Cr(e,n,s,u){tn?jr?jr.push(u):jr=[u]:tn=u,n=gc(n,"onChange"),0<n.length&&(s=new Un("onChange","change",null,s,u),e.push({event:s,listeners:n}))}var Ps=null,_i=null;function wu(e){D1(e,0)}function zs(e){var n=Yr(e);if(Wr(n))return e}function Tr(e,n){if(e==="change")return n}var So=!1;if(Kt){var Fs;if(Kt){var Ai="oninput"in document;if(!Ai){var xt=document.createElement("div");xt.setAttribute("oninput","return;"),Ai=typeof xt.oninput=="function"}Fs=Ai}else Fs=!1;So=Fs&&(!document.documentMode||9<document.documentMode)}function qs(){Ps&&(Ps.detachEvent("onpropertychange",O),_i=Ps=null)}function O(e){if(e.propertyName==="value"&&zs(_i)){var n=[];Cr(n,_i,e,cl(e)),xo(wu,n)}}function t(e,n,s){e==="focusin"?(qs(),Ps=n,_i=s,Ps.attachEvent("onpropertychange",O)):e==="focusout"&&qs()}function r(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zs(_i)}function i(e,n){if(e==="click")return zs(n)}function o(e,n){if(e==="input"||e==="change")return zs(n)}function c(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var f=typeof Object.is=="function"?Object.is:c;function m(e,n){if(f(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),u=Object.keys(n);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var p=s[u];if(!Ge.call(n,p)||!f(e[p],n[p]))return!1}return!0}function y(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E(e,n){var s=y(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=n&&u>=n)return{node:s,offset:n-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=y(s)}}function S(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?S(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function N(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ha(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ha(e.document)}return n}function I(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var L=Kt&&"documentMode"in document&&11>=document.documentMode,z=null,F=null,Y=null,ne=!1;function we(e,n,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ne||z==null||z!==ha(u)||(u=z,"selectionStart"in u&&I(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Y&&m(Y,u)||(Y=u,u=gc(F,"onSelect"),0<u.length&&(n=new Un("onSelect","select",null,n,s),e.push({event:n,listeners:u}),n.target=z)))}function pe(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var xe={animationend:pe("Animation","AnimationEnd"),animationiteration:pe("Animation","AnimationIteration"),animationstart:pe("Animation","AnimationStart"),transitionrun:pe("Transition","TransitionRun"),transitionstart:pe("Transition","TransitionStart"),transitioncancel:pe("Transition","TransitionCancel"),transitionend:pe("Transition","TransitionEnd")},lt={},We={};Kt&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete xe.animationend.animation,delete xe.animationiteration.animation,delete xe.animationstart.animation),"TransitionEvent"in window||delete xe.transitionend.transition);function yn(e){if(lt[e])return lt[e];if(!xe[e])return e;var n=xe[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in We)return lt[e]=n[s];return e}var dr=yn("animationend"),Kn=yn("animationiteration"),Lt=yn("animationstart"),zn=yn("transitionrun"),or=yn("transitionstart"),is=yn("transitioncancel"),Si=yn("transitionend"),Co=new Map,pl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pl.push("scrollEnd");function $r(e,n){Co.set(e,n),Bt(n,[e])}var To=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pr=[],ba=0,bu=0;function Oo(){for(var e=ba,n=bu=ba=0;n<e;){var s=Pr[n];Pr[n++]=null;var u=Pr[n];Pr[n++]=null;var p=Pr[n];Pr[n++]=null;var w=Pr[n];if(Pr[n++]=null,u!==null&&p!==null){var C=u.pending;C===null?p.next=p:(p.next=C.next,C.next=p),u.pending=p}w!==0&&dd(s,p,w)}}function No(e,n,s,u){Pr[ba++]=e,Pr[ba++]=n,Pr[ba++]=s,Pr[ba++]=u,bu|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function vu(e,n,s,u){return No(e,n,s,u),Ro(e)}function Hs(e,n){return No(e,null,null,n),Ro(e)}function dd(e,n,s){e.lanes|=s;var u=e.alternate;u!==null&&(u.lanes|=s);for(var p=!1,w=e.return;w!==null;)w.childLanes|=s,u=w.alternate,u!==null&&(u.childLanes|=s),w.tag===22&&(e=w.stateNode,e===null||e._visibility&1||(p=!0)),e=w,w=w.return;return e.tag===3?(w=e.stateNode,p&&n!==null&&(p=31-et(s),e=w.hiddenUpdates,u=e[p],u===null?e[p]=[n]:u.push(n),n.lane=s|536870912),w):null}function Ro(e){if(50<Pl)throw Pl=0,Rh=null,Error(h(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function dx(e,n,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,n,s,u){return new dx(e,n,s,u)}function Eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ci(e,n){var s=e.alternate;return s===null?(s=Or(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function gd(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Io(e,n,s,u,p,w){var C=0;if(u=e,typeof e=="function")Eu(e)&&(C=1);else if(typeof e=="string")C=yp(e,s,ve.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=Or(31,s,n,p),e.elementType=de,e.lanes=w,e;case G:return Vs(s.children,p,w,n);case J:C=8,p|=24;break;case ae:return e=Or(12,s,n,p|2),e.elementType=ae,e.lanes=w,e;case ze:return e=Or(13,s,n,p),e.elementType=ze,e.lanes=w,e;case _e:return e=Or(19,s,n,p),e.elementType=_e,e.lanes=w,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:C=10;break e;case ce:C=9;break e;case me:C=11;break e;case ee:C=14;break e;case ke:C=16,u=null;break e}C=29,s=Error(h(130,e===null?"null":typeof e,"")),u=null}return n=Or(C,s,n,p),n.elementType=e,n.type=u,n.lanes=w,n}function Vs(e,n,s,u){return e=Or(7,e,u,n),e.lanes=s,e}function _u(e,n,s){return e=Or(6,e,null,n),e.lanes=s,e}function md(e){var n=Or(18,null,null,0);return n.stateNode=e,n}function Au(e,n,s){return n=Or(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xd=new WeakMap;function zr(e,n){if(typeof e=="object"&&e!==null){var s=xd.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Me(n)},xd.set(e,n),n)}return{value:e,source:n,stack:Me(n)}}var Ea=[],_a=0,Do=null,yl=0,Fr=[],qr=0,ss=null,gi=1,mi="";function Ti(e,n){Ea[_a++]=yl,Ea[_a++]=Do,Do=e,yl=n}function pd(e,n,s){Fr[qr++]=gi,Fr[qr++]=mi,Fr[qr++]=ss,ss=e;var u=gi;e=mi;var p=32-et(u)-1;u&=~(1<<p),s+=1;var w=32-et(n)+p;if(30<w){var C=p-p%5;w=(u&(1<<C)-1).toString(32),u>>=C,p-=C,gi=1<<32-et(n)+p|s<<p|u,mi=w+e}else gi=1<<w|s<<p|u,mi=e}function Su(e){e.return!==null&&(Ti(e,1),pd(e,1,0))}function Cu(e){for(;e===Do;)Do=Ea[--_a],Ea[_a]=null,yl=Ea[--_a],Ea[_a]=null;for(;e===ss;)ss=Fr[--qr],Fr[qr]=null,mi=Fr[--qr],Fr[qr]=null,gi=Fr[--qr],Fr[qr]=null}function yd(e,n){Fr[qr++]=gi,Fr[qr++]=mi,Fr[qr++]=ss,gi=n.id,mi=n.overflow,ss=e}var Wn=null,nn=null,wt=!1,as=null,Hr=!1,Tu=Error(h(519));function ls(e){var n=Error(h(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(zr(n,e)),Tu}function wd(e){var n=e.stateNode,s=e.type,u=e.memoizedProps;switch(n[Xt]=e,n[Nt]=u,s){case"dialog":mt("cancel",n),mt("close",n);break;case"iframe":case"object":case"embed":mt("load",n);break;case"video":case"audio":for(s=0;s<Fl.length;s++)mt(Fl[s],n);break;case"source":mt("error",n);break;case"img":case"image":case"link":mt("error",n),mt("load",n);break;case"details":mt("toggle",n);break;case"input":mt("invalid",n),K(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":mt("invalid",n);break;case"textarea":mt("invalid",n),ar(n,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||u.suppressHydrationWarning===!0||L1(n.textContent,s)?(u.popover!=null&&(mt("beforetoggle",n),mt("toggle",n)),u.onScroll!=null&&mt("scroll",n),u.onScrollEnd!=null&&mt("scrollend",n),u.onClick!=null&&(n.onclick=hr),n=!0):n=!1,n||ls(e,!0)}function bd(e){for(Wn=e.return;Wn;)switch(Wn.tag){case 5:case 31:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:Wn=Wn.return}}function Aa(e){if(e!==Wn)return!1;if(!wt)return bd(e),wt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Gh(e.type,e.memoizedProps)),s=!s),s&&nn&&ls(e),bd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));nn=G1(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));nn=G1(e)}else n===27?(n=nn,vs(e.type)?(e=Zh,Zh=null,nn=e):nn=n):nn=Wn?Gr(e.stateNode.nextSibling):null;return!0}function Gs(){nn=Wn=null,wt=!1}function Ou(){var e=as;return e!==null&&(pr===null?pr=e:pr.push.apply(pr,e),as=null),e}function wl(e){as===null?as=[e]:as.push(e)}var Nu=q(null),Xs=null,Oi=null;function os(e,n,s){Ee(Nu,n._currentValue),n._currentValue=s}function Ni(e){e._currentValue=Nu.current,le(Nu)}function Ru(e,n,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===s)break;e=e.return}}function Iu(e,n,s,u){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var w=p.dependencies;if(w!==null){var C=p.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=p;for(var U=0;U<n.length;U++)if(D.context===n[U]){w.lanes|=s,D=w.alternate,D!==null&&(D.lanes|=s),Ru(w.return,s,e),u||(C=null);break e}w=D.next}}else if(p.tag===18){if(C=p.return,C===null)throw Error(h(341));C.lanes|=s,w=C.alternate,w!==null&&(w.lanes|=s),Ru(C,s,e),C=null}else C=p.child;if(C!==null)C.return=p;else for(C=p;C!==null;){if(C===e){C=null;break}if(p=C.sibling,p!==null){p.return=C.return,C=p;break}C=C.return}p=C}}function Sa(e,n,s,u){e=null;for(var p=n,w=!1;p!==null;){if(!w){if((p.flags&524288)!==0)w=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var C=p.alternate;if(C===null)throw Error(h(387));if(C=C.memoizedProps,C!==null){var D=p.type;f(p.pendingProps.value,C.value)||(e!==null?e.push(D):e=[D])}}else if(p===ft.current){if(C=p.alternate,C===null)throw Error(h(387));C.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Xl):e=[Xl])}p=p.return}e!==null&&Iu(n,e,s,u),n.flags|=262144}function Mo(e){for(e=e.firstContext;e!==null;){if(!f(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ys(e){Xs=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zn(e){return vd(Xs,e)}function Bo(e,n){return Xs===null&&Ys(e),vd(e,n)}function vd(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Oi===null){if(e===null)throw Error(h(308));Oi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Oi=Oi.next=n;return s}var gx=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,u){e.push(u)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},mx=d.unstable_scheduleCallback,xx=d.unstable_NormalPriority,Nn={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Du(){return{controller:new gx,data:new Map,refCount:0}}function bl(e){e.refCount--,e.refCount===0&&mx(xx,function(){e.controller.abort()})}var vl=null,Mu=0,Ca=0,Ta=null;function px(e,n){if(vl===null){var s=vl=[];Mu=0,Ca=Lh(),Ta={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Mu++,n.then(Ed,Ed),n}function Ed(){if(--Mu===0&&vl!==null){Ta!==null&&(Ta.status="fulfilled");var e=vl;vl=null,Ca=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function yx(e,n){var s=[],u={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return e.then(function(){u.status="fulfilled",u.value=n;for(var p=0;p<s.length;p++)(0,s[p])(n)},function(p){for(u.status="rejected",u.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),u}var _d=te.S;te.S=function(e,n){a1=ot(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&px(e,n),_d!==null&&_d(e,n)};var Ks=q(null);function Bu(){var e=Ks.current;return e!==null?e:Zt.pooledCache}function ko(e,n){n===null?Ee(Ks,Ks.current):Ee(Ks,n.pool)}function Ad(){var e=Bu();return e===null?null:{parent:Nn._currentValue,pool:e}}var Oa=Error(h(460)),ku=Error(h(474)),Lo=Error(h(542)),jo={then:function(){}};function Sd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cd(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(hr,hr),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Od(e),e;default:if(typeof n.status=="string")n.then(hr,hr);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(h(482));e=n,e.status="pending",e.then(function(u){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=u}},function(u){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Od(e),e}throw Zs=n,Oa}}function Ws(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Zs=s,Oa):s}}var Zs=null;function Td(){if(Zs===null)throw Error(h(459));var e=Zs;return Zs=null,e}function Od(e){if(e===Oa||e===Lo)throw Error(h(483))}var Na=null,El=0;function Uo(e){var n=El;return El+=1,Na===null&&(Na=[]),Cd(Na,e,n)}function _l(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Po(e,n){throw n.$$typeof===k?Error(h(525)):(e=Object.prototype.toString.call(n),Error(h(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Nd(e){function n(X,H){if(e){var Z=X.deletions;Z===null?(X.deletions=[H],X.flags|=16):Z.push(H)}}function s(X,H){if(!e)return null;for(;H!==null;)n(X,H),H=H.sibling;return null}function u(X){for(var H=new Map;X!==null;)X.key!==null?H.set(X.key,X):H.set(X.index,X),X=X.sibling;return H}function p(X,H){return X=Ci(X,H),X.index=0,X.sibling=null,X}function w(X,H,Z){return X.index=Z,e?(Z=X.alternate,Z!==null?(Z=Z.index,Z<H?(X.flags|=67108866,H):Z):(X.flags|=67108866,H)):(X.flags|=1048576,H)}function C(X){return e&&X.alternate===null&&(X.flags|=67108866),X}function D(X,H,Z,he){return H===null||H.tag!==6?(H=_u(Z,X.mode,he),H.return=X,H):(H=p(H,Z),H.return=X,H)}function U(X,H,Z,he){var Pe=Z.type;return Pe===G?oe(X,H,Z.props.children,he,Z.key):H!==null&&(H.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ke&&Ws(Pe)===H.type)?(H=p(H,Z.props),_l(H,Z),H.return=X,H):(H=Io(Z.type,Z.key,Z.props,null,X.mode,he),_l(H,Z),H.return=X,H)}function Q(X,H,Z,he){return H===null||H.tag!==4||H.stateNode.containerInfo!==Z.containerInfo||H.stateNode.implementation!==Z.implementation?(H=Au(Z,X.mode,he),H.return=X,H):(H=p(H,Z.children||[]),H.return=X,H)}function oe(X,H,Z,he,Pe){return H===null||H.tag!==7?(H=Vs(Z,X.mode,he,Pe),H.return=X,H):(H=p(H,Z),H.return=X,H)}function fe(X,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=_u(""+H,X.mode,Z),H.return=X,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return Z=Io(H.type,H.key,H.props,null,X.mode,Z),_l(Z,H),Z.return=X,Z;case P:return H=Au(H,X.mode,Z),H.return=X,H;case ke:return H=Ws(H),fe(X,H,Z)}if(ie(H)||Ne(H))return H=Vs(H,X.mode,Z,null),H.return=X,H;if(typeof H.then=="function")return fe(X,Uo(H),Z);if(H.$$typeof===W)return fe(X,Bo(X,H),Z);Po(X,H)}return null}function $(X,H,Z,he){var Pe=H!==null?H.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Pe!==null?null:D(X,H,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:return Z.key===Pe?U(X,H,Z,he):null;case P:return Z.key===Pe?Q(X,H,Z,he):null;case ke:return Z=Ws(Z),$(X,H,Z,he)}if(ie(Z)||Ne(Z))return Pe!==null?null:oe(X,H,Z,he,null);if(typeof Z.then=="function")return $(X,H,Uo(Z),he);if(Z.$$typeof===W)return $(X,H,Bo(X,Z),he);Po(X,Z)}return null}function se(X,H,Z,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return X=X.get(Z)||null,D(H,X,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case j:return X=X.get(he.key===null?Z:he.key)||null,U(H,X,he,Pe);case P:return X=X.get(he.key===null?Z:he.key)||null,Q(H,X,he,Pe);case ke:return he=Ws(he),se(X,H,Z,he,Pe)}if(ie(he)||Ne(he))return X=X.get(Z)||null,oe(H,X,he,Pe,null);if(typeof he.then=="function")return se(X,H,Z,Uo(he),Pe);if(he.$$typeof===W)return se(X,H,Z,Bo(H,he),Pe);Po(H,he)}return null}function Ie(X,H,Z,he){for(var Pe=null,Tt=null,Be=H,st=H=0,yt=null;Be!==null&&st<Z.length;st++){Be.index>st?(yt=Be,Be=null):yt=Be.sibling;var Ot=$(X,Be,Z[st],he);if(Ot===null){Be===null&&(Be=yt);break}e&&Be&&Ot.alternate===null&&n(X,Be),H=w(Ot,H,st),Tt===null?Pe=Ot:Tt.sibling=Ot,Tt=Ot,Be=yt}if(st===Z.length)return s(X,Be),wt&&Ti(X,st),Pe;if(Be===null){for(;st<Z.length;st++)Be=fe(X,Z[st],he),Be!==null&&(H=w(Be,H,st),Tt===null?Pe=Be:Tt.sibling=Be,Tt=Be);return wt&&Ti(X,st),Pe}for(Be=u(Be);st<Z.length;st++)yt=se(Be,X,st,Z[st],he),yt!==null&&(e&&yt.alternate!==null&&Be.delete(yt.key===null?st:yt.key),H=w(yt,H,st),Tt===null?Pe=yt:Tt.sibling=yt,Tt=yt);return e&&Be.forEach(function(Cs){return n(X,Cs)}),wt&&Ti(X,st),Pe}function Ve(X,H,Z,he){if(Z==null)throw Error(h(151));for(var Pe=null,Tt=null,Be=H,st=H=0,yt=null,Ot=Z.next();Be!==null&&!Ot.done;st++,Ot=Z.next()){Be.index>st?(yt=Be,Be=null):yt=Be.sibling;var Cs=$(X,Be,Ot.value,he);if(Cs===null){Be===null&&(Be=yt);break}e&&Be&&Cs.alternate===null&&n(X,Be),H=w(Cs,H,st),Tt===null?Pe=Cs:Tt.sibling=Cs,Tt=Cs,Be=yt}if(Ot.done)return s(X,Be),wt&&Ti(X,st),Pe;if(Be===null){for(;!Ot.done;st++,Ot=Z.next())Ot=fe(X,Ot.value,he),Ot!==null&&(H=w(Ot,H,st),Tt===null?Pe=Ot:Tt.sibling=Ot,Tt=Ot);return wt&&Ti(X,st),Pe}for(Be=u(Be);!Ot.done;st++,Ot=Z.next())Ot=se(Be,X,st,Ot.value,he),Ot!==null&&(e&&Ot.alternate!==null&&Be.delete(Ot.key===null?st:Ot.key),H=w(Ot,H,st),Tt===null?Pe=Ot:Tt.sibling=Ot,Tt=Ot);return e&&Be.forEach(function(Np){return n(X,Np)}),wt&&Ti(X,st),Pe}function Vt(X,H,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===G&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:e:{for(var Pe=Z.key;H!==null;){if(H.key===Pe){if(Pe=Z.type,Pe===G){if(H.tag===7){s(X,H.sibling),he=p(H,Z.props.children),he.return=X,X=he;break e}}else if(H.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ke&&Ws(Pe)===H.type){s(X,H.sibling),he=p(H,Z.props),_l(he,Z),he.return=X,X=he;break e}s(X,H);break}else n(X,H);H=H.sibling}Z.type===G?(he=Vs(Z.props.children,X.mode,he,Z.key),he.return=X,X=he):(he=Io(Z.type,Z.key,Z.props,null,X.mode,he),_l(he,Z),he.return=X,X=he)}return C(X);case P:e:{for(Pe=Z.key;H!==null;){if(H.key===Pe)if(H.tag===4&&H.stateNode.containerInfo===Z.containerInfo&&H.stateNode.implementation===Z.implementation){s(X,H.sibling),he=p(H,Z.children||[]),he.return=X,X=he;break e}else{s(X,H);break}else n(X,H);H=H.sibling}he=Au(Z,X.mode,he),he.return=X,X=he}return C(X);case ke:return Z=Ws(Z),Vt(X,H,Z,he)}if(ie(Z))return Ie(X,H,Z,he);if(Ne(Z)){if(Pe=Ne(Z),typeof Pe!="function")throw Error(h(150));return Z=Pe.call(Z),Ve(X,H,Z,he)}if(typeof Z.then=="function")return Vt(X,H,Uo(Z),he);if(Z.$$typeof===W)return Vt(X,H,Bo(X,Z),he);Po(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,H!==null&&H.tag===6?(s(X,H.sibling),he=p(H,Z),he.return=X,X=he):(s(X,H),he=_u(Z,X.mode,he),he.return=X,X=he),C(X)):s(X,H)}return function(X,H,Z,he){try{El=0;var Pe=Vt(X,H,Z,he);return Na=null,Pe}catch(Be){if(Be===Oa||Be===Lo)throw Be;var Tt=Or(29,Be,null,X.mode);return Tt.lanes=he,Tt.return=X,Tt}finally{}}}var Qs=Nd(!0),Rd=Nd(!1),cs=!1;function Lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ju(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function us(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hs(e,n,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(It&2)!==0){var p=u.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),u.pending=n,n=Ro(e),dd(e,null,s),n}return No(e,u,n,s),Ro(e)}function Al(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var u=n.lanes;u&=e.pendingLanes,s|=u,n.lanes=s,ln(e,s)}}function Uu(e,n){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var p=null,w=null;if(s=s.firstBaseUpdate,s!==null){do{var C={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};w===null?p=w=C:w=w.next=C,s=s.next}while(s!==null);w===null?p=w=n:w=w.next=n}else p=w=n;s={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:w,shared:u.shared,callbacks:u.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Pu=!1;function Sl(){if(Pu){var e=Ta;if(e!==null)throw e}}function Cl(e,n,s,u){Pu=!1;var p=e.updateQueue;cs=!1;var w=p.firstBaseUpdate,C=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var U=D,Q=U.next;U.next=null,C===null?w=Q:C.next=Q,C=U;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,D=oe.lastBaseUpdate,D!==C&&(D===null?oe.firstBaseUpdate=Q:D.next=Q,oe.lastBaseUpdate=U))}if(w!==null){var fe=p.baseState;C=0,oe=Q=U=null,D=w;do{var $=D.lane&-536870913,se=$!==D.lane;if(se?(pt&$)===$:(u&$)===$){$!==0&&$===Ca&&(Pu=!0),oe!==null&&(oe=oe.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ie=e,Ve=D;$=n;var Vt=s;switch(Ve.tag){case 1:if(Ie=Ve.payload,typeof Ie=="function"){fe=Ie.call(Vt,fe,$);break e}fe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ve.payload,$=typeof Ie=="function"?Ie.call(Vt,fe,$):Ie,$==null)break e;fe=R({},fe,$);break e;case 2:cs=!0}}$=D.callback,$!==null&&(e.flags|=64,se&&(e.flags|=8192),se=p.callbacks,se===null?p.callbacks=[$]:se.push($))}else se={lane:$,tag:D.tag,payload:D.payload,callback:D.callback,next:null},oe===null?(Q=oe=se,U=fe):oe=oe.next=se,C|=$;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;se=D,D=se.next,se.next=null,p.lastBaseUpdate=se,p.shared.pending=null}}while(!0);oe===null&&(U=fe),p.baseState=U,p.firstBaseUpdate=Q,p.lastBaseUpdate=oe,w===null&&(p.shared.lanes=0),xs|=C,e.lanes=C,e.memoizedState=fe}}function Id(e,n){if(typeof e!="function")throw Error(h(191,e));e.call(n)}function Dd(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Id(s[e],n)}var Ra=q(null),zo=q(0);function Md(e,n){e=Ui,Ee(zo,e),Ee(Ra,n),Ui=e|n.baseLanes}function zu(){Ee(zo,Ui),Ee(Ra,Ra.current)}function Fu(){Ui=zo.current,le(Ra),le(zo)}var Nr=q(null),Vr=null;function fs(e){var n=e.alternate;Ee(An,An.current&1),Ee(Nr,e),Vr===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(Vr=e)}function qu(e){Ee(An,An.current),Ee(Nr,e),Vr===null&&(Vr=e)}function Bd(e){e.tag===22?(Ee(An,An.current),Ee(Nr,e),Vr===null&&(Vr=e)):ds()}function ds(){Ee(An,An.current),Ee(Nr,Nr.current)}function Rr(e){le(Nr),Vr===e&&(Vr=null),le(An)}var An=q(0);function Fo(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Kh(s)||Wh(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ri=0,nt=null,qt=null,Rn=null,qo=!1,Ia=!1,Js=!1,Ho=0,Tl=0,Da=null,wx=0;function wn(){throw Error(h(321))}function Hu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!f(e[s],n[s]))return!1;return!0}function Vu(e,n,s,u,p,w){return Ri=w,nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,te.H=e===null||e.memoizedState===null?p0:sh,Js=!1,w=s(u,p),Js=!1,Ia&&(w=Ld(n,s,u,p)),kd(e),w}function kd(e){te.H=Rl;var n=qt!==null&&qt.next!==null;if(Ri=0,Rn=qt=nt=null,qo=!1,Tl=0,Da=null,n)throw Error(h(300));e===null||In||(e=e.dependencies,e!==null&&Mo(e)&&(In=!0))}function Ld(e,n,s,u){nt=e;var p=0;do{if(Ia&&(Da=null),Tl=0,Ia=!1,25<=p)throw Error(h(301));if(p+=1,Rn=qt=null,e.updateQueue!=null){var w=e.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}te.H=y0,w=n(s,u)}while(Ia);return w}function bx(){var e=te.H,n=e.useState()[0];return n=typeof n.then=="function"?Ol(n):n,e=e.useState()[0],(qt!==null?qt.memoizedState:null)!==e&&(nt.flags|=1024),n}function Gu(){var e=Ho!==0;return Ho=0,e}function Xu(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Yu(e){if(qo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qo=!1}Ri=0,Rn=qt=nt=null,Ia=!1,Tl=Ho=0,Da=null}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?nt.memoizedState=Rn=e:Rn=Rn.next=e,Rn}function Sn(){if(qt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=qt.next;var n=Rn===null?nt.memoizedState:Rn.next;if(n!==null)Rn=n,qt=e;else{if(e===null)throw nt.alternate===null?Error(h(467)):Error(h(310));qt=e,e={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Rn===null?nt.memoizedState=Rn=e:Rn=Rn.next=e}return Rn}function Vo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(e){var n=Tl;return Tl+=1,Da===null&&(Da=[]),e=Cd(Da,e,n),n=nt,(Rn===null?n.memoizedState:Rn.next)===null&&(n=n.alternate,te.H=n===null||n.memoizedState===null?p0:sh),e}function Go(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ol(e);if(e.$$typeof===W)return Zn(e)}throw Error(h(438,String(e)))}function Ku(e){var n=null,s=nt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var u=nt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Vo(),nt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),u=0;u<e;u++)s[u]=Gn;return n.index++,s}function Ii(e,n){return typeof n=="function"?n(e):n}function Xo(e){var n=Sn();return Wu(n,qt,e)}function Wu(e,n,s){var u=e.queue;if(u===null)throw Error(h(311));u.lastRenderedReducer=s;var p=e.baseQueue,w=u.pending;if(w!==null){if(p!==null){var C=p.next;p.next=w.next,w.next=C}n.baseQueue=p=w,u.pending=null}if(w=e.baseState,p===null)e.memoizedState=w;else{n=p.next;var D=C=null,U=null,Q=n,oe=!1;do{var fe=Q.lane&-536870913;if(fe!==Q.lane?(pt&fe)===fe:(Ri&fe)===fe){var $=Q.revertLane;if($===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),fe===Ca&&(oe=!0);else if((Ri&$)===$){Q=Q.next,$===Ca&&(oe=!0);continue}else fe={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(D=U=fe,C=w):U=U.next=fe,nt.lanes|=$,xs|=$;fe=Q.action,Js&&s(w,fe),w=Q.hasEagerState?Q.eagerState:s(w,fe)}else $={lane:fe,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(D=U=$,C=w):U=U.next=$,nt.lanes|=fe,xs|=fe;Q=Q.next}while(Q!==null&&Q!==n);if(U===null?C=w:U.next=D,!f(w,e.memoizedState)&&(In=!0,oe&&(s=Ta,s!==null)))throw s;e.memoizedState=w,e.baseState=C,e.baseQueue=U,u.lastRenderedState=w}return p===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Zu(e){var n=Sn(),s=n.queue;if(s===null)throw Error(h(311));s.lastRenderedReducer=e;var u=s.dispatch,p=s.pending,w=n.memoizedState;if(p!==null){s.pending=null;var C=p=p.next;do w=e(w,C.action),C=C.next;while(C!==p);f(w,n.memoizedState)||(In=!0),n.memoizedState=w,n.baseQueue===null&&(n.baseState=w),s.lastRenderedState=w}return[w,u]}function jd(e,n,s){var u=nt,p=Sn(),w=wt;if(w){if(s===void 0)throw Error(h(407));s=s()}else s=n();var C=!f((qt||p).memoizedState,s);if(C&&(p.memoizedState=s,In=!0),p=p.queue,$u(zd.bind(null,u,p,e),[e]),p.getSnapshot!==n||C||Rn!==null&&Rn.memoizedState.tag&1){if(u.flags|=2048,Ma(9,{destroy:void 0},Pd.bind(null,u,p,s,n),null),Zt===null)throw Error(h(349));w||(Ri&127)!==0||Ud(u,n,s)}return s}function Ud(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=nt.updateQueue,n===null?(n=Vo(),nt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Pd(e,n,s,u){n.value=s,n.getSnapshot=u,Fd(n)&&qd(e)}function zd(e,n,s){return s(function(){Fd(n)&&qd(e)})}function Fd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!f(e,s)}catch{return!0}}function qd(e){var n=Hs(e,2);n!==null&&yr(n,e,2)}function Qu(e){var n=cr();if(typeof e=="function"){var s=e;if(e=s(),Js){Mt(!0);try{s()}finally{Mt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},n}function Hd(e,n,s,u){return e.baseState=s,Wu(e,qt,typeof u=="function"?u:Ii)}function vx(e,n,s,u,p){if(Wo(e))throw Error(h(485));if(e=n.action,e!==null){var w={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){w.listeners.push(C)}};te.T!==null?s(!0):w.isTransition=!1,u(w),s=n.pending,s===null?(w.next=n.pending=w,Vd(n,w)):(w.next=s.next,n.pending=s.next=w)}}function Vd(e,n){var s=n.action,u=n.payload,p=e.state;if(n.isTransition){var w=te.T,C={};te.T=C;try{var D=s(p,u),U=te.S;U!==null&&U(C,D),Gd(e,n,D)}catch(Q){Ju(e,n,Q)}finally{w!==null&&C.types!==null&&(w.types=C.types),te.T=w}}else try{w=s(p,u),Gd(e,n,w)}catch(Q){Ju(e,n,Q)}}function Gd(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){Xd(e,n,u)},function(u){return Ju(e,n,u)}):Xd(e,n,s)}function Xd(e,n,s){n.status="fulfilled",n.value=s,Yd(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Vd(e,s)))}function Ju(e,n,s){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=s,Yd(n),n=n.next;while(n!==u)}e.action=null}function Yd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Kd(e,n){return n}function Wd(e,n){if(wt){var s=Zt.formState;if(s!==null){e:{var u=nt;if(wt){if(nn){t:{for(var p=nn,w=Hr;p.nodeType!==8;){if(!w){p=null;break t}if(p=Gr(p.nextSibling),p===null){p=null;break t}}w=p.data,p=w==="F!"||w==="F"?p:null}if(p){nn=Gr(p.nextSibling),u=p.data==="F!";break e}}ls(u)}u=!1}u&&(n=s[0])}}return s=cr(),s.memoizedState=s.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kd,lastRenderedState:n},s.queue=u,s=g0.bind(null,nt,u),u.dispatch=s,u=Qu(!1),w=ih.bind(null,nt,!1,u.queue),u=cr(),p={state:n,dispatch:null,action:e,pending:null},u.queue=p,s=vx.bind(null,nt,p,w,s),p.dispatch=s,u.memoizedState=e,[n,s,!1]}function Zd(e){var n=Sn();return Qd(n,qt,e)}function Qd(e,n,s){if(n=Wu(e,n,Kd)[0],e=Xo(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Ol(n)}catch(C){throw C===Oa?Lo:C}else u=n;n=Sn();var p=n.queue,w=p.dispatch;return s!==n.memoizedState&&(nt.flags|=2048,Ma(9,{destroy:void 0},Ex.bind(null,p,s),null)),[u,w,e]}function Ex(e,n){e.action=n}function Jd(e){var n=Sn(),s=qt;if(s!==null)return Qd(n,s,e);Sn(),n=n.memoizedState,s=Sn();var u=s.queue.dispatch;return s.memoizedState=e,[n,u,!1]}function Ma(e,n,s,u){return e={tag:e,create:s,deps:u,inst:n,next:null},n=nt.updateQueue,n===null&&(n=Vo(),nt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,n.lastEffect=e),e}function $d(){return Sn().memoizedState}function Yo(e,n,s,u){var p=cr();nt.flags|=e,p.memoizedState=Ma(1|n,{destroy:void 0},s,u===void 0?null:u)}function Ko(e,n,s,u){var p=Sn();u=u===void 0?null:u;var w=p.memoizedState.inst;qt!==null&&u!==null&&Hu(u,qt.memoizedState.deps)?p.memoizedState=Ma(n,w,s,u):(nt.flags|=e,p.memoizedState=Ma(1|n,w,s,u))}function e0(e,n){Yo(8390656,8,e,n)}function $u(e,n){Ko(2048,8,e,n)}function _x(e){nt.flags|=4;var n=nt.updateQueue;if(n===null)n=Vo(),nt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function t0(e){var n=Sn().memoizedState;return _x({ref:n,nextImpl:e}),function(){if((It&2)!==0)throw Error(h(440));return n.impl.apply(void 0,arguments)}}function n0(e,n){return Ko(4,2,e,n)}function r0(e,n){return Ko(4,4,e,n)}function i0(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function s0(e,n,s){s=s!=null?s.concat([e]):null,Ko(4,4,i0.bind(null,n,e),s)}function eh(){}function a0(e,n){var s=Sn();n=n===void 0?null:n;var u=s.memoizedState;return n!==null&&Hu(n,u[1])?u[0]:(s.memoizedState=[e,n],e)}function l0(e,n){var s=Sn();n=n===void 0?null:n;var u=s.memoizedState;if(n!==null&&Hu(n,u[1]))return u[0];if(u=e(),Js){Mt(!0);try{e()}finally{Mt(!1)}}return s.memoizedState=[u,n],u}function th(e,n,s){return s===void 0||(Ri&1073741824)!==0&&(pt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=o1(),nt.lanes|=e,xs|=e,s)}function o0(e,n,s,u){return f(s,n)?s:Ra.current!==null?(e=th(e,s,u),f(e,n)||(In=!0),e):(Ri&42)===0||(Ri&1073741824)!==0&&(pt&261930)===0?(In=!0,e.memoizedState=s):(e=o1(),nt.lanes|=e,xs|=e,n)}function c0(e,n,s,u,p){var w=ue.p;ue.p=w!==0&&8>w?w:8;var C=te.T,D={};te.T=D,ih(e,!1,n,s);try{var U=p(),Q=te.S;if(Q!==null&&Q(D,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var oe=yx(U,u);Nl(e,n,oe,Mr(e))}else Nl(e,n,u,Mr(e))}catch(fe){Nl(e,n,{then:function(){},status:"rejected",reason:fe},Mr())}finally{ue.p=w,C!==null&&D.types!==null&&(C.types=D.types),te.T=C}}function Ax(){}function nh(e,n,s,u){if(e.tag!==5)throw Error(h(476));var p=u0(e).queue;c0(e,p,n,je,s===null?Ax:function(){return h0(e),s(u)})}function u0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:je,baseState:je,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:je},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function h0(e){var n=u0(e);n.next===null&&(n=e.alternate.memoizedState),Nl(e,n.next.queue,{},Mr())}function rh(){return Zn(Xl)}function f0(){return Sn().memoizedState}function d0(){return Sn().memoizedState}function Sx(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Mr();e=us(s);var u=hs(n,e,s);u!==null&&(yr(u,n,s),Al(u,n,s)),n={cache:Du()},e.payload=n;return}n=n.return}}function Cx(e,n,s){var u=Mr();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Wo(e)?m0(n,s):(s=vu(e,n,s,u),s!==null&&(yr(s,e,u),x0(s,n,u)))}function g0(e,n,s){var u=Mr();Nl(e,n,s,u)}function Nl(e,n,s,u){var p={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))m0(n,p);else{var w=e.alternate;if(e.lanes===0&&(w===null||w.lanes===0)&&(w=n.lastRenderedReducer,w!==null))try{var C=n.lastRenderedState,D=w(C,s);if(p.hasEagerState=!0,p.eagerState=D,f(D,C))return No(e,n,p,0),Zt===null&&Oo(),!1}catch{}finally{}if(s=vu(e,n,p,u),s!==null)return yr(s,e,u),x0(s,n,u),!0}return!1}function ih(e,n,s,u){if(u={lane:2,revertLane:Lh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Wo(e)){if(n)throw Error(h(479))}else n=vu(e,s,u,2),n!==null&&yr(n,e,2)}function Wo(e){var n=e.alternate;return e===nt||n!==null&&n===nt}function m0(e,n){Ia=qo=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function x0(e,n,s){if((s&4194048)!==0){var u=n.lanes;u&=e.pendingLanes,s|=u,n.lanes=s,ln(e,s)}}var Rl={readContext:Zn,use:Go,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn};Rl.useEffectEvent=wn;var p0={readContext:Zn,use:Go,useCallback:function(e,n){return cr().memoizedState=[e,n===void 0?null:n],e},useContext:Zn,useEffect:e0,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Yo(4194308,4,i0.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Yo(4194308,4,e,n)},useInsertionEffect:function(e,n){Yo(4,2,e,n)},useMemo:function(e,n){var s=cr();n=n===void 0?null:n;var u=e();if(Js){Mt(!0);try{e()}finally{Mt(!1)}}return s.memoizedState=[u,n],u},useReducer:function(e,n,s){var u=cr();if(s!==void 0){var p=s(n);if(Js){Mt(!0);try{s(n)}finally{Mt(!1)}}}else p=n;return u.memoizedState=u.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},u.queue=e,e=e.dispatch=Cx.bind(null,nt,e),[u.memoizedState,e]},useRef:function(e){var n=cr();return e={current:e},n.memoizedState=e},useState:function(e){e=Qu(e);var n=e.queue,s=g0.bind(null,nt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:eh,useDeferredValue:function(e,n){var s=cr();return th(s,e,n)},useTransition:function(){var e=Qu(!1);return e=c0.bind(null,nt,e.queue,!0,!1),cr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var u=nt,p=cr();if(wt){if(s===void 0)throw Error(h(407));s=s()}else{if(s=n(),Zt===null)throw Error(h(349));(pt&127)!==0||Ud(u,n,s)}p.memoizedState=s;var w={value:s,getSnapshot:n};return p.queue=w,e0(zd.bind(null,u,w,e),[e]),u.flags|=2048,Ma(9,{destroy:void 0},Pd.bind(null,u,w,s,n),null),s},useId:function(){var e=cr(),n=Zt.identifierPrefix;if(wt){var s=mi,u=gi;s=(u&~(1<<32-et(u)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Ho++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=wx++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:rh,useFormState:Wd,useActionState:Wd,useOptimistic:function(e){var n=cr();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=ih.bind(null,nt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Ku,useCacheRefresh:function(){return cr().memoizedState=Sx.bind(null,nt)},useEffectEvent:function(e){var n=cr(),s={impl:e};return n.memoizedState=s,function(){if((It&2)!==0)throw Error(h(440));return s.impl.apply(void 0,arguments)}}},sh={readContext:Zn,use:Go,useCallback:a0,useContext:Zn,useEffect:$u,useImperativeHandle:s0,useInsertionEffect:n0,useLayoutEffect:r0,useMemo:l0,useReducer:Xo,useRef:$d,useState:function(){return Xo(Ii)},useDebugValue:eh,useDeferredValue:function(e,n){var s=Sn();return o0(s,qt.memoizedState,e,n)},useTransition:function(){var e=Xo(Ii)[0],n=Sn().memoizedState;return[typeof e=="boolean"?e:Ol(e),n]},useSyncExternalStore:jd,useId:f0,useHostTransitionStatus:rh,useFormState:Zd,useActionState:Zd,useOptimistic:function(e,n){var s=Sn();return Hd(s,qt,e,n)},useMemoCache:Ku,useCacheRefresh:d0};sh.useEffectEvent=t0;var y0={readContext:Zn,use:Go,useCallback:a0,useContext:Zn,useEffect:$u,useImperativeHandle:s0,useInsertionEffect:n0,useLayoutEffect:r0,useMemo:l0,useReducer:Zu,useRef:$d,useState:function(){return Zu(Ii)},useDebugValue:eh,useDeferredValue:function(e,n){var s=Sn();return qt===null?th(s,e,n):o0(s,qt.memoizedState,e,n)},useTransition:function(){var e=Zu(Ii)[0],n=Sn().memoizedState;return[typeof e=="boolean"?e:Ol(e),n]},useSyncExternalStore:jd,useId:f0,useHostTransitionStatus:rh,useFormState:Jd,useActionState:Jd,useOptimistic:function(e,n){var s=Sn();return qt!==null?Hd(s,qt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Ku,useCacheRefresh:d0};y0.useEffectEvent=t0;function ah(e,n,s,u){n=e.memoizedState,s=s(u,n),s=s==null?n:R({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var lh={enqueueSetState:function(e,n,s){e=e._reactInternals;var u=Mr(),p=us(u);p.payload=n,s!=null&&(p.callback=s),n=hs(e,p,u),n!==null&&(yr(n,e,u),Al(n,e,u))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var u=Mr(),p=us(u);p.tag=1,p.payload=n,s!=null&&(p.callback=s),n=hs(e,p,u),n!==null&&(yr(n,e,u),Al(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Mr(),u=us(s);u.tag=2,n!=null&&(u.callback=n),n=hs(e,u,s),n!==null&&(yr(n,e,s),Al(n,e,s))}};function w0(e,n,s,u,p,w,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,w,C):n.prototype&&n.prototype.isPureReactComponent?!m(s,u)||!m(p,w):!0}function b0(e,n,s,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,u),n.state!==e&&lh.enqueueReplaceState(n,n.state,null)}function $s(e,n){var s=n;if("ref"in n){s={};for(var u in n)u!=="ref"&&(s[u]=n[u])}if(e=e.defaultProps){s===n&&(s=R({},s));for(var p in e)s[p]===void 0&&(s[p]=e[p])}return s}function v0(e){To(e)}function E0(e){console.error(e)}function _0(e){To(e)}function Zo(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function A0(e,n,s){try{var u=e.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function oh(e,n,s){return s=us(s),s.tag=3,s.payload={element:null},s.callback=function(){Zo(e,n)},s}function S0(e){return e=us(e),e.tag=3,e}function C0(e,n,s,u){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var w=u.value;e.payload=function(){return p(w)},e.callback=function(){A0(n,s,u)}}var C=s.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){A0(n,s,u),typeof p!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})})}function Tx(e,n,s,u,p){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=s.alternate,n!==null&&Sa(n,s,p,!0),s=Nr.current,s!==null){switch(s.tag){case 31:case 13:return Vr===null?oc():s.alternate===null&&bn===0&&(bn=3),s.flags&=-257,s.flags|=65536,s.lanes=p,u===jo?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([u]):n.add(u),Mh(e,u,p)),!1;case 22:return s.flags|=65536,u===jo?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([u]):s.add(u)),Mh(e,u,p)),!1}throw Error(h(435,s.tag))}return Mh(e,u,p),oc(),!1}if(wt)return n=Nr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,u!==Tu&&(e=Error(h(422),{cause:u}),wl(zr(e,s)))):(u!==Tu&&(n=Error(h(423),{cause:u}),wl(zr(n,s))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,u=zr(u,s),p=oh(e.stateNode,u,p),Uu(e,p),bn!==4&&(bn=2)),!1;var w=Error(h(520),{cause:u});if(w=zr(w,s),Ul===null?Ul=[w]:Ul.push(w),bn!==4&&(bn=2),n===null)return!0;u=zr(u,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=p&-p,s.lanes|=e,e=oh(s.stateNode,u,e),Uu(s,e),!1;case 1:if(n=s.type,w=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ps===null||!ps.has(w))))return s.flags|=65536,p&=-p,s.lanes|=p,p=S0(p),C0(p,e,s,u),Uu(s,p),!1}s=s.return}while(s!==null);return!1}var ch=Error(h(461)),In=!1;function Qn(e,n,s,u){n.child=e===null?Rd(n,null,s,u):Qs(n,e.child,s,u)}function T0(e,n,s,u,p){s=s.render;var w=n.ref;if("ref"in u){var C={};for(var D in u)D!=="ref"&&(C[D]=u[D])}else C=u;return Ys(n),u=Vu(e,n,s,C,w,p),D=Gu(),e!==null&&!In?(Xu(e,n,p),Di(e,n,p)):(wt&&D&&Su(n),n.flags|=1,Qn(e,n,u,p),n.child)}function O0(e,n,s,u,p){if(e===null){var w=s.type;return typeof w=="function"&&!Eu(w)&&w.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=w,N0(e,n,w,u,p)):(e=Io(s.type,null,u,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(w=e.child,!ph(e,p)){var C=w.memoizedProps;if(s=s.compare,s=s!==null?s:m,s(C,u)&&e.ref===n.ref)return Di(e,n,p)}return n.flags|=1,e=Ci(w,u),e.ref=n.ref,e.return=n,n.child=e}function N0(e,n,s,u,p){if(e!==null){var w=e.memoizedProps;if(m(w,u)&&e.ref===n.ref)if(In=!1,n.pendingProps=u=w,ph(e,p))(e.flags&131072)!==0&&(In=!0);else return n.lanes=e.lanes,Di(e,n,p)}return uh(e,n,s,u,p)}function R0(e,n,s,u){var p=u.children,w=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((n.flags&128)!==0){if(w=w!==null?w.baseLanes|s:s,e!==null){for(u=n.child=e.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~w}else u=0,n.child=null;return I0(e,n,w,s,u)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ko(n,w!==null?w.cachePool:null),w!==null?Md(n,w):zu(),Bd(n);else return u=n.lanes=536870912,I0(e,n,w!==null?w.baseLanes|s:s,s,u)}else w!==null?(ko(n,w.cachePool),Md(n,w),ds(),n.memoizedState=null):(e!==null&&ko(n,null),zu(),ds());return Qn(e,n,p,s),n.child}function Il(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function I0(e,n,s,u,p){var w=Bu();return w=w===null?null:{parent:Nn._currentValue,pool:w},n.memoizedState={baseLanes:s,cachePool:w},e!==null&&ko(n,null),zu(),Bd(n),e!==null&&Sa(e,n,u,!0),n.childLanes=p,null}function Qo(e,n){return n=$o({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function D0(e,n,s){return Qs(n,e.child,null,s),e=Qo(n,n.pendingProps),e.flags|=2,Rr(n),n.memoizedState=null,e}function Ox(e,n,s){var u=n.pendingProps,p=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(wt){if(u.mode==="hidden")return e=Qo(n,u),n.lanes=536870912,Il(null,e);if(qu(n),(e=nn)?(e=V1(e,Hr),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ss!==null?{id:gi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},s=md(e),s.return=n,n.child=s,Wn=n,nn=null)):e=null,e===null)throw ls(n);return n.lanes=536870912,null}return Qo(n,u)}var w=e.memoizedState;if(w!==null){var C=w.dehydrated;if(qu(n),p)if(n.flags&256)n.flags&=-257,n=D0(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(h(558));else if(In||Sa(e,n,s,!1),p=(s&e.childLanes)!==0,In||p){if(u=Zt,u!==null&&(C=mn(u,s),C!==0&&C!==w.retryLane))throw w.retryLane=C,Hs(e,C),yr(u,e,C),ch;oc(),n=D0(e,n,s)}else e=w.treeContext,nn=Gr(C.nextSibling),Wn=n,wt=!0,as=null,Hr=!1,e!==null&&yd(n,e),n=Qo(n,u),n.flags|=4096;return n}return e=Ci(e.child,{mode:u.mode,children:u.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Jo(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(h(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function uh(e,n,s,u,p){return Ys(n),s=Vu(e,n,s,u,void 0,p),u=Gu(),e!==null&&!In?(Xu(e,n,p),Di(e,n,p)):(wt&&u&&Su(n),n.flags|=1,Qn(e,n,s,p),n.child)}function M0(e,n,s,u,p,w){return Ys(n),n.updateQueue=null,s=Ld(n,u,s,p),kd(e),u=Gu(),e!==null&&!In?(Xu(e,n,w),Di(e,n,w)):(wt&&u&&Su(n),n.flags|=1,Qn(e,n,s,w),n.child)}function B0(e,n,s,u,p){if(Ys(n),n.stateNode===null){var w=va,C=s.contextType;typeof C=="object"&&C!==null&&(w=Zn(C)),w=new s(u,w),n.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=lh,n.stateNode=w,w._reactInternals=n,w=n.stateNode,w.props=u,w.state=n.memoizedState,w.refs={},Lu(n),C=s.contextType,w.context=typeof C=="object"&&C!==null?Zn(C):va,w.state=n.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(ah(n,s,C,u),w.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(C=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),C!==w.state&&lh.enqueueReplaceState(w,w.state,null),Cl(n,u,w,p),Sl(),w.state=n.memoizedState),typeof w.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(e===null){w=n.stateNode;var D=n.memoizedProps,U=$s(s,D);w.props=U;var Q=w.context,oe=s.contextType;C=va,typeof oe=="object"&&oe!==null&&(C=Zn(oe));var fe=s.getDerivedStateFromProps;oe=typeof fe=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=n.pendingProps!==D,oe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||Q!==C)&&b0(n,w,u,C),cs=!1;var $=n.memoizedState;w.state=$,Cl(n,u,w,p),Sl(),Q=n.memoizedState,D||$!==Q||cs?(typeof fe=="function"&&(ah(n,s,fe,u),Q=n.memoizedState),(U=cs||w0(n,s,U,u,$,Q,C))?(oe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=Q),w.props=u,w.state=Q,w.context=C,u=U):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{w=n.stateNode,ju(e,n),C=n.memoizedProps,oe=$s(s,C),w.props=oe,fe=n.pendingProps,$=w.context,Q=s.contextType,U=va,typeof Q=="object"&&Q!==null&&(U=Zn(Q)),D=s.getDerivedStateFromProps,(Q=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==fe||$!==U)&&b0(n,w,u,U),cs=!1,$=n.memoizedState,w.state=$,Cl(n,u,w,p),Sl();var se=n.memoizedState;C!==fe||$!==se||cs||e!==null&&e.dependencies!==null&&Mo(e.dependencies)?(typeof D=="function"&&(ah(n,s,D,u),se=n.memoizedState),(oe=cs||w0(n,s,oe,u,$,se,U)||e!==null&&e.dependencies!==null&&Mo(e.dependencies))?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(u,se,U),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(u,se,U)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=se),w.props=u,w.state=se,w.context=U,u=oe):(typeof w.componentDidUpdate!="function"||C===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),u=!1)}return w=u,Jo(e,n),u=(n.flags&128)!==0,w||u?(w=n.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:w.render(),n.flags|=1,e!==null&&u?(n.child=Qs(n,e.child,null,p),n.child=Qs(n,null,s,p)):Qn(e,n,s,p),n.memoizedState=w.state,e=n.child):e=Di(e,n,p),e}function k0(e,n,s,u){return Gs(),n.flags|=256,Qn(e,n,s,u),n.child}var hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fh(e){return{baseLanes:e,cachePool:Ad()}}function dh(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Dr),e}function L0(e,n,s){var u=n.pendingProps,p=!1,w=(n.flags&128)!==0,C;if((C=w)||(C=e!==null&&e.memoizedState===null?!1:(An.current&2)!==0),C&&(p=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,e===null){if(wt){if(p?fs(n):ds(),(e=nn)?(e=V1(e,Hr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ss!==null?{id:gi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},s=md(e),s.return=n,n.child=s,Wn=n,nn=null)):e=null,e===null)throw ls(n);return Wh(e)?n.lanes=32:n.lanes=536870912,null}var D=u.children;return u=u.fallback,p?(ds(),p=n.mode,D=$o({mode:"hidden",children:D},p),u=Vs(u,p,s,null),D.return=n,u.return=n,D.sibling=u,n.child=D,u=n.child,u.memoizedState=fh(s),u.childLanes=dh(e,C,s),n.memoizedState=hh,Il(null,u)):(fs(n),gh(n,D))}var U=e.memoizedState;if(U!==null&&(D=U.dehydrated,D!==null)){if(w)n.flags&256?(fs(n),n.flags&=-257,n=mh(e,n,s)):n.memoizedState!==null?(ds(),n.child=e.child,n.flags|=128,n=null):(ds(),D=u.fallback,p=n.mode,u=$o({mode:"visible",children:u.children},p),D=Vs(D,p,s,null),D.flags|=2,u.return=n,D.return=n,u.sibling=D,n.child=u,Qs(n,e.child,null,s),u=n.child,u.memoizedState=fh(s),u.childLanes=dh(e,C,s),n.memoizedState=hh,n=Il(null,u));else if(fs(n),Wh(D)){if(C=D.nextSibling&&D.nextSibling.dataset,C)var Q=C.dgst;C=Q,u=Error(h(419)),u.stack="",u.digest=C,wl({value:u,source:null,stack:null}),n=mh(e,n,s)}else if(In||Sa(e,n,s,!1),C=(s&e.childLanes)!==0,In||C){if(C=Zt,C!==null&&(u=mn(C,s),u!==0&&u!==U.retryLane))throw U.retryLane=u,Hs(e,u),yr(C,e,u),ch;Kh(D)||oc(),n=mh(e,n,s)}else Kh(D)?(n.flags|=192,n.child=e.child,n=null):(e=U.treeContext,nn=Gr(D.nextSibling),Wn=n,wt=!0,as=null,Hr=!1,e!==null&&yd(n,e),n=gh(n,u.children),n.flags|=4096);return n}return p?(ds(),D=u.fallback,p=n.mode,U=e.child,Q=U.sibling,u=Ci(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Q!==null?D=Ci(Q,D):(D=Vs(D,p,s,null),D.flags|=2),D.return=n,u.return=n,u.sibling=D,n.child=u,Il(null,u),u=n.child,D=e.child.memoizedState,D===null?D=fh(s):(p=D.cachePool,p!==null?(U=Nn._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=Ad(),D={baseLanes:D.baseLanes|s,cachePool:p}),u.memoizedState=D,u.childLanes=dh(e,C,s),n.memoizedState=hh,Il(e.child,u)):(fs(n),s=e.child,e=s.sibling,s=Ci(s,{mode:"visible",children:u.children}),s.return=n,s.sibling=null,e!==null&&(C=n.deletions,C===null?(n.deletions=[e],n.flags|=16):C.push(e)),n.child=s,n.memoizedState=null,s)}function gh(e,n){return n=$o({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $o(e,n){return e=Or(22,e,null,n),e.lanes=0,e}function mh(e,n,s){return Qs(n,e.child,null,s),e=gh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function j0(e,n,s){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),Ru(e.return,n,s)}function xh(e,n,s,u,p,w){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:p,treeForkCount:w}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=u,C.tail=s,C.tailMode=p,C.treeForkCount=w)}function U0(e,n,s){var u=n.pendingProps,p=u.revealOrder,w=u.tail;u=u.children;var C=An.current,D=(C&2)!==0;if(D?(C=C&1|2,n.flags|=128):C&=1,Ee(An,C),Qn(e,n,u,s),u=wt?yl:0,!D&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&j0(e,s,n);else if(e.tag===19)j0(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(s=n.child,p=null;s!==null;)e=s.alternate,e!==null&&Fo(e)===null&&(p=s),s=s.sibling;s=p,s===null?(p=n.child,n.child=null):(p=s.sibling,s.sibling=null),xh(n,!1,p,s,w,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&Fo(e)===null){n.child=p;break}e=p.sibling,p.sibling=s,s=p,p=e}xh(n,!0,s,null,w,u);break;case"together":xh(n,!1,null,null,void 0,u);break;default:n.memoizedState=null}return n.child}function Di(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Sa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(h(153));if(n.child!==null){for(e=n.child,s=Ci(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ci(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function ph(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mo(e)))}function Nx(e,n,s){switch(n.tag){case 3:Ye(n,n.stateNode.containerInfo),os(n,Nn,e.memoizedState.cache),Gs();break;case 27:case 5:fn(n);break;case 4:Ye(n,n.stateNode.containerInfo);break;case 10:os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,qu(n),null;break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(fs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?L0(e,n,s):(fs(n),e=Di(e,n,s),e!==null?e.sibling:null);fs(n);break;case 19:var p=(e.flags&128)!==0;if(u=(s&n.childLanes)!==0,u||(Sa(e,n,s,!1),u=(s&n.childLanes)!==0),p){if(u)return U0(e,n,s);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ee(An,An.current),u)break;return null;case 22:return n.lanes=0,R0(e,n,s,n.pendingProps);case 24:os(n,Nn,e.memoizedState.cache)}return Di(e,n,s)}function P0(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)In=!0;else{if(!ph(e,s)&&(n.flags&128)===0)return In=!1,Nx(e,n,s);In=(e.flags&131072)!==0}else In=!1,wt&&(n.flags&1048576)!==0&&pd(n,yl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var u=n.pendingProps;if(e=Ws(n.elementType),n.type=e,typeof e=="function")Eu(e)?(u=$s(e,u),n.tag=1,n=B0(null,n,e,u,s)):(n.tag=0,n=uh(null,n,e,u,s));else{if(e!=null){var p=e.$$typeof;if(p===me){n.tag=11,n=T0(null,n,e,u,s);break e}else if(p===ee){n.tag=14,n=O0(null,n,e,u,s);break e}}throw n=Et(e)||e,Error(h(306,n,""))}}return n;case 0:return uh(e,n,n.type,n.pendingProps,s);case 1:return u=n.type,p=$s(u,n.pendingProps),B0(e,n,u,p,s);case 3:e:{if(Ye(n,n.stateNode.containerInfo),e===null)throw Error(h(387));u=n.pendingProps;var w=n.memoizedState;p=w.element,ju(e,n),Cl(n,u,null,s);var C=n.memoizedState;if(u=C.cache,os(n,Nn,u),u!==w.cache&&Iu(n,[Nn],s,!0),Sl(),u=C.element,w.isDehydrated)if(w={element:u,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=w,n.memoizedState=w,n.flags&256){n=k0(e,n,u,s);break e}else if(u!==p){p=zr(Error(h(424)),n),wl(p),n=k0(e,n,u,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(nn=Gr(e.firstChild),Wn=n,wt=!0,as=null,Hr=!0,s=Rd(n,null,u,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Gs(),u===p){n=Di(e,n,s);break e}Qn(e,n,u,s)}n=n.child}return n;case 26:return Jo(e,n),e===null?(s=Z1(n.type,null,n.pendingProps,null))?n.memoizedState=s:wt||(s=n.type,e=n.pendingProps,u=mc(be.current).createElement(s),u[Xt]=n,u[Nt]=e,Jn(u,s,e),pn(u),n.stateNode=u):n.memoizedState=Z1(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return fn(n),e===null&&wt&&(u=n.stateNode=Y1(n.type,n.pendingProps,be.current),Wn=n,Hr=!0,p=nn,vs(n.type)?(Zh=p,nn=Gr(u.firstChild)):nn=p),Qn(e,n,n.pendingProps.children,s),Jo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&wt&&((p=u=nn)&&(u=sp(u,n.type,n.pendingProps,Hr),u!==null?(n.stateNode=u,Wn=n,nn=Gr(u.firstChild),Hr=!1,p=!0):p=!1),p||ls(n)),fn(n),p=n.type,w=n.pendingProps,C=e!==null?e.memoizedProps:null,u=w.children,Gh(p,w)?u=null:C!==null&&Gh(p,C)&&(n.flags|=32),n.memoizedState!==null&&(p=Vu(e,n,bx,null,null,s),Xl._currentValue=p),Jo(e,n),Qn(e,n,u,s),n.child;case 6:return e===null&&wt&&((e=s=nn)&&(s=ap(s,n.pendingProps,Hr),s!==null?(n.stateNode=s,Wn=n,nn=null,e=!0):e=!1),e||ls(n)),null;case 13:return L0(e,n,s);case 4:return Ye(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=Qs(n,null,u,s):Qn(e,n,u,s),n.child;case 11:return T0(e,n,n.type,n.pendingProps,s);case 7:return Qn(e,n,n.pendingProps,s),n.child;case 8:return Qn(e,n,n.pendingProps.children,s),n.child;case 12:return Qn(e,n,n.pendingProps.children,s),n.child;case 10:return u=n.pendingProps,os(n,n.type,u.value),Qn(e,n,u.children,s),n.child;case 9:return p=n.type._context,u=n.pendingProps.children,Ys(n),p=Zn(p),u=u(p),n.flags|=1,Qn(e,n,u,s),n.child;case 14:return O0(e,n,n.type,n.pendingProps,s);case 15:return N0(e,n,n.type,n.pendingProps,s);case 19:return U0(e,n,s);case 31:return Ox(e,n,s);case 22:return R0(e,n,s,n.pendingProps);case 24:return Ys(n),u=Zn(Nn),e===null?(p=Bu(),p===null&&(p=Zt,w=Du(),p.pooledCache=w,w.refCount++,w!==null&&(p.pooledCacheLanes|=s),p=w),n.memoizedState={parent:u,cache:p},Lu(n),os(n,Nn,p)):((e.lanes&s)!==0&&(ju(e,n),Cl(n,null,null,s),Sl()),p=e.memoizedState,w=n.memoizedState,p.parent!==u?(p={parent:u,cache:u},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),os(n,Nn,u)):(u=w.cache,os(n,Nn,u),u!==p.cache&&Iu(n,[Nn],s,!0))),Qn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(h(156,n.tag))}function Mi(e){e.flags|=4}function yh(e,n,s,u,p){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(f1())e.flags|=8192;else throw Zs=jo,ku}else e.flags&=-16777217}function z0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!tg(n))if(f1())e.flags|=8192;else throw Zs=jo,ku}function ec(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?V():536870912,e.lanes|=n,ja|=n)}function Dl(e,n){if(!wt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function rn(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(n)for(var p=e.child;p!==null;)s|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)s|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=u,e.childLanes=s,n}function Rx(e,n,s){var u=n.pendingProps;switch(Cu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(n),null;case 1:return rn(n),null;case 3:return s=n.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Ni(Nn),Dt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Aa(n)?Mi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ou())),rn(n),null;case 26:var p=n.type,w=n.memoizedState;return e===null?(Mi(n),w!==null?(rn(n),z0(n,w)):(rn(n),yh(n,p,null,u,s))):w?w!==e.memoizedState?(Mi(n),rn(n),z0(n,w)):(rn(n),n.flags&=-16777217):(e=e.memoizedProps,e!==u&&Mi(n),rn(n),yh(n,p,e,u,s)),null;case 27:if($t(n),s=be.current,p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==u&&Mi(n);else{if(!u){if(n.stateNode===null)throw Error(h(166));return rn(n),null}e=ve.current,Aa(n)?wd(n):(e=Y1(p,u,s),n.stateNode=e,Mi(n))}return rn(n),null;case 5:if($t(n),p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==u&&Mi(n);else{if(!u){if(n.stateNode===null)throw Error(h(166));return rn(n),null}if(w=ve.current,Aa(n))wd(n);else{var C=mc(be.current);switch(w){case 1:w=C.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:w=C.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":w=C.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":w=C.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":w=C.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof u.is=="string"?C.createElement("select",{is:u.is}):C.createElement("select"),u.multiple?w.multiple=!0:u.size&&(w.size=u.size);break;default:w=typeof u.is=="string"?C.createElement(p,{is:u.is}):C.createElement(p)}}w[Xt]=n,w[Nt]=u;e:for(C=n.child;C!==null;){if(C.tag===5||C.tag===6)w.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break e;for(;C.sibling===null;){if(C.return===null||C.return===n)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}n.stateNode=w;e:switch(Jn(w,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Mi(n)}}return rn(n),yh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==u&&Mi(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(h(166));if(e=be.current,Aa(n)){if(e=n.stateNode,s=n.memoizedProps,u=null,p=Wn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}e[Xt]=n,e=!!(e.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||L1(e.nodeValue,s)),e||ls(n,!0)}else e=mc(e).createTextNode(u),e[Xt]=n,n.stateNode=e}return rn(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(u=Aa(n),s!==null){if(e===null){if(!u)throw Error(h(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(557));e[Xt]=n}else Gs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rn(n),e=!1}else s=Ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Rr(n),n):(Rr(n),null);if((n.flags&128)!==0)throw Error(h(558))}return rn(n),null;case 13:if(u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Aa(n),u!==null&&u.dehydrated!==null){if(e===null){if(!p)throw Error(h(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(h(317));p[Xt]=n}else Gs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rn(n),p=!1}else p=Ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(Rr(n),n):(Rr(n),null)}return Rr(n),(n.flags&128)!==0?(n.lanes=s,n):(s=u!==null,e=e!==null&&e.memoizedState!==null,s&&(u=n.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),w=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(w=u.memoizedState.cachePool.pool),w!==p&&(u.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ec(n,n.updateQueue),rn(n),null);case 4:return Dt(),e===null&&zh(n.stateNode.containerInfo),rn(n),null;case 10:return Ni(n.type),rn(n),null;case 19:if(le(An),u=n.memoizedState,u===null)return rn(n),null;if(p=(n.flags&128)!==0,w=u.rendering,w===null)if(p)Dl(u,!1);else{if(bn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=Fo(e),w!==null){for(n.flags|=128,Dl(u,!1),e=w.updateQueue,n.updateQueue=e,ec(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)gd(s,e),s=s.sibling;return Ee(An,An.current&1|2),wt&&Ti(n,u.treeForkCount),n.child}e=e.sibling}u.tail!==null&&ot()>sc&&(n.flags|=128,p=!0,Dl(u,!1),n.lanes=4194304)}else{if(!p)if(e=Fo(w),e!==null){if(n.flags|=128,p=!0,e=e.updateQueue,n.updateQueue=e,ec(n,e),Dl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!w.alternate&&!wt)return rn(n),null}else 2*ot()-u.renderingStartTime>sc&&s!==536870912&&(n.flags|=128,p=!0,Dl(u,!1),n.lanes=4194304);u.isBackwards?(w.sibling=n.child,n.child=w):(e=u.last,e!==null?e.sibling=w:n.child=w,u.last=w)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=ot(),e.sibling=null,s=An.current,Ee(An,p?s&1|2:s&1),wt&&Ti(n,u.treeForkCount),e):(rn(n),null);case 22:case 23:return Rr(n),Fu(),u=n.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(s&536870912)!==0&&(n.flags&128)===0&&(rn(n),n.subtreeFlags&6&&(n.flags|=8192)):rn(n),s=n.updateQueue,s!==null&&ec(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==s&&(n.flags|=2048),e!==null&&le(Ks),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ni(Nn),rn(n),null;case 25:return null;case 30:return null}throw Error(h(156,n.tag))}function Ix(e,n){switch(Cu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ni(Nn),Dt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $t(n),null;case 31:if(n.memoizedState!==null){if(Rr(n),n.alternate===null)throw Error(h(340));Gs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(h(340));Gs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return le(An),null;case 4:return Dt(),null;case 10:return Ni(n.type),null;case 22:case 23:return Rr(n),Fu(),e!==null&&le(Ks),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ni(Nn),null;case 25:return null;default:return null}}function F0(e,n){switch(Cu(n),n.tag){case 3:Ni(Nn),Dt();break;case 26:case 27:case 5:$t(n);break;case 4:Dt();break;case 31:n.memoizedState!==null&&Rr(n);break;case 13:Rr(n);break;case 19:le(An);break;case 10:Ni(n.type);break;case 22:case 23:Rr(n),Fu(),e!==null&&le(Ks);break;case 24:Ni(Nn)}}function Ml(e,n){try{var s=n.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var p=u.next;s=p;do{if((s.tag&e)===e){u=void 0;var w=s.create,C=s.inst;u=w(),C.destroy=u}s=s.next}while(s!==p)}}catch(D){zt(n,n.return,D)}}function gs(e,n,s){try{var u=n.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var w=p.next;u=w;do{if((u.tag&e)===e){var C=u.inst,D=C.destroy;if(D!==void 0){C.destroy=void 0,p=n;var U=s,Q=D;try{Q()}catch(oe){zt(p,U,oe)}}}u=u.next}while(u!==w)}}catch(oe){zt(n,n.return,oe)}}function q0(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Dd(n,s)}catch(u){zt(e,e.return,u)}}}function H0(e,n,s){s.props=$s(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(u){zt(e,n,u)}}function Bl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof s=="function"?e.refCleanup=s(u):s.current=u}}catch(p){zt(e,n,p)}}function xi(e,n){var s=e.ref,u=e.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(p){zt(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){zt(e,n,p)}else s.current=null}function V0(e){var n=e.type,s=e.memoizedProps,u=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(p){zt(e,e.return,p)}}function wh(e,n,s){try{var u=e.stateNode;$x(u,e.type,s,n),u[Nt]=n}catch(p){zt(e,e.return,p)}}function G0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vs(e.type)||e.tag===4}function bh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||G0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vh(e,n,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=hr));else if(u!==4&&(u===27&&vs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(vh(e,n,s),e=e.sibling;e!==null;)vh(e,n,s),e=e.sibling}function tc(e,n,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(u!==4&&(u===27&&vs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(tc(e,n,s),e=e.sibling;e!==null;)tc(e,n,s),e=e.sibling}function X0(e){var n=e.stateNode,s=e.memoizedProps;try{for(var u=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);Jn(n,u,s),n[Xt]=e,n[Nt]=s}catch(w){zt(e,e.return,w)}}var Bi=!1,Dn=!1,Eh=!1,Y0=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function Dx(e,n){if(e=e.containerInfo,Hh=Ec,e=N(e),I(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var p=u.anchorOffset,w=u.focusNode;u=u.focusOffset;try{s.nodeType,w.nodeType}catch{s=null;break e}var C=0,D=-1,U=-1,Q=0,oe=0,fe=e,$=null;t:for(;;){for(var se;fe!==s||p!==0&&fe.nodeType!==3||(D=C+p),fe!==w||u!==0&&fe.nodeType!==3||(U=C+u),fe.nodeType===3&&(C+=fe.nodeValue.length),(se=fe.firstChild)!==null;)$=fe,fe=se;for(;;){if(fe===e)break t;if($===s&&++Q===p&&(D=C),$===w&&++oe===u&&(U=C),(se=fe.nextSibling)!==null)break;fe=$,$=fe.parentNode}fe=se}s=D===-1||U===-1?null:{start:D,end:U}}else s=null}s=s||{start:0,end:0}}else s=null;for(Vh={focusedElem:e,selectionRange:s},Ec=!1,Vn=n;Vn!==null;)if(n=Vn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Vn=e;else for(;Vn!==null;){switch(n=Vn,w=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)p=e[s],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&w!==null){e=void 0,s=n,p=w.memoizedProps,w=w.memoizedState,u=s.stateNode;try{var Ie=$s(s.type,p);e=u.getSnapshotBeforeUpdate(Ie,w),u.__reactInternalSnapshotBeforeUpdate=e}catch(Ve){zt(s,s.return,Ve)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Yh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(h(163))}if(e=n.sibling,e!==null){e.return=n.return,Vn=e;break}Vn=n.return}}function K0(e,n,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Li(e,s),u&4&&Ml(5,s);break;case 1:if(Li(e,s),u&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(C){zt(s,s.return,C)}else{var p=$s(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(C){zt(s,s.return,C)}}u&64&&q0(s),u&512&&Bl(s,s.return);break;case 3:if(Li(e,s),u&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Dd(e,n)}catch(C){zt(s,s.return,C)}}break;case 27:n===null&&u&4&&X0(s);case 26:case 5:Li(e,s),n===null&&u&4&&V0(s),u&512&&Bl(s,s.return);break;case 12:Li(e,s);break;case 31:Li(e,s),u&4&&Q0(e,s);break;case 13:Li(e,s),u&4&&J0(e,s),u&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Fx.bind(null,s),lp(e,s))));break;case 22:if(u=s.memoizedState!==null||Bi,!u){n=n!==null&&n.memoizedState!==null||Dn,p=Bi;var w=Dn;Bi=u,(Dn=n)&&!w?ji(e,s,(s.subtreeFlags&8772)!==0):Li(e,s),Bi=p,Dn=w}break;case 30:break;default:Li(e,s)}}function W0(e){var n=e.alternate;n!==null&&(e.alternate=null,W0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Yn(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var un=null,gr=!1;function ki(e,n,s){for(s=s.child;s!==null;)Z0(e,n,s),s=s.sibling}function Z0(e,n,s){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(Ft,s)}catch{}switch(s.tag){case 26:Dn||xi(s,n),ki(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Dn||xi(s,n);var u=un,p=gr;vs(s.type)&&(un=s.stateNode,gr=!1),ki(e,n,s),Hl(s.stateNode),un=u,gr=p;break;case 5:Dn||xi(s,n);case 6:if(u=un,p=gr,un=null,ki(e,n,s),un=u,gr=p,un!==null)if(gr)try{(un.nodeType===9?un.body:un.nodeName==="HTML"?un.ownerDocument.body:un).removeChild(s.stateNode)}catch(w){zt(s,n,w)}else try{un.removeChild(s.stateNode)}catch(w){zt(s,n,w)}break;case 18:un!==null&&(gr?(e=un,q1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ga(e)):q1(un,s.stateNode));break;case 4:u=un,p=gr,un=s.stateNode.containerInfo,gr=!0,ki(e,n,s),un=u,gr=p;break;case 0:case 11:case 14:case 15:gs(2,s,n),Dn||gs(4,s,n),ki(e,n,s);break;case 1:Dn||(xi(s,n),u=s.stateNode,typeof u.componentWillUnmount=="function"&&H0(s,n,u)),ki(e,n,s);break;case 21:ki(e,n,s);break;case 22:Dn=(u=Dn)||s.memoizedState!==null,ki(e,n,s),Dn=u;break;default:ki(e,n,s)}}function Q0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(s){zt(n,n.return,s)}}}function J0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(s){zt(n,n.return,s)}}function Mx(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Y0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Y0),n;default:throw Error(h(435,e.tag))}}function nc(e,n){var s=Mx(e);n.forEach(function(u){if(!s.has(u)){s.add(u);var p=qx.bind(null,e,u);u.then(p,p)}})}function mr(e,n){var s=n.deletions;if(s!==null)for(var u=0;u<s.length;u++){var p=s[u],w=e,C=n,D=C;e:for(;D!==null;){switch(D.tag){case 27:if(vs(D.type)){un=D.stateNode,gr=!1;break e}break;case 5:un=D.stateNode,gr=!1;break e;case 3:case 4:un=D.stateNode.containerInfo,gr=!0;break e}D=D.return}if(un===null)throw Error(h(160));Z0(w,C,p),un=null,gr=!1,w=p.alternate,w!==null&&(w.return=null),p.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)$0(n,e),n=n.sibling}var ei=null;function $0(e,n){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mr(n,e),xr(e),u&4&&(gs(3,e,e.return),Ml(3,e),gs(5,e,e.return));break;case 1:mr(n,e),xr(e),u&512&&(Dn||s===null||xi(s,s.return)),u&64&&Bi&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var p=ei;if(mr(n,e),xr(e),u&512&&(Dn||s===null||xi(s,s.return)),u&4){var w=s!==null?s.memoizedState:null;if(u=e.memoizedState,s===null)if(u===null)if(e.stateNode===null){e:{u=e.type,s=e.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":w=p.getElementsByTagName("title")[0],(!w||w[ci]||w[Xt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=p.createElement(u),p.head.insertBefore(w,p.querySelector("head > title"))),Jn(w,u,s),w[Xt]=e,pn(w),u=w;break e;case"link":var C=$1("link","href",p).get(u+(s.href||""));if(C){for(var D=0;D<C.length;D++)if(w=C[D],w.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&w.getAttribute("rel")===(s.rel==null?null:s.rel)&&w.getAttribute("title")===(s.title==null?null:s.title)&&w.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){C.splice(D,1);break t}}w=p.createElement(u),Jn(w,u,s),p.head.appendChild(w);break;case"meta":if(C=$1("meta","content",p).get(u+(s.content||""))){for(D=0;D<C.length;D++)if(w=C[D],w.getAttribute("content")===(s.content==null?null:""+s.content)&&w.getAttribute("name")===(s.name==null?null:s.name)&&w.getAttribute("property")===(s.property==null?null:s.property)&&w.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&w.getAttribute("charset")===(s.charSet==null?null:s.charSet)){C.splice(D,1);break t}}w=p.createElement(u),Jn(w,u,s),p.head.appendChild(w);break;default:throw Error(h(468,u))}w[Xt]=e,pn(w),u=w}e.stateNode=u}else eg(p,e.type,e.stateNode);else e.stateNode=J1(p,u,e.memoizedProps);else w!==u?(w===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):w.count--,u===null?eg(p,e.type,e.stateNode):J1(p,u,e.memoizedProps)):u===null&&e.stateNode!==null&&wh(e,e.memoizedProps,s.memoizedProps)}break;case 27:mr(n,e),xr(e),u&512&&(Dn||s===null||xi(s,s.return)),s!==null&&u&4&&wh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(mr(n,e),xr(e),u&512&&(Dn||s===null||xi(s,s.return)),e.flags&32){p=e.stateNode;try{Zi(p,"")}catch(Ie){zt(e,e.return,Ie)}}u&4&&e.stateNode!=null&&(p=e.memoizedProps,wh(e,p,s!==null?s.memoizedProps:p)),u&1024&&(Eh=!0);break;case 6:if(mr(n,e),xr(e),u&4){if(e.stateNode===null)throw Error(h(162));u=e.memoizedProps,s=e.stateNode;try{s.nodeValue=u}catch(Ie){zt(e,e.return,Ie)}}break;case 3:if(yc=null,p=ei,ei=xc(n.containerInfo),mr(n,e),ei=p,xr(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(Ie){zt(e,e.return,Ie)}Eh&&(Eh=!1,e1(e));break;case 4:u=ei,ei=xc(e.stateNode.containerInfo),mr(n,e),xr(e),ei=u;break;case 12:mr(n,e),xr(e);break;case 31:mr(n,e),xr(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,nc(e,u)));break;case 13:mr(n,e),xr(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=ot()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,nc(e,u)));break;case 22:p=e.memoizedState!==null;var U=s!==null&&s.memoizedState!==null,Q=Bi,oe=Dn;if(Bi=Q||p,Dn=oe||U,mr(n,e),Dn=oe,Bi=Q,xr(e),u&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(s===null||U||Bi||Dn||ea(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){U=s=n;try{if(w=U.stateNode,p)C=w.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{D=U.stateNode;var fe=U.memoizedProps.style,$=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;D.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Ie){zt(U,U.return,Ie)}}}else if(n.tag===6){if(s===null){U=n;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(Ie){zt(U,U.return,Ie)}}}else if(n.tag===18){if(s===null){U=n;try{var se=U.stateNode;p?H1(se,!0):H1(U.stateNode,!1)}catch(Ie){zt(U,U.return,Ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=e.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,nc(e,s))));break;case 19:mr(n,e),xr(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,nc(e,u)));break;case 30:break;case 21:break;default:mr(n,e),xr(e)}}function xr(e){var n=e.flags;if(n&2){try{for(var s,u=e.return;u!==null;){if(G0(u)){s=u;break}u=u.return}if(s==null)throw Error(h(160));switch(s.tag){case 27:var p=s.stateNode,w=bh(e);tc(e,w,p);break;case 5:var C=s.stateNode;s.flags&32&&(Zi(C,""),s.flags&=-33);var D=bh(e);tc(e,D,C);break;case 3:case 4:var U=s.stateNode.containerInfo,Q=bh(e);vh(e,Q,U);break;default:throw Error(h(161))}}catch(oe){zt(e,e.return,oe)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function e1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;e1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Li(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)K0(e,n.alternate,n),n=n.sibling}function ea(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:gs(4,n,n.return),ea(n);break;case 1:xi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&H0(n,n.return,s),ea(n);break;case 27:Hl(n.stateNode);case 26:case 5:xi(n,n.return),ea(n);break;case 22:n.memoizedState===null&&ea(n);break;case 30:ea(n);break;default:ea(n)}e=e.sibling}}function ji(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,p=e,w=n,C=w.flags;switch(w.tag){case 0:case 11:case 15:ji(p,w,s),Ml(4,w);break;case 1:if(ji(p,w,s),u=w,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){zt(u,u.return,Q)}if(u=w,p=u.updateQueue,p!==null){var D=u.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)Id(U[p],D)}catch(Q){zt(u,u.return,Q)}}s&&C&64&&q0(w),Bl(w,w.return);break;case 27:X0(w);case 26:case 5:ji(p,w,s),s&&u===null&&C&4&&V0(w),Bl(w,w.return);break;case 12:ji(p,w,s);break;case 31:ji(p,w,s),s&&C&4&&Q0(p,w);break;case 13:ji(p,w,s),s&&C&4&&J0(p,w);break;case 22:w.memoizedState===null&&ji(p,w,s),Bl(w,w.return);break;case 30:break;default:ji(p,w,s)}n=n.sibling}}function _h(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&bl(s))}function Ah(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&bl(e))}function ti(e,n,s,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)t1(e,n,s,u),n=n.sibling}function t1(e,n,s,u){var p=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,s,u),p&2048&&Ml(9,n);break;case 1:ti(e,n,s,u);break;case 3:ti(e,n,s,u),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&bl(e)));break;case 12:if(p&2048){ti(e,n,s,u),e=n.stateNode;try{var w=n.memoizedProps,C=w.id,D=w.onPostCommit;typeof D=="function"&&D(C,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){zt(n,n.return,U)}}else ti(e,n,s,u);break;case 31:ti(e,n,s,u);break;case 13:ti(e,n,s,u);break;case 23:break;case 22:w=n.stateNode,C=n.alternate,n.memoizedState!==null?w._visibility&2?ti(e,n,s,u):kl(e,n):w._visibility&2?ti(e,n,s,u):(w._visibility|=2,Ba(e,n,s,u,(n.subtreeFlags&10256)!==0||!1)),p&2048&&_h(C,n);break;case 24:ti(e,n,s,u),p&2048&&Ah(n.alternate,n);break;default:ti(e,n,s,u)}}function Ba(e,n,s,u,p){for(p=p&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var w=e,C=n,D=s,U=u,Q=C.flags;switch(C.tag){case 0:case 11:case 15:Ba(w,C,D,U,p),Ml(8,C);break;case 23:break;case 22:var oe=C.stateNode;C.memoizedState!==null?oe._visibility&2?Ba(w,C,D,U,p):kl(w,C):(oe._visibility|=2,Ba(w,C,D,U,p)),p&&Q&2048&&_h(C.alternate,C);break;case 24:Ba(w,C,D,U,p),p&&Q&2048&&Ah(C.alternate,C);break;default:Ba(w,C,D,U,p)}n=n.sibling}}function kl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,u=n,p=u.flags;switch(u.tag){case 22:kl(s,u),p&2048&&_h(u.alternate,u);break;case 24:kl(s,u),p&2048&&Ah(u.alternate,u);break;default:kl(s,u)}n=n.sibling}}var Ll=8192;function ka(e,n,s){if(e.subtreeFlags&Ll)for(e=e.child;e!==null;)n1(e,n,s),e=e.sibling}function n1(e,n,s){switch(e.tag){case 26:ka(e,n,s),e.flags&Ll&&e.memoizedState!==null&&wp(s,ei,e.memoizedState,e.memoizedProps);break;case 5:ka(e,n,s);break;case 3:case 4:var u=ei;ei=xc(e.stateNode.containerInfo),ka(e,n,s),ei=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=Ll,Ll=16777216,ka(e,n,s),Ll=u):ka(e,n,s));break;default:ka(e,n,s)}}function r1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var u=n[s];Vn=u,s1(u,e)}r1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)i1(e),e=e.sibling}function i1(e){switch(e.tag){case 0:case 11:case 15:jl(e),e.flags&2048&&gs(9,e,e.return);break;case 3:jl(e);break;case 12:jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,rc(e)):jl(e);break;default:jl(e)}}function rc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var u=n[s];Vn=u,s1(u,e)}r1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:gs(8,n,n.return),rc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,rc(n));break;default:rc(n)}e=e.sibling}}function s1(e,n){for(;Vn!==null;){var s=Vn;switch(s.tag){case 0:case 11:case 15:gs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:bl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Vn=u;else e:for(s=e;Vn!==null;){u=Vn;var p=u.sibling,w=u.return;if(W0(u),u===s){Vn=null;break e}if(p!==null){p.return=w,Vn=p;break e}Vn=w}}}var Bx={getCacheForType:function(e){var n=Zn(Nn),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Zn(Nn).controller.signal}},kx=typeof WeakMap=="function"?WeakMap:Map,It=0,Zt=null,gt=null,pt=0,Pt=0,Ir=null,ms=!1,La=!1,Sh=!1,Ui=0,bn=0,xs=0,ta=0,Ch=0,Dr=0,ja=0,Ul=null,pr=null,Th=!1,ic=0,a1=0,sc=1/0,ac=null,ps=null,Fn=0,ys=null,Ua=null,Pi=0,Oh=0,Nh=null,l1=null,Pl=0,Rh=null;function Mr(){return(It&2)!==0&&pt!==0?pt&-pt:te.T!==null?Lh():Xn()}function o1(){if(Dr===0)if((pt&536870912)===0||wt){var e=ht;ht<<=1,(ht&3932160)===0&&(ht=262144),Dr=e}else Dr=536870912;return e=Nr.current,e!==null&&(e.flags|=32),Dr}function yr(e,n,s){(e===Zt&&(Pt===2||Pt===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),ws(e,pt,Dr,!1)),Se(e,s),((It&2)===0||e!==Zt)&&(e===Zt&&((It&2)===0&&(ta|=s),bn===4&&ws(e,pt,Dr,!1)),pi(e))}function c1(e,n,s){if((It&6)!==0)throw Error(h(327));var u=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Cn(e,n),p=u?Ux(e,n):Dh(e,n,!0),w=u;do{if(p===0){La&&!u&&ws(e,n,0,!1);break}else{if(s=e.current.alternate,w&&!Lx(s)){p=Dh(e,n,!1),w=!1;continue}if(p===2){if(w=n,e.errorRecoveryDisabledLanes&w)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;e:{var D=e;p=Ul;var U=D.current.memoizedState.isDehydrated;if(U&&(Pa(D,C).flags|=256),C=Dh(D,C,!1),C!==2){if(Sh&&!U){D.errorRecoveryDisabledLanes|=w,ta|=w,p=4;break e}w=pr,pr=p,w!==null&&(pr===null?pr=w:pr.push.apply(pr,w))}p=C}if(w=!1,p!==2)continue}}if(p===1){Pa(e,0),ws(e,n,0,!0);break}e:{switch(u=e,w=p,w){case 0:case 1:throw Error(h(345));case 4:if((n&4194048)!==n)break;case 6:ws(u,n,Dr,!ms);break e;case 2:pr=null;break;case 3:case 5:break;default:throw Error(h(329))}if((n&62914560)===n&&(p=ic+300-ot(),10<p)){if(ws(u,n,Dr,!ms),li(u,0,!0)!==0)break e;Pi=n,u.timeoutHandle=z1(u1.bind(null,u,s,pr,ac,Th,n,Dr,ta,ja,ms,w,"Throttled",-0,0),p);break e}u1(u,s,pr,ac,Th,n,Dr,ta,ja,ms,w,null,-0,0)}}break}while(!0);pi(e)}function u1(e,n,s,u,p,w,C,D,U,Q,oe,fe,$,se){if(e.timeoutHandle=-1,fe=n.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hr},n1(n,w,fe);var Ie=(w&62914560)===w?ic-ot():(w&4194048)===w?a1-ot():0;if(Ie=bp(fe,Ie),Ie!==null){Pi=w,e.cancelPendingCommit=Ie(y1.bind(null,e,n,w,s,u,p,C,D,U,oe,fe,null,$,se)),ws(e,w,C,!Q);return}}y1(e,n,w,s,u,p,C,D,U)}function Lx(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var p=s[u],w=p.getSnapshot;p=p.value;try{if(!f(w(),p))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ws(e,n,s,u){n&=~Ch,n&=~ta,e.suspendedLanes|=n,e.pingedLanes&=~n,u&&(e.warmLanes|=n),u=e.expirationTimes;for(var p=n;0<p;){var w=31-et(p),C=1<<w;u[w]=-1,p&=~C}s!==0&&jt(e,s,n)}function lc(){return(It&6)===0?(zl(0),!1):!0}function Ih(){if(gt!==null){if(Pt===0)var e=gt.return;else e=gt,Oi=Xs=null,Yu(e),Na=null,El=0,e=gt;for(;e!==null;)F0(e.alternate,e),e=e.return;gt=null}}function Pa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,np(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Pi=0,Ih(),Zt=e,gt=s=Ci(e.current,null),pt=n,Pt=0,Ir=null,ms=!1,La=Cn(e,n),Sh=!1,ja=Dr=Ch=ta=xs=bn=0,pr=Ul=null,Th=!1,(n&8)!==0&&(n|=n&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=n;0<u;){var p=31-et(u),w=1<<p;n|=e[p],u&=~w}return Ui=n,Oo(),s}function h1(e,n){nt=null,te.H=Rl,n===Oa||n===Lo?(n=Td(),Pt=3):n===ku?(n=Td(),Pt=4):Pt=n===ch?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ir=n,gt===null&&(bn=1,Zo(e,zr(n,e.current)))}function f1(){var e=Nr.current;return e===null?!0:(pt&4194048)===pt?Vr===null:(pt&62914560)===pt||(pt&536870912)!==0?e===Vr:!1}function d1(){var e=te.H;return te.H=Rl,e===null?Rl:e}function g1(){var e=te.A;return te.A=Bx,e}function oc(){bn=4,ms||(pt&4194048)!==pt&&Nr.current!==null||(La=!0),(xs&134217727)===0&&(ta&134217727)===0||Zt===null||ws(Zt,pt,Dr,!1)}function Dh(e,n,s){var u=It;It|=2;var p=d1(),w=g1();(Zt!==e||pt!==n)&&(ac=null,Pa(e,n)),n=!1;var C=bn;e:do try{if(Pt!==0&&gt!==null){var D=gt,U=Ir;switch(Pt){case 8:Ih(),C=6;break e;case 3:case 2:case 9:case 6:Nr.current===null&&(n=!0);var Q=Pt;if(Pt=0,Ir=null,za(e,D,U,Q),s&&La){C=0;break e}break;default:Q=Pt,Pt=0,Ir=null,za(e,D,U,Q)}}jx(),C=bn;break}catch(oe){h1(e,oe)}while(!0);return n&&e.shellSuspendCounter++,Oi=Xs=null,It=u,te.H=p,te.A=w,gt===null&&(Zt=null,pt=0,Oo()),C}function jx(){for(;gt!==null;)m1(gt)}function Ux(e,n){var s=It;It|=2;var u=d1(),p=g1();Zt!==e||pt!==n?(ac=null,sc=ot()+500,Pa(e,n)):La=Cn(e,n);e:do try{if(Pt!==0&&gt!==null){n=gt;var w=Ir;t:switch(Pt){case 1:Pt=0,Ir=null,za(e,n,w,1);break;case 2:case 9:if(Sd(w)){Pt=0,Ir=null,x1(n);break}n=function(){Pt!==2&&Pt!==9||Zt!==e||(Pt=7),pi(e)},w.then(n,n);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:Sd(w)?(Pt=0,Ir=null,x1(n)):(Pt=0,Ir=null,za(e,n,w,7));break;case 5:var C=null;switch(gt.tag){case 26:C=gt.memoizedState;case 5:case 27:var D=gt;if(C?tg(C):D.stateNode.complete){Pt=0,Ir=null;var U=D.sibling;if(U!==null)gt=U;else{var Q=D.return;Q!==null?(gt=Q,cc(Q)):gt=null}break t}}Pt=0,Ir=null,za(e,n,w,5);break;case 6:Pt=0,Ir=null,za(e,n,w,6);break;case 8:Ih(),bn=6;break e;default:throw Error(h(462))}}Px();break}catch(oe){h1(e,oe)}while(!0);return Oi=Xs=null,te.H=u,te.A=p,It=s,gt!==null?0:(Zt=null,pt=0,Oo(),bn)}function Px(){for(;gt!==null&&!at();)m1(gt)}function m1(e){var n=P0(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,n===null?cc(e):gt=n}function x1(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=M0(s,n,n.pendingProps,n.type,void 0,pt);break;case 11:n=M0(s,n,n.pendingProps,n.type.render,n.ref,pt);break;case 5:Yu(n);default:F0(s,n),n=gt=gd(n,Ui),n=P0(s,n,Ui)}e.memoizedProps=e.pendingProps,n===null?cc(e):gt=n}function za(e,n,s,u){Oi=Xs=null,Yu(n),Na=null,El=0;var p=n.return;try{if(Tx(e,p,n,s,pt)){bn=1,Zo(e,zr(s,e.current)),gt=null;return}}catch(w){if(p!==null)throw gt=p,w;bn=1,Zo(e,zr(s,e.current)),gt=null;return}n.flags&32768?(wt||u===1?e=!0:La||(pt&536870912)!==0?e=!1:(ms=e=!0,(u===2||u===9||u===3||u===6)&&(u=Nr.current,u!==null&&u.tag===13&&(u.flags|=16384))),p1(n,e)):cc(n)}function cc(e){var n=e;do{if((n.flags&32768)!==0){p1(n,ms);return}e=n.return;var s=Rx(n.alternate,n,Ui);if(s!==null){gt=s;return}if(n=n.sibling,n!==null){gt=n;return}gt=n=e}while(n!==null);bn===0&&(bn=5)}function p1(e,n){do{var s=Ix(e.alternate,e);if(s!==null){s.flags&=32767,gt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){gt=e;return}gt=e=s}while(e!==null);bn=6,gt=null}function y1(e,n,s,u,p,w,C,D,U){e.cancelPendingCommit=null;do uc();while(Fn!==0);if((It&6)!==0)throw Error(h(327));if(n!==null){if(n===e.current)throw Error(h(177));if(w=n.lanes|n.childLanes,w|=bu,Ze(e,s,w,C,D,U),e===Zt&&(gt=Zt=null,pt=0),Ua=n,ys=e,Pi=s,Oh=w,Nh=p,l1=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Hx(ir,function(){return _1(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=te.T,te.T=null,p=ue.p,ue.p=2,C=It,It|=4;try{Dx(e,n,s)}finally{It=C,ue.p=p,te.T=u}}Fn=1,w1(),b1(),v1()}}function w1(){if(Fn===1){Fn=0;var e=ys,n=Ua,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=te.T,te.T=null;var u=ue.p;ue.p=2;var p=It;It|=4;try{$0(n,e);var w=Vh,C=N(e.containerInfo),D=w.focusedElem,U=w.selectionRange;if(C!==D&&D&&D.ownerDocument&&S(D.ownerDocument.documentElement,D)){if(U!==null&&I(D)){var Q=U.start,oe=U.end;if(oe===void 0&&(oe=Q),"selectionStart"in D)D.selectionStart=Q,D.selectionEnd=Math.min(oe,D.value.length);else{var fe=D.ownerDocument||document,$=fe&&fe.defaultView||window;if($.getSelection){var se=$.getSelection(),Ie=D.textContent.length,Ve=Math.min(U.start,Ie),Vt=U.end===void 0?Ve:Math.min(U.end,Ie);!se.extend&&Ve>Vt&&(C=Vt,Vt=Ve,Ve=C);var X=E(D,Ve),H=E(D,Vt);if(X&&H&&(se.rangeCount!==1||se.anchorNode!==X.node||se.anchorOffset!==X.offset||se.focusNode!==H.node||se.focusOffset!==H.offset)){var Z=fe.createRange();Z.setStart(X.node,X.offset),se.removeAllRanges(),Ve>Vt?(se.addRange(Z),se.extend(H.node,H.offset)):(Z.setEnd(H.node,H.offset),se.addRange(Z))}}}}for(fe=[],se=D;se=se.parentNode;)se.nodeType===1&&fe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<fe.length;D++){var he=fe[D];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Ec=!!Hh,Vh=Hh=null}finally{It=p,ue.p=u,te.T=s}}e.current=n,Fn=2}}function b1(){if(Fn===2){Fn=0;var e=ys,n=Ua,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=te.T,te.T=null;var u=ue.p;ue.p=2;var p=It;It|=4;try{K0(e,n.alternate,n)}finally{It=p,ue.p=u,te.T=s}}Fn=3}}function v1(){if(Fn===4||Fn===3){Fn=0,Ns();var e=ys,n=Ua,s=Pi,u=l1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Fn=5:(Fn=0,Ua=ys=null,E1(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(ps=null),xn(s),n=n.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(Ft,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=te.T,p=ue.p,ue.p=2,te.T=null;try{for(var w=e.onRecoverableError,C=0;C<u.length;C++){var D=u[C];w(D.value,{componentStack:D.stack})}}finally{te.T=n,ue.p=p}}(Pi&3)!==0&&uc(),pi(e),p=e.pendingLanes,(s&261930)!==0&&(p&42)!==0?e===Rh?Pl++:(Pl=0,Rh=e):Pl=0,zl(0)}}function E1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,bl(n)))}function uc(){return w1(),b1(),v1(),_1()}function _1(){if(Fn!==5)return!1;var e=ys,n=Oh;Oh=0;var s=xn(Pi),u=te.T,p=ue.p;try{ue.p=32>s?32:s,te.T=null,s=Nh,Nh=null;var w=ys,C=Pi;if(Fn=0,Ua=ys=null,Pi=0,(It&6)!==0)throw Error(h(331));var D=It;if(It|=4,i1(w.current),t1(w,w.current,C,s),It=D,zl(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(Ft,w)}catch{}return!0}finally{ue.p=p,te.T=u,E1(e,n)}}function A1(e,n,s){n=zr(s,n),n=oh(e.stateNode,n,2),e=hs(e,n,2),e!==null&&(Se(e,2),pi(e))}function zt(e,n,s){if(e.tag===3)A1(e,e,s);else for(;n!==null;){if(n.tag===3){A1(n,e,s);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ps===null||!ps.has(u))){e=zr(s,e),s=S0(2),u=hs(n,s,2),u!==null&&(C0(s,u,n,e),Se(u,2),pi(u));break}}n=n.return}}function Mh(e,n,s){var u=e.pingCache;if(u===null){u=e.pingCache=new kx;var p=new Set;u.set(n,p)}else p=u.get(n),p===void 0&&(p=new Set,u.set(n,p));p.has(s)||(Sh=!0,p.add(s),e=zx.bind(null,e,n,s),n.then(e,e))}function zx(e,n,s){var u=e.pingCache;u!==null&&u.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Zt===e&&(pt&s)===s&&(bn===4||bn===3&&(pt&62914560)===pt&&300>ot()-ic?(It&2)===0&&Pa(e,0):Ch|=s,ja===pt&&(ja=0)),pi(e)}function S1(e,n){n===0&&(n=V()),e=Hs(e,n),e!==null&&(Se(e,n),pi(e))}function Fx(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),S1(e,s)}function qx(e,n){var s=0;switch(e.tag){case 31:case 13:var u=e.stateNode,p=e.memoizedState;p!==null&&(s=p.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(h(314))}u!==null&&u.delete(n),S1(e,s)}function Hx(e,n){return Er(e,n)}var hc=null,Fa=null,Bh=!1,fc=!1,kh=!1,bs=0;function pi(e){e!==Fa&&e.next===null&&(Fa===null?hc=Fa=e:Fa=Fa.next=e),fc=!0,Bh||(Bh=!0,Gx())}function zl(e,n){if(!kh&&fc){kh=!0;do for(var s=!1,u=hc;u!==null;){if(e!==0){var p=u.pendingLanes;if(p===0)var w=0;else{var C=u.suspendedLanes,D=u.pingedLanes;w=(1<<31-et(42|e)+1)-1,w&=p&~(C&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(s=!0,N1(u,w))}else w=pt,w=li(u,u===Zt?w:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(w&3)===0||Cn(u,w)||(s=!0,N1(u,w));u=u.next}while(s);kh=!1}}function Vx(){C1()}function C1(){fc=Bh=!1;var e=0;bs!==0&&tp()&&(e=bs);for(var n=ot(),s=null,u=hc;u!==null;){var p=u.next,w=T1(u,n);w===0?(u.next=null,s===null?hc=p:s.next=p,p===null&&(Fa=s)):(s=u,(e!==0||(w&3)!==0)&&(fc=!0)),u=p}Fn!==0&&Fn!==5||zl(e),bs!==0&&(bs=0)}function T1(e,n){for(var s=e.suspendedLanes,u=e.pingedLanes,p=e.expirationTimes,w=e.pendingLanes&-62914561;0<w;){var C=31-et(w),D=1<<C,U=p[C];U===-1?((D&s)===0||(D&u)!==0)&&(p[C]=Bs(D,n)):U<=n&&(e.expiredLanes|=D),w&=~D}if(n=Zt,s=pt,s=li(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,s===0||e===n&&(Pt===2||Pt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Oe(u),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Cn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(u!==null&&Oe(u),xn(s)){case 2:case 8:s=Is;break;case 32:s=ir;break;case 268435456:s=Ds;break;default:s=ir}return u=O1.bind(null,e),s=Er(s,u),e.callbackPriority=n,e.callbackNode=s,n}return u!==null&&u!==null&&Oe(u),e.callbackPriority=2,e.callbackNode=null,2}function O1(e,n){if(Fn!==0&&Fn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(uc()&&e.callbackNode!==s)return null;var u=pt;return u=li(e,e===Zt?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(c1(e,u,n),T1(e,ot()),e.callbackNode!=null&&e.callbackNode===s?O1.bind(null,e):null)}function N1(e,n){if(uc())return null;c1(e,n,!0)}function Gx(){rp(function(){(It&6)!==0?Er(tr,Vx):C1()})}function Lh(){if(bs===0){var e=Ca;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),bs=e}return bs}function R1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qi(""+e)}function I1(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function Xx(e,n,s,u,p){if(n==="submit"&&s&&s.stateNode===p){var w=R1((p[Nt]||null).action),C=u.submitter;C&&(n=(n=C[Nt]||null)?R1(n.formAction):C.getAttribute("formAction"),n!==null&&(w=n,C=null));var D=new Un("action","action",null,u,p);e.push({event:D,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(bs!==0){var U=C?I1(p,C):new FormData(p);nh(s,{pending:!0,data:U,method:p.method,action:w},null,U)}}else typeof w=="function"&&(D.preventDefault(),U=C?I1(p,C):new FormData(p),nh(s,{pending:!0,data:U,method:p.method,action:w},w,U))},currentTarget:p}]})}}for(var jh=0;jh<pl.length;jh++){var Uh=pl[jh],Yx=Uh.toLowerCase(),Kx=Uh[0].toUpperCase()+Uh.slice(1);$r(Yx,"on"+Kx)}$r(dr,"onAnimationEnd"),$r(Kn,"onAnimationIteration"),$r(Lt,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(zn,"onTransitionRun"),$r(or,"onTransitionStart"),$r(is,"onTransitionCancel"),$r(Si,"onTransitionEnd"),_r("onMouseEnter",["mouseout","mouseover"]),_r("onMouseLeave",["mouseout","mouseover"]),_r("onPointerEnter",["pointerout","pointerover"]),_r("onPointerLeave",["pointerout","pointerover"]),Bt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function D1(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],p=u.event;u=u.listeners;e:{var w=void 0;if(n)for(var C=u.length-1;0<=C;C--){var D=u[C],U=D.instance,Q=D.currentTarget;if(D=D.listener,U!==w&&p.isPropagationStopped())break e;w=D,p.currentTarget=Q;try{w(p)}catch(oe){To(oe)}p.currentTarget=null,w=U}else for(C=0;C<u.length;C++){if(D=u[C],U=D.instance,Q=D.currentTarget,D=D.listener,U!==w&&p.isPropagationStopped())break e;w=D,p.currentTarget=Q;try{w(p)}catch(oe){To(oe)}p.currentTarget=null,w=U}}}}function mt(e,n){var s=n[oi];s===void 0&&(s=n[oi]=new Set);var u=e+"__bubble";s.has(u)||(M1(n,e,2,!1),s.add(u))}function Ph(e,n,s){var u=0;n&&(u|=4),M1(s,e,u,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function zh(e){if(!e[dc]){e[dc]=!0,ge.forEach(function(s){s!=="selectionchange"&&(Wx.has(s)||Ph(s,!1,e),Ph(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,Ph("selectionchange",!1,n))}}function M1(e,n,s,u){switch(og(n)){case 2:var p=_p;break;case 8:p=Ap;break;default:p=tf}s=p.bind(null,n,s,e),p=void 0,!ul||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),u?p!==void 0?e.addEventListener(n,s,{capture:!0,passive:p}):e.addEventListener(n,s,!0):p!==void 0?e.addEventListener(n,s,{passive:p}):e.addEventListener(n,s,!1)}function Fh(e,n,s,u,p){var w=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var D=u.stateNode.containerInfo;if(D===p)break;if(C===4)for(C=u.return;C!==null;){var U=C.tag;if((U===3||U===4)&&C.stateNode.containerInfo===p)return;C=C.return}for(;D!==null;){if(C=on(D),C===null)return;if(U=C.tag,U===5||U===6||U===26||U===27){u=w=C;continue e}D=D.parentNode}}u=u.return}xo(function(){var Q=w,oe=cl(s),fe=[];e:{var $=Co.get(e);if($!==void 0){var se=Un,Ie=e;switch(e){case"keypress":if(ui(s)===0)break e;case"keydown":case"keyup":se=pa;break;case"focusin":Ie="focus",se=dl;break;case"focusout":Ie="blur",se=dl;break;case"beforeblur":case"afterblur":se=dl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Rt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=ma;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=pu;break;case dr:case Kn:case Lt:se=it;break;case Si:se=vi;break;case"scroll":case"scrollend":se=po;break;case"wheel":se=yu;break;case"copy":case"cut":case"paste":se=xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=kt;break;case"toggle":case"beforetoggle":se=ml}var Ve=(n&4)!==0,Vt=!Ve&&(e==="scroll"||e==="scrollend"),X=Ve?$!==null?$+"Capture":null:$;Ve=[];for(var H=Q,Z;H!==null;){var he=H;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||X===null||(he=Ke(H,X),he!=null&&Ve.push(ql(H,he,Z))),Vt)break;H=H.return}0<Ve.length&&($=new se($,Ie,null,s,oe),fe.push({event:$,listeners:Ve}))}}if((n&7)===0){e:{if($=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",$&&s!==ks&&(Ie=s.relatedTarget||s.fromElement)&&(on(Ie)||Ie[sr]))break e;if((se||$)&&($=oe.window===oe?oe:($=oe.ownerDocument)?$.defaultView||$.parentWindow:window,se?(Ie=s.relatedTarget||s.toElement,se=Q,Ie=Ie?on(Ie):null,Ie!==null&&(Vt=g(Ie),Ve=Ie.tag,Ie!==Vt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ie=null)):(se=null,Ie=Q),se!==Ie)){if(Ve=Rt,he="onMouseLeave",X="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Ve=kt,he="onPointerLeave",X="onPointerEnter",H="pointer"),Vt=se==null?$:Yr(se),Z=Ie==null?$:Yr(Ie),$=new Ve(he,H+"leave",se,s,oe),$.target=Vt,$.relatedTarget=Z,he=null,on(oe)===Q&&(Ve=new Ve(X,H+"enter",Ie,s,oe),Ve.target=Z,Ve.relatedTarget=Vt,he=Ve),Vt=he,se&&Ie)t:{for(Ve=Zx,X=se,H=Ie,Z=0,he=X;he;he=Ve(he))Z++;he=0;for(var Pe=H;Pe;Pe=Ve(Pe))he++;for(;0<Z-he;)X=Ve(X),Z--;for(;0<he-Z;)H=Ve(H),he--;for(;Z--;){if(X===H||H!==null&&X===H.alternate){Ve=X;break t}X=Ve(X),H=Ve(H)}Ve=null}else Ve=null;se!==null&&B1(fe,$,se,Ve,!1),Ie!==null&&Vt!==null&&B1(fe,Vt,Ie,Ve,!0)}}e:{if($=Q?Yr(Q):window,se=$.nodeName&&$.nodeName.toLowerCase(),se==="select"||se==="input"&&$.type==="file")var Tt=Tr;else if(xl($))if(So)Tt=o;else{Tt=r;var Be=t}else se=$.nodeName,!se||se.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Q&&Yt(Q.elementType)&&(Tt=Tr):Tt=i;if(Tt&&(Tt=Tt(e,Q))){Cr(fe,Tt,s,oe);break e}Be&&Be(e,$,Q),e==="focusout"&&Q&&$.type==="number"&&Q.memoizedProps.value!=null&&B($,"number",$.value)}switch(Be=Q?Yr(Q):window,e){case"focusin":(xl(Be)||Be.contentEditable==="true")&&(z=Be,F=Q,Y=null);break;case"focusout":Y=F=z=null;break;case"mousedown":ne=!0;break;case"contextmenu":case"mouseup":case"dragend":ne=!1,we(fe,s,oe);break;case"selectionchange":if(L)break;case"keydown":case"keyup":we(fe,s,oe)}var st;if(Us)e:{switch(e){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else rs?Ao(e,s)&&(yt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(yt="onCompositionStart");yt&&(_o&&s.locale!=="ko"&&(rs||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&rs&&(st=Ji()):(Qr=oe,Jr="value"in Qr?Qr.value:Qr.textContent,rs=!0)),Be=gc(Q,yt),0<Be.length&&(yt=new bo(yt,e,null,s,oe),fe.push({event:yt,listeners:Be}),st?yt.data=st:(st=ns(s),st!==null&&(yt.data=st)))),(st=Eo?di(e,s):wa(e,s))&&(yt=gc(Q,"onBeforeInput"),0<yt.length&&(Be=new bo("onBeforeInput","beforeinput",null,s,oe),fe.push({event:Be,listeners:yt}),Be.data=st)),Xx(fe,e,Q,s,oe)}D1(fe,n)})}function ql(e,n,s){return{instance:e,listener:n,currentTarget:s}}function gc(e,n){for(var s=n+"Capture",u=[];e!==null;){var p=e,w=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||w===null||(p=Ke(e,s),p!=null&&u.unshift(ql(e,p,w)),p=Ke(e,n),p!=null&&u.push(ql(e,p,w))),e.tag===3)return u;e=e.return}return[]}function Zx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function B1(e,n,s,u,p){for(var w=n._reactName,C=[];s!==null&&s!==u;){var D=s,U=D.alternate,Q=D.stateNode;if(D=D.tag,U!==null&&U===u)break;D!==5&&D!==26&&D!==27||Q===null||(U=Q,p?(Q=Ke(s,w),Q!=null&&C.unshift(ql(s,Q,U))):p||(Q=Ke(s,w),Q!=null&&C.push(ql(s,Q,U)))),s=s.return}C.length!==0&&e.push({event:n,listeners:C})}var Qx=/\r\n?/g,Jx=/\u0000|\uFFFD/g;function k1(e){return(typeof e=="string"?e:""+e).replace(Qx,`
`).replace(Jx,"")}function L1(e,n){return n=k1(n),k1(e)===n}function Ht(e,n,s,u,p,w){switch(s){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Zi(e,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Zi(e,""+u);break;case"className":Ki(e,"class",u);break;case"tabIndex":Ki(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(e,s,u);break;case"style":Ue(e,u,w);break;case"data":if(n!=="object"){Ki(e,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(s);break}u=Qi(""+u),e.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(s==="formAction"?(n!=="input"&&Ht(e,n,"name",p.name,p,null),Ht(e,n,"formEncType",p.formEncType,p,null),Ht(e,n,"formMethod",p.formMethod,p,null),Ht(e,n,"formTarget",p.formTarget,p,null)):(Ht(e,n,"encType",p.encType,p,null),Ht(e,n,"method",p.method,p,null),Ht(e,n,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(s);break}u=Qi(""+u),e.setAttribute(s,u);break;case"onClick":u!=null&&(e.onclick=hr);break;case"onScroll":u!=null&&mt("scroll",e);break;case"onScrollEnd":u!=null&&mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(h(61));if(s=u.__html,s!=null){if(p.children!=null)throw Error(h(60));e.innerHTML=s}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}s=Qi(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,""+u):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":u===!0?e.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,u):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(s,u):e.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(s):e.setAttribute(s,u);break;case"popover":mt("beforetoggle",e),mt("toggle",e),Yi(e,"popover",u);break;case"xlinkActuate":Ar(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ar(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ar(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ar(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ar(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ar(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ar(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ar(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ar(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Yi(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=mo.get(s)||s,Yi(e,s,u))}}function qh(e,n,s,u,p,w){switch(s){case"style":Ue(e,u,w);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(h(61));if(s=u.__html,s!=null){if(p.children!=null)throw Error(h(60));e.innerHTML=s}}break;case"children":typeof u=="string"?Zi(e,u):(typeof u=="number"||typeof u=="bigint")&&Zi(e,""+u);break;case"onScroll":u!=null&&mt("scroll",e);break;case"onScrollEnd":u!=null&&mt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=hr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),n=s.slice(2,p?s.length-7:void 0),w=e[Nt]||null,w=w!=null?w[s]:null,typeof w=="function"&&e.removeEventListener(n,w,p),typeof u=="function")){typeof w!="function"&&w!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,u,p);break e}s in e?e[s]=u:u===!0?e.setAttribute(s,""):Yi(e,s,u)}}}function Jn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",e),mt("load",e);var u=!1,p=!1,w;for(w in s)if(s.hasOwnProperty(w)){var C=s[w];if(C!=null)switch(w){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(h(137,n));default:Ht(e,n,w,C,s,null)}}p&&Ht(e,n,"srcSet",s.srcSet,s,null),u&&Ht(e,n,"src",s.src,s,null);return;case"input":mt("invalid",e);var D=w=C=p=null,U=null,Q=null;for(u in s)if(s.hasOwnProperty(u)){var oe=s[u];if(oe!=null)switch(u){case"name":p=oe;break;case"type":C=oe;break;case"checked":U=oe;break;case"defaultChecked":Q=oe;break;case"value":w=oe;break;case"defaultValue":D=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(h(137,n));break;default:Ht(e,n,u,oe,s,null)}}K(e,w,D,U,Q,C,p,!1);return;case"select":mt("invalid",e),u=C=w=null;for(p in s)if(s.hasOwnProperty(p)&&(D=s[p],D!=null))switch(p){case"value":w=D;break;case"defaultValue":C=D;break;case"multiple":u=D;default:Ht(e,n,p,D,s,null)}n=w,s=C,e.multiple=!!u,n!=null?De(e,!!u,n,!1):s!=null&&De(e,!!u,s,!0);return;case"textarea":mt("invalid",e),w=p=u=null;for(C in s)if(s.hasOwnProperty(C)&&(D=s[C],D!=null))switch(C){case"value":u=D;break;case"defaultValue":p=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(h(91));break;default:Ht(e,n,C,D,s,null)}ar(e,u,p,w);return;case"option":for(U in s)if(s.hasOwnProperty(U)&&(u=s[U],u!=null))switch(U){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ht(e,n,U,u,s,null)}return;case"dialog":mt("beforetoggle",e),mt("toggle",e),mt("cancel",e),mt("close",e);break;case"iframe":case"object":mt("load",e);break;case"video":case"audio":for(u=0;u<Fl.length;u++)mt(Fl[u],e);break;case"image":mt("error",e),mt("load",e);break;case"details":mt("toggle",e);break;case"embed":case"source":case"link":mt("error",e),mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in s)if(s.hasOwnProperty(Q)&&(u=s[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(h(137,n));default:Ht(e,n,Q,u,s,null)}return;default:if(Yt(n)){for(oe in s)s.hasOwnProperty(oe)&&(u=s[oe],u!==void 0&&qh(e,n,oe,u,s,void 0));return}}for(D in s)s.hasOwnProperty(D)&&(u=s[D],u!=null&&Ht(e,n,D,u,s,null))}function $x(e,n,s,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,w=null,C=null,D=null,U=null,Q=null,oe=null;for(se in s){var fe=s[se];if(s.hasOwnProperty(se)&&fe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":U=fe;default:u.hasOwnProperty(se)||Ht(e,n,se,null,u,fe)}}for(var $ in u){var se=u[$];if(fe=s[$],u.hasOwnProperty($)&&(se!=null||fe!=null))switch($){case"type":w=se;break;case"name":p=se;break;case"checked":Q=se;break;case"defaultChecked":oe=se;break;case"value":C=se;break;case"defaultValue":D=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(h(137,n));break;default:se!==fe&&Ht(e,n,$,se,u,fe)}}Tn(e,C,D,U,Q,oe,w,p);return;case"select":se=C=D=$=null;for(w in s)if(U=s[w],s.hasOwnProperty(w)&&U!=null)switch(w){case"value":break;case"multiple":se=U;default:u.hasOwnProperty(w)||Ht(e,n,w,null,u,U)}for(p in u)if(w=u[p],U=s[p],u.hasOwnProperty(p)&&(w!=null||U!=null))switch(p){case"value":$=w;break;case"defaultValue":D=w;break;case"multiple":C=w;default:w!==U&&Ht(e,n,p,w,u,U)}n=D,s=C,u=se,$!=null?De(e,!!s,$,!1):!!u!=!!s&&(n!=null?De(e,!!s,n,!0):De(e,!!s,s?[]:"",!1));return;case"textarea":se=$=null;for(D in s)if(p=s[D],s.hasOwnProperty(D)&&p!=null&&!u.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Ht(e,n,D,null,u,p)}for(C in u)if(p=u[C],w=s[C],u.hasOwnProperty(C)&&(p!=null||w!=null))switch(C){case"value":$=p;break;case"defaultValue":se=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(h(91));break;default:p!==w&&Ht(e,n,C,p,u,w)}En(e,$,se);return;case"option":for(var Ie in s)if($=s[Ie],s.hasOwnProperty(Ie)&&$!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":e.selected=!1;break;default:Ht(e,n,Ie,null,u,$)}for(U in u)if($=u[U],se=s[U],u.hasOwnProperty(U)&&$!==se&&($!=null||se!=null))switch(U){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Ht(e,n,U,$,u,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in s)$=s[Ve],s.hasOwnProperty(Ve)&&$!=null&&!u.hasOwnProperty(Ve)&&Ht(e,n,Ve,null,u,$);for(Q in u)if($=u[Q],se=s[Q],u.hasOwnProperty(Q)&&$!==se&&($!=null||se!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(h(137,n));break;default:Ht(e,n,Q,$,u,se)}return;default:if(Yt(n)){for(var Vt in s)$=s[Vt],s.hasOwnProperty(Vt)&&$!==void 0&&!u.hasOwnProperty(Vt)&&qh(e,n,Vt,void 0,u,$);for(oe in u)$=u[oe],se=s[oe],!u.hasOwnProperty(oe)||$===se||$===void 0&&se===void 0||qh(e,n,oe,$,u,se);return}}for(var X in s)$=s[X],s.hasOwnProperty(X)&&$!=null&&!u.hasOwnProperty(X)&&Ht(e,n,X,null,u,$);for(fe in u)$=u[fe],se=s[fe],!u.hasOwnProperty(fe)||$===se||$==null&&se==null||Ht(e,n,fe,$,u,se)}function j1(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ep(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var p=s[u],w=p.transferSize,C=p.initiatorType,D=p.duration;if(w&&D&&j1(C)){for(C=0,D=p.responseEnd,u+=1;u<s.length;u++){var U=s[u],Q=U.startTime;if(Q>D)break;var oe=U.transferSize,fe=U.initiatorType;oe&&j1(fe)&&(U=U.responseEnd,C+=oe*(U<D?1:(D-Q)/(U-Q)))}if(--u,n+=8*(w+C)/(p.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hh=null,Vh=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function U1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P1(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Gh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Xh=null;function tp(){var e=window.event;return e&&e.type==="popstate"?e===Xh?!1:(Xh=e,!0):(Xh=null,!1)}var z1=typeof setTimeout=="function"?setTimeout:void 0,np=typeof clearTimeout=="function"?clearTimeout:void 0,F1=typeof Promise=="function"?Promise:void 0,rp=typeof queueMicrotask=="function"?queueMicrotask:typeof F1<"u"?function(e){return F1.resolve(null).then(e).catch(ip)}:z1;function ip(e){setTimeout(function(){throw e})}function vs(e){return e==="head"}function q1(e,n){var s=n,u=0;do{var p=s.nextSibling;if(e.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"||s==="/&"){if(u===0){e.removeChild(p),Ga(n);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")Hl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Hl(s);for(var w=s.firstChild;w;){var C=w.nextSibling,D=w.nodeName;w[ci]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=C}}else s==="body"&&Hl(e.ownerDocument.body);s=p}while(s);Ga(n)}function H1(e,n){var s=e;e=0;do{var u=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=u}while(s)}function Yh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Yh(s),Yn(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function sp(e,n,s,u){for(;e.nodeType===1;){var p=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(w=e.getAttribute("rel"),w==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(w!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(w=e.getAttribute("src"),(w!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&w&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var w=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===w)return e}else return e;if(e=Gr(e.nextSibling),e===null)break}return null}function ap(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Gr(e.nextSibling),e===null))return null;return e}function V1(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gr(e.nextSibling),e===null))return null;return e}function Kh(e){return e.data==="$?"||e.data==="$~"}function Wh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function lp(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var u=function(){n(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function Gr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Zh=null;function G1(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Gr(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function X1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Y1(e,n,s){switch(n=mc(s),e){case"html":if(e=n.documentElement,!e)throw Error(h(452));return e;case"head":if(e=n.head,!e)throw Error(h(453));return e;case"body":if(e=n.body,!e)throw Error(h(454));return e;default:throw Error(h(451))}}function Hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Yn(e)}var Xr=new Map,K1=new Set;function xc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zi=ue.d;ue.d={f:op,r:cp,D:up,C:hp,L:fp,m:dp,X:mp,S:gp,M:xp};function op(){var e=zi.f(),n=lc();return e||n}function cp(e){var n=_t(e);n!==null&&n.tag===5&&n.type==="form"?h0(n):zi.r(e)}var qa=typeof document>"u"?null:document;function W1(e,n,s){var u=qa;if(u&&typeof n=="string"&&n){var p=ct(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),K1.has(p)||(K1.add(p),e={rel:e,crossOrigin:s,href:n},u.querySelector(p)===null&&(n=u.createElement("link"),Jn(n,"link",e),pn(n),u.head.appendChild(n)))}}function up(e){zi.D(e),W1("dns-prefetch",e,null)}function hp(e,n){zi.C(e,n),W1("preconnect",e,n)}function fp(e,n,s){zi.L(e,n,s);var u=qa;if(u&&e&&n){var p='link[rel="preload"][as="'+ct(n)+'"]';n==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+ct(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+ct(s.imageSizes)+'"]')):p+='[href="'+ct(e)+'"]';var w=p;switch(n){case"style":w=Ha(e);break;case"script":w=Va(e)}Xr.has(w)||(e=R({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Xr.set(w,e),u.querySelector(p)!==null||n==="style"&&u.querySelector(Vl(w))||n==="script"&&u.querySelector(Gl(w))||(n=u.createElement("link"),Jn(n,"link",e),pn(n),u.head.appendChild(n)))}}function dp(e,n){zi.m(e,n);var s=qa;if(s&&e){var u=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+ct(u)+'"][href="'+ct(e)+'"]',w=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Va(e)}if(!Xr.has(w)&&(e=R({rel:"modulepreload",href:e},n),Xr.set(w,e),s.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Gl(w)))return}u=s.createElement("link"),Jn(u,"link",e),pn(u),s.head.appendChild(u)}}}function gp(e,n,s){zi.S(e,n,s);var u=qa;if(u&&e){var p=jn(u).hoistableStyles,w=Ha(e);n=n||"default";var C=p.get(w);if(!C){var D={loading:0,preload:null};if(C=u.querySelector(Vl(w)))D.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Xr.get(w))&&Qh(e,s);var U=C=u.createElement("link");pn(U),Jn(U,"link",e),U._p=new Promise(function(Q,oe){U.onload=Q,U.onerror=oe}),U.addEventListener("load",function(){D.loading|=1}),U.addEventListener("error",function(){D.loading|=2}),D.loading|=4,pc(C,n,u)}C={type:"stylesheet",instance:C,count:1,state:D},p.set(w,C)}}}function mp(e,n){zi.X(e,n);var s=qa;if(s&&e){var u=jn(s).hoistableScripts,p=Va(e),w=u.get(p);w||(w=s.querySelector(Gl(p)),w||(e=R({src:e,async:!0},n),(n=Xr.get(p))&&Jh(e,n),w=s.createElement("script"),pn(w),Jn(w,"link",e),s.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},u.set(p,w))}}function xp(e,n){zi.M(e,n);var s=qa;if(s&&e){var u=jn(s).hoistableScripts,p=Va(e),w=u.get(p);w||(w=s.querySelector(Gl(p)),w||(e=R({src:e,async:!0,type:"module"},n),(n=Xr.get(p))&&Jh(e,n),w=s.createElement("script"),pn(w),Jn(w,"link",e),s.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},u.set(p,w))}}function Z1(e,n,s,u){var p=(p=be.current)?xc(p):null;if(!p)throw Error(h(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ha(s.href),s=jn(p).hoistableStyles,u=s.get(n),u||(u={type:"style",instance:null,count:0,state:null},s.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ha(s.href);var w=jn(p).hoistableStyles,C=w.get(e);if(C||(p=p.ownerDocument||p,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(e,C),(w=p.querySelector(Vl(e)))&&!w._p&&(C.instance=w,C.state.loading=5),Xr.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xr.set(e,s),w||pp(p,e,s,C.state))),n&&u===null)throw Error(h(528,""));return C}if(n&&u!==null)throw Error(h(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(s),s=jn(p).hoistableScripts,u=s.get(n),u||(u={type:"script",instance:null,count:0,state:null},s.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(h(444,e))}}function Ha(e){return'href="'+ct(e)+'"'}function Vl(e){return'link[rel="stylesheet"]['+e+"]"}function Q1(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function pp(e,n,s,u){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=e.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),Jn(n,"link",s),pn(n),e.head.appendChild(n))}function Va(e){return'[src="'+ct(e)+'"]'}function Gl(e){return"script[async]"+e}function J1(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var u=e.querySelector('style[data-href~="'+ct(s.href)+'"]');if(u)return n.instance=u,pn(u),u;var p=R({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),pn(u),Jn(u,"style",p),pc(u,s.precedence,e),n.instance=u;case"stylesheet":p=Ha(s.href);var w=e.querySelector(Vl(p));if(w)return n.state.loading|=4,n.instance=w,pn(w),w;u=Q1(s),(p=Xr.get(p))&&Qh(u,p),w=(e.ownerDocument||e).createElement("link"),pn(w);var C=w;return C._p=new Promise(function(D,U){C.onload=D,C.onerror=U}),Jn(w,"link",u),n.state.loading|=4,pc(w,s.precedence,e),n.instance=w;case"script":return w=Va(s.src),(p=e.querySelector(Gl(w)))?(n.instance=p,pn(p),p):(u=s,(p=Xr.get(w))&&(u=R({},s),Jh(u,p)),e=e.ownerDocument||e,p=e.createElement("script"),pn(p),Jn(p,"link",u),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(h(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,pc(u,s.precedence,e));return n.instance}function pc(e,n,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,w=p,C=0;C<u.length;C++){var D=u[C];if(D.dataset.precedence===n)w=D;else if(w!==p)break}w?w.parentNode.insertBefore(e,w.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Qh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Jh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function $1(e,n,s){if(yc===null){var u=new Map,p=yc=new Map;p.set(s,u)}else p=yc,u=p.get(s),u||(u=new Map,p.set(s,u));if(u.has(e))return u;for(u.set(e,null),s=s.getElementsByTagName(e),p=0;p<s.length;p++){var w=s[p];if(!(w[ci]||w[Xt]||e==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var C=w.getAttribute(n)||"";C=e+C;var D=u.get(C);D?D.push(w):u.set(C,[w])}}return u}function eg(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function yp(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function tg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function wp(e,n,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Ha(u.href),w=n.querySelector(Vl(p));if(w){n=w._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=wc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=w,pn(w);return}w=n.ownerDocument||n,u=Q1(u),(p=Xr.get(p))&&Qh(u,p),w=w.createElement("link"),pn(w);var C=w;C._p=new Promise(function(D,U){C.onload=D,C.onerror=U}),Jn(w,"link",u),s.instance=w}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=wc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var $h=0;function bp(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var u=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var w=e.unsuspend;e.unsuspend=null,w()}},6e4+n);0<e.imgBytes&&$h===0&&($h=62500*ep());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var w=e.unsuspend;e.unsuspend=null,w()}},(e.imgBytes>$h?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bc=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bc=new Map,n.forEach(vp,e),bc=null,wc.call(e))}function vp(e,n){if(!(n.state.loading&4)){var s=bc.get(e);if(s)var u=s.get(null);else{s=new Map,bc.set(e,s);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<p.length;w++){var C=p[w];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(s.set(C.dataset.precedence,C),u=C)}u&&s.set(null,u)}p=n.instance,C=p.getAttribute("data-precedence"),w=s.get(C)||u,w===u&&s.set(null,p),s.set(C,p),this.count++,u=wc.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),w?w.parentNode.insertBefore(p,w.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var Xl={$$typeof:W,Provider:null,Consumer:null,_currentValue:je,_currentValue2:je,_threadCount:0};function Ep(e,n,s,u,p,w,C,D,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=w,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function ng(e,n,s,u,p,w,C,D,U,Q,oe,fe){return e=new Ep(e,n,s,C,U,Q,oe,fe,D),n=1,w===!0&&(n|=24),w=Or(3,null,null,n),e.current=w,w.stateNode=e,n=Du(),n.refCount++,e.pooledCache=n,n.refCount++,w.memoizedState={element:u,isDehydrated:s,cache:n},Lu(w),e}function rg(e){return e?(e=va,e):va}function ig(e,n,s,u,p,w){p=rg(p),u.context===null?u.context=p:u.pendingContext=p,u=us(n),u.payload={element:s},w=w===void 0?null:w,w!==null&&(u.callback=w),s=hs(e,u,n),s!==null&&(yr(s,e,n),Al(s,e,n))}function sg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function ef(e,n){sg(e,n),(e=e.alternate)&&sg(e,n)}function ag(e){if(e.tag===13||e.tag===31){var n=Hs(e,67108864);n!==null&&yr(n,e,67108864),ef(e,67108864)}}function lg(e){if(e.tag===13||e.tag===31){var n=Mr();n=Ut(n);var s=Hs(e,n);s!==null&&yr(s,e,n),ef(e,n)}}var Ec=!0;function _p(e,n,s,u){var p=te.T;te.T=null;var w=ue.p;try{ue.p=2,tf(e,n,s,u)}finally{ue.p=w,te.T=p}}function Ap(e,n,s,u){var p=te.T;te.T=null;var w=ue.p;try{ue.p=8,tf(e,n,s,u)}finally{ue.p=w,te.T=p}}function tf(e,n,s,u){if(Ec){var p=nf(u);if(p===null)Fh(e,n,u,_c,s),cg(e,u);else if(Cp(p,e,n,s,u))u.stopPropagation();else if(cg(e,u),n&4&&-1<Sp.indexOf(e)){for(;p!==null;){var w=_t(p);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var C=Lr(w.pendingLanes);if(C!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;C;){var U=1<<31-et(C);D.entanglements[1]|=U,C&=~U}pi(w),(It&6)===0&&(sc=ot()+500,zl(0))}}break;case 31:case 13:D=Hs(w,2),D!==null&&yr(D,w,2),lc(),ef(w,2)}if(w=nf(u),w===null&&Fh(e,n,u,_c,s),w===p)break;p=w}p!==null&&u.stopPropagation()}else Fh(e,n,u,null,s)}}function nf(e){return e=cl(e),rf(e)}var _c=null;function rf(e){if(_c=null,e=on(e),e!==null){var n=g(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=b(n),e!==null)return e;e=null}else if(s===31){if(e=A(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function og(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rs()){case tr:return 2;case Is:return 8;case ir:case Ln:return 32;case Ds:return 268435456;default:return 32}default:return 32}}var sf=!1,Es=null,_s=null,As=null,Yl=new Map,Kl=new Map,Ss=[],Sp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cg(e,n){switch(e){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(n.pointerId)}}function Wl(e,n,s,u,p,w){return e===null||e.nativeEvent!==w?(e={blockedOn:n,domEventName:s,eventSystemFlags:u,nativeEvent:w,targetContainers:[p]},n!==null&&(n=_t(n),n!==null&&ag(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function Cp(e,n,s,u,p){switch(n){case"focusin":return Es=Wl(Es,e,n,s,u,p),!0;case"dragenter":return _s=Wl(_s,e,n,s,u,p),!0;case"mouseover":return As=Wl(As,e,n,s,u,p),!0;case"pointerover":var w=p.pointerId;return Yl.set(w,Wl(Yl.get(w)||null,e,n,s,u,p)),!0;case"gotpointercapture":return w=p.pointerId,Kl.set(w,Wl(Kl.get(w)||null,e,n,s,u,p)),!0}return!1}function ug(e){var n=on(e.target);if(n!==null){var s=g(n);if(s!==null){if(n=s.tag,n===13){if(n=b(s),n!==null){e.blockedOn=n,Ae(e.priority,function(){lg(s)});return}}else if(n===31){if(n=A(s),n!==null){e.blockedOn=n,Ae(e.priority,function(){lg(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=nf(e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);ks=u,s.target.dispatchEvent(u),ks=null}else return n=_t(s),n!==null&&ag(n),e.blockedOn=s,!1;n.shift()}return!0}function hg(e,n,s){Ac(e)&&s.delete(n)}function Tp(){sf=!1,Es!==null&&Ac(Es)&&(Es=null),_s!==null&&Ac(_s)&&(_s=null),As!==null&&Ac(As)&&(As=null),Yl.forEach(hg),Kl.forEach(hg)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,sf||(sf=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,Tp)))}var Cc=null;function fg(e){Cc!==e&&(Cc=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Cc===e&&(Cc=null);for(var n=0;n<e.length;n+=3){var s=e[n],u=e[n+1],p=e[n+2];if(typeof u!="function"){if(rf(u||s)===null)continue;break}var w=_t(s);w!==null&&(e.splice(n,3),n-=3,nh(w,{pending:!0,data:p,method:s.method,action:u},u,p))}}))}function Ga(e){function n(U){return Sc(U,e)}Es!==null&&Sc(Es,e),_s!==null&&Sc(_s,e),As!==null&&Sc(As,e),Yl.forEach(n),Kl.forEach(n);for(var s=0;s<Ss.length;s++){var u=Ss[s];u.blockedOn===e&&(u.blockedOn=null)}for(;0<Ss.length&&(s=Ss[0],s.blockedOn===null);)ug(s),s.blockedOn===null&&Ss.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var p=s[u],w=s[u+1],C=p[Nt]||null;if(typeof w=="function")C||fg(s);else if(C){var D=null;if(w&&w.hasAttribute("formAction")){if(p=w,C=w[Nt]||null)D=C.formAction;else if(rf(p)!==null)continue}else D=C.action;typeof D=="function"?s[u+1]=D:(s.splice(u,3),u-=3),fg(s)}}}function dg(){function e(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(C){return p=C})},focusReset:"manual",scroll:"manual"})}function n(){p!==null&&(p(),p=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),p!==null&&(p(),p=null)}}}function af(e){this._internalRoot=e}Tc.prototype.render=af.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(h(409));var s=n.current,u=Mr();ig(s,u,e,n,null,null)},Tc.prototype.unmount=af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ig(e.current,2,null,e,null,null),lc(),n[sr]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Xn();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ss.length&&n!==0&&n<Ss[s].priority;s++);Ss.splice(s,0,e),s===0&&ug(e)}};var gg=a.version;if(gg!=="19.2.1")throw Error(h(527,gg,"19.2.1"));ue.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(h(188)):(e=Object.keys(e).join(","),Error(h(268,e)));return e=v(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Op={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{Ft=Oc.inject(Op),ye=Oc}catch{}}return Ql.createRoot=function(e,n){if(!x(e))throw Error(h(299));var s=!1,u="",p=v0,w=E0,C=_0;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError)),n=ng(e,1,!1,null,null,s,u,null,p,w,C,dg),e[sr]=n.current,zh(e),new af(n)},Ql.hydrateRoot=function(e,n,s){if(!x(e))throw Error(h(299));var u=!1,p="",w=v0,C=E0,D=_0,U=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(w=s.onUncaughtError),s.onCaughtError!==void 0&&(C=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.formState!==void 0&&(U=s.formState)),n=ng(e,1,!0,n,s??null,u,p,U,w,C,D,dg),n.context=rg(null),s=n.current,u=Mr(),u=Ut(u),p=us(u),p.callback=null,hs(s,p,u),s=u,n.current.lanes=s,Se(n,s),pi(n),e[sr]=n.current,zh(e),new Tc(n)},Ql.version="19.2.1",Ql}var Ag;function Pp(){if(Ag)return cf.exports;Ag=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(a){console.error(a)}}return d(),cf.exports=Up(),cf.exports}var zp=Pp();const Fp=oo(zp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=d=>d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hp=d=>d.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,l,h)=>h?h.toUpperCase():l.toLowerCase()),Sg=d=>{const a=Hp(d);return a.charAt(0).toUpperCase()+a.slice(1)},P2=(...d)=>d.filter((a,l,h)=>!!a&&a.trim()!==""&&h.indexOf(a)===l).join(" ").trim(),Vp=d=>{for(const a in d)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=rt.forwardRef(({color:d="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:h,className:x="",children:g,iconNode:b,...A},_)=>rt.createElement("svg",{ref:_,...Gp,width:a,height:a,stroke:d,strokeWidth:h?Number(l)*24/Number(a):l,className:P2("lucide",x),...!g&&!Vp(A)&&{"aria-hidden":"true"},...A},[...b.map(([v,T])=>rt.createElement(v,T)),...Array.isArray(g)?g:[g]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=(d,a)=>{const l=rt.forwardRef(({className:h,...x},g)=>rt.createElement(Xp,{ref:g,iconNode:a,className:P2(`lucide-${qp(Sg(d))}`,`lucide-${d}`,h),...x}));return l.displayName=Sg(d),l};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Kp=bt("arrow-down",Yp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Zp=bt("arrow-right",Wp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Jp=bt("arrow-up",Qp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Cg=bt("box",$p);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],ty=bt("building",ey);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tg=bt("calendar",ny);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],iy=bt("camera",ry);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ay=bt("circle-alert",sy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oy=bt("circle-check-big",ly);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],uy=bt("circle-x",cy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],fy=bt("clipboard-list",hy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Og=bt("cloud-upload",dy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],my=bt("database",gy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],py=bt("file-text",xy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],wy=bt("hash",yy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Ng=bt("history",by);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ey=bt("info",vy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=[["path",{d:"M5 12h14",key:"1ays0h"}]],df=bt("minus",_y);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Rg=bt("package",Ay);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jl=bt("plus",Sy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Ty=bt("printer",Cy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],gf=bt("qr-code",Oy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ry=bt("refresh-cw",Ny);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],Dy=bt("scan-line",Iy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ig=bt("search",My);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ky=bt("settings",By);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],mf=bt("shopping-cart",Ly);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Uy=bt("square-check-big",jy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],zy=bt("square-pen",Py);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dg=bt("trash-2",Fy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hy=bt("triangle-alert",qy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Mg=bt("truck",Vy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Bg=bt("upload",Gy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yy=bt("user",Xy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xc=bt("x",Ky);var Fi={},Rc={},jf=function(d,a){return jf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var x in h)Object.prototype.hasOwnProperty.call(h,x)&&(l[x]=h[x])},jf(d,a)};function z2(d,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");jf(d,a);function l(){this.constructor=d}d.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}var Yc=function(){return Yc=Object.assign||function(a){for(var l,h=1,x=arguments.length;h<x;h++){l=arguments[h];for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(a[g]=l[g])}return a},Yc.apply(this,arguments)};function sl(d,a){var l={};for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&a.indexOf(h)<0&&(l[h]=d[h]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,h=Object.getOwnPropertySymbols(d);x<h.length;x++)a.indexOf(h[x])<0&&Object.prototype.propertyIsEnumerable.call(d,h[x])&&(l[h[x]]=d[h[x]]);return l}function F2(d,a,l,h){var x=arguments.length,g=x<3?a:h===null?h=Object.getOwnPropertyDescriptor(a,l):h,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(d,a,l,h);else for(var A=d.length-1;A>=0;A--)(b=d[A])&&(g=(x<3?b(g):x>3?b(a,l,g):b(a,l))||g);return x>3&&g&&Object.defineProperty(a,l,g),g}function q2(d,a){return function(l,h){a(l,h,d)}}function H2(d,a,l,h,x,g){function b(ae){if(ae!==void 0&&typeof ae!="function")throw new TypeError("Function expected");return ae}for(var A=h.kind,_=A==="getter"?"get":A==="setter"?"set":"value",v=!a&&d?h.static?d:d.prototype:null,T=a||(v?Object.getOwnPropertyDescriptor(v,h.name):{}),R,k=!1,j=l.length-1;j>=0;j--){var P={};for(var G in h)P[G]=G==="access"?{}:h[G];for(var G in h.access)P.access[G]=h.access[G];P.addInitializer=function(ae){if(k)throw new TypeError("Cannot add initializers after decoration has completed");g.push(b(ae||null))};var J=(0,l[j])(A==="accessor"?{get:T.get,set:T.set}:T[_],P);if(A==="accessor"){if(J===void 0)continue;if(J===null||typeof J!="object")throw new TypeError("Object expected");(R=b(J.get))&&(T.get=R),(R=b(J.set))&&(T.set=R),(R=b(J.init))&&x.unshift(R)}else(R=b(J))&&(A==="field"?x.unshift(R):T[_]=R)}v&&Object.defineProperty(v,h.name,T),k=!0}function V2(d,a,l){for(var h=arguments.length>2,x=0;x<a.length;x++)l=h?a[x].call(d,l):a[x].call(d);return h?l:void 0}function G2(d){return typeof d=="symbol"?d:"".concat(d)}function X2(d,a,l){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(d,"name",{configurable:!0,value:l?"".concat(l," ",a):a})}function Y2(d,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,a)}function Re(d,a,l,h){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(T){try{v(h.next(T))}catch(R){b(R)}}function _(T){try{v(h.throw(T))}catch(R){b(R)}}function v(T){T.done?g(T.value):x(T.value).then(A,_)}v((h=h.apply(d,a||[])).next())})}function K2(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,x,g,b=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return b.next=A(0),b.throw=A(1),b.return=A(2),typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(v){return function(T){return _([v,T])}}function _(v){if(h)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(l=0)),l;)try{if(h=1,x&&(g=v[0]&2?x.return:v[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,v[1])).done)return g;switch(x=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,x=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){l.label=v[1];break}if(v[0]===6&&l.label<g[1]){l.label=g[1],g=v;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(v);break}g[2]&&l.ops.pop(),l.trys.pop();continue}v=a.call(d,l)}catch(T){v=[6,T],x=0}finally{h=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var su=Object.create?(function(d,a,l,h){h===void 0&&(h=l);var x=Object.getOwnPropertyDescriptor(a,l);(!x||("get"in x?!a.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(d,h,x)}):(function(d,a,l,h){h===void 0&&(h=l),d[h]=a[l]});function W2(d,a){for(var l in d)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&su(a,d,l)}function Kc(d){var a=typeof Symbol=="function"&&Symbol.iterator,l=a&&d[a],h=0;if(l)return l.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&h>=d.length&&(d=void 0),{value:d&&d[h++],done:!d}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function td(d,a){var l=typeof Symbol=="function"&&d[Symbol.iterator];if(!l)return d;var h=l.call(d),x,g=[],b;try{for(;(a===void 0||a-- >0)&&!(x=h.next()).done;)g.push(x.value)}catch(A){b={error:A}}finally{try{x&&!x.done&&(l=h.return)&&l.call(h)}finally{if(b)throw b.error}}return g}function Z2(){for(var d=[],a=0;a<arguments.length;a++)d=d.concat(td(arguments[a]));return d}function Q2(){for(var d=0,a=0,l=arguments.length;a<l;a++)d+=arguments[a].length;for(var h=Array(d),x=0,a=0;a<l;a++)for(var g=arguments[a],b=0,A=g.length;b<A;b++,x++)h[x]=g[b];return h}function J2(d,a,l){if(l||arguments.length===2)for(var h=0,x=a.length,g;h<x;h++)(g||!(h in a))&&(g||(g=Array.prototype.slice.call(a,0,h)),g[h]=a[h]);return d.concat(g||Array.prototype.slice.call(a))}function rl(d){return this instanceof rl?(this.v=d,this):new rl(d)}function $2(d,a,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var h=l.apply(d,a||[]),x,g=[];return x=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),A("next"),A("throw"),A("return",b),x[Symbol.asyncIterator]=function(){return this},x;function b(j){return function(P){return Promise.resolve(P).then(j,R)}}function A(j,P){h[j]&&(x[j]=function(G){return new Promise(function(J,ae){g.push([j,G,J,ae])>1||_(j,G)})},P&&(x[j]=P(x[j])))}function _(j,P){try{v(h[j](P))}catch(G){k(g[0][3],G)}}function v(j){j.value instanceof rl?Promise.resolve(j.value.v).then(T,R):k(g[0][2],j)}function T(j){_("next",j)}function R(j){_("throw",j)}function k(j,P){j(P),g.shift(),g.length&&_(g[0][0],g[0][1])}}function em(d){var a,l;return a={},h("next"),h("throw",function(x){throw x}),h("return"),a[Symbol.iterator]=function(){return this},a;function h(x,g){a[x]=d[x]?function(b){return(l=!l)?{value:rl(d[x](b)),done:!1}:g?g(b):b}:g}}function tm(d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=d[Symbol.asyncIterator],l;return a?a.call(d):(d=typeof Kc=="function"?Kc(d):d[Symbol.iterator](),l={},h("next"),h("throw"),h("return"),l[Symbol.asyncIterator]=function(){return this},l);function h(g){l[g]=d[g]&&function(b){return new Promise(function(A,_){b=d[g](b),x(A,_,b.done,b.value)})}}function x(g,b,A,_){Promise.resolve(_).then(function(v){g({value:v,done:A})},b)}}function nm(d,a){return Object.defineProperty?Object.defineProperty(d,"raw",{value:a}):d.raw=a,d}var Wy=Object.create?(function(d,a){Object.defineProperty(d,"default",{enumerable:!0,value:a})}):function(d,a){d.default=a},Uf=function(d){return Uf=Object.getOwnPropertyNames||function(a){var l=[];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(l[l.length]=h);return l},Uf(d)};function rm(d){if(d&&d.__esModule)return d;var a={};if(d!=null)for(var l=Uf(d),h=0;h<l.length;h++)l[h]!=="default"&&su(a,d,l[h]);return Wy(a,d),a}function im(d){return d&&d.__esModule?d:{default:d}}function sm(d,a,l,h){if(l==="a"&&!h)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?d!==a||!h:!a.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?h:l==="a"?h.call(d):h?h.value:a.get(d)}function am(d,a,l,h,x){if(h==="m")throw new TypeError("Private method is not writable");if(h==="a"&&!x)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?d!==a||!x:!a.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h==="a"?x.call(d,l):x?x.value=l:a.set(d,l),l}function lm(d,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof d=="function"?a===d:d.has(a)}function om(d,a,l){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var h,x;if(l){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");h=a[Symbol.asyncDispose]}if(h===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");h=a[Symbol.dispose],l&&(x=h)}if(typeof h!="function")throw new TypeError("Object not disposable.");x&&(h=function(){try{x.call(this)}catch(g){return Promise.reject(g)}}),d.stack.push({value:a,dispose:h,async:l})}else l&&d.stack.push({async:!0});return a}var Zy=typeof SuppressedError=="function"?SuppressedError:function(d,a,l){var h=new Error(l);return h.name="SuppressedError",h.error=d,h.suppressed=a,h};function cm(d){function a(g){d.error=d.hasError?new Zy(g,d.error,"An error was suppressed during disposal."):g,d.hasError=!0}var l,h=0;function x(){for(;l=d.stack.pop();)try{if(!l.async&&h===1)return h=0,d.stack.push(l),Promise.resolve().then(x);if(l.dispose){var g=l.dispose.call(l.value);if(l.async)return h|=2,Promise.resolve(g).then(x,function(b){return a(b),x()})}else h|=1}catch(b){a(b)}if(h===1)return d.hasError?Promise.reject(d.error):Promise.resolve();if(d.hasError)throw d.error}return x()}function um(d,a){return typeof d=="string"&&/^\.\.?\//.test(d)?d.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(l,h,x,g,b){return h?a?".jsx":".js":x&&(!g||!b)?l:x+g+"."+b.toLowerCase()+"js"}):d}const Qy={__extends:z2,__assign:Yc,__rest:sl,__decorate:F2,__param:q2,__esDecorate:H2,__runInitializers:V2,__propKey:G2,__setFunctionName:X2,__metadata:Y2,__awaiter:Re,__generator:K2,__createBinding:su,__exportStar:W2,__values:Kc,__read:td,__spread:Z2,__spreadArrays:Q2,__spreadArray:J2,__await:rl,__asyncGenerator:$2,__asyncDelegator:em,__asyncValues:tm,__makeTemplateObject:nm,__importStar:rm,__importDefault:im,__classPrivateFieldGet:sm,__classPrivateFieldSet:am,__classPrivateFieldIn:lm,__addDisposableResource:om,__disposeResources:cm,__rewriteRelativeImportExtension:um},Jy=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:om,get __assign(){return Yc},__asyncDelegator:em,__asyncGenerator:$2,__asyncValues:tm,__await:rl,__awaiter:Re,__classPrivateFieldGet:sm,__classPrivateFieldIn:lm,__classPrivateFieldSet:am,__createBinding:su,__decorate:F2,__disposeResources:cm,__esDecorate:H2,__exportStar:W2,__extends:z2,__generator:K2,__importDefault:im,__importStar:rm,__makeTemplateObject:nm,__metadata:Y2,__param:q2,__propKey:G2,__read:td,__rest:sl,__rewriteRelativeImportExtension:um,__runInitializers:V2,__setFunctionName:X2,__spread:Z2,__spreadArray:J2,__spreadArrays:Q2,__values:Kc,default:Qy},Symbol.toStringTag,{value:"Module"})),$y=d=>d?(...a)=>d(...a):(...a)=>fetch(...a);let au=class extends Error{constructor(a,l="FunctionsError",h){super(a),this.name=l,this.context=h}},hm=class extends au{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}},Pf=class extends au{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}},zf=class extends au{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}};var Wc;(function(d){d.Any="any",d.ApNortheast1="ap-northeast-1",d.ApNortheast2="ap-northeast-2",d.ApSouth1="ap-south-1",d.ApSoutheast1="ap-southeast-1",d.ApSoutheast2="ap-southeast-2",d.CaCentral1="ca-central-1",d.EuCentral1="eu-central-1",d.EuWest1="eu-west-1",d.EuWest2="eu-west-2",d.EuWest3="eu-west-3",d.SaEast1="sa-east-1",d.UsEast1="us-east-1",d.UsWest1="us-west-1",d.UsWest2="us-west-2"})(Wc||(Wc={}));class ew{constructor(a,{headers:l={},customFetch:h,region:x=Wc.Any}={}){this.url=a,this.headers=l,this.region=x,this.fetch=$y(h)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Re(this,arguments,void 0,function*(l,h={}){var x;let g,b;try{const{headers:A,method:_,body:v,signal:T,timeout:R}=h;let k={},{region:j}=h;j||(j=this.region);const P=new URL(`${this.url}/${l}`);j&&j!=="any"&&(k["x-region"]=j,P.searchParams.set("forceFunctionRegion",j));let G;v&&(A&&!Object.prototype.hasOwnProperty.call(A,"Content-Type")||!A)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",G=v):typeof v=="string"?(k["Content-Type"]="text/plain",G=v):typeof FormData<"u"&&v instanceof FormData?G=v:(k["Content-Type"]="application/json",G=JSON.stringify(v)):G=v;let J=T;R&&(b=new AbortController,g=setTimeout(()=>b.abort(),R),T?(J=b.signal,T.addEventListener("abort",()=>b.abort())):J=b.signal);const ae=yield this.fetch(P.toString(),{method:_||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),A),body:G,signal:J}).catch(ze=>{throw new hm(ze)}),ce=ae.headers.get("x-relay-error");if(ce&&ce==="true")throw new Pf(ae);if(!ae.ok)throw new zf(ae);let W=((x=ae.headers.get("Content-Type"))!==null&&x!==void 0?x:"text/plain").split(";")[0].trim(),me;return W==="application/json"?me=yield ae.json():W==="application/octet-stream"||W==="application/pdf"?me=yield ae.blob():W==="text/event-stream"?me=ae:W==="multipart/form-data"?me=yield ae.formData():me=yield ae.text(),{data:me,error:null,response:ae}}catch(A){return{data:null,error:A,response:A instanceof zf||A instanceof Pf?A.context:void 0}}finally{g&&clearTimeout(g)}})}}const tw=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Wc},FunctionsClient:ew,FunctionsError:au,FunctionsFetchError:hm,FunctionsHttpError:zf,FunctionsRelayError:Pf},Symbol.toStringTag,{value:"Module"})),fm=co(tw);var rr={};const al=co(Jy);var Ic={},Dc={},Mc={},Bc={},kc={},Lc={},kg;function dm(){if(kg)return Lc;kg=1,Object.defineProperty(Lc,"__esModule",{value:!0});class d extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return Lc.default=d,Lc}var Lg;function gm(){if(Lg)return kc;Lg=1,Object.defineProperty(kc,"__esModule",{value:!0});const a=al.__importDefault(dm());let l=class{constructor(x){var g,b;this.shouldThrowOnError=!1,this.method=x.method,this.url=x.url,this.headers=new Headers(x.headers),this.schema=x.schema,this.body=x.body,this.shouldThrowOnError=(g=x.shouldThrowOnError)!==null&&g!==void 0?g:!1,this.signal=x.signal,this.isMaybeSingle=(b=x.isMaybeSingle)!==null&&b!==void 0?b:!1,x.fetch?this.fetch=x.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(x,g){return this.headers=new Headers(this.headers),this.headers.set(x,g),this}then(x,g){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const b=this.fetch;let A=b(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async _=>{var v,T,R,k;let j=null,P=null,G=null,J=_.status,ae=_.statusText;if(_.ok){if(this.method!=="HEAD"){const ze=await _.text();ze===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?P=ze:P=JSON.parse(ze))}const W=(T=this.headers.get("Prefer"))===null||T===void 0?void 0:T.match(/count=(exact|planned|estimated)/),me=(R=_.headers.get("content-range"))===null||R===void 0?void 0:R.split("/");W&&me&&me.length>1&&(G=parseInt(me[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(j={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,G=null,J=406,ae="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const W=await _.text();try{j=JSON.parse(W),Array.isArray(j)&&_.status===404&&(P=[],j=null,J=200,ae="OK")}catch{_.status===404&&W===""?(J=204,ae="No Content"):j={message:W}}if(j&&this.isMaybeSingle&&(!((k=j==null?void 0:j.details)===null||k===void 0)&&k.includes("0 rows"))&&(j=null,J=200,ae="OK"),j&&this.shouldThrowOnError)throw new a.default(j)}return{error:j,data:P,count:G,status:J,statusText:ae}});return this.shouldThrowOnError||(A=A.catch(_=>{var v,T,R,k,j,P;let G="";const J=_==null?void 0:_.cause;if(J){const ae=(v=J==null?void 0:J.message)!==null&&v!==void 0?v:"",ce=(T=J==null?void 0:J.code)!==null&&T!==void 0?T:"";G=`${(R=_==null?void 0:_.name)!==null&&R!==void 0?R:"FetchError"}: ${_==null?void 0:_.message}`,G+=`

Caused by: ${(k=J==null?void 0:J.name)!==null&&k!==void 0?k:"Error"}: ${ae}`,ce&&(G+=` (${ce})`),J!=null&&J.stack&&(G+=`
${J.stack}`)}else G=(j=_==null?void 0:_.stack)!==null&&j!==void 0?j:"";return{error:{message:`${(P=_==null?void 0:_.name)!==null&&P!==void 0?P:"FetchError"}: ${_==null?void 0:_.message}`,details:G,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),A.then(x,g)}returns(){return this}overrideTypes(){return this}};return kc.default=l,kc}var jg;function mm(){if(jg)return Bc;jg=1,Object.defineProperty(Bc,"__esModule",{value:!0});const a=al.__importDefault(gm());let l=class extends a.default{select(x){let g=!1;const b=(x??"*").split("").map(A=>/\s/.test(A)&&!g?"":(A==='"'&&(g=!g),A)).join("");return this.url.searchParams.set("select",b),this.headers.append("Prefer","return=representation"),this}order(x,{ascending:g=!0,nullsFirst:b,foreignTable:A,referencedTable:_=A}={}){const v=_?`${_}.order`:"order",T=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${T?`${T},`:""}${x}.${g?"asc":"desc"}${b===void 0?"":b?".nullsfirst":".nullslast"}`),this}limit(x,{foreignTable:g,referencedTable:b=g}={}){const A=typeof b>"u"?"limit":`${b}.limit`;return this.url.searchParams.set(A,`${x}`),this}range(x,g,{foreignTable:b,referencedTable:A=b}={}){const _=typeof A>"u"?"offset":`${A}.offset`,v=typeof A>"u"?"limit":`${A}.limit`;return this.url.searchParams.set(_,`${x}`),this.url.searchParams.set(v,`${g-x+1}`),this}abortSignal(x){return this.signal=x,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:x=!1,verbose:g=!1,settings:b=!1,buffers:A=!1,wal:_=!1,format:v="text"}={}){var T;const R=[x?"analyze":null,g?"verbose":null,b?"settings":null,A?"buffers":null,_?"wal":null].filter(Boolean).join("|"),k=(T=this.headers.get("Accept"))!==null&&T!==void 0?T:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${k}"; options=${R};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(x){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${x}`),this}};return Bc.default=l,Bc}var Ug;function nd(){if(Ug)return Mc;Ug=1,Object.defineProperty(Mc,"__esModule",{value:!0});const a=al.__importDefault(mm()),l=new RegExp("[,()]");let h=class extends a.default{eq(g,b){return this.url.searchParams.append(g,`eq.${b}`),this}neq(g,b){return this.url.searchParams.append(g,`neq.${b}`),this}gt(g,b){return this.url.searchParams.append(g,`gt.${b}`),this}gte(g,b){return this.url.searchParams.append(g,`gte.${b}`),this}lt(g,b){return this.url.searchParams.append(g,`lt.${b}`),this}lte(g,b){return this.url.searchParams.append(g,`lte.${b}`),this}like(g,b){return this.url.searchParams.append(g,`like.${b}`),this}likeAllOf(g,b){return this.url.searchParams.append(g,`like(all).{${b.join(",")}}`),this}likeAnyOf(g,b){return this.url.searchParams.append(g,`like(any).{${b.join(",")}}`),this}ilike(g,b){return this.url.searchParams.append(g,`ilike.${b}`),this}ilikeAllOf(g,b){return this.url.searchParams.append(g,`ilike(all).{${b.join(",")}}`),this}ilikeAnyOf(g,b){return this.url.searchParams.append(g,`ilike(any).{${b.join(",")}}`),this}regexMatch(g,b){return this.url.searchParams.append(g,`match.${b}`),this}regexIMatch(g,b){return this.url.searchParams.append(g,`imatch.${b}`),this}is(g,b){return this.url.searchParams.append(g,`is.${b}`),this}isDistinct(g,b){return this.url.searchParams.append(g,`isdistinct.${b}`),this}in(g,b){const A=Array.from(new Set(b)).map(_=>typeof _=="string"&&l.test(_)?`"${_}"`:`${_}`).join(",");return this.url.searchParams.append(g,`in.(${A})`),this}contains(g,b){return typeof b=="string"?this.url.searchParams.append(g,`cs.${b}`):Array.isArray(b)?this.url.searchParams.append(g,`cs.{${b.join(",")}}`):this.url.searchParams.append(g,`cs.${JSON.stringify(b)}`),this}containedBy(g,b){return typeof b=="string"?this.url.searchParams.append(g,`cd.${b}`):Array.isArray(b)?this.url.searchParams.append(g,`cd.{${b.join(",")}}`):this.url.searchParams.append(g,`cd.${JSON.stringify(b)}`),this}rangeGt(g,b){return this.url.searchParams.append(g,`sr.${b}`),this}rangeGte(g,b){return this.url.searchParams.append(g,`nxl.${b}`),this}rangeLt(g,b){return this.url.searchParams.append(g,`sl.${b}`),this}rangeLte(g,b){return this.url.searchParams.append(g,`nxr.${b}`),this}rangeAdjacent(g,b){return this.url.searchParams.append(g,`adj.${b}`),this}overlaps(g,b){return typeof b=="string"?this.url.searchParams.append(g,`ov.${b}`):this.url.searchParams.append(g,`ov.{${b.join(",")}}`),this}textSearch(g,b,{config:A,type:_}={}){let v="";_==="plain"?v="pl":_==="phrase"?v="ph":_==="websearch"&&(v="w");const T=A===void 0?"":`(${A})`;return this.url.searchParams.append(g,`${v}fts${T}.${b}`),this}match(g){return Object.entries(g).forEach(([b,A])=>{this.url.searchParams.append(b,`eq.${A}`)}),this}not(g,b,A){return this.url.searchParams.append(g,`not.${b}.${A}`),this}or(g,{foreignTable:b,referencedTable:A=b}={}){const _=A?`${A}.or`:"or";return this.url.searchParams.append(_,`(${g})`),this}filter(g,b,A){return this.url.searchParams.append(g,`${b}.${A}`),this}};return Mc.default=h,Mc}var Pg;function xm(){if(Pg)return Dc;Pg=1,Object.defineProperty(Dc,"__esModule",{value:!0});const a=al.__importDefault(nd());let l=class{constructor(x,{headers:g={},schema:b,fetch:A}){this.url=x,this.headers=new Headers(g),this.schema=b,this.fetch=A}select(x,g){const{head:b=!1,count:A}=g??{},_=b?"HEAD":"GET";let v=!1;const T=(x??"*").split("").map(R=>/\s/.test(R)&&!v?"":(R==='"'&&(v=!v),R)).join("");return this.url.searchParams.set("select",T),A&&this.headers.append("Prefer",`count=${A}`),new a.default({method:_,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(x,{count:g,defaultToNull:b=!0}={}){var A;const _="POST";if(g&&this.headers.append("Prefer",`count=${g}`),b||this.headers.append("Prefer","missing=default"),Array.isArray(x)){const v=x.reduce((T,R)=>T.concat(Object.keys(R)),[]);if(v.length>0){const T=[...new Set(v)].map(R=>`"${R}"`);this.url.searchParams.set("columns",T.join(","))}}return new a.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:x,fetch:(A=this.fetch)!==null&&A!==void 0?A:fetch})}upsert(x,{onConflict:g,ignoreDuplicates:b=!1,count:A,defaultToNull:_=!0}={}){var v;const T="POST";if(this.headers.append("Prefer",`resolution=${b?"ignore":"merge"}-duplicates`),g!==void 0&&this.url.searchParams.set("on_conflict",g),A&&this.headers.append("Prefer",`count=${A}`),_||this.headers.append("Prefer","missing=default"),Array.isArray(x)){const R=x.reduce((k,j)=>k.concat(Object.keys(j)),[]);if(R.length>0){const k=[...new Set(R)].map(j=>`"${j}"`);this.url.searchParams.set("columns",k.join(","))}}return new a.default({method:T,url:this.url,headers:this.headers,schema:this.schema,body:x,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(x,{count:g}={}){var b;const A="PATCH";return g&&this.headers.append("Prefer",`count=${g}`),new a.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:x,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}delete({count:x}={}){var g;const b="DELETE";return x&&this.headers.append("Prefer",`count=${x}`),new a.default({method:b,url:this.url,headers:this.headers,schema:this.schema,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}};return Dc.default=l,Dc}var zg;function nw(){if(zg)return Ic;zg=1,Object.defineProperty(Ic,"__esModule",{value:!0});const d=al,a=d.__importDefault(xm()),l=d.__importDefault(nd());let h=class pm{constructor(g,{headers:b={},schema:A,fetch:_}={}){this.url=g,this.headers=new Headers(b),this.schemaName=A,this.fetch=_}from(g){if(!g||typeof g!="string"||g.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const b=new URL(`${this.url}/${g}`);return new a.default(b,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(g){return new pm(this.url,{headers:this.headers,schema:g,fetch:this.fetch})}rpc(g,b={},{head:A=!1,get:_=!1,count:v}={}){var T;let R;const k=new URL(`${this.url}/rpc/${g}`);let j;A||_?(R=A?"HEAD":"GET",Object.entries(b).filter(([G,J])=>J!==void 0).map(([G,J])=>[G,Array.isArray(J)?`{${J.join(",")}}`:`${J}`]).forEach(([G,J])=>{k.searchParams.append(G,J)})):(R="POST",j=b);const P=new Headers(this.headers);return v&&P.set("Prefer",`count=${v}`),new l.default({method:R,url:k,headers:P,schema:this.schemaName,body:j,fetch:(T=this.fetch)!==null&&T!==void 0?T:fetch})}};return Ic.default=h,Ic}var Fg;function ym(){if(Fg)return rr;Fg=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.PostgrestError=rr.PostgrestBuilder=rr.PostgrestTransformBuilder=rr.PostgrestFilterBuilder=rr.PostgrestQueryBuilder=rr.PostgrestClient=void 0;const d=al,a=d.__importDefault(nw());rr.PostgrestClient=a.default;const l=d.__importDefault(xm());rr.PostgrestQueryBuilder=l.default;const h=d.__importDefault(nd());rr.PostgrestFilterBuilder=h.default;const x=d.__importDefault(mm());rr.PostgrestTransformBuilder=x.default;const g=d.__importDefault(gm());rr.PostgrestBuilder=g.default;const b=d.__importDefault(dm());return rr.PostgrestError=b.default,rr.default={PostgrestClient:a.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:h.default,PostgrestTransformBuilder:x.default,PostgrestBuilder:g.default,PostgrestError:b.default},rr}class wm{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const h=l.node,x=parseInt(h.replace(/^v/,"").split(".")[0]);return x>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${x} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${x} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let l=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(l+=`

Suggested solution: ${a.workaround}`),new Error(l)}static createWebSocket(a,l){const h=this.getWebSocketConstructor();return new h(a,l)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const rw="2.87.1",iw=`realtime-js/${rw}`,bm="1.0.0",sw="2.0.0",qg=bm,Ff=1e4,aw=1e3,lw=100;var la;(function(d){d[d.connecting=0]="connecting",d[d.open=1]="open",d[d.closing=2]="closing",d[d.closed=3]="closed"})(la||(la={}));var Mn;(function(d){d.closed="closed",d.errored="errored",d.joined="joined",d.joining="joining",d.leaving="leaving"})(Mn||(Mn={}));var ii;(function(d){d.close="phx_close",d.error="phx_error",d.join="phx_join",d.reply="phx_reply",d.leave="phx_leave",d.access_token="access_token"})(ii||(ii={}));var qf;(function(d){d.websocket="websocket"})(qf||(qf={}));var oa;(function(d){d.Connecting="connecting",d.Open="open",d.Closing="closing",d.Closed="closed"})(oa||(oa={}));class ow{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,l){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(a));let h=[a.join_ref,a.ref,a.topic,a.event,a.payload];return l(JSON.stringify(h))}_binaryEncodeUserBroadcastPush(a){var l;return this._isArrayBuffer((l=a.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var l,h;const x=(h=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&h!==void 0?h:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,x)}_encodeJsonUserBroadcastPush(a){var l,h;const x=(h=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&h!==void 0?h:{},b=new TextEncoder().encode(JSON.stringify(x)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,b)}_encodeUserBroadcastPush(a,l,h){var x,g;const b=a.topic,A=(x=a.ref)!==null&&x!==void 0?x:"",_=(g=a.join_ref)!==null&&g!==void 0?g:"",v=a.payload.event,T=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},R=Object.keys(T).length===0?"":JSON.stringify(T);if(_.length>255)throw new Error(`joinRef length ${_.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`ref length ${A.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`topic length ${b.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(R.length>255)throw new Error(`metadata length ${R.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+_.length+A.length+b.length+v.length+R.length,j=new ArrayBuffer(this.HEADER_LENGTH+k);let P=new DataView(j),G=0;P.setUint8(G++,this.KINDS.userBroadcastPush),P.setUint8(G++,_.length),P.setUint8(G++,A.length),P.setUint8(G++,b.length),P.setUint8(G++,v.length),P.setUint8(G++,R.length),P.setUint8(G++,l),Array.from(_,ae=>P.setUint8(G++,ae.charCodeAt(0))),Array.from(A,ae=>P.setUint8(G++,ae.charCodeAt(0))),Array.from(b,ae=>P.setUint8(G++,ae.charCodeAt(0))),Array.from(v,ae=>P.setUint8(G++,ae.charCodeAt(0))),Array.from(R,ae=>P.setUint8(G++,ae.charCodeAt(0)));var J=new Uint8Array(j.byteLength+h.byteLength);return J.set(new Uint8Array(j),0),J.set(new Uint8Array(h),j.byteLength),J.buffer}decode(a,l){if(this._isArrayBuffer(a)){let h=this._binaryDecode(a);return l(h)}if(typeof a=="string"){const h=JSON.parse(a),[x,g,b,A,_]=h;return l({join_ref:x,ref:g,topic:b,event:A,payload:_})}return l({})}_binaryDecode(a){const l=new DataView(a),h=l.getUint8(0),x=new TextDecoder;switch(h){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,l,x)}}_decodeUserBroadcast(a,l,h){const x=l.getUint8(1),g=l.getUint8(2),b=l.getUint8(3),A=l.getUint8(4);let _=this.HEADER_LENGTH+4;const v=h.decode(a.slice(_,_+x));_=_+x;const T=h.decode(a.slice(_,_+g));_=_+g;const R=h.decode(a.slice(_,_+b));_=_+b;const k=a.slice(_,a.byteLength),j=A===this.JSON_ENCODING?JSON.parse(h.decode(k)):k,P={type:this.BROADCAST_EVENT,event:T,payload:j};return b>0&&(P.meta=JSON.parse(R)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:P}}_isArrayBuffer(a){var l;return a instanceof ArrayBuffer||((l=a==null?void 0:a.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(a,l){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([h])=>l.includes(h)))}}class vm{constructor(a,l){this.callback=a,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jt;(function(d){d.abstime="abstime",d.bool="bool",d.date="date",d.daterange="daterange",d.float4="float4",d.float8="float8",d.int2="int2",d.int4="int4",d.int4range="int4range",d.int8="int8",d.int8range="int8range",d.json="json",d.jsonb="jsonb",d.money="money",d.numeric="numeric",d.oid="oid",d.reltime="reltime",d.text="text",d.time="time",d.timestamp="timestamp",d.timestamptz="timestamptz",d.timetz="timetz",d.tsrange="tsrange",d.tstzrange="tstzrange"})(Jt||(Jt={}));const Hg=(d,a,l={})=>{var h;const x=(h=l.skipTypes)!==null&&h!==void 0?h:[];return a?Object.keys(a).reduce((g,b)=>(g[b]=cw(b,d,a,x),g),{}):{}},cw=(d,a,l,h)=>{const x=a.find(A=>A.name===d),g=x==null?void 0:x.type,b=l[d];return g&&!h.includes(g)?Em(g,b):Hf(b)},Em=(d,a)=>{if(d.charAt(0)==="_"){const l=d.slice(1,d.length);return dw(a,l)}switch(d){case Jt.bool:return uw(a);case Jt.float4:case Jt.float8:case Jt.int2:case Jt.int4:case Jt.int8:case Jt.numeric:case Jt.oid:return hw(a);case Jt.json:case Jt.jsonb:return fw(a);case Jt.timestamp:return gw(a);case Jt.abstime:case Jt.date:case Jt.daterange:case Jt.int4range:case Jt.int8range:case Jt.money:case Jt.reltime:case Jt.text:case Jt.time:case Jt.timestamptz:case Jt.timetz:case Jt.tsrange:case Jt.tstzrange:return Hf(a);default:return Hf(a)}},Hf=d=>d,uw=d=>{switch(d){case"t":return!0;case"f":return!1;default:return d}},hw=d=>{if(typeof d=="string"){const a=parseFloat(d);if(!Number.isNaN(a))return a}return d},fw=d=>{if(typeof d=="string")try{return JSON.parse(d)}catch(a){return console.log(`JSON parse error: ${a}`),d}return d},dw=(d,a)=>{if(typeof d!="string")return d;const l=d.length-1,h=d[l];if(d[0]==="{"&&h==="}"){let g;const b=d.slice(1,l);try{g=JSON.parse("["+b+"]")}catch{g=b?b.split(","):[]}return g.map(A=>Em(a,A))}return d},gw=d=>typeof d=="string"?d.replace(" ","T"):d,_m=d=>{const a=new URL(d);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class xf{constructor(a,l,h={},x=Ff){this.channel=a,this.event=l,this.payload=h,this.timeout=x,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,l){var h;return this._hasReceived(a)&&l((h=this.receivedResp)===null||h===void 0?void 0:h.response),this.recHooks.push({status:a,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:l}){this.recHooks.filter(h=>h.status===a).forEach(h=>h.callback(l))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Vf;(function(d){d.SYNC="sync",d.JOIN="join",d.LEAVE="leave"})(Vf||(Vf={}));let Am=class zc{constructor(a,l){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const h=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(h.state,{},x=>{const{onJoin:g,onLeave:b,onSync:A}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zc.syncState(this.state,x,g,b),this.pendingDiffs.forEach(_=>{this.state=zc.syncDiff(this.state,_,g,b)}),this.pendingDiffs=[],A()}),this.channel._on(h.diff,{},x=>{const{onJoin:g,onLeave:b,onSync:A}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(x):(this.state=zc.syncDiff(this.state,x,g,b),A())}),this.onJoin((x,g,b)=>{this.channel._trigger("presence",{event:"join",key:x,currentPresences:g,newPresences:b})}),this.onLeave((x,g,b)=>{this.channel._trigger("presence",{event:"leave",key:x,currentPresences:g,leftPresences:b})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,l,h,x){const g=this.cloneDeep(a),b=this.transformState(l),A={},_={};return this.map(g,(v,T)=>{b[v]||(_[v]=T)}),this.map(b,(v,T)=>{const R=g[v];if(R){const k=T.map(J=>J.presence_ref),j=R.map(J=>J.presence_ref),P=T.filter(J=>j.indexOf(J.presence_ref)<0),G=R.filter(J=>k.indexOf(J.presence_ref)<0);P.length>0&&(A[v]=P),G.length>0&&(_[v]=G)}else A[v]=T}),this.syncDiff(g,{joins:A,leaves:_},h,x)}static syncDiff(a,l,h,x){const{joins:g,leaves:b}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return h||(h=()=>{}),x||(x=()=>{}),this.map(g,(A,_)=>{var v;const T=(v=a[A])!==null&&v!==void 0?v:[];if(a[A]=this.cloneDeep(_),T.length>0){const R=a[A].map(j=>j.presence_ref),k=T.filter(j=>R.indexOf(j.presence_ref)<0);a[A].unshift(...k)}h(A,T,_)}),this.map(b,(A,_)=>{let v=a[A];if(!v)return;const T=_.map(R=>R.presence_ref);v=v.filter(R=>T.indexOf(R.presence_ref)<0),a[A]=v,x(A,v,_),v.length===0&&delete a[A]}),a}static map(a,l){return Object.getOwnPropertyNames(a).map(h=>l(h,a[h]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((l,h)=>{const x=a[h];return"metas"in x?l[h]=x.metas.map(g=>(g.presence_ref=g.phx_ref,delete g.phx_ref,delete g.phx_ref_prev,g)):l[h]=x,l},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Gf;(function(d){d.ALL="*",d.INSERT="INSERT",d.UPDATE="UPDATE",d.DELETE="DELETE"})(Gf||(Gf={}));var el;(function(d){d.BROADCAST="broadcast",d.PRESENCE="presence",d.POSTGRES_CHANGES="postgres_changes",d.SYSTEM="system"})(el||(el={}));var yi;(function(d){d.SUBSCRIBED="SUBSCRIBED",d.TIMED_OUT="TIMED_OUT",d.CLOSED="CLOSED",d.CHANNEL_ERROR="CHANNEL_ERROR"})(yi||(yi={}));const mw=Mn;let Sm=class to{constructor(a,l={config:{}},h){var x,g;if(this.topic=a,this.params=l,this.socket=h,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new xf(this,ii.join,this.params,this.timeout),this.rejoinTimer=new vm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(b=>b.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(b=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,b),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",b=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,b),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ii.reply,{},(b,A)=>{this._trigger(this._replyEventName(A),b)}),this.presence=new Am(this),this.broadcastEndpointURL=_m(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((g=(x=this.params.config)===null||x===void 0?void 0:x.broadcast)===null||g===void 0)&&g.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,l=this.timeout){var h,x,g;if(this.socket.isConnected()||this.socket.connect(),this.state==Mn.closed){const{config:{broadcast:b,presence:A,private:_}}=this.params,v=(x=(h=this.bindings.postgres_changes)===null||h===void 0?void 0:h.map(j=>j.filter))!==null&&x!==void 0?x:[],T=!!this.bindings[el.PRESENCE]&&this.bindings[el.PRESENCE].length>0||((g=this.params.config.presence)===null||g===void 0?void 0:g.enabled)===!0,R={},k={broadcast:b,presence:Object.assign(Object.assign({},A),{enabled:T}),postgres_changes:v,private:_};this.socket.accessTokenValue&&(R.access_token=this.socket.accessTokenValue),this._onError(j=>a==null?void 0:a(yi.CHANNEL_ERROR,j)),this._onClose(()=>a==null?void 0:a(yi.CLOSED)),this.updateJoinPayload(Object.assign({config:k},R)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:j})=>{var P;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){a==null||a(yi.SUBSCRIBED);return}else{const G=this.bindings.postgres_changes,J=(P=G==null?void 0:G.length)!==null&&P!==void 0?P:0,ae=[];for(let ce=0;ce<J;ce++){const W=G[ce],{filter:{event:me,schema:ze,table:_e,filter:ee}}=W,ke=j&&j[ce];if(ke&&ke.event===me&&to.isFilterValueEqual(ke.schema,ze)&&to.isFilterValueEqual(ke.table,_e)&&to.isFilterValueEqual(ke.filter,ee))ae.push(Object.assign(Object.assign({},W),{id:ke.id}));else{this.unsubscribe(),this.state=Mn.errored,a==null||a(yi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ae,a&&a(yi.SUBSCRIBED);return}}).receive("error",j=>{this.state=Mn.errored,a==null||a(yi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(yi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,l={}){return await this.send({type:"presence",event:"track",payload:a},l.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,l,h){return this.state===Mn.joined&&a===el.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,l,h)}async httpSend(a,l,h={}){var x;const g=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(l==null)return Promise.reject("Payload is required for httpSend()");const b={method:"POST",headers:{Authorization:g,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})},A=await this._fetchWithTimeout(this.broadcastEndpointURL,b,(x=h.timeout)!==null&&x!==void 0?x:this.timeout);if(A.status===202)return{success:!0};let _=A.statusText;try{const v=await A.json();_=v.error||v.message||_}catch{}return Promise.reject(new Error(_))}async send(a,l={}){var h,x;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:g,payload:b}=a,_={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:g,payload:b,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,_,(h=l.timeout)!==null&&h!==void 0?h:this.timeout);return await((x=v.body)===null||x===void 0?void 0:x.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(g=>{var b,A,_;const v=this._push(a.type,a,l.timeout||this.timeout);a.type==="broadcast"&&!(!((_=(A=(b=this.params)===null||b===void 0?void 0:b.config)===null||A===void 0?void 0:A.broadcast)===null||_===void 0)&&_.ack)&&g("ok"),v.receive("ok",()=>g("ok")),v.receive("error",()=>g("error")),v.receive("timeout",()=>g("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Mn.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ii.close,"leave",this._joinRef())};this.joinPush.destroy();let h=null;return new Promise(x=>{h=new xf(this,ii.leave,{},a),h.receive("ok",()=>{l(),x("ok")}).receive("timeout",()=>{l(),x("timed out")}).receive("error",()=>{x("error")}),h.send(),this._canPush()||h.trigger("ok",{})}).finally(()=>{h==null||h.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mn.closed,this.bindings={}}async _fetchWithTimeout(a,l,h){const x=new AbortController,g=setTimeout(()=>x.abort(),h),b=await this.socket.fetch(a,Object.assign(Object.assign({},l),{signal:x.signal}));return clearTimeout(g),b}_push(a,l,h=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let x=new xf(this,a,l,h);return this._canPush()?x.send():this._addToPushBuffer(x),x}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>lw){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(a,l,h){return l}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,l,h){var x,g;const b=a.toLocaleLowerCase(),{close:A,error:_,leave:v,join:T}=ii;if(h&&[A,_,v,T].indexOf(b)>=0&&h!==this._joinRef())return;let k=this._onMessage(b,l,h);if(l&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(b)?(x=this.bindings.postgres_changes)===null||x===void 0||x.filter(j=>{var P,G,J;return((P=j.filter)===null||P===void 0?void 0:P.event)==="*"||((J=(G=j.filter)===null||G===void 0?void 0:G.event)===null||J===void 0?void 0:J.toLocaleLowerCase())===b}).map(j=>j.callback(k,h)):(g=this.bindings[b])===null||g===void 0||g.filter(j=>{var P,G,J,ae,ce,W;if(["broadcast","presence","postgres_changes"].includes(b))if("id"in j){const me=j.id,ze=(P=j.filter)===null||P===void 0?void 0:P.event;return me&&((G=l.ids)===null||G===void 0?void 0:G.includes(me))&&(ze==="*"||(ze==null?void 0:ze.toLocaleLowerCase())===((J=l.data)===null||J===void 0?void 0:J.type.toLocaleLowerCase()))}else{const me=(ce=(ae=j==null?void 0:j.filter)===null||ae===void 0?void 0:ae.event)===null||ce===void 0?void 0:ce.toLocaleLowerCase();return me==="*"||me===((W=l==null?void 0:l.event)===null||W===void 0?void 0:W.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===b}).map(j=>{if(typeof k=="object"&&"ids"in k){const P=k.data,{schema:G,table:J,commit_timestamp:ae,type:ce,errors:W}=P;k=Object.assign(Object.assign({},{schema:G,table:J,commit_timestamp:ae,eventType:ce,new:{},old:{},errors:W}),this._getPayloadRecords(P))}j.callback(k,h)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,l,h){const x=a.toLocaleLowerCase(),g={type:x,filter:l,callback:h};return this.bindings[x]?this.bindings[x].push(g):this.bindings[x]=[g],this}_off(a,l){const h=a.toLocaleLowerCase();return this.bindings[h]&&(this.bindings[h]=this.bindings[h].filter(x=>{var g;return!(((g=x.type)===null||g===void 0?void 0:g.toLocaleLowerCase())===h&&to.isEqual(x.filter,l))})),this}static isEqual(a,l){if(Object.keys(a).length!==Object.keys(l).length)return!1;for(const h in a)if(a[h]!==l[h])return!1;return!0}static isFilterValueEqual(a,l){return(a??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(ii.close,{},a)}_onError(a){this._on(ii.error,{},l=>a(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const l={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(l.new=Hg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(l.old=Hg(a.columns,a.old_record)),l}};const pf=()=>{},jc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xw=[1e3,2e3,5e3,1e4],pw=1e4,yw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let ww=class{constructor(a,l){var h;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ff,this.transport=null,this.heartbeatIntervalMs=jc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pf,this.ref=0,this.reconnectTimer=null,this.vsn=qg,this.logger=pf,this.conn=null,this.sendBuffer=[],this.serializer=new ow,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=x=>x?(...g)=>x(...g):(...g)=>fetch(...g),!(!((h=l==null?void 0:l.params)===null||h===void 0)&&h.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${a}/${qf.websocket}`,this.httpEndpoint=_m(a),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wm.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const l=a.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const h=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(h),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const l=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const a=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,l,h){this.logger(a,l,h)}connectionState(){switch(this.conn&&this.conn.readyState){case la.connecting:return oa.Connecting;case la.open:return oa.Open;case la.closing:return oa.Closing;default:return oa.Closed}}isConnected(){return this.connectionState()===oa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,l={config:{}}){const h=`realtime:${a}`,x=this.getChannels().find(g=>g.topic===h);if(x)return x;{const g=new Sm(`realtime:${a}`,l,this);return this.channels.push(g),g}}push(a){const{topic:l,event:h,payload:x,ref:g}=a,b=()=>{this.encode(a,A=>{var _;(_=this.conn)===null||_===void 0||_.send(A)})};this.log("push",`${l} ${h} (${g})`,x),this.isConnected()?b():this.sendBuffer.push(b)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(aw,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},jc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let l=this.channels.find(h=>h.topic===a&&(h._isJoined()||h._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${a}"`),l.unsubscribe())}_remove(a){this.channels=this.channels.filter(l=>l.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:h,event:x,payload:g,ref:b}=l,A=b?`(${b})`:"",_=g.status||"";this.log("receive",`${_} ${h} ${x} ${A}`.trim(),g),this.channels.filter(v=>v._isMember(h)).forEach(v=>v._trigger(x,g,b)),this._triggerStateCallbacks("message",l)})}_clearTimer(a){var l;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===la.open||this.conn.readyState===la.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var l;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(ii.error))}_appendParams(a,l){if(Object.keys(l).length===0)return a;const h=a.match(/\?/)?"&":"?",x=new URLSearchParams(l);return`${a}${h}${x}`}_workerObjectUrl(a){let l;if(a)l=a;else{const h=new Blob([yw],{type:"application/javascript"});l=URL.createObjectURL(h)}return l}_setConnectionState(a,l=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(a=null){let l,h=!1;if(a)l=a,h=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(x){this.log("error","Error fetching access token from callback",x),l=this.accessTokenValue}else l=this.accessTokenValue;h?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(x=>{const g={access_token:l,version:iw};l&&x.updateJoinPayload(g),x.joinedOnce&&x._isJoined()&&x._push(ii.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${a}`,l)})}_triggerStateCallbacks(a,l){try{this.stateChangeCallbacks[a].forEach(h=>{try{h(l)}catch(x){this.log("error",`error in ${a} callback`,x)}})}catch(h){this.log("error",`error triggering ${a} callbacks`,h)}}_setupReconnectionTimer(){this.reconnectTimer=new vm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var l,h,x,g,b,A,_,v,T,R,k,j;switch(this.transport=(l=a==null?void 0:a.transport)!==null&&l!==void 0?l:null,this.timeout=(h=a==null?void 0:a.timeout)!==null&&h!==void 0?h:Ff,this.heartbeatIntervalMs=(x=a==null?void 0:a.heartbeatIntervalMs)!==null&&x!==void 0?x:jc.HEARTBEAT_INTERVAL,this.worker=(g=a==null?void 0:a.worker)!==null&&g!==void 0?g:!1,this.accessToken=(b=a==null?void 0:a.accessToken)!==null&&b!==void 0?b:null,this.heartbeatCallback=(A=a==null?void 0:a.heartbeatCallback)!==null&&A!==void 0?A:pf,this.vsn=(_=a==null?void 0:a.vsn)!==null&&_!==void 0?_:qg,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=a==null?void 0:a.reconnectAfterMs)!==null&&v!==void 0?v:(P=>xw[P-1]||pw),this.vsn){case bm:this.encode=(T=a==null?void 0:a.encode)!==null&&T!==void 0?T:((P,G)=>G(JSON.stringify(P))),this.decode=(R=a==null?void 0:a.decode)!==null&&R!==void 0?R:((P,G)=>G(JSON.parse(P)));break;case sw:this.encode=(k=a==null?void 0:a.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(j=a==null?void 0:a.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}};const bw=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:mw,get REALTIME_LISTEN_TYPES(){return el},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Gf},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Vf},get REALTIME_SUBSCRIBE_STATES(){return yi},RealtimeChannel:Sm,RealtimeClient:ww,RealtimePresence:Am,WebSocketFactory:wm},Symbol.toStringTag,{value:"Module"})),Cm=co(bw);class ho extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function hn(d){return typeof d=="object"&&d!==null&&"__isStorageError"in d}class Tm extends ho{constructor(a,l,h){super(a),this.name="StorageApiError",this.status=l,this.statusCode=h}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zc extends ho{constructor(a,l){super(a),this.name="StorageUnknownError",this.originalError=l}}const rd=d=>d?(...a)=>d(...a):(...a)=>fetch(...a),vw=()=>Response,Xf=d=>{if(Array.isArray(d))return d.map(l=>Xf(l));if(typeof d=="function"||d!==Object(d))return d;const a={};return Object.entries(d).forEach(([l,h])=>{const x=l.replace(/([-_][a-z])/gi,g=>g.toUpperCase().replace(/[-_]/g,""));a[x]=Xf(h)}),a},Ew=d=>{if(typeof d!="object"||d===null)return!1;const a=Object.getPrototypeOf(d);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in d)&&!(Symbol.iterator in d)},_w=d=>!d||typeof d!="string"||d.length===0||d.length>100||d.trim()!==d||d.includes("/")||d.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(d),yf=d=>{var a;return d.msg||d.message||d.error_description||(typeof d.error=="string"?d.error:(a=d.error)===null||a===void 0?void 0:a.message)||JSON.stringify(d)},Aw=(d,a,l)=>Re(void 0,void 0,void 0,function*(){const h=yield vw();d instanceof h&&!(l!=null&&l.noResolveJson)?d.json().then(x=>{const g=d.status||500,b=(x==null?void 0:x.statusCode)||g+"";a(new Tm(yf(x),g,b))}).catch(x=>{a(new Zc(yf(x),x))}):a(new Zc(yf(d),d))}),Sw=(d,a,l,h)=>{const x={method:d,headers:(a==null?void 0:a.headers)||{}};return d==="GET"||!h?x:(Ew(h)?(x.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),x.body=JSON.stringify(h)):x.body=h,a!=null&&a.duplex&&(x.duplex=a.duplex),Object.assign(Object.assign({},x),l))};function fo(d,a,l,h,x,g){return Re(this,void 0,void 0,function*(){return new Promise((b,A)=>{d(l,Sw(a,h,x,g)).then(_=>{if(!_.ok)throw _;return h!=null&&h.noResolveJson?_:_.json()}).then(_=>b(_)).catch(_=>Aw(_,A,h))})})}function ao(d,a,l,h){return Re(this,void 0,void 0,function*(){return fo(d,"GET",a,l,h)})}function ri(d,a,l,h,x){return Re(this,void 0,void 0,function*(){return fo(d,"POST",a,h,x,l)})}function Yf(d,a,l,h,x){return Re(this,void 0,void 0,function*(){return fo(d,"PUT",a,h,x,l)})}function Cw(d,a,l,h){return Re(this,void 0,void 0,function*(){return fo(d,"HEAD",a,Object.assign(Object.assign({},l),{noResolveJson:!0}),h)})}function id(d,a,l,h,x){return Re(this,void 0,void 0,function*(){return fo(d,"DELETE",a,h,x,l)})}class Tw{constructor(a,l){this.downloadFn=a,this.shouldThrowOnError=l}then(a,l){return this.execute().then(a,l)}execute(){return Re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(hn(a))return{data:null,error:a};throw a}})}}var Om;class Ow{constructor(a,l){this.downloadFn=a,this.shouldThrowOnError=l,this[Om]="BlobDownloadBuilder",this.promise=null}asStream(){return new Tw(this.downloadFn,this.shouldThrowOnError)}then(a,l){return this.getPromise().then(a,l)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(hn(a))return{data:null,error:a};throw a}})}}Om=Symbol.toStringTag;const Nw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Rw{constructor(a,l={},h,x){this.shouldThrowOnError=!1,this.url=a,this.headers=l,this.bucketId=h,this.fetch=rd(x)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,l,h,x){return Re(this,void 0,void 0,function*(){try{let g;const b=Object.assign(Object.assign({},Vg),x);let A=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(b.upsert)});const _=b.metadata;typeof Blob<"u"&&h instanceof Blob?(g=new FormData,g.append("cacheControl",b.cacheControl),_&&g.append("metadata",this.encodeMetadata(_)),g.append("",h)):typeof FormData<"u"&&h instanceof FormData?(g=h,g.has("cacheControl")||g.append("cacheControl",b.cacheControl),_&&!g.has("metadata")&&g.append("metadata",this.encodeMetadata(_))):(g=h,A["cache-control"]=`max-age=${b.cacheControl}`,A["content-type"]=b.contentType,_&&(A["x-metadata"]=this.toBase64(this.encodeMetadata(_))),(typeof ReadableStream<"u"&&g instanceof ReadableStream||g&&typeof g=="object"&&"pipe"in g&&typeof g.pipe=="function")&&!b.duplex&&(b.duplex="half")),x!=null&&x.headers&&(A=Object.assign(Object.assign({},A),x.headers));const v=this._removeEmptyFolders(l),T=this._getFinalPath(v),R=yield(a=="PUT"?Yf:ri)(this.fetch,`${this.url}/object/${T}`,g,Object.assign({headers:A},b!=null&&b.duplex?{duplex:b.duplex}:{}));return{data:{path:v,id:R.Id,fullPath:R.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(hn(g))return{data:null,error:g};throw g}})}upload(a,l,h){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,l,h)})}uploadToSignedUrl(a,l,h,x){return Re(this,void 0,void 0,function*(){const g=this._removeEmptyFolders(a),b=this._getFinalPath(g),A=new URL(this.url+`/object/upload/sign/${b}`);A.searchParams.set("token",l);try{let _;const v=Object.assign({upsert:Vg.upsert},x),T=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&h instanceof Blob?(_=new FormData,_.append("cacheControl",v.cacheControl),_.append("",h)):typeof FormData<"u"&&h instanceof FormData?(_=h,_.append("cacheControl",v.cacheControl)):(_=h,T["cache-control"]=`max-age=${v.cacheControl}`,T["content-type"]=v.contentType);const R=yield Yf(this.fetch,A.toString(),_,{headers:T});return{data:{path:g,fullPath:R.Key},error:null}}catch(_){if(this.shouldThrowOnError)throw _;if(hn(_))return{data:null,error:_};throw _}})}createSignedUploadUrl(a,l){return Re(this,void 0,void 0,function*(){try{let h=this._getFinalPath(a);const x=Object.assign({},this.headers);l!=null&&l.upsert&&(x["x-upsert"]="true");const g=yield ri(this.fetch,`${this.url}/object/upload/sign/${h}`,{},{headers:x}),b=new URL(this.url+g.url),A=b.searchParams.get("token");if(!A)throw new ho("No token returned by API");return{data:{signedUrl:b.toString(),path:a,token:A},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(hn(h))return{data:null,error:h};throw h}})}update(a,l,h){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,l,h)})}move(a,l,h){return Re(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:l,destinationBucket:h==null?void 0:h.destinationBucket},{headers:this.headers}),error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(hn(x))return{data:null,error:x};throw x}})}copy(a,l,h){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield ri(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:l,destinationBucket:h==null?void 0:h.destinationBucket},{headers:this.headers})).Key},error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(hn(x))return{data:null,error:x};throw x}})}createSignedUrl(a,l,h){return Re(this,void 0,void 0,function*(){try{let x=this._getFinalPath(a),g=yield ri(this.fetch,`${this.url}/object/sign/${x}`,Object.assign({expiresIn:l},h!=null&&h.transform?{transform:h.transform}:{}),{headers:this.headers});const b=h!=null&&h.download?`&download=${h.download===!0?"":h.download}`:"";return g={signedUrl:encodeURI(`${this.url}${g.signedURL}${b}`)},{data:g,error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(hn(x))return{data:null,error:x};throw x}})}createSignedUrls(a,l,h){return Re(this,void 0,void 0,function*(){try{const x=yield ri(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:a},{headers:this.headers}),g=h!=null&&h.download?`&download=${h.download===!0?"":h.download}`:"";return{data:x.map(b=>Object.assign(Object.assign({},b),{signedUrl:b.signedURL?encodeURI(`${this.url}${b.signedURL}${g}`):null})),error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(hn(x))return{data:null,error:x};throw x}})}download(a,l){const x=typeof(l==null?void 0:l.transform)<"u"?"render/image/authenticated":"object",g=this.transformOptsToQueryString((l==null?void 0:l.transform)||{}),b=g?`?${g}`:"",A=this._getFinalPath(a),_=()=>ao(this.fetch,`${this.url}/${x}/${A}${b}`,{headers:this.headers,noResolveJson:!0});return new Ow(_,this.shouldThrowOnError)}info(a){return Re(this,void 0,void 0,function*(){const l=this._getFinalPath(a);try{const h=yield ao(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:Xf(h),error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(hn(h))return{data:null,error:h};throw h}})}exists(a){return Re(this,void 0,void 0,function*(){const l=this._getFinalPath(a);try{return yield Cw(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(hn(h)&&h instanceof Zc){const x=h.originalError;if([400,404].includes(x==null?void 0:x.status))return{data:!1,error:h}}throw h}})}getPublicUrl(a,l){const h=this._getFinalPath(a),x=[],g=l!=null&&l.download?`download=${l.download===!0?"":l.download}`:"";g!==""&&x.push(g);const A=typeof(l==null?void 0:l.transform)<"u"?"render/image":"object",_=this.transformOptsToQueryString((l==null?void 0:l.transform)||{});_!==""&&x.push(_);let v=x.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${A}/public/${h}${v}`)}}}remove(a){return Re(this,void 0,void 0,function*(){try{return{data:yield id(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(hn(l))return{data:null,error:l};throw l}})}list(a,l,h){return Re(this,void 0,void 0,function*(){try{const x=Object.assign(Object.assign(Object.assign({},Nw),l),{prefix:a||""});return{data:yield ri(this.fetch,`${this.url}/object/list/${this.bucketId}`,x,{headers:this.headers},h),error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(hn(x))return{data:null,error:x};throw x}})}listV2(a,l){return Re(this,void 0,void 0,function*(){try{const h=Object.assign({},a);return{data:yield ri(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,h,{headers:this.headers},l),error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(hn(h))return{data:null,error:h};throw h}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const l=[];return a.width&&l.push(`width=${a.width}`),a.height&&l.push(`height=${a.height}`),a.resize&&l.push(`resize=${a.resize}`),a.format&&l.push(`format=${a.format}`),a.quality&&l.push(`quality=${a.quality}`),l.join("&")}}const Nm="2.87.1",Rm={"X-Client-Info":`storage-js/${Nm}`};class Iw{constructor(a,l={},h,x){this.shouldThrowOnError=!1;const g=new URL(a);x!=null&&x.useNewHostname&&/supabase\.(co|in|red)$/.test(g.hostname)&&!g.hostname.includes("storage.supabase.")&&(g.hostname=g.hostname.replace("supabase.","storage.supabase.")),this.url=g.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rm),l),this.fetch=rd(h)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return Re(this,void 0,void 0,function*(){try{const l=this.listBucketOptionsToQueryString(a);return{data:yield ao(this.fetch,`${this.url}/bucket${l}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(hn(l))return{data:null,error:l};throw l}})}getBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(hn(l))return{data:null,error:l};throw l}})}createBucket(a){return Re(this,arguments,void 0,function*(l,h={public:!1}){try{return{data:yield ri(this.fetch,`${this.url}/bucket`,{id:l,name:l,type:h.type,public:h.public,file_size_limit:h.fileSizeLimit,allowed_mime_types:h.allowedMimeTypes},{headers:this.headers}),error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(hn(x))return{data:null,error:x};throw x}})}updateBucket(a,l){return Re(this,void 0,void 0,function*(){try{return{data:yield Yf(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(hn(h))return{data:null,error:h};throw h}})}emptyBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(hn(l))return{data:null,error:l};throw l}})}deleteBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:yield id(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(hn(l))return{data:null,error:l};throw l}})}listBucketOptionsToQueryString(a){const l={};return a&&("limit"in a&&(l.limit=String(a.limit)),"offset"in a&&(l.offset=String(a.offset)),a.search&&(l.search=a.search),a.sortColumn&&(l.sortColumn=a.sortColumn),a.sortOrder&&(l.sortOrder=a.sortOrder)),Object.keys(l).length>0?"?"+new URLSearchParams(l).toString():""}}var lo=class extends Error{constructor(d,a){var l;super(d),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&((l=a.icebergType)==null?void 0:l.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Dw(d,a,l){const h=new URL(a,d);if(l)for(const[x,g]of Object.entries(l))g!==void 0&&h.searchParams.set(x,g);return h.toString()}async function Mw(d){return!d||d.type==="none"?{}:d.type==="bearer"?{Authorization:`Bearer ${d.token}`}:d.type==="header"?{[d.name]:d.value}:d.type==="custom"?await d.getHeaders():{}}function Bw(d){const a=d.fetchImpl??globalThis.fetch;return{async request({method:l,path:h,query:x,body:g,headers:b}){const A=Dw(d.baseUrl,h,x),_=await Mw(d.auth),v=await a(A,{method:l,headers:{...g?{"Content-Type":"application/json"}:{},..._,...b},body:g?JSON.stringify(g):void 0}),T=await v.text(),R=(v.headers.get("content-type")||"").includes("application/json"),k=R&&T?JSON.parse(T):T;if(!v.ok){const j=R?k:void 0,P=j==null?void 0:j.error;throw new lo((P==null?void 0:P.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:P==null?void 0:P.type,icebergCode:P==null?void 0:P.code,details:j})}return{status:v.status,headers:v.headers,data:k}}}}function Uc(d){return d.join("")}var kw=class{constructor(d,a=""){this.client=d,this.prefix=a}async listNamespaces(d){const a=d?{parent:Uc(d.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(h=>({namespace:h}))}async createNamespace(d,a){const l={namespace:d.namespace,properties:a==null?void 0:a.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(d){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Uc(d.namespace)}`})}async loadNamespaceMetadata(d){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Uc(d.namespace)}`})).data.properties}}async namespaceExists(d){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Uc(d.namespace)}`}),!0}catch(a){if(a instanceof lo&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(d,a){try{return await this.createNamespace(d,a)}catch(l){if(l instanceof lo&&l.status===409)return;throw l}}};function Xa(d){return d.join("")}var Lw=class{constructor(d,a="",l){this.client=d,this.prefix=a,this.accessDelegation=l}async listTables(d){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xa(d.namespace)}/tables`})).data.identifiers}async createTable(d,a){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xa(d.namespace)}/tables`,body:a,headers:l})).data.metadata}async updateTable(d,a){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xa(d.namespace)}/tables/${d.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(d,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xa(d.namespace)}/tables/${d.name}`,query:{purgeRequested:String((a==null?void 0:a.purge)??!1)}})}async loadTable(d){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xa(d.namespace)}/tables/${d.name}`,headers:a})).data.metadata}async tableExists(d){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xa(d.namespace)}/tables/${d.name}`,headers:a}),!0}catch(l){if(l instanceof lo&&l.status===404)return!1;throw l}}async createTableIfNotExists(d,a){try{return await this.createTable(d,a)}catch(l){if(l instanceof lo&&l.status===409)return await this.loadTable({namespace:d.namespace,name:a.name});throw l}}},jw=class{constructor(d){var h;let a="v1";d.catalogName&&(a+=`/${d.catalogName}`);const l=d.baseUrl.endsWith("/")?d.baseUrl:`${d.baseUrl}/`;this.client=Bw({baseUrl:l,auth:d.auth,fetchImpl:d.fetch}),this.accessDelegation=(h=d.accessDelegation)==null?void 0:h.join(","),this.namespaceOps=new kw(this.client,a),this.tableOps=new Lw(this.client,a,this.accessDelegation)}async listNamespaces(d){return this.namespaceOps.listNamespaces(d)}async createNamespace(d,a){return this.namespaceOps.createNamespace(d,a)}async dropNamespace(d){await this.namespaceOps.dropNamespace(d)}async loadNamespaceMetadata(d){return this.namespaceOps.loadNamespaceMetadata(d)}async listTables(d){return this.tableOps.listTables(d)}async createTable(d,a){return this.tableOps.createTable(d,a)}async updateTable(d,a){return this.tableOps.updateTable(d,a)}async dropTable(d,a){await this.tableOps.dropTable(d,a)}async loadTable(d){return this.tableOps.loadTable(d)}async namespaceExists(d){return this.namespaceOps.namespaceExists(d)}async tableExists(d){return this.tableOps.tableExists(d)}async createNamespaceIfNotExists(d,a){return this.namespaceOps.createNamespaceIfNotExists(d,a)}async createTableIfNotExists(d,a){return this.tableOps.createTableIfNotExists(d,a)}};class Im{constructor(a,l={},h){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rm),l),this.fetch=rd(h)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(hn(l))return{data:null,error:l};throw l}})}listBuckets(a){return Re(this,void 0,void 0,function*(){try{const l=new URLSearchParams;(a==null?void 0:a.limit)!==void 0&&l.set("limit",a.limit.toString()),(a==null?void 0:a.offset)!==void 0&&l.set("offset",a.offset.toString()),a!=null&&a.sortColumn&&l.set("sortColumn",a.sortColumn),a!=null&&a.sortOrder&&l.set("sortOrder",a.sortOrder),a!=null&&a.search&&l.set("search",a.search);const h=l.toString(),x=h?`${this.url}/bucket?${h}`:`${this.url}/bucket`;return{data:yield ao(this.fetch,x,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(hn(l))return{data:null,error:l};throw l}})}deleteBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:yield id(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(hn(l))return{data:null,error:l};throw l}})}from(a){if(!_w(a))throw new ho("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new jw({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>Re(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),h=this.shouldThrowOnError;return new Proxy(l,{get(g,b){const A=g[b];return typeof A!="function"?A:(..._)=>Re(this,void 0,void 0,function*(){try{return{data:yield A.apply(g,_),error:null}}catch(v){if(h)throw v;return{data:null,error:v}}})}})}}const sd={"X-Client-Info":`storage-js/${Nm}`,"Content-Type":"application/json"};class ad extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function br(d){return typeof d=="object"&&d!==null&&"__isStorageVectorsError"in d}class Fc extends ad{constructor(a,l,h){super(a),this.name="StorageVectorsApiError",this.status=l,this.statusCode=h}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dm extends ad{constructor(a,l){super(a),this.name="StorageVectorsUnknownError",this.originalError=l}}var Kf;(function(d){d.InternalError="InternalError",d.S3VectorConflictException="S3VectorConflictException",d.S3VectorNotFoundException="S3VectorNotFoundException",d.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",d.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",d.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Kf||(Kf={}));const lu=d=>d?(...a)=>d(...a):(...a)=>fetch(...a),Uw=()=>Response,Mm=d=>{if(typeof d!="object"||d===null)return!1;const a=Object.getPrototypeOf(d);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in d)&&!(Symbol.iterator in d)},Pw=d=>Array.from(new Float32Array(d)),zw=(d,a)=>{if(a!==void 0&&d.float32.length!==a)throw new Error(`Vector dimension mismatch: expected ${a}, got ${d.float32.length}`)},Gg=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),Fw=(d,a,l)=>Re(void 0,void 0,void 0,function*(){if(d&&typeof d=="object"&&"status"in d&&"ok"in d&&typeof d.status=="number"&&!(l!=null&&l.noResolveJson)){const x=d.status||500,g=d;if(typeof g.json=="function")g.json().then(b=>{const A=(b==null?void 0:b.statusCode)||(b==null?void 0:b.code)||x+"";a(new Fc(Gg(b),x,A))}).catch(()=>{const b=x+"",A=g.statusText||`HTTP ${x} error`;a(new Fc(A,x,b))});else{const b=x+"",A=g.statusText||`HTTP ${x} error`;a(new Fc(A,x,b))}}else a(new Dm(Gg(d),d))}),qw=(d,a,l,h)=>{const x={method:d,headers:(a==null?void 0:a.headers)||{}};return h?(Mm(h)?(x.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),x.body=JSON.stringify(h)):x.body=h,Object.assign(Object.assign({},x),l)):x};function Hw(d,a,l,h,x,g){return Re(this,void 0,void 0,function*(){return new Promise((b,A)=>{d(l,qw(a,h,x,g)).then(_=>{if(!_.ok)throw _;if(h!=null&&h.noResolveJson)return _;const v=_.headers.get("content-type");return!v||!v.includes("application/json")?{}:_.json()}).then(_=>b(_)).catch(_=>Fw(_,A,h))})})}function kr(d,a,l,h,x){return Re(this,void 0,void 0,function*(){return Hw(d,"POST",a,h,x,l)})}class Bm{constructor(a,l={},h){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sd),l),this.fetch=lu(h)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return Re(this,void 0,void 0,function*(){try{return{data:(yield kr(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(br(l))return{data:null,error:l};throw l}})}getIndex(a,l){return Re(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:l},{headers:this.headers}),error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(br(h))return{data:null,error:h};throw h}})}listIndexes(a){return Re(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(br(l))return{data:null,error:l};throw l}})}deleteIndex(a,l){return Re(this,void 0,void 0,function*(){try{return{data:(yield kr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:l},{headers:this.headers}))||{},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(br(h))return{data:null,error:h};throw h}})}}class km{constructor(a,l={},h){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sd),l),this.fetch=lu(h)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return Re(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield kr(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(br(l))return{data:null,error:l};throw l}})}getVectors(a){return Re(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(br(l))return{data:null,error:l};throw l}})}listVectors(a){return Re(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield kr(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(br(l))return{data:null,error:l};throw l}})}queryVectors(a){return Re(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(br(l))return{data:null,error:l};throw l}})}deleteVectors(a){return Re(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield kr(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(br(l))return{data:null,error:l};throw l}})}}class Lm{constructor(a,l={},h){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sd),l),this.fetch=lu(h)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:(yield kr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(br(l))return{data:null,error:l};throw l}})}getBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(br(l))return{data:null,error:l};throw l}})}listBuckets(){return Re(this,arguments,void 0,function*(a={}){try{return{data:yield kr(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(br(l))return{data:null,error:l};throw l}})}deleteBucket(a){return Re(this,void 0,void 0,function*(){try{return{data:(yield kr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(br(l))return{data:null,error:l};throw l}})}}class jm extends Lm{constructor(a,l={}){super(a,l.headers||{},l.fetch)}from(a){return new Um(this.url,this.headers,a,this.fetch)}createBucket(a){const l=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Re(this,void 0,void 0,function*(){return l.createBucket.call(this,a)})}getBucket(a){const l=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Re(this,void 0,void 0,function*(){return l.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Re(this,arguments,void 0,function*(l={}){return a.listBuckets.call(this,l)})}deleteBucket(a){const l=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Re(this,void 0,void 0,function*(){return l.deleteBucket.call(this,a)})}}class Um extends Bm{constructor(a,l,h,x){super(a,l,x),this.vectorBucketName=h}createIndex(a){const l=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Re(this,void 0,void 0,function*(){return l.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Re(this,arguments,void 0,function*(l={}){return a.listIndexes.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const l=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Re(this,void 0,void 0,function*(){return l.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const l=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Re(this,void 0,void 0,function*(){return l.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new Pm(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class Pm extends km{constructor(a,l,h,x,g){super(a,l,g),this.vectorBucketName=h,this.indexName=x}putVectors(a){const l=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Re(this,void 0,void 0,function*(){return l.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const l=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Re(this,void 0,void 0,function*(){return l.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Re(this,arguments,void 0,function*(l={}){return a.listVectors.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const l=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Re(this,void 0,void 0,function*(){return l.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const l=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Re(this,void 0,void 0,function*(){return l.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Vw extends Iw{constructor(a,l={},h,x){super(a,l,h,x)}from(a){return new Rw(this.url,this.headers,a,this.fetch)}get vectors(){return new jm(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Im(this.url+"/iceberg",this.headers,this.fetch)}}const Gw=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Im,StorageApiError:Tm,StorageClient:Vw,StorageError:ho,StorageUnknownError:Zc,StorageVectorsApiError:Fc,StorageVectorsClient:jm,StorageVectorsError:ad,get StorageVectorsErrorCode(){return Kf},StorageVectorsUnknownError:Dm,VectorBucketApi:Lm,VectorBucketScope:Um,VectorDataApi:km,VectorIndexApi:Bm,VectorIndexScope:Pm,isPlainObject:Mm,isStorageError:hn,isStorageVectorsError:br,normalizeToFloat32:Pw,resolveFetch:lu,resolveResponse:Uw,validateVectorDimension:zw},Symbol.toStringTag,{value:"Module"})),Xw=co(Gw);var wf={},$l={},Xg;function Yw(){return Xg||(Xg=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.version=void 0,$l.version="2.87.1"),$l}var Yg;function Kw(){return Yg||(Yg=1,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.DEFAULT_REALTIME_OPTIONS=d.DEFAULT_AUTH_OPTIONS=d.DEFAULT_DB_OPTIONS=d.DEFAULT_GLOBAL_OPTIONS=d.DEFAULT_HEADERS=void 0;const a=Yw();let l="";typeof Deno<"u"?l="deno":typeof document<"u"?l="web":typeof navigator<"u"&&navigator.product==="ReactNative"?l="react-native":l="node",d.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${l}/${a.version}`},d.DEFAULT_GLOBAL_OPTIONS={headers:d.DEFAULT_HEADERS},d.DEFAULT_DB_OPTIONS={schema:"public"},d.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d.DEFAULT_REALTIME_OPTIONS={}})(wf)),wf}var bf={},Kg;function Ww(){return Kg||(Kg=1,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.fetchWithAuth=d.resolveHeadersConstructor=d.resolveFetch=void 0;const a=x=>x?(...g)=>x(...g):(...g)=>fetch(...g);d.resolveFetch=a;const l=()=>Headers;d.resolveHeadersConstructor=l;const h=(x,g,b)=>{const A=(0,d.resolveFetch)(b),_=(0,d.resolveHeadersConstructor)();return async(v,T)=>{var R;const k=(R=await g())!==null&&R!==void 0?R:x;let j=new _(T==null?void 0:T.headers);return j.has("apikey")||j.set("apikey",x),j.has("Authorization")||j.set("Authorization",`Bearer ${k}`),A(v,Object.assign(Object.assign({},T),{headers:j}))}};d.fetchWithAuth=h})(bf)),bf}var qi={},Wg;function Zw(){if(Wg)return qi;Wg=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.isBrowser=void 0,qi.uuid=d,qi.ensureTrailingSlash=a,qi.applySettingDefaults=h,qi.validateSupabaseUrl=x;function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(g){var b=Math.random()*16|0,A=g=="x"?b:b&3|8;return A.toString(16)})}function a(g){return g.endsWith("/")?g:g+"/"}const l=()=>typeof window<"u";qi.isBrowser=l;function h(g,b){var A,_;const{db:v,auth:T,realtime:R,global:k}=g,{db:j,auth:P,realtime:G,global:J}=b,ae={db:Object.assign(Object.assign({},j),v),auth:Object.assign(Object.assign({},P),T),realtime:Object.assign(Object.assign({},G),R),storage:{},global:Object.assign(Object.assign(Object.assign({},J),k),{headers:Object.assign(Object.assign({},(A=J==null?void 0:J.headers)!==null&&A!==void 0?A:{}),(_=k==null?void 0:k.headers)!==null&&_!==void 0?_:{})}),accessToken:async()=>""};return g.accessToken?ae.accessToken=g.accessToken:delete ae.accessToken,ae}function x(g){const b=g==null?void 0:g.trim();if(!b)throw new Error("supabaseUrl is required.");if(!b.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a(b))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return qi}var eo={};const zm="2.87.1",Qa=30*1e3,Wf=3,vf=Wf*Qa,Qw="http://localhost:9999",Jw="supabase.auth.token",$w={"X-Client-Info":`gotrue-js/${zm}`},Zf="X-Supabase-Api-Version",Fm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tb=600*1e3;let il=class extends Error{constructor(a,l,h){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=h}};function Le(d){return typeof d=="object"&&d!==null&&"__isAuthError"in d}let qm=class extends il{constructor(a,l,h){super(a,l,h),this.name="AuthApiError",this.status=l,this.code=h}};function Hm(d){return Le(d)&&d.name==="AuthApiError"}let Ts=class extends il{constructor(a,l){super(a),this.name="AuthUnknownError",this.originalError=l}},Vi=class extends il{constructor(a,l,h,x){super(a,h,x),this.name=l,this.status=h}},wr=class extends Vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Vm(d){return Le(d)&&d.name==="AuthSessionMissingError"}let ia=class extends Vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},no=class extends Vi{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}},ro=class extends Vi{constructor(a,l=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Gm(d){return Le(d)&&d.name==="AuthImplicitGrantRedirectError"}let Qf=class extends Vi{constructor(a,l=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Qc=class extends Vi{constructor(a,l){super(a,"AuthRetryableFetchError",l,void 0)}};function qc(d){return Le(d)&&d.name==="AuthRetryableFetchError"}let Jf=class extends Vi{constructor(a,l,h){super(a,"AuthWeakPasswordError",l,"weak_password"),this.reasons=h}};function nb(d){return Le(d)&&d.name==="AuthWeakPasswordError"}let Jc=class extends Vi{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}};const $c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zg=` 	
\r=`.split(""),rb=(()=>{const d=new Array(128);for(let a=0;a<d.length;a+=1)d[a]=-1;for(let a=0;a<Zg.length;a+=1)d[Zg[a].charCodeAt(0)]=-2;for(let a=0;a<$c.length;a+=1)d[$c[a].charCodeAt(0)]=a;return d})();function Qg(d,a,l){if(d!==null)for(a.queue=a.queue<<8|d,a.queuedBits+=8;a.queuedBits>=6;){const h=a.queue>>a.queuedBits-6&63;l($c[h]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const h=a.queue>>a.queuedBits-6&63;l($c[h]),a.queuedBits-=6}}function Xm(d,a,l){const h=rb[d];if(h>-1)for(a.queue=a.queue<<6|h,a.queuedBits+=6;a.queuedBits>=8;)l(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(h===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(d)}"`)}}function Jg(d){const a=[],l=b=>{a.push(String.fromCodePoint(b))},h={utf8seq:0,codepoint:0},x={queue:0,queuedBits:0},g=b=>{ab(b,h,l)};for(let b=0;b<d.length;b+=1)Xm(d.charCodeAt(b),x,g);return a.join("")}function ib(d,a){if(d<=127){a(d);return}else if(d<=2047){a(192|d>>6),a(128|d&63);return}else if(d<=65535){a(224|d>>12),a(128|d>>6&63),a(128|d&63);return}else if(d<=1114111){a(240|d>>18),a(128|d>>12&63),a(128|d>>6&63),a(128|d&63);return}throw new Error(`Unrecognized Unicode codepoint: ${d.toString(16)}`)}function sb(d,a){for(let l=0;l<d.length;l+=1){let h=d.charCodeAt(l);if(h>55295&&h<=56319){const x=(h-55296)*1024&65535;h=(d.charCodeAt(l+1)-56320&65535|x)+65536,l+=1}ib(h,a)}}function ab(d,a,l){if(a.utf8seq===0){if(d<=127){l(d);return}for(let h=1;h<6;h+=1)if((d>>7-h&1)===0){a.utf8seq=h;break}if(a.utf8seq===2)a.codepoint=d&31;else if(a.utf8seq===3)a.codepoint=d&15;else if(a.utf8seq===4)a.codepoint=d&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(d<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|d&63,a.utf8seq-=1,a.utf8seq===0&&l(a.codepoint)}}function tl(d){const a=[],l={queue:0,queuedBits:0},h=x=>{a.push(x)};for(let x=0;x<d.length;x+=1)Xm(d.charCodeAt(x),l,h);return new Uint8Array(a)}function lb(d){const a=[];return sb(d,l=>a.push(l)),new Uint8Array(a)}function ca(d){const a=[],l={queue:0,queuedBits:0},h=x=>{a.push(x)};return d.forEach(x=>Qg(x,l,h)),Qg(null,l,h),a.join("")}function ob(d){return Math.round(Date.now()/1e3)+d}function cb(){return Symbol("auth-callback")}const er=()=>typeof window<"u"&&typeof document<"u",na={tested:!1,writable:!1},Ym=()=>{if(!er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(na.tested)return na.writable;const d=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(d,d),globalThis.localStorage.removeItem(d),na.tested=!0,na.writable=!0}catch{na.tested=!0,na.writable=!1}return na.writable};function ub(d){const a={},l=new URL(d);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((x,g)=>{a[g]=x})}catch{}return l.searchParams.forEach((h,x)=>{a[x]=h}),a}const Km=d=>d?(...a)=>d(...a):(...a)=>fetch(...a),hb=d=>typeof d=="object"&&d!==null&&"status"in d&&"ok"in d&&"json"in d&&typeof d.json=="function",Ja=async(d,a,l)=>{await d.setItem(a,JSON.stringify(l))},ra=async(d,a)=>{const l=await d.getItem(a);if(!l)return null;try{return JSON.parse(l)}catch{return l}},$n=async(d,a)=>{await d.removeItem(a)};class ou{constructor(){this.promise=new ou.promiseConstructor((a,l)=>{this.resolve=a,this.reject=l})}}ou.promiseConstructor=Promise;function Ef(d){const a=d.split(".");if(a.length!==3)throw new Jc("Invalid JWT structure");for(let h=0;h<a.length;h++)if(!eb.test(a[h]))throw new Jc("JWT not in base64url format");return{header:JSON.parse(Jg(a[0])),payload:JSON.parse(Jg(a[1])),signature:tl(a[2]),raw:{header:a[0],payload:a[1]}}}async function fb(d){return await new Promise(a=>{setTimeout(()=>a(null),d)})}function db(d,a){return new Promise((h,x)=>{(async()=>{for(let g=0;g<1/0;g++)try{const b=await d(g);if(!a(g,null,b)){h(b);return}}catch(b){if(!a(g,b)){x(b);return}}})()})}function gb(d){return("0"+d.toString(16)).substr(-2)}function mb(){const a=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",h=l.length;let x="";for(let g=0;g<56;g++)x+=l.charAt(Math.floor(Math.random()*h));return x}return crypto.getRandomValues(a),Array.from(a,gb).join("")}async function xb(d){const l=new TextEncoder().encode(d),h=await crypto.subtle.digest("SHA-256",l),x=new Uint8Array(h);return Array.from(x).map(g=>String.fromCharCode(g)).join("")}async function pb(d){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),d;const l=await xb(d);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ya(d,a,l=!1){const h=mb();let x=h;l&&(x+="/PASSWORD_RECOVERY"),await Ja(d,`${a}-code-verifier`,x);const g=await pb(h);return[g,h===g?"plain":"s256"]}const yb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wb(d){const a=d.headers.get(Zf);if(!a||!a.match(yb))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function bb(d){if(!d)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(d<=a)throw new Error("JWT has expired")}function vb(d){switch(d){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Eb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ka(d){if(!Eb.test(d))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _f(){const d={};return new Proxy(d,{get:(a,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const h=l.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _b(d,a){return new Proxy(d,{get:(l,h,x)=>{if(h==="__isInsecureUserWarningProxy")return!0;if(typeof h=="symbol"){const g=h.toString();if(g==="Symbol(Symbol.toPrimitive)"||g==="Symbol(Symbol.toStringTag)"||g==="Symbol(util.inspect.custom)"||g==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,h,x)}return!a.value&&typeof h=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(l,h,x)}})}function $g(d){return JSON.parse(JSON.stringify(d))}const sa=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),Ab=[502,503,504];async function e2(d){var a;if(!hb(d))throw new Qc(sa(d),0);if(Ab.includes(d.status))throw new Qc(sa(d),d.status);let l;try{l=await d.json()}catch(g){throw new Ts(sa(g),g)}let h;const x=wb(d);if(x&&x.getTime()>=Fm["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?h=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(h=l.error_code),h){if(h==="weak_password")throw new Jf(sa(l),d.status,((a=l.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(h==="session_not_found")throw new wr}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((g,b)=>g&&typeof b=="string",!0))throw new Jf(sa(l),d.status,l.weak_password.reasons);throw new qm(sa(l),d.status||500,h)}const Sb=(d,a,l,h)=>{const x={method:d,headers:(a==null?void 0:a.headers)||{}};return d==="GET"?x:(x.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),x.body=JSON.stringify(h),Object.assign(Object.assign({},x),l))};async function Xe(d,a,l,h){var x;const g=Object.assign({},h==null?void 0:h.headers);g[Zf]||(g[Zf]=Fm["2024-01-01"].name),h!=null&&h.jwt&&(g.Authorization=`Bearer ${h.jwt}`);const b=(x=h==null?void 0:h.query)!==null&&x!==void 0?x:{};h!=null&&h.redirectTo&&(b.redirect_to=h.redirectTo);const A=Object.keys(b).length?"?"+new URLSearchParams(b).toString():"",_=await Cb(d,a,l+A,{headers:g,noResolveJson:h==null?void 0:h.noResolveJson},{},h==null?void 0:h.body);return h!=null&&h.xform?h==null?void 0:h.xform(_):{data:Object.assign({},_),error:null}}async function Cb(d,a,l,h,x,g){const b=Sb(a,h,x,g);let A;try{A=await d(l,Object.assign({},b))}catch(_){throw console.error(_),new Qc(sa(_),0)}if(A.ok||await e2(A),h!=null&&h.noResolveJson)return A;try{return await A.json()}catch(_){await e2(_)}}function ni(d){var a;let l=null;Nb(d)&&(l=Object.assign({},d),d.expires_at||(l.expires_at=ob(d.expires_in)));const h=(a=d.user)!==null&&a!==void 0?a:d;return{data:{session:l,user:h},error:null}}function t2(d){const a=ni(d);return!a.error&&d.weak_password&&typeof d.weak_password=="object"&&Array.isArray(d.weak_password.reasons)&&d.weak_password.reasons.length&&d.weak_password.message&&typeof d.weak_password.message=="string"&&d.weak_password.reasons.reduce((l,h)=>l&&typeof h=="string",!0)&&(a.data.weak_password=d.weak_password),a}function Os(d){var a;return{data:{user:(a=d.user)!==null&&a!==void 0?a:d},error:null}}function Tb(d){return{data:d,error:null}}function Ob(d){const{action_link:a,email_otp:l,hashed_token:h,redirect_to:x,verification_type:g}=d,b=sl(d,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),A={action_link:a,email_otp:l,hashed_token:h,redirect_to:x,verification_type:g},_=Object.assign({},b);return{data:{properties:A,user:_},error:null}}function n2(d){return d}function Nb(d){return d.access_token&&d.refresh_token&&d.expires_in}const Hc=["global","local","others"];let ld=class{constructor({url:a="",headers:l={},fetch:h}){this.url=a,this.headers=l,this.fetch=Km(h),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,l=Hc[0]){if(Hc.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hc.join(", ")}`);try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(h){if(Le(h))return{data:null,error:h};throw h}}async inviteUserByEmail(a,l={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:Os})}catch(h){if(Le(h))return{data:{user:null},error:h};throw h}}async generateLink(a){try{const{options:l}=a,h=sl(a,["options"]),x=Object.assign(Object.assign({},h),l);return"newEmail"in h&&(x.new_email=h==null?void 0:h.newEmail,delete x.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:x,headers:this.headers,xform:Ob,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(Le(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(a){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Os})}catch(l){if(Le(l))return{data:{user:null},error:l};throw l}}async listUsers(a){var l,h,x,g,b,A,_;try{const v={nextPage:null,lastPage:0,total:0},T=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(h=(l=a==null?void 0:a.page)===null||l===void 0?void 0:l.toString())!==null&&h!==void 0?h:"",per_page:(g=(x=a==null?void 0:a.perPage)===null||x===void 0?void 0:x.toString())!==null&&g!==void 0?g:""},xform:n2});if(T.error)throw T.error;const R=await T.json(),k=(b=T.headers.get("x-total-count"))!==null&&b!==void 0?b:0,j=(_=(A=T.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&_!==void 0?_:[];return j.length>0&&(j.forEach(P=>{const G=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),J=JSON.parse(P.split(";")[1].split("=")[1]);v[`${J}Page`]=G}),v.total=parseInt(k)),{data:Object.assign(Object.assign({},R),v),error:null}}catch(v){if(Le(v))return{data:{users:[]},error:v};throw v}}async getUserById(a){Ka(a);try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Os})}catch(l){if(Le(l))return{data:{user:null},error:l};throw l}}async updateUserById(a,l){Ka(a);try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:l,headers:this.headers,xform:Os})}catch(h){if(Le(h))return{data:{user:null},error:h};throw h}}async deleteUser(a,l=!1){Ka(a);try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:l},xform:Os})}catch(h){if(Le(h))return{data:{user:null},error:h};throw h}}async _listFactors(a){Ka(a.userId);try{const{data:l,error:h}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:x=>({data:{factors:x},error:null})});return{data:l,error:h}}catch(l){if(Le(l))return{data:null,error:l};throw l}}async _deleteFactor(a){Ka(a.userId),Ka(a.id);try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(l){if(Le(l))return{data:null,error:l};throw l}}async _listOAuthClients(a){var l,h,x,g,b,A,_;try{const v={nextPage:null,lastPage:0,total:0},T=await Xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(h=(l=a==null?void 0:a.page)===null||l===void 0?void 0:l.toString())!==null&&h!==void 0?h:"",per_page:(g=(x=a==null?void 0:a.perPage)===null||x===void 0?void 0:x.toString())!==null&&g!==void 0?g:""},xform:n2});if(T.error)throw T.error;const R=await T.json(),k=(b=T.headers.get("x-total-count"))!==null&&b!==void 0?b:0,j=(_=(A=T.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&_!==void 0?_:[];return j.length>0&&(j.forEach(P=>{const G=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),J=JSON.parse(P.split(";")[1].split("=")[1]);v[`${J}Page`]=G}),v.total=parseInt(k)),{data:Object.assign(Object.assign({},R),v),error:null}}catch(v){if(Le(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(a){try{return await Xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Le(l))return{data:null,error:l};throw l}}async _getOAuthClient(a){try{return await Xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Le(l))return{data:null,error:l};throw l}}async _updateOAuthClient(a,l){try{return await Xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:l,headers:this.headers,xform:h=>({data:h,error:null})})}catch(h){if(Le(h))return{data:null,error:h};throw h}}async _deleteOAuthClient(a){try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Le(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(a){try{return await Xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Le(l))return{data:null,error:l};throw l}}};function r2(d={}){return{getItem:a=>d[a]||null,setItem:(a,l)=>{d[a]=l},removeItem:a=>{delete d[a]}}}const aa={debug:!!(globalThis&&Ym()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class od extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}let Wm=class extends od{};class Rb extends od{}async function Zm(d,a,l){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",d,a);const h=new globalThis.AbortController;return a>0&&setTimeout(()=>{h.abort(),aa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",d)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(d,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:h.signal},async x=>{if(x){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",d,x.name);try{return await l()}finally{aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",d,x.name)}}else{if(a===0)throw aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",d),new Wm(`Acquiring an exclusive Navigator LockManager lock "${d}" immediately failed`);if(aa.debug)try{const g=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(g,null,"  "))}catch(g){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",g)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}const i2={};async function Ib(d,a,l){var h;const x=(h=i2[d])!==null&&h!==void 0?h:Promise.resolve(),g=Promise.race([x.catch(()=>null),a>=0?new Promise((b,A)=>{setTimeout(()=>{A(new Rb(`Acquring process lock with name "${d}" timed out`))},a)}):null].filter(b=>b)).catch(b=>{if(b&&b.isAcquireTimeout)throw b;return null}).then(async()=>await l());return i2[d]=g.catch(async b=>{if(b&&b.isAcquireTimeout)return await x,null;throw b}),await g}function Db(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qm(d){if(!/^0x[a-fA-F0-9]{40}$/.test(d))throw new Error(`@supabase/auth-js: Address "${d}" is invalid.`);return d.toLowerCase()}function Mb(d){return parseInt(d,16)}function Bb(d){const a=new TextEncoder().encode(d);return"0x"+Array.from(a,h=>h.toString(16).padStart(2,"0")).join("")}function kb(d){var a;const{chainId:l,domain:h,expirationTime:x,issuedAt:g=new Date,nonce:b,notBefore:A,requestId:_,resources:v,scheme:T,uri:R,version:k}=d;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(b&&b.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${b}`);if(!R)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((a=d.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${d.statement}`)}const j=Qm(d.address),P=T?`${T}://${h}`:h,G=d.statement?`${d.statement}
`:"",J=`${P} wants you to sign in with your Ethereum account:
${j}

${G}`;let ae=`URI: ${R}
Version: ${k}
Chain ID: ${l}${b?`
Nonce: ${b}`:""}
Issued At: ${g.toISOString()}`;if(x&&(ae+=`
Expiration Time: ${x.toISOString()}`),A&&(ae+=`
Not Before: ${A.toISOString()}`),_&&(ae+=`
Request ID: ${_}`),v){let ce=`
Resources:`;for(const W of v){if(!W||typeof W!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${W}`);ce+=`
- ${W}`}ae+=ce}return`${J}
${ae}`}class Bn extends Error{constructor({message:a,code:l,cause:h,name:x}){var g;super(a,{cause:h}),this.__isWebAuthnError=!0,this.name=(g=x??(h instanceof Error?h.name:void 0))!==null&&g!==void 0?g:"Unknown Error",this.code=l}}class eu extends Bn{constructor(a,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:a}),this.name="WebAuthnUnknownError",this.originalError=l}}function Lb({error:d,options:a}){var l,h,x;const{publicKey:g}=a;if(!g)throw Error("options was missing required publicKey property");if(d.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Bn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:d})}else if(d.name==="ConstraintError"){if(((l=g.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new Bn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:d});if(a.mediation==="conditional"&&((h=g.authenticatorSelection)===null||h===void 0?void 0:h.userVerification)==="required")return new Bn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:d});if(((x=g.authenticatorSelection)===null||x===void 0?void 0:x.userVerification)==="required")return new Bn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:d})}else{if(d.name==="InvalidStateError")return new Bn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:d});if(d.name==="NotAllowedError")return new Bn({message:d.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d});if(d.name==="NotSupportedError")return g.pubKeyCredParams.filter(A=>A.type==="public-key").length===0?new Bn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:d}):new Bn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:d});if(d.name==="SecurityError"){const b=window.location.hostname;if(Jm(b)){if(g.rp.id!==b)return new Bn({message:`The RP ID "${g.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:d})}else return new Bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:d})}else if(d.name==="TypeError"){if(g.user.id.byteLength<1||g.user.id.byteLength>64)return new Bn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:d})}else if(d.name==="UnknownError")return new Bn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:d})}return new Bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d})}function jb({error:d,options:a}){const{publicKey:l}=a;if(!l)throw Error("options was missing required publicKey property");if(d.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Bn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:d})}else{if(d.name==="NotAllowedError")return new Bn({message:d.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d});if(d.name==="SecurityError"){const h=window.location.hostname;if(Jm(h)){if(l.rpId!==h)return new Bn({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:d})}else return new Bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:d})}else if(d.name==="UnknownError")return new Bn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:d})}return new Bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d})}class Ub{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Pb=new Ub;function zb(d){if(!d)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(d);const{challenge:a,user:l,excludeCredentials:h}=d,x=sl(d,["challenge","user","excludeCredentials"]),g=tl(a).buffer,b=Object.assign(Object.assign({},l),{id:tl(l.id).buffer}),A=Object.assign(Object.assign({},x),{challenge:g,user:b});if(h&&h.length>0){A.excludeCredentials=new Array(h.length);for(let _=0;_<h.length;_++){const v=h[_];A.excludeCredentials[_]=Object.assign(Object.assign({},v),{id:tl(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return A}function Fb(d){if(!d)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(d);const{challenge:a,allowCredentials:l}=d,h=sl(d,["challenge","allowCredentials"]),x=tl(a).buffer,g=Object.assign(Object.assign({},h),{challenge:x});if(l&&l.length>0){g.allowCredentials=new Array(l.length);for(let b=0;b<l.length;b++){const A=l[b];g.allowCredentials[b]=Object.assign(Object.assign({},A),{id:tl(A.id).buffer,type:A.type||"public-key",transports:A.transports})}}return g}function qb(d){var a;if("toJSON"in d&&typeof d.toJSON=="function")return d.toJSON();const l=d;return{id:d.id,rawId:d.id,response:{attestationObject:ca(new Uint8Array(d.response.attestationObject)),clientDataJSON:ca(new Uint8Array(d.response.clientDataJSON))},type:"public-key",clientExtensionResults:d.getClientExtensionResults(),authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Hb(d){var a;if("toJSON"in d&&typeof d.toJSON=="function")return d.toJSON();const l=d,h=d.getClientExtensionResults(),x=d.response;return{id:d.id,rawId:d.id,response:{authenticatorData:ca(new Uint8Array(x.authenticatorData)),clientDataJSON:ca(new Uint8Array(x.clientDataJSON)),signature:ca(new Uint8Array(x.signature)),userHandle:x.userHandle?ca(new Uint8Array(x.userHandle)):void 0},type:"public-key",clientExtensionResults:h,authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Jm(d){return d==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(d)}function s2(){var d,a;return!!(er()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((d=navigator==null?void 0:navigator.credentials)===null||d===void 0?void 0:d.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Vb(d){try{const a=await navigator.credentials.create(d);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new eu("Browser returned unexpected credential type",a)}:{data:null,error:new eu("Empty credential response",a)}}catch(a){return{data:null,error:Lb({error:a,options:d})}}}async function Gb(d){try{const a=await navigator.credentials.get(d);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new eu("Browser returned unexpected credential type",a)}:{data:null,error:new eu("Empty credential response",a)}}catch(a){return{data:null,error:jb({error:a,options:d})}}}const Xb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Yb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function tu(...d){const a=x=>x!==null&&typeof x=="object"&&!Array.isArray(x),l=x=>x instanceof ArrayBuffer||ArrayBuffer.isView(x),h={};for(const x of d)if(x)for(const g in x){const b=x[g];if(b!==void 0)if(Array.isArray(b))h[g]=b;else if(l(b))h[g]=b;else if(a(b)){const A=h[g];a(A)?h[g]=tu(A,b):h[g]=tu(b)}else h[g]=b}return h}function Kb(d,a){return tu(Xb,d,a||{})}function Wb(d,a){return tu(Yb,d,a||{})}class Zb{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:l,friendlyName:h,signal:x},g){try{const{data:b,error:A}=await this.client.mfa.challenge({factorId:a,webauthn:l});if(!b)return{data:null,error:A};const _=x??Pb.createNewAbortSignal();if(b.webauthn.type==="create"){const{user:v}=b.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${h}`),v.displayName||(v.displayName=v.name)}switch(b.webauthn.type){case"create":{const v=Kb(b.webauthn.credential_options.publicKey,g==null?void 0:g.create),{data:T,error:R}=await Vb({publicKey:v,signal:_});return T?{data:{factorId:a,challengeId:b.id,webauthn:{type:b.webauthn.type,credential_response:T}},error:null}:{data:null,error:R}}case"request":{const v=Wb(b.webauthn.credential_options.publicKey,g==null?void 0:g.request),{data:T,error:R}=await Gb(Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:v,signal:_}));return T?{data:{factorId:a,challengeId:b.id,webauthn:{type:b.webauthn.type,credential_response:T}},error:null}:{data:null,error:R}}}}catch(b){return Le(b)?{data:null,error:b}:{data:null,error:new Ts("Unexpected error in challenge",b)}}}async _verify({challengeId:a,factorId:l,webauthn:h}){return this.client.mfa.verify({factorId:l,challengeId:a,webauthn:h})}async _authenticate({factorId:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:h=typeof window<"u"?[window.location.origin]:void 0,signal:x}={}},g){if(!l)return{data:null,error:new il("rpId is required for WebAuthn authentication")};try{if(!s2())return{data:null,error:new Ts("Browser does not support WebAuthn",null)};const{data:b,error:A}=await this.challenge({factorId:a,webauthn:{rpId:l,rpOrigins:h},signal:x},{request:g});if(!b)return{data:null,error:A};const{webauthn:_}=b;return this._verify({factorId:a,challengeId:b.challengeId,webauthn:{type:_.type,rpId:l,rpOrigins:h,credential_response:_.credential_response}})}catch(b){return Le(b)?{data:null,error:b}:{data:null,error:new Ts("Unexpected error in authenticate",b)}}}async _register({friendlyName:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:h=typeof window<"u"?[window.location.origin]:void 0,signal:x}={}},g){if(!l)return{data:null,error:new il("rpId is required for WebAuthn registration")};try{if(!s2())return{data:null,error:new Ts("Browser does not support WebAuthn",null)};const{data:b,error:A}=await this._enroll({friendlyName:a});if(!b)return await this.client.mfa.listFactors().then(T=>{var R;return(R=T.data)===null||R===void 0?void 0:R.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===a&&k.status!=="unverified")}).then(T=>T?this.client.mfa.unenroll({factorId:T==null?void 0:T.id}):void 0),{data:null,error:A};const{data:_,error:v}=await this._challenge({factorId:b.id,friendlyName:b.friendly_name,webauthn:{rpId:l,rpOrigins:h},signal:x},{create:g});return _?this._verify({factorId:b.id,challengeId:_.challengeId,webauthn:{rpId:l,rpOrigins:h,type:_.webauthn.type,credential_response:_.webauthn.credential_response}}):{data:null,error:v}}catch(b){return Le(b)?{data:null,error:b}:{data:null,error:new Ts("Unexpected error in register",b)}}}}Db();const Qb={url:Qw,storageKey:Jw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$w,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function a2(d,a,l){return await l()}const Wa={};let cd=class $f{get jwks(){var a,l;return(l=(a=Wa[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(a){Wa[this.storageKey]=Object.assign(Object.assign({},Wa[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,l;return(l=(a=Wa[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Wa[this.storageKey]=Object.assign(Object.assign({},Wa[this.storageKey]),{cachedAt:a})}constructor(a){var l,h,x;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const g=Object.assign(Object.assign({},Qb),a);if(this.storageKey=g.storageKey,this.instanceID=(l=$f.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,$f.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!g.debug,typeof g.debug=="function"&&(this.logger=g.debug),this.instanceID>0&&er()){const b=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(b),this.logDebugMessages&&console.trace(b)}if(this.persistSession=g.persistSession,this.autoRefreshToken=g.autoRefreshToken,this.admin=new ld({url:g.url,headers:g.headers,fetch:g.fetch}),this.url=g.url,this.headers=g.headers,this.fetch=Km(g.fetch),this.lock=g.lock||a2,this.detectSessionInUrl=g.detectSessionInUrl,this.flowType=g.flowType,this.hasCustomAuthorizationHeader=g.hasCustomAuthorizationHeader,this.throwOnError=g.throwOnError,g.lock?this.lock=g.lock:this.persistSession&&er()&&(!((h=globalThis==null?void 0:globalThis.navigator)===null||h===void 0)&&h.locks)?this.lock=Zm:this.lock=a2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Zb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(g.storage?this.storage=g.storage:Ym()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=r2(this.memoryStorage)),g.userStorage&&(this.userStorage=g.userStorage)):(this.memoryStorage={},this.storage=r2(this.memoryStorage)),er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(b){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",b)}(x=this.broadcastChannel)===null||x===void 0||x.addEventListener("message",async b=>{this._debug("received broadcast notification from other tab or client",b),await this._notifyAllSubscribers(b.data.event,b.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zm}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let l={},h="none";if(er()&&(l=ub(window.location.href),this._isImplicitGrantCallback(l)?h="implicit":await this._isPKCECallback(l)&&(h="pkce")),er()&&this.detectSessionInUrl&&h!=="none"){const{data:x,error:g}=await this._getSessionFromURL(l,h);if(g){if(this._debug("#_initialize()","error detecting session from URL",g),Gm(g)){const _=(a=g.details)===null||a===void 0?void 0:a.code;if(_==="identity_already_exists"||_==="identity_not_found"||_==="single_identity_not_deletable")return{error:g}}return await this._removeSession(),{error:g}}const{session:b,redirectType:A}=x;return this._debug("#_initialize()","detected session in URL",b,"redirect type",A),await this._saveSession(b),setTimeout(async()=>{A==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",b):await this._notifyAllSubscribers("SIGNED_IN",b)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return Le(l)?this._returnResult({error:l}):this._returnResult({error:new Ts("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var l,h,x;try{const g=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(h=(l=a==null?void 0:a.options)===null||l===void 0?void 0:l.data)!==null&&h!==void 0?h:{},gotrue_meta_security:{captcha_token:(x=a==null?void 0:a.options)===null||x===void 0?void 0:x.captchaToken}},xform:ni}),{data:b,error:A}=g;if(A||!b)return this._returnResult({data:{user:null,session:null},error:A});const _=b.session,v=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",_)),this._returnResult({data:{user:v,session:_},error:null})}catch(g){if(Le(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signUp(a){var l,h,x;try{let g;if("email"in a){const{email:T,password:R,options:k}=a;let j=null,P=null;this.flowType==="pkce"&&([j,P]=await Ya(this.storage,this.storageKey)),g=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k==null?void 0:k.emailRedirectTo,body:{email:T,password:R,data:(l=k==null?void 0:k.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:j,code_challenge_method:P},xform:ni})}else if("phone"in a){const{phone:T,password:R,options:k}=a;g=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:T,password:R,data:(h=k==null?void 0:k.data)!==null&&h!==void 0?h:{},channel:(x=k==null?void 0:k.channel)!==null&&x!==void 0?x:"sms",gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken}},xform:ni})}else throw new no("You must provide either an email or phone number and a password");const{data:b,error:A}=g;if(A||!b)return await $n(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:A});const _=b.session,v=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",_)),this._returnResult({data:{user:v,session:_},error:null})}catch(g){if(await $n(this.storage,`${this.storageKey}-code-verifier`),Le(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithPassword(a){try{let l;if("email"in a){const{email:g,password:b,options:A}=a;l=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:g,password:b,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:t2})}else if("phone"in a){const{phone:g,password:b,options:A}=a;l=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:g,password:b,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:t2})}else throw new no("You must provide either an email or phone number and a password");const{data:h,error:x}=l;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!h||!h.session||!h.user){const g=new ia;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign({user:h.user,session:h.session},h.weak_password?{weakPassword:h.weak_password}:null),error:x})}catch(l){if(Le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(a){var l,h,x,g;return await this._handleProviderSignIn(a.provider,{redirectTo:(l=a.options)===null||l===void 0?void 0:l.redirectTo,scopes:(h=a.options)===null||h===void 0?void 0:h.scopes,queryParams:(x=a.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:(g=a.options)===null||g===void 0?void 0:g.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:l}=a;switch(l){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(a){var l,h,x,g,b,A,_,v,T,R,k;let j,P;if("message"in a)j=a.message,P=a.signature;else{const{chain:G,wallet:J,statement:ae,options:ce}=a;let W;if(er())if(typeof J=="object")W=J;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")W=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof J!="object"||!(ce!=null&&ce.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=J}const me=new URL((l=ce==null?void 0:ce.url)!==null&&l!==void 0?l:window.location.href),ze=await W.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ze||ze.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _e=Qm(ze[0]);let ee=(h=ce==null?void 0:ce.signInWithEthereum)===null||h===void 0?void 0:h.chainId;if(!ee){const de=await W.request({method:"eth_chainId"});ee=Mb(de)}const ke={domain:me.host,address:_e,statement:ae,uri:me.href,version:"1",chainId:ee,nonce:(x=ce==null?void 0:ce.signInWithEthereum)===null||x===void 0?void 0:x.nonce,issuedAt:(b=(g=ce==null?void 0:ce.signInWithEthereum)===null||g===void 0?void 0:g.issuedAt)!==null&&b!==void 0?b:new Date,expirationTime:(A=ce==null?void 0:ce.signInWithEthereum)===null||A===void 0?void 0:A.expirationTime,notBefore:(_=ce==null?void 0:ce.signInWithEthereum)===null||_===void 0?void 0:_.notBefore,requestId:(v=ce==null?void 0:ce.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(T=ce==null?void 0:ce.signInWithEthereum)===null||T===void 0?void 0:T.resources};j=kb(ke),P=await W.request({method:"personal_sign",params:[Bb(j),_e]})}try{const{data:G,error:J}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:P},!((R=a.options)===null||R===void 0)&&R.captchaToken?{gotrue_meta_security:{captcha_token:(k=a.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:ni});if(J)throw J;if(!G||!G.session||!G.user){const ae=new ia;return this._returnResult({data:{user:null,session:null},error:ae})}return G.session&&(await this._saveSession(G.session),await this._notifyAllSubscribers("SIGNED_IN",G.session)),this._returnResult({data:Object.assign({},G),error:J})}catch(G){if(Le(G))return this._returnResult({data:{user:null,session:null},error:G});throw G}}async signInWithSolana(a){var l,h,x,g,b,A,_,v,T,R,k,j;let P,G;if("message"in a)P=a.message,G=a.signature;else{const{chain:J,wallet:ae,statement:ce,options:W}=a;let me;if(er())if(typeof ae=="object")me=ae;else{const _e=window;if("solana"in _e&&typeof _e.solana=="object"&&("signIn"in _e.solana&&typeof _e.solana.signIn=="function"||"signMessage"in _e.solana&&typeof _e.solana.signMessage=="function"))me=_e.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ae!="object"||!(W!=null&&W.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");me=ae}const ze=new URL((l=W==null?void 0:W.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in me&&me.signIn){const _e=await me.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},W==null?void 0:W.signInWithSolana),{version:"1",domain:ze.host,uri:ze.href}),ce?{statement:ce}:null));let ee;if(Array.isArray(_e)&&_e[0]&&typeof _e[0]=="object")ee=_e[0];else if(_e&&typeof _e=="object"&&"signedMessage"in _e&&"signature"in _e)ee=_e;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ee&&"signature"in ee&&(typeof ee.signedMessage=="string"||ee.signedMessage instanceof Uint8Array)&&ee.signature instanceof Uint8Array)P=typeof ee.signedMessage=="string"?ee.signedMessage:new TextDecoder().decode(ee.signedMessage),G=ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in me)||typeof me.signMessage!="function"||!("publicKey"in me)||typeof me!="object"||!me.publicKey||!("toBase58"in me.publicKey)||typeof me.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${ze.host} wants you to sign in with your Solana account:`,me.publicKey.toBase58(),...ce?["",ce,""]:[""],"Version: 1",`URI: ${ze.href}`,`Issued At: ${(x=(h=W==null?void 0:W.signInWithSolana)===null||h===void 0?void 0:h.issuedAt)!==null&&x!==void 0?x:new Date().toISOString()}`,...!((g=W==null?void 0:W.signInWithSolana)===null||g===void 0)&&g.notBefore?[`Not Before: ${W.signInWithSolana.notBefore}`]:[],...!((b=W==null?void 0:W.signInWithSolana)===null||b===void 0)&&b.expirationTime?[`Expiration Time: ${W.signInWithSolana.expirationTime}`]:[],...!((A=W==null?void 0:W.signInWithSolana)===null||A===void 0)&&A.chainId?[`Chain ID: ${W.signInWithSolana.chainId}`]:[],...!((_=W==null?void 0:W.signInWithSolana)===null||_===void 0)&&_.nonce?[`Nonce: ${W.signInWithSolana.nonce}`]:[],...!((v=W==null?void 0:W.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${W.signInWithSolana.requestId}`]:[],...!((R=(T=W==null?void 0:W.signInWithSolana)===null||T===void 0?void 0:T.resources)===null||R===void 0)&&R.length?["Resources",...W.signInWithSolana.resources.map(ee=>`- ${ee}`)]:[]].join(`
`);const _e=await me.signMessage(new TextEncoder().encode(P),"utf8");if(!_e||!(_e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");G=_e}}try{const{data:J,error:ae}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:ca(G)},!((k=a.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(j=a.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:ni});if(ae)throw ae;if(!J||!J.session||!J.user){const ce=new ia;return this._returnResult({data:{user:null,session:null},error:ce})}return J.session&&(await this._saveSession(J.session),await this._notifyAllSubscribers("SIGNED_IN",J.session)),this._returnResult({data:Object.assign({},J),error:ae})}catch(J){if(Le(J))return this._returnResult({data:{user:null,session:null},error:J});throw J}}async _exchangeCodeForSession(a){const l=await ra(this.storage,`${this.storageKey}-code-verifier`),[h,x]=(l??"").split("/");try{const{data:g,error:b}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:h},xform:ni});if(await $n(this.storage,`${this.storageKey}-code-verifier`),b)throw b;if(!g||!g.session||!g.user){const A=new ia;return this._returnResult({data:{user:null,session:null,redirectType:null},error:A})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign(Object.assign({},g),{redirectType:x??null}),error:b})}catch(g){if(await $n(this.storage,`${this.storageKey}-code-verifier`),Le(g))return this._returnResult({data:{user:null,session:null,redirectType:null},error:g});throw g}}async signInWithIdToken(a){try{const{options:l,provider:h,token:x,access_token:g,nonce:b}=a,A=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:h,id_token:x,access_token:g,nonce:b,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ni}),{data:_,error:v}=A;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!_||!_.session||!_.user){const T=new ia;return this._returnResult({data:{user:null,session:null},error:T})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:_,error:v})}catch(l){if(Le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(a){var l,h,x,g,b;try{if("email"in a){const{email:A,options:_}=a;let v=null,T=null;this.flowType==="pkce"&&([v,T]=await Ya(this.storage,this.storageKey));const{error:R}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:A,data:(l=_==null?void 0:_.data)!==null&&l!==void 0?l:{},create_user:(h=_==null?void 0:_.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:v,code_challenge_method:T},redirectTo:_==null?void 0:_.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:R})}if("phone"in a){const{phone:A,options:_}=a,{data:v,error:T}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:A,data:(x=_==null?void 0:_.data)!==null&&x!==void 0?x:{},create_user:(g=_==null?void 0:_.shouldCreateUser)!==null&&g!==void 0?g:!0,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},channel:(b=_==null?void 0:_.channel)!==null&&b!==void 0?b:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:T})}throw new no("You must provide either an email or phone number.")}catch(A){if(await $n(this.storage,`${this.storageKey}-code-verifier`),Le(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async verifyOtp(a){var l,h;try{let x,g;"options"in a&&(x=(l=a.options)===null||l===void 0?void 0:l.redirectTo,g=(h=a.options)===null||h===void 0?void 0:h.captchaToken);const{data:b,error:A}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:g}}),redirectTo:x,xform:ni});if(A)throw A;if(!b)throw new Error("An error occurred on token verification.");const _=b.session,v=b.user;return _!=null&&_.access_token&&(await this._saveSession(_),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",_)),this._returnResult({data:{user:v,session:_},error:null})}catch(x){if(Le(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSSO(a){var l,h,x,g,b;try{let A=null,_=null;this.flowType==="pkce"&&([A,_]=await Ya(this.storage,this.storageKey));const v=await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(h=(l=a.options)===null||l===void 0?void 0:l.redirectTo)!==null&&h!==void 0?h:void 0}),!((x=a==null?void 0:a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:A,code_challenge_method:_}),headers:this.headers,xform:Tb});return!((g=v.data)===null||g===void 0)&&g.url&&er()&&!(!((b=a.options)===null||b===void 0)&&b.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(A){if(await $n(this.storage,`${this.storageKey}-code-verifier`),Le(A))return this._returnResult({data:null,error:A});throw A}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:l},error:h}=a;if(h)throw h;if(!l)throw new wr;const{error:x}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:x})})}catch(a){if(Le(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const l=`${this.url}/resend`;if("email"in a){const{email:h,type:x,options:g}=a,{error:b}=await Xe(this.fetch,"POST",l,{headers:this.headers,body:{email:h,type:x,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}else if("phone"in a){const{phone:h,type:x,options:g}=a,{data:b,error:A}=await Xe(this.fetch,"POST",l,{headers:this.headers,body:{phone:h,type:x,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:A})}throw new no("You must provide either an email or phone number and a type")}catch(l){if(Le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(a,l){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const h=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),x=(async()=>(await h,await l()))();return this.pendingInLock.push((async()=>{try{await x}catch{}})()),x}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const h=l();for(this.pendingInLock.push((async()=>{try{await h}catch{}})()),await h;this.pendingInLock.length;){const x=[...this.pendingInLock];await Promise.all(x),this.pendingInLock.splice(0,x.length)}return await h}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await a(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const l=await ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?a=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const h=a.expires_at?a.expires_at*1e3-Date.now()<vf:!1;if(this._debug("#__loadSession()",`session has${h?"":" not"} expired`,"expires_at",a.expires_at),!h){if(this.userStorage){const b=await ra(this.userStorage,this.storageKey+"-user");b!=null&&b.user?a.user=b.user:a.user=_f()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const b={value:this.suppressGetSessionWarning};a.user=_b(a.user,b),b.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:x,error:g}=await this._callRefreshToken(a.refresh_token);return g?this._returnResult({data:{session:null},error:g}):this._returnResult({data:{session:x},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const l=await this._acquireLock(-1,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(a){try{return a?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Os}):await this._useSession(async l=>{var h,x,g;const{data:b,error:A}=l;if(A)throw A;return!(!((h=b.session)===null||h===void 0)&&h.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wr}:await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(g=(x=b.session)===null||x===void 0?void 0:x.access_token)!==null&&g!==void 0?g:void 0,xform:Os})})}catch(l){if(Le(l))return Vm(l)&&(await this._removeSession(),await $n(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(a,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,l))}async _updateUser(a,l={}){try{return await this._useSession(async h=>{const{data:x,error:g}=h;if(g)throw g;if(!x.session)throw new wr;const b=x.session;let A=null,_=null;this.flowType==="pkce"&&a.email!=null&&([A,_]=await Ya(this.storage,this.storageKey));const{data:v,error:T}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:A,code_challenge_method:_}),jwt:b.access_token,xform:Os});if(T)throw T;return b.user=v.user,await this._saveSession(b),await this._notifyAllSubscribers("USER_UPDATED",b),this._returnResult({data:{user:b.user},error:null})})}catch(h){if(await $n(this.storage,`${this.storageKey}-code-verifier`),Le(h))return this._returnResult({data:{user:null},error:h});throw h}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new wr;const l=Date.now()/1e3;let h=l,x=!0,g=null;const{payload:b}=Ef(a.access_token);if(b.exp&&(h=b.exp,x=h<=l),x){const{data:A,error:_}=await this._callRefreshToken(a.refresh_token);if(_)return this._returnResult({data:{user:null,session:null},error:_});if(!A)return{data:{user:null,session:null},error:null};g=A}else{const{data:A,error:_}=await this._getUser(a.access_token);if(_)throw _;g={access_token:a.access_token,refresh_token:a.refresh_token,user:A.user,token_type:"bearer",expires_in:h-l,expires_at:h},await this._saveSession(g),await this._notifyAllSubscribers("SIGNED_IN",g)}return this._returnResult({data:{user:g.user,session:g},error:null})}catch(l){if(Le(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async l=>{var h;if(!a){const{data:b,error:A}=l;if(A)throw A;a=(h=b.session)!==null&&h!==void 0?h:void 0}if(!(a!=null&&a.refresh_token))throw new wr;const{data:x,error:g}=await this._callRefreshToken(a.refresh_token);return g?this._returnResult({data:{user:null,session:null},error:g}):x?this._returnResult({data:{user:x.user,session:x},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(Le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(a,l){try{if(!er())throw new ro("No browser detected.");if(a.error||a.error_description||a.error_code)throw new ro(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Qf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ro("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Qf("No code detected.");const{data:ce,error:W}=await this._exchangeCodeForSession(a.code);if(W)throw W;const me=new URL(window.location.href);return me.searchParams.delete("code"),window.history.replaceState(window.history.state,"",me.toString()),{data:{session:ce.session,redirectType:null},error:null}}const{provider_token:h,provider_refresh_token:x,access_token:g,refresh_token:b,expires_in:A,expires_at:_,token_type:v}=a;if(!g||!A||!b||!v)throw new ro("No session defined in URL");const T=Math.round(Date.now()/1e3),R=parseInt(A);let k=T+R;_&&(k=parseInt(_));const j=k-T;j*1e3<=Qa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${R}s`);const P=k-R;T-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,k,T):T-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,k,T);const{data:G,error:J}=await this._getUser(g);if(J)throw J;const ae={provider_token:h,provider_refresh_token:x,access_token:g,expires_in:R,expires_at:k,refresh_token:b,token_type:v,user:G.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:ae,redirectType:a.type},error:null})}catch(h){if(Le(h))return this._returnResult({data:{session:null,redirectType:null},error:h});throw h}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const l=await ra(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&l)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async l=>{var h;const{data:x,error:g}=l;if(g)return this._returnResult({error:g});const b=(h=x.session)===null||h===void 0?void 0:h.access_token;if(b){const{error:A}=await this.admin.signOut(b,a);if(A&&!(Hm(A)&&(A.status===404||A.status===401||A.status===403)))return this._returnResult({error:A})}return a!=="others"&&(await this._removeSession(),await $n(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const l=cb(),h={id:l,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,h),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:h}}}async _emitInitialSession(a){return await this._useSession(async l=>{var h,x;try{const{data:{session:g},error:b}=l;if(b)throw b;await((h=this.stateChangeEmitters.get(a))===null||h===void 0?void 0:h.callback("INITIAL_SESSION",g)),this._debug("INITIAL_SESSION","callback id",a,"session",g)}catch(g){await((x=this.stateChangeEmitters.get(a))===null||x===void 0?void 0:x.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",g),console.error(g)}})}async resetPasswordForEmail(a,l={}){let h=null,x=null;this.flowType==="pkce"&&([h,x]=await Ya(this.storage,this.storageKey,!0));try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:h,code_challenge_method:x,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(g){if(await $n(this.storage,`${this.storageKey}-code-verifier`),Le(g))return this._returnResult({data:null,error:g});throw g}}async getUserIdentities(){var a;try{const{data:l,error:h}=await this.getUser();if(h)throw h;return this._returnResult({data:{identities:(a=l.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(l){if(Le(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var l;try{const{data:h,error:x}=await this._useSession(async g=>{var b,A,_,v,T;const{data:R,error:k}=g;if(k)throw k;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(b=a.options)===null||b===void 0?void 0:b.redirectTo,scopes:(A=a.options)===null||A===void 0?void 0:A.scopes,queryParams:(_=a.options)===null||_===void 0?void 0:_.queryParams,skipBrowserRedirect:!0});return await Xe(this.fetch,"GET",j,{headers:this.headers,jwt:(T=(v=R.session)===null||v===void 0?void 0:v.access_token)!==null&&T!==void 0?T:void 0})});if(x)throw x;return er()&&!(!((l=a.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h==null?void 0:h.url),this._returnResult({data:{provider:a.provider,url:h==null?void 0:h.url},error:null})}catch(h){if(Le(h))return this._returnResult({data:{provider:a.provider,url:null},error:h});throw h}}async linkIdentityIdToken(a){return await this._useSession(async l=>{var h;try{const{error:x,data:{session:g}}=l;if(x)throw x;const{options:b,provider:A,token:_,access_token:v,nonce:T}=a,R=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(h=g==null?void 0:g.access_token)!==null&&h!==void 0?h:void 0,body:{provider:A,id_token:_,access_token:v,nonce:T,link_identity:!0,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:ni}),{data:k,error:j}=R;return j?this._returnResult({data:{user:null,session:null},error:j}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new ia}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:j}))}catch(x){if(await $n(this.storage,`${this.storageKey}-code-verifier`),Le(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}})}async unlinkIdentity(a){try{return await this._useSession(async l=>{var h,x;const{data:g,error:b}=l;if(b)throw b;return await Xe(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(x=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&x!==void 0?x:void 0})})}catch(l){if(Le(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(a){const l=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(l,"begin");try{const h=Date.now();return await db(async x=>(x>0&&await fb(200*Math.pow(2,x-1)),this._debug(l,"refreshing attempt",x),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:ni})),(x,g)=>{const b=200*Math.pow(2,x);return g&&qc(g)&&Date.now()+b-h<Qa})}catch(h){if(this._debug(l,"error",h),Le(h))return this._returnResult({data:{session:null,user:null},error:h});throw h}finally{this._debug(l,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,l){const h=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",l,"url",h),er()&&!l.skipBrowserRedirect&&window.location.assign(h),{data:{provider:a,url:h},error:null}}async _recoverAndRefresh(){var a,l;const h="#_recoverAndRefresh()";this._debug(h,"begin");try{const x=await ra(this.storage,this.storageKey);if(x&&this.userStorage){let b=await ra(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!b&&(b={user:x.user},await Ja(this.userStorage,this.storageKey+"-user",b)),x.user=(a=b==null?void 0:b.user)!==null&&a!==void 0?a:_f()}else if(x&&!x.user&&!x.user){const b=await ra(this.storage,this.storageKey+"-user");b&&(b!=null&&b.user)?(x.user=b.user,await $n(this.storage,this.storageKey+"-user"),await Ja(this.storage,this.storageKey,x)):x.user=_f()}if(this._debug(h,"session from storage",x),!this._isValidSession(x)){this._debug(h,"session is not valid"),x!==null&&await this._removeSession();return}const g=((l=x.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<vf;if(this._debug(h,`session has${g?"":" not"} expired with margin of ${vf}s`),g){if(this.autoRefreshToken&&x.refresh_token){const{error:b}=await this._callRefreshToken(x.refresh_token);b&&(console.error(b),qc(b)||(this._debug(h,"refresh failed with a non-retryable error, removing the session",b),await this._removeSession()))}}else if(x.user&&x.user.__isUserNotAvailableProxy===!0)try{const{data:b,error:A}=await this._getUser(x.access_token);!A&&(b!=null&&b.user)?(x.user=b.user,await this._saveSession(x),await this._notifyAllSubscribers("SIGNED_IN",x)):this._debug(h,"could not get user data, skipping SIGNED_IN notification")}catch(b){console.error("Error getting user data:",b),this._debug(h,"error getting user data, skipping SIGNED_IN notification",b)}else await this._notifyAllSubscribers("SIGNED_IN",x)}catch(x){this._debug(h,"error",x),console.error(x);return}finally{this._debug(h,"end")}}async _callRefreshToken(a){var l,h;if(!a)throw new wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const x=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(x,"begin");try{this.refreshingDeferred=new ou;const{data:g,error:b}=await this._refreshAccessToken(a);if(b)throw b;if(!g.session)throw new wr;await this._saveSession(g.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",g.session);const A={data:g.session,error:null};return this.refreshingDeferred.resolve(A),A}catch(g){if(this._debug(x,"error",g),Le(g)){const b={data:null,error:g};return qc(g)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(b),b}throw(h=this.refreshingDeferred)===null||h===void 0||h.reject(g),g}finally{this.refreshingDeferred=null,this._debug(x,"end")}}async _notifyAllSubscribers(a,l,h=!0){const x=`#_notifyAllSubscribers(${a})`;this._debug(x,"begin",l,`broadcast = ${h}`);try{this.broadcastChannel&&h&&this.broadcastChannel.postMessage({event:a,session:l});const g=[],b=Array.from(this.stateChangeEmitters.values()).map(async A=>{try{await A.callback(a,l)}catch(_){g.push(_)}});if(await Promise.all(b),g.length>0){for(let A=0;A<g.length;A+=1)console.error(g[A]);throw g[0]}}finally{this._debug(x,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await $n(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},a),h=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!h&&l.user&&await Ja(this.userStorage,this.storageKey+"-user",{user:l.user});const x=Object.assign({},l);delete x.user;const g=$g(x);await Ja(this.storage,this.storageKey,g)}else{const x=$g(l);await Ja(this.storage,this.storageKey,x)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await $n(this.storage,this.storageKey),await $n(this.storage,this.storageKey+"-code-verifier"),await $n(this.storage,this.storageKey+"-user"),this.userStorage&&await $n(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&er()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Qa);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async l=>{const{data:{session:h}}=l;if(!h||!h.refresh_token||!h.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const x=Math.floor((h.expires_at*1e3-a)/Qa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${x} ticks, a tick lasts ${Qa}ms, refresh threshold is ${Wf} ticks`),x<=Wf&&await this._callRefreshToken(h.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof od)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!er()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const l=`#_onVisibilityChanged(${a})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,l,h){const x=[`provider=${encodeURIComponent(l)}`];if(h!=null&&h.redirectTo&&x.push(`redirect_to=${encodeURIComponent(h.redirectTo)}`),h!=null&&h.scopes&&x.push(`scopes=${encodeURIComponent(h.scopes)}`),this.flowType==="pkce"){const[g,b]=await Ya(this.storage,this.storageKey),A=new URLSearchParams({code_challenge:`${encodeURIComponent(g)}`,code_challenge_method:`${encodeURIComponent(b)}`});x.push(A.toString())}if(h!=null&&h.queryParams){const g=new URLSearchParams(h.queryParams);x.push(g.toString())}return h!=null&&h.skipBrowserRedirect&&x.push(`skip_http_redirect=${h.skipBrowserRedirect}`),`${a}?${x.join("&")}`}async _unenroll(a){try{return await this._useSession(async l=>{var h;const{data:x,error:g}=l;return g?this._returnResult({data:null,error:g}):await Xe(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(h=x==null?void 0:x.session)===null||h===void 0?void 0:h.access_token})})}catch(l){if(Le(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(a){try{return await this._useSession(async l=>{var h,x;const{data:g,error:b}=l;if(b)return this._returnResult({data:null,error:b});const A=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:_,error:v}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:A,headers:this.headers,jwt:(h=g==null?void 0:g.session)===null||h===void 0?void 0:h.access_token});return v?this._returnResult({data:null,error:v}):(a.factorType==="totp"&&_.type==="totp"&&(!((x=_==null?void 0:_.totp)===null||x===void 0)&&x.qr_code)&&(_.totp.qr_code=`data:image/svg+xml;utf-8,${_.totp.qr_code}`),this._returnResult({data:_,error:null}))})}catch(l){if(Le(l))return this._returnResult({data:null,error:l});throw l}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var h;const{data:x,error:g}=l;if(g)return this._returnResult({data:null,error:g});const b=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?qb(a.webauthn.credential_response):Hb(a.webauthn.credential_response)})}:{code:a.code}),{data:A,error:_}=await Xe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:b,headers:this.headers,jwt:(h=x==null?void 0:x.session)===null||h===void 0?void 0:h.access_token});return _?this._returnResult({data:null,error:_}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+A.expires_in},A)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",A),this._returnResult({data:A,error:_}))})}catch(l){if(Le(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var h;const{data:x,error:g}=l;if(g)return this._returnResult({data:null,error:g});const b=await Xe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(h=x==null?void 0:x.session)===null||h===void 0?void 0:h.access_token});if(b.error)return b;const{data:A}=b;if(A.type!=="webauthn")return{data:A,error:null};switch(A.webauthn.type){case"create":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:zb(A.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:Fb(A.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(Le(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(a){const{data:l,error:h}=await this._challenge({factorId:a.factorId});return h?this._returnResult({data:null,error:h}):await this._verify({factorId:a.factorId,challengeId:l.id,code:a.code})}async _listFactors(){var a;const{data:{user:l},error:h}=await this.getUser();if(h)return{data:null,error:h};const x={all:[],phone:[],totp:[],webauthn:[]};for(const g of(a=l==null?void 0:l.factors)!==null&&a!==void 0?a:[])x.all.push(g),g.status==="verified"&&x[g.factor_type].push(g);return{data:x,error:null}}async _getAuthenticatorAssuranceLevel(){var a,l;const{data:{session:h},error:x}=await this.getSession();if(x)return this._returnResult({data:null,error:x});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=Ef(h.access_token);let b=null;g.aal&&(b=g.aal);let A=b;((l=(a=h.user.factors)===null||a===void 0?void 0:a.filter(T=>T.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(A="aal2");const v=g.amr||[];return{data:{currentLevel:b,nextLevel:A,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async l=>{const{data:{session:h},error:x}=l;return x?this._returnResult({data:null,error:x}):h?await Xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:h.access_token,xform:g=>({data:g,error:null})}):this._returnResult({data:null,error:new wr})})}catch(l){if(Le(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(a,l){try{return await this._useSession(async h=>{const{data:{session:x},error:g}=h;if(g)return this._returnResult({data:null,error:g});if(!x)return this._returnResult({data:null,error:new wr});const b=await Xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:x.access_token,body:{action:"approve"},xform:A=>({data:A,error:null})});return b.data&&b.data.redirect_url&&er()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(b.data.redirect_url),b})}catch(h){if(Le(h))return this._returnResult({data:null,error:h});throw h}}async _denyAuthorization(a,l){try{return await this._useSession(async h=>{const{data:{session:x},error:g}=h;if(g)return this._returnResult({data:null,error:g});if(!x)return this._returnResult({data:null,error:new wr});const b=await Xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:x.access_token,body:{action:"deny"},xform:A=>({data:A,error:null})});return b.data&&b.data.redirect_url&&er()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(b.data.redirect_url),b})}catch(h){if(Le(h))return this._returnResult({data:null,error:h});throw h}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:l},error:h}=a;return h?this._returnResult({data:null,error:h}):l?await Xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:x=>({data:x,error:null})}):this._returnResult({data:null,error:new wr})})}catch(a){if(Le(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async l=>{const{data:{session:h},error:x}=l;return x?this._returnResult({data:null,error:x}):h?(await Xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:h.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wr})})}catch(l){if(Le(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(a,l={keys:[]}){let h=l.keys.find(A=>A.kid===a);if(h)return h;const x=Date.now();if(h=this.jwks.keys.find(A=>A.kid===a),h&&this.jwks_cached_at+tb>x)return h;const{data:g,error:b}=await Xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(b)throw b;return!g.keys||g.keys.length===0||(this.jwks=g,this.jwks_cached_at=x,h=g.keys.find(A=>A.kid===a),!h)?null:h}async getClaims(a,l={}){try{let h=a;if(!h){const{data:j,error:P}=await this.getSession();if(P||!j.session)return this._returnResult({data:null,error:P});h=j.session.access_token}const{header:x,payload:g,signature:b,raw:{header:A,payload:_}}=Ef(h);l!=null&&l.allowExpired||bb(g.exp);const v=!x.alg||x.alg.startsWith("HS")||!x.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(x.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!v){const{error:j}=await this.getUser(h);if(j)throw j;return{data:{claims:g,header:x,signature:b},error:null}}const T=vb(x.alg),R=await crypto.subtle.importKey("jwk",v,T,!0,["verify"]);if(!await crypto.subtle.verify(T,R,b,lb(`${A}.${_}`)))throw new Jc("Invalid JWT signature");return{data:{claims:g,header:x,signature:b},error:null}}catch(h){if(Le(h))return this._returnResult({data:null,error:h});throw h}}};cd.nextInstanceID={};const Jb=ld,$b=cd,ev=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Jb,AuthApiError:qm,AuthClient:$b,AuthError:il,AuthImplicitGrantRedirectError:ro,AuthInvalidCredentialsError:no,AuthInvalidJwtError:Jc,AuthInvalidTokenResponseError:ia,AuthPKCEGrantCodeExchangeError:Qf,AuthRetryableFetchError:Qc,AuthSessionMissingError:wr,AuthUnknownError:Ts,AuthWeakPasswordError:Jf,CustomAuthError:Vi,GoTrueAdminApi:ld,GoTrueClient:cd,NavigatorLockAcquireTimeoutError:Wm,SIGN_OUT_SCOPES:Hc,isAuthApiError:Hm,isAuthError:Le,isAuthImplicitGrantRedirectError:Gm,isAuthRetryableFetchError:qc,isAuthSessionMissingError:Vm,isAuthWeakPasswordError:nb,lockInternals:aa,navigatorLock:Zm,processLock:Ib},Symbol.toStringTag,{value:"Module"})),$m=co(ev);var l2;function tv(){if(l2)return eo;l2=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.SupabaseAuthClient=void 0;const d=$m;let a=class extends d.AuthClient{constructor(h){super(h)}};return eo.SupabaseAuthClient=a,eo}var o2;function c2(){if(o2)return Rc;o2=1,Object.defineProperty(Rc,"__esModule",{value:!0});const d=fm,a=ym(),l=Cm,h=Xw,x=Kw(),g=Ww(),b=Zw(),A=tv();class _{constructor(T,R,k){var j,P,G;this.supabaseUrl=T,this.supabaseKey=R;const J=(0,b.validateSupabaseUrl)(T);if(!R)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",J),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",J),this.storageUrl=new URL("storage/v1",J),this.functionsUrl=new URL("functions/v1",J);const ae=`sb-${J.hostname.split(".")[0]}-auth-token`,ce={db:x.DEFAULT_DB_OPTIONS,realtime:x.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},x.DEFAULT_AUTH_OPTIONS),{storageKey:ae}),global:x.DEFAULT_GLOBAL_OPTIONS},W=(0,b.applySettingDefaults)(k??{},ce);this.storageKey=(j=W.auth.storageKey)!==null&&j!==void 0?j:"",this.headers=(P=W.global.headers)!==null&&P!==void 0?P:{},W.accessToken?(this.accessToken=W.accessToken,this.auth=new Proxy({},{get:(me,ze)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(ze)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((G=W.auth)!==null&&G!==void 0?G:{},this.headers,W.global.fetch),this.fetch=(0,g.fetchWithAuth)(R,this._getAccessToken.bind(this),W.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},W.realtime)),this.accessToken&&this.accessToken().then(me=>this.realtime.setAuth(me)).catch(me=>console.warn("Failed to set initial Realtime auth token:",me)),this.rest=new a.PostgrestClient(new URL("rest/v1",J).href,{headers:this.headers,schema:W.db.schema,fetch:this.fetch}),this.storage=new h.StorageClient(this.storageUrl.href,this.headers,this.fetch,k==null?void 0:k.storage),W.accessToken||this._listenForAuthEvents()}get functions(){return new d.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(T){return this.rest.from(T)}schema(T){return this.rest.schema(T)}rpc(T,R={},k={head:!1,get:!1,count:void 0}){return this.rest.rpc(T,R,k)}channel(T,R={config:{}}){return this.realtime.channel(T,R)}getChannels(){return this.realtime.getChannels()}removeChannel(T){return this.realtime.removeChannel(T)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var T,R;if(this.accessToken)return await this.accessToken();const{data:k}=await this.auth.getSession();return(R=(T=k.session)===null||T===void 0?void 0:T.access_token)!==null&&R!==void 0?R:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:T,persistSession:R,detectSessionInUrl:k,storage:j,userStorage:P,storageKey:G,flowType:J,lock:ae,debug:ce,throwOnError:W},me,ze){const _e={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new A.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},_e),me),storageKey:G,autoRefreshToken:T,persistSession:R,detectSessionInUrl:k,storage:j,userStorage:P,flowType:J,lock:ae,debug:ce,throwOnError:W,fetch:ze,hasCustomAuthorizationHeader:Object.keys(this.headers).some(ee=>ee.toLowerCase()==="authorization")})}_initRealtimeClient(T){return new l.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},T),{params:Object.assign({apikey:this.supabaseKey},T==null?void 0:T.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((R,k)=>{this._handleTokenChanged(R,"CLIENT",k==null?void 0:k.access_token)})}_handleTokenChanged(T,R,k){(T==="TOKEN_REFRESHED"||T==="SIGNED_IN")&&this.changedAccessToken!==k?(this.changedAccessToken=k,this.realtime.setAuth(k)):T==="SIGNED_OUT"&&(this.realtime.setAuth(),R=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Rc.default=_,Rc}var u2;function nv(){return u2||(u2=1,(function(d){var a=Fi&&Fi.__createBinding||(Object.create?(function(T,R,k,j){j===void 0&&(j=k);var P=Object.getOwnPropertyDescriptor(R,k);(!P||("get"in P?!R.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return R[k]}}),Object.defineProperty(T,j,P)}):(function(T,R,k,j){j===void 0&&(j=k),T[j]=R[k]})),l=Fi&&Fi.__exportStar||function(T,R){for(var k in T)k!=="default"&&!Object.prototype.hasOwnProperty.call(R,k)&&a(R,T,k)},h=Fi&&Fi.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(d,"__esModule",{value:!0}),d.createClient=d.SupabaseClient=d.FunctionRegion=d.FunctionsError=d.FunctionsRelayError=d.FunctionsFetchError=d.FunctionsHttpError=d.PostgrestError=void 0;const x=h(c2());l($m,d);var g=ym();Object.defineProperty(d,"PostgrestError",{enumerable:!0,get:function(){return g.PostgrestError}});var b=fm;Object.defineProperty(d,"FunctionsHttpError",{enumerable:!0,get:function(){return b.FunctionsHttpError}}),Object.defineProperty(d,"FunctionsFetchError",{enumerable:!0,get:function(){return b.FunctionsFetchError}}),Object.defineProperty(d,"FunctionsRelayError",{enumerable:!0,get:function(){return b.FunctionsRelayError}}),Object.defineProperty(d,"FunctionsError",{enumerable:!0,get:function(){return b.FunctionsError}}),Object.defineProperty(d,"FunctionRegion",{enumerable:!0,get:function(){return b.FunctionRegion}}),l(Cm,d);var A=c2();Object.defineProperty(d,"SupabaseClient",{enumerable:!0,get:function(){return h(A).default}});const _=(T,R,k)=>new x.default(T,R,k);d.createClient=_;function v(){if(typeof window<"u"||typeof process>"u")return!1;const T=process.version;if(T==null)return!1;const R=T.match(/^v(\d+)\./);return R?parseInt(R[1],10)<=18:!1}v()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Fi)),Fi}var ex=nv();const tx=oo(ex),rv=U2({__proto__:null,default:tx},[ex]),{PostgrestError:R3,FunctionsHttpError:I3,FunctionsFetchError:D3,FunctionsRelayError:M3,FunctionsError:B3,FunctionRegion:k3,SupabaseClient:L3,createClient:iv,GoTrueAdminApi:j3,GoTrueClient:U3,AuthAdminApi:P3,AuthClient:z3,navigatorLock:F3,NavigatorLockAcquireTimeoutError:q3,lockInternals:H3,processLock:V3,SIGN_OUT_SCOPES:G3,AuthError:X3,AuthApiError:Y3,AuthUnknownError:K3,CustomAuthError:W3,AuthSessionMissingError:Z3,AuthInvalidTokenResponseError:Q3,AuthInvalidCredentialsError:J3,AuthImplicitGrantRedirectError:$3,AuthPKCEGrantCodeExchangeError:eE,AuthRetryableFetchError:tE,AuthWeakPasswordError:nE,AuthInvalidJwtError:rE,isAuthError:iE,isAuthApiError:sE,isAuthSessionMissingError:aE,isAuthImplicitGrantRedirectError:lE,isAuthRetryableFetchError:oE,isAuthWeakPasswordError:cE,RealtimePresence:uE,RealtimeChannel:hE,RealtimeClient:fE,REALTIME_LISTEN_TYPES:dE,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:gE,REALTIME_PRESENCE_LISTEN_EVENTS:mE,REALTIME_SUBSCRIBE_STATES:xE,REALTIME_CHANNEL_STATES:pE}=tx||rv,ud="stock_products",cu="stock_movements",uu="stock_orders",nl="stock_sync_queue",sv="https://fnhapvoxgqkzokravccd.supabase.co",av="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZuaGFwdm94Z3Frem9rcmF2Y2NkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyMjU5ODksImV4cCI6MjA4MDgwMTk4OX0.xmZ4F4Zwc4azBr5niczcD9ct37CnTsPb1IFCTKhZ-Bw";let Qt=null;const h2=()=>{try{return Qt=iv(sv,av),!0}catch(d){return console.error("Failed to init supabase",d),!1}return!1},hu=d=>{const a=localStorage.getItem(nl),l=a?JSON.parse(a):[];l.push({...d,timestamp:Date.now()}),localStorage.setItem(nl,JSON.stringify(l))},Af=()=>{const d=localStorage.getItem(nl);return d?JSON.parse(d).length:0},f2=async()=>{if(!Qt)return"Offline";const d=localStorage.getItem(nl);if(!d)return"Empty";const a=JSON.parse(d);if(a.length===0)return"Empty";let l=0;const h=[];for(const x of a)try{x.type==="PRODUCT"?await Vc(x.payload,x.isNew||!1,!0):x.type==="MOVEMENT"?await Gc(x.payload,!0):x.type==="ORDER"?await io(x.payload,x.isNew||!1,!0):x.type==="DELETE_ORDER"&&await rx(x.payload,!0),l++}catch(g){console.error("Sync failed for item",x,g),h.push(x)}return h.length>0?localStorage.setItem(nl,JSON.stringify(h)):localStorage.removeItem(nl),`Sincronizados ${l} itens.`},lv=async()=>{if(Qt){const{data:a,error:l}=await Qt.from("products").select("*").order("name");if(!l&&a)return a.map(h=>({...h,id:Array.isArray(h.id)?h.id[0]:h.id}))}const d=localStorage.getItem(ud);return d?JSON.parse(d):[]},Vc=async(d,a,l=!1)=>{if(Qt)if(a){let{error:h}=await Qt.from("products").insert([d]);if(h&&h.message&&h.message.includes("malformed array literal")){const x={...d,id:[d.id]},g=await Qt.from("products").insert([x]);if(g.error)throw new Error(g.error.message)}else if(h)throw new Error(h.message)}else{const{error:h}=await Qt.from("products").upsert(d);if(h)throw new Error(h.message)}if(!l){Qt||hu({type:"PRODUCT",action:"SAVE",payload:d,isNew:a,id:d.id});const h=await ov();let x=[...h];if(a){if(!Qt&&h.find(g=>g.id===d.id))throw new Error("Produto j existe offline!");h.find(g=>g.id===d.id)?x=h.map(g=>g.id===d.id?d:g):x.unshift(d)}else x=h.map(g=>g.id===d.id?d:g);localStorage.setItem(ud,JSON.stringify(x))}},ov=async()=>{const d=localStorage.getItem(ud);return d?JSON.parse(d):[]},cv=async()=>{if(Qt){const{data:a,error:l}=await Qt.from("movements").select("*").order("created_at",{ascending:!1}).limit(200);if(!l&&a)return a.map(h=>{let x=h.matricula,g=h.obs;const b=h.prod_id,A=Array.isArray(b)?b[0]||null:b||null;if(!x&&g&&typeof g=="string"&&g.startsWith("[Mat:")){const _=g.match(/^\[Mat: (.+?)\]\s*(.*)$/);_&&(x=_[1],g=_[2])}return{id:h.id,date:h.created_at,prodId:A,prodName:h.prod_name,qty:h.qty,obs:g,matricula:x}})}const d=localStorage.getItem(cu);return d?JSON.parse(d):[]},Gc=async(d,a=!1)=>{if(Qt){const l=d.matricula?`[Mat: ${d.matricula}] ${d.obs||""}`.trim():d.obs,h={prod_id:d.prodId,prod_name:d.prodName,qty:d.qty,obs:l,created_at:d.date};let{error:x}=await Qt.from("movements").insert([h]);if(x&&x.message&&x.message.includes("malformed array literal")){const g=d.prodId?[d.prodId]:[],b={...h,prod_id:g},A=await Qt.from("movements").insert([b]);if(A.error)throw new Error(A.error.message)}else if(x)throw new Error(x.message)}if(!a){Qt||hu({type:"MOVEMENT",action:"SAVE",payload:d,id:d.id});const l=await uv();l.unshift(d),localStorage.setItem(cu,JSON.stringify(l))}},uv=async()=>{const d=localStorage.getItem(cu);return d?JSON.parse(d):[]},hv=()=>{localStorage.removeItem(cu)},fv=async()=>{if(Qt){const{error:d}=await Qt.from("movements").delete().lte("created_at","3000-01-01");if(d)throw new Error(d.message)}hv()},dv=async()=>{if(Qt){const{data:a,error:l}=await Qt.from("orders").select("*").order("date",{ascending:!1});if(!l&&a)return a.map(h=>{const x=h.envio_malote===!0,g=h.entrega_matriz===!0;let b=h.status;return b==="completed"&&!x&&!g&&(b="pending"),{id:h.id,orderNumber:h.order_number,customerName:h.customer_name,filial:h.filial||"",matricula:h.matricula,date:h.date,status:b,items:h.items||[],obs:h.obs,envioMalote:x,entregaMatriz:g}})}const d=localStorage.getItem(uu);return d?JSON.parse(d).map(l=>({...l,status:l.status==="completed"&&!l.envioMalote&&!l.entregaMatriz?"pending":l.status})):[]},io=async(d,a,l=!1)=>{if(Qt){const h={order_number:d.orderNumber,customer_name:d.customerName,filial:d.filial,matricula:d.matricula,date:d.date,status:d.status,items:d.items,obs:d.obs,envio_malote:d.envioMalote===!0,entrega_matriz:d.entregaMatriz===!0};if(a){const{error:x}=await Qt.from("orders").upsert([{...h,id:d.id}]);if(x)throw new Error(x.message)}else{const{error:x}=await Qt.from("orders").update(h).eq("id",d.id);if(x)throw new Error(x.message)}}if(!l){Qt||hu({type:"ORDER",action:"SAVE",payload:d,isNew:a,id:d.id});let x=[...await nx()];x.find(b=>b.id===d.id)?x=x.map(b=>b.id===d.id?d:b):x.unshift(d),localStorage.setItem(uu,JSON.stringify(x))}},nx=async()=>{const d=localStorage.getItem(uu);return d?JSON.parse(d):[]},rx=async(d,a=!1)=>{if(Qt){const{error:l}=await Qt.from("orders").delete().eq("id",d);if(l)throw new Error(l.message)}if(!a){Qt||hu({type:"DELETE_ORDER",action:"DELETE",payload:d,id:d});const h=(await nx()).filter(x=>x.id!==d);localStorage.setItem(uu,JSON.stringify(h))}},hd=(d,a)=>{const l=new Blob(["\uFEFF"+d],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");if(h.download!==void 0){const x=URL.createObjectURL(l);h.setAttribute("href",x),h.setAttribute("download",a),h.style.visibility="hidden",document.body.appendChild(h),h.click(),document.body.removeChild(h)}},gv=d=>{const a=`Codigo;Produto;Qtd
`,l=d.map(h=>`${h.id};${h.name};${h.qty}`).join(`
`);hd(a+l,`estoque_${new Date().toISOString().slice(0,10)}.csv`)},mv=d=>{const a=`Data;Codigo;Produto;Qtd;Obs;Matricula
`,l=d.map(h=>{const x=new Date(h.date).toLocaleDateString(),g=h.prodId||"SISTEMA";return`${x};${g};${h.prodName};${h.qty};${h.obs||""};${h.matricula||""}`}).join(`
`);hd(a+l,`historico_${new Date().toISOString().slice(0,10)}.csv`)},xv=d=>{const a=`Numero;Data;Cliente;Filial;Matricula;Status;Envio;Itens;Obs
`,l=d.map(h=>{const x=new Date(h.date).toLocaleDateString(),g=h.envioMalote?"Malote":h.entregaMatriz?"Matriz":"Pendente",b=h.items.map(A=>`${A.productName}(${A.qtyRequested})`).join(" | ");return`${h.orderNumber};${x};${h.customerName};${h.filial};${h.matricula};${h.status==="completed"?"Concluido":"Pendente"};${g};${b};${h.obs||""}`}).join(`
`);hd(a+l,`relatorio_pedidos_${new Date().toISOString().slice(0,10)}.csv`)};var Te;(function(d){d[d.QR_CODE=0]="QR_CODE",d[d.AZTEC=1]="AZTEC",d[d.CODABAR=2]="CODABAR",d[d.CODE_39=3]="CODE_39",d[d.CODE_93=4]="CODE_93",d[d.CODE_128=5]="CODE_128",d[d.DATA_MATRIX=6]="DATA_MATRIX",d[d.MAXICODE=7]="MAXICODE",d[d.ITF=8]="ITF",d[d.EAN_13=9]="EAN_13",d[d.EAN_8=10]="EAN_8",d[d.PDF_417=11]="PDF_417",d[d.RSS_14=12]="RSS_14",d[d.RSS_EXPANDED=13]="RSS_EXPANDED",d[d.UPC_A=14]="UPC_A",d[d.UPC_E=15]="UPC_E",d[d.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Te||(Te={}));var d2=new Map([[Te.QR_CODE,"QR_CODE"],[Te.AZTEC,"AZTEC"],[Te.CODABAR,"CODABAR"],[Te.CODE_39,"CODE_39"],[Te.CODE_93,"CODE_93"],[Te.CODE_128,"CODE_128"],[Te.DATA_MATRIX,"DATA_MATRIX"],[Te.MAXICODE,"MAXICODE"],[Te.ITF,"ITF"],[Te.EAN_13,"EAN_13"],[Te.EAN_8,"EAN_8"],[Te.PDF_417,"PDF_417"],[Te.RSS_14,"RSS_14"],[Te.RSS_EXPANDED,"RSS_EXPANDED"],[Te.UPC_A,"UPC_A"],[Te.UPC_E,"UPC_E"],[Te.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),g2;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.URL=1]="URL"})(g2||(g2={}));function pv(d){return Object.values(Te).includes(d)}var nu;(function(d){d[d.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",d[d.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(nu||(nu={}));var yv=(function(){function d(){}return d.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",d.SCAN_DEFAULT_FPS=2,d.DEFAULT_DISABLE_FLIP=!1,d.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,d.DEFAULT_SUPPORTED_SCAN_TYPE=[nu.SCAN_TYPE_CAMERA,nu.SCAN_TYPE_FILE],d})(),ix=(function(){function d(a,l){this.format=a,this.formatName=l}return d.prototype.toString=function(){return this.formatName},d.create=function(a){if(!d2.has(a))throw"".concat(a," not in html5QrcodeSupportedFormatsTextMap");return new d(a,d2.get(a))},d})(),m2=(function(){function d(){}return d.createFromText=function(a){var l={text:a};return{decodedText:a,result:l}},d.createFromQrcodeResult=function(a){return{decodedText:a.text,result:a}},d})(),ed;(function(d){d[d.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",d[d.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",d[d.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ed||(ed={}));var wv=(function(){function d(){}return d.createFrom=function(a){return{errorMessage:a,type:ed.UNKWOWN_ERROR}},d})(),bv=(function(){function d(a){this.verbose=a}return d.prototype.log=function(a){this.verbose&&console.log(a)},d.prototype.warn=function(a){this.verbose&&console.warn(a)},d.prototype.logError=function(a,l){(this.verbose||l===!0)&&console.error(a)},d.prototype.logErrors=function(a){if(a.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(a)},d})();function Hi(d){return typeof d>"u"||d===null}var $a=(function(){function d(){}return d.codeParseError=function(a){return"QR code parse error, error = ".concat(a)},d.errorGettingUserMedia=function(a){return"Error getting userMedia, error = ".concat(a)},d.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},d.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},d.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},d.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},d.scannerPaused=function(){return"Scanner paused"},d})(),sx=(function(){function d(){}return d.isMediaStreamConstraintsValid=function(a,l){if(typeof a!="object"){var h=typeof a;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(h,"."),!0),!1}for(var x=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],g=new Set(x),b=Object.keys(a),A=0,_=b;A<_.length;A++){var v=_[A];if(g.has(v))return l.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},d})(),so={exports:{}},vv=so.exports,x2;function Ev(){return x2||(x2=1,(function(d,a){(function(l,h){h(a)})(vv,(function(l){function h(O){return O==null}var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,t){O.__proto__=t}||function(O,t){for(var r in t)t.hasOwnProperty(r)&&(O[r]=t[r])};function g(O,t){x(O,t);function r(){this.constructor=O}O.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function b(O,t){var r=Object.setPrototypeOf;r?r(O,t):O.__proto__=t}function A(O,t){t===void 0&&(t=O.constructor);var r=Error.captureStackTrace;r&&r(O,t)}var _=(function(O){g(t,O);function t(r){var i=this.constructor,o=O.call(this,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),b(o,i.prototype),A(o),o}return t})(Error);class v extends _{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}v.kind="Exception";class T extends v{}T.kind="ArgumentException";class R extends v{}R.kind="IllegalArgumentException";class k{constructor(t){if(this.binarizer=t,t===null)throw new R("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,i,o){const c=this.binarizer.getLuminanceSource().crop(t,r,i,o);return new k(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new k(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new k(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class j extends v{static getChecksumInstance(){return new j}}j.kind="ChecksumException";class P{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class G{static arraycopy(t,r,i,o,c){for(;c--;)i[o++]=t[r++]}static currentTimeMillis(){return Date.now()}}class J extends v{}J.kind="IndexOutOfBoundsException";class ae extends J{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}ae.kind="ArrayIndexOutOfBoundsException";class ce{static fill(t,r){for(let i=0,o=t.length;i<o;i++)t[i]=r}static fillWithin(t,r,i,o){ce.rangeCheck(t.length,r,i);for(let c=r;c<i;c++)t[c]=o}static rangeCheck(t,r,i){if(r>i)throw new R("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new ae(r);if(i>t)throw new ae(i)}static asList(...t){return t}static create(t,r,i){return Array.from({length:t}).map(c=>Array.from({length:r}).fill(i))}static createInt32Array(t,r,i){return Array.from({length:t}).map(c=>Int32Array.from({length:r}).fill(i))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let i=0,o=t.length;i<o;i++)if(t[i]!==r[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const i of t)r=31*r+i;return r}static fillUint8Array(t,r){for(let i=0;i!==t.length;i++)t[i]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const i=new Uint8Array(r);return i.set(t),i}return t.slice(0,r)}static copyOfRange(t,r,i){const o=i-r,c=new Int32Array(o);return G.arraycopy(t,r,c,0,o),c}static binarySearch(t,r,i){i===void 0&&(i=ce.numberComparator);let o=0,c=t.length-1;for(;o<=c;){const f=c+o>>1,m=i(r,t[f]);if(m>0)o=f+1;else if(m<0)c=f-1;else return f}return-o-1}static numberComparator(t,r){return t-r}}class W{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let i=31;return r=t<<16,r!==0&&(i-=16,t=r),r=t<<8,r!==0&&(i-=8,t=r),r=t<<4,r!==0&&(i-=4,t=r),r=t<<2,r!==0&&(i-=2,t=r),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}W.MIN_VALUE_32_BITS=-2147483648,W.MAX_VALUE=Number.MAX_SAFE_INTEGER;class me{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=me.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=me.makeArray(t);G.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const i=this.bits;let o=Math.floor(t/32),c=i[o];c&=~((1<<(t&31))-1);const f=i.length;for(;c===0;){if(++o===f)return r;c=i[o]}const m=o*32+W.numberOfTrailingZeros(c);return m>r?r:m}getNextUnset(t){const r=this.size;if(t>=r)return r;const i=this.bits;let o=Math.floor(t/32),c=~i[o];c&=~((1<<(t&31))-1);const f=i.length;for(;c===0;){if(++o===f)return r;c=~i[o]}const m=o*32+W.numberOfTrailingZeros(c);return m>r?r:m}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new R;if(r===t)return;r--;const i=Math.floor(t/32),o=Math.floor(r/32),c=this.bits;for(let f=i;f<=o;f++){const m=f>i?0:t&31,E=(2<<(f<o?31:r&31))-(1<<m);c[f]|=E}}clear(){const t=this.bits.length,r=this.bits;for(let i=0;i<t;i++)r[i]=0}isRange(t,r,i){if(r<t||t<0||r>this.size)throw new R;if(r===t)return!0;r--;const o=Math.floor(t/32),c=Math.floor(r/32),f=this.bits;for(let m=o;m<=c;m++){const y=m>o?0:t&31,S=(2<<(m<c?31:r&31))-(1<<y)&4294967295;if((f[m]&S)!==(i?S:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new R("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new R("Sizes don't match");const r=this.bits;for(let i=0,o=r.length;i<o;i++)r[i]^=t.bits[i]}toBytes(t,r,i,o){for(let c=0;c<o;c++){let f=0;for(let m=0;m<8;m++)this.get(t)&&(f|=1<<7-m),t++;r[i+c]=f}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,o=this.bits;for(let c=0;c<i;c++){let f=o[c];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,t[r-c]=f}if(this.size!==i*32){const c=i*32-this.size;let f=t[0]>>>c;for(let m=1;m<i;m++){const y=t[m];f|=y<<32-c,t[m-1]=f,f=y>>>c}t[i-1]=f}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof me))return!1;const r=t;return this.size===r.size&&ce.equals(this.bits,r.bits)}hashCode(){return 31*this.size+ce.hashCode(this.bits)}toString(){let t="";for(let r=0,i=this.size;r<i;r++)(r&7)===0&&(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new me(this.size,this.bits.slice())}}var ze;(function(O){O[O.OTHER=0]="OTHER",O[O.PURE_BARCODE=1]="PURE_BARCODE",O[O.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",O[O.TRY_HARDER=3]="TRY_HARDER",O[O.CHARACTER_SET=4]="CHARACTER_SET",O[O.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",O[O.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",O[O.ASSUME_GS1=7]="ASSUME_GS1",O[O.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",O[O.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",O[O.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ze||(ze={}));var _e=ze;class ee extends v{static getFormatInstance(){return new ee}}ee.kind="FormatException";var ke;(function(O){O[O.Cp437=0]="Cp437",O[O.ISO8859_1=1]="ISO8859_1",O[O.ISO8859_2=2]="ISO8859_2",O[O.ISO8859_3=3]="ISO8859_3",O[O.ISO8859_4=4]="ISO8859_4",O[O.ISO8859_5=5]="ISO8859_5",O[O.ISO8859_6=6]="ISO8859_6",O[O.ISO8859_7=7]="ISO8859_7",O[O.ISO8859_8=8]="ISO8859_8",O[O.ISO8859_9=9]="ISO8859_9",O[O.ISO8859_10=10]="ISO8859_10",O[O.ISO8859_11=11]="ISO8859_11",O[O.ISO8859_13=12]="ISO8859_13",O[O.ISO8859_14=13]="ISO8859_14",O[O.ISO8859_15=14]="ISO8859_15",O[O.ISO8859_16=15]="ISO8859_16",O[O.SJIS=16]="SJIS",O[O.Cp1250=17]="Cp1250",O[O.Cp1251=18]="Cp1251",O[O.Cp1252=19]="Cp1252",O[O.Cp1256=20]="Cp1256",O[O.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",O[O.UTF8=22]="UTF8",O[O.ASCII=23]="ASCII",O[O.Big5=24]="Big5",O[O.GB18030=25]="GB18030",O[O.EUC_KR=26]="EUC_KR"})(ke||(ke={}));class de{constructor(t,r,i,...o){this.valueIdentifier=t,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,de.VALUE_IDENTIFIER_TO_ECI.set(t,this),de.NAME_TO_ECI.set(i,this);const c=this.values;for(let f=0,m=c.length;f!==m;f++){const y=c[f];de.VALUES_TO_ECI.set(y,this)}for(const f of o)de.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new ee("incorect value");const r=de.VALUES_TO_ECI.get(t);if(r===void 0)throw new ee("incorect value");return r}static getCharacterSetECIByName(t){const r=de.NAME_TO_ECI.get(t);if(r===void 0)throw new ee("incorect value");return r}equals(t){if(!(t instanceof de))return!1;const r=t;return this.getName()===r.getName()}}de.VALUE_IDENTIFIER_TO_ECI=new Map,de.VALUES_TO_ECI=new Map,de.NAME_TO_ECI=new Map,de.Cp437=new de(ke.Cp437,Int32Array.from([0,2]),"Cp437"),de.ISO8859_1=new de(ke.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),de.ISO8859_2=new de(ke.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),de.ISO8859_3=new de(ke.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),de.ISO8859_4=new de(ke.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),de.ISO8859_5=new de(ke.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),de.ISO8859_6=new de(ke.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),de.ISO8859_7=new de(ke.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),de.ISO8859_8=new de(ke.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),de.ISO8859_9=new de(ke.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),de.ISO8859_10=new de(ke.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),de.ISO8859_11=new de(ke.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),de.ISO8859_13=new de(ke.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),de.ISO8859_14=new de(ke.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),de.ISO8859_15=new de(ke.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),de.ISO8859_16=new de(ke.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),de.SJIS=new de(ke.SJIS,20,"SJIS","Shift_JIS"),de.Cp1250=new de(ke.Cp1250,21,"Cp1250","windows-1250"),de.Cp1251=new de(ke.Cp1251,22,"Cp1251","windows-1251"),de.Cp1252=new de(ke.Cp1252,23,"Cp1252","windows-1252"),de.Cp1256=new de(ke.Cp1256,24,"Cp1256","windows-1256"),de.UnicodeBigUnmarked=new de(ke.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),de.UTF8=new de(ke.UTF8,26,"UTF8","UTF-8"),de.ASCII=new de(ke.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),de.Big5=new de(ke.Big5,28,"Big5"),de.GB18030=new de(ke.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),de.EUC_KR=new de(ke.EUC_KR,30,"EUC_KR","EUC-KR");class Gn extends v{}Gn.kind="UnsupportedOperationException";class vt{static decode(t,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!vt.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof de?t:de.getCharacterSetECIByName(t)}static decodeFallback(t,r){const i=this.encodingCharacterSet(r);if(vt.isDecodeFallbackSupported(i)){let o="";for(let c=0,f=t.length;c<f;c++){let m=t[c].toString(16);m.length<2&&(m="0"+m),o+="%"+m}return decodeURIComponent(o)}if(i.equals(de.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Gn(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(de.UTF8)||t.equals(de.ISO8859_1)||t.equals(de.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let c=0;c<i.length;c++)o.push(i[c].charCodeAt(0));return new Uint8Array(o)}}class Ne{static castAsNonUtf8Char(t,r=null){const i=r?r.getName():this.ISO88591;return vt.decode(new Uint8Array([t]),i)}static guessEncoding(t,r){if(r!=null&&r.get(_e.CHARACTER_SET)!==void 0)return r.get(_e.CHARACTER_SET).toString();const i=t.length;let o=!0,c=!0,f=!0,m=0,y=0,E=0,S=0,N=0,I=0,L=0,z=0,F=0,Y=0,ne=0;const we=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let pe=0;pe<i&&(o||c||f);pe++){const xe=t[pe]&255;f&&(m>0?(xe&128)===0?f=!1:m--:(xe&128)!==0&&((xe&64)===0?f=!1:(m++,(xe&32)===0?y++:(m++,(xe&16)===0?E++:(m++,(xe&8)===0?S++:f=!1))))),o&&(xe>127&&xe<160?o=!1:xe>159&&(xe<192||xe===215||xe===247)&&ne++),c&&(N>0?xe<64||xe===127||xe>252?c=!1:N--:xe===128||xe===160||xe>239?c=!1:xe>160&&xe<224?(I++,z=0,L++,L>F&&(F=L)):xe>127?(N++,L=0,z++,z>Y&&(Y=z)):(L=0,z=0))}return f&&m>0&&(f=!1),c&&N>0&&(c=!1),f&&(we||y+E+S>0)?Ne.UTF8:c&&(Ne.ASSUME_SHIFT_JIS||F>=3||Y>=3)?Ne.SHIFT_JIS:o&&c?F===2&&I===2||ne*10>=i?Ne.SHIFT_JIS:Ne.ISO88591:o?Ne.ISO88591:c?Ne.SHIFT_JIS:f?Ne.UTF8:Ne.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let i=-1;function o(f,m,y,E,S,N){if(f==="%%")return"%";if(r[++i]===void 0)return;f=E?parseInt(E.substr(1)):void 0;let I=S?parseInt(S.substr(1)):void 0,L;switch(N){case"s":L=r[i];break;case"c":L=r[i][0];break;case"f":L=parseFloat(r[i]).toFixed(f);break;case"p":L=parseFloat(r[i]).toPrecision(f);break;case"e":L=parseFloat(r[i]).toExponential(f);break;case"x":L=parseInt(r[i]).toString(I||16);break;case"d":L=parseFloat(parseInt(r[i],I||10).toPrecision(f)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let z=parseInt(y),F=y&&y[0]+""=="0"?"0":" ";for(;L.length<z;)L=m!==void 0?L+F:F+L;return L}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(c,o)}static getBytes(t,r){return vt.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}Ne.SHIFT_JIS=de.SJIS.getName(),Ne.GB2312="GB2312",Ne.ISO88591=de.ISO8859_1.getName(),Ne.EUC_JP="EUC_JP",Ne.UTF8=de.UTF8.getName(),Ne.PLATFORM_DEFAULT_ENCODING=Ne.UTF8,Ne.ASSUME_SHIFT_JIS=!1;class Je{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Ne.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,i){for(let o=r;r<r+i;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class Et{constructor(t,r,i,o){if(this.width=t,this.height=r,this.rowSize=i,this.bits=o,r==null&&(r=t),this.height=r,t<1||r<1)throw new R("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,i=t[0].length,o=new Et(i,r);for(let c=0;c<r;c++){const f=t[c];for(let m=0;m<i;m++)f[m]&&o.set(m,c)}return o}static parseFromString(t,r,i){if(t===null)throw new R("stringRepresentation cannot be null");const o=new Array(t.length);let c=0,f=0,m=-1,y=0,E=0;for(;E<t.length;)if(t.charAt(E)===`
`||t.charAt(E)==="\r"){if(c>f){if(m===-1)m=c-f;else if(c-f!==m)throw new R("row lengths do not match");f=c,y++}E++}else if(t.substring(E,E+r.length)===r)E+=r.length,o[c]=!0,c++;else if(t.substring(E,E+i.length)===i)E+=i.length,o[c]=!1,c++;else throw new R("illegal character encountered: "+t.substring(E));if(c>f){if(m===-1)m=c-f;else if(c-f!==m)throw new R("row lengths do not match");y++}const S=new Et(m,y);for(let N=0;N<c;N++)o[N]&&S.set(Math.floor(N%m),Math.floor(N/m));return S}get(t,r){const i=r*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new R("input matrix dimensions do not match");const r=new me(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let c=0,f=this.height;c<f;c++){const m=c*i,y=t.getRow(c,r).getBitArray();for(let E=0;E<i;E++)o[m+E]^=y[E]}}clear(){const t=this.bits,r=t.length;for(let i=0;i<r;i++)t[i]=0}setRegion(t,r,i,o){if(r<0||t<0)throw new R("Left and top must be nonnegative");if(o<1||i<1)throw new R("Height and width must be at least 1");const c=t+i,f=r+o;if(f>this.height||c>this.width)throw new R("The region must fit inside the matrix");const m=this.rowSize,y=this.bits;for(let E=r;E<f;E++){const S=E*m;for(let N=t;N<c;N++)y[S+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new me(this.width):r.clear();const i=this.rowSize,o=this.bits,c=t*i;for(let f=0;f<i;f++)r.setBulk(f*32,o[c+f]);return r}setRow(t,r){G.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let i=new me(t),o=new me(t);for(let c=0,f=Math.floor((r+1)/2);c<f;c++)i=this.getRow(c,i),o=this.getRow(r-1-c,o),i.reverse(),o.reverse(),this.setRow(c,o),this.setRow(r-1-c,i)}getEnclosingRectangle(){const t=this.width,r=this.height,i=this.rowSize,o=this.bits;let c=t,f=r,m=-1,y=-1;for(let E=0;E<r;E++)for(let S=0;S<i;S++){const N=o[E*i+S];if(N!==0){if(E<f&&(f=E),E>y&&(y=E),S*32<c){let I=0;for(;(N<<31-I&4294967295)===0;)I++;S*32+I<c&&(c=S*32+I)}if(S*32+31>m){let I=31;for(;!(N>>>I);)I--;S*32+I>m&&(m=S*32+I)}}}return m<c||y<f?null:Int32Array.from([c,f,m-c+1,y-f+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const o=i/t;let c=i%t*32;const f=r[i];let m=0;for(;(f<<31-m&4294967295)===0;)m++;return c+=m,Int32Array.from([c,o])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/t);let c=Math.floor(i%t)*32;const f=r[i];let m=31;for(;!(f>>>m);)m--;return c+=m,Int32Array.from([c,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Et))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&ce.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+ce.hashCode(this.bits),t}toString(t="X ",r="  ",i=`
`){return this.buildToString(t,r,i)}buildToString(t,r,i){let o=new Je;for(let c=0,f=this.height;c<f;c++){for(let m=0,y=this.width;m<y;m++)o.append(this.get(m,c)?t:r);o.append(i)}return o.toString()}clone(){return new Et(this.width,this.height,this.rowSize,this.bits.slice())}}class ie extends v{static getNotFoundInstance(){return new ie}}ie.kind="NotFoundException";class te extends P{constructor(t){super(t),this.luminances=te.EMPTY,this.buckets=new Int32Array(te.LUMINANCE_BUCKETS)}getBlackRow(t,r){const i=this.getLuminanceSource(),o=i.getWidth();r==null||r.getSize()<o?r=new me(o):r.clear(),this.initArrays(o);const c=i.getRow(t,this.luminances),f=this.buckets;for(let y=0;y<o;y++)f[(c[y]&255)>>te.LUMINANCE_SHIFT]++;const m=te.estimateBlackPoint(f);if(o<3)for(let y=0;y<o;y++)(c[y]&255)<m&&r.set(y);else{let y=c[0]&255,E=c[1]&255;for(let S=1;S<o-1;S++){const N=c[S+1]&255;(E*4-y-N)/2<m&&r.set(S),y=E,E=N}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),o=new Et(r,i);this.initArrays(r);const c=this.buckets;for(let y=1;y<5;y++){const E=Math.floor(i*y/5),S=t.getRow(E,this.luminances),N=Math.floor(r*4/5);for(let I=Math.floor(r/5);I<N;I++){const L=S[I]&255;c[L>>te.LUMINANCE_SHIFT]++}}const f=te.estimateBlackPoint(c),m=t.getMatrix();for(let y=0;y<i;y++){const E=y*r;for(let S=0;S<r;S++)(m[E+S]&255)<f&&o.set(S,y)}return o}createBinarizer(t){return new te(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let i=0;i<te.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(t){const r=t.length;let i=0,o=0,c=0;for(let S=0;S<r;S++)t[S]>c&&(o=S,c=t[S]),t[S]>i&&(i=t[S]);let f=0,m=0;for(let S=0;S<r;S++){const N=S-o,I=t[S]*N*N;I>m&&(f=S,m=I)}if(o>f){const S=o;o=f,f=S}if(f-o<=r/16)throw new ie;let y=f-1,E=-1;for(let S=f-1;S>o;S--){const N=S-o,I=N*N*(f-S)*(i-t[S]);I>E&&(y=S,E=I)}return y<<te.LUMINANCE_SHIFT}}te.LUMINANCE_BITS=5,te.LUMINANCE_SHIFT=8-te.LUMINANCE_BITS,te.LUMINANCE_BUCKETS=1<<te.LUMINANCE_BITS,te.EMPTY=Uint8ClampedArray.from([0]);class ue extends te{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=ue.MINIMUM_DIMENSION&&i>=ue.MINIMUM_DIMENSION){const o=t.getMatrix();let c=r>>ue.BLOCK_SIZE_POWER;(r&ue.BLOCK_SIZE_MASK)!==0&&c++;let f=i>>ue.BLOCK_SIZE_POWER;(i&ue.BLOCK_SIZE_MASK)!==0&&f++;const m=ue.calculateBlackPoints(o,c,f,r,i),y=new Et(r,i);ue.calculateThresholdForBlock(o,c,f,r,i,m,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ue(t)}static calculateThresholdForBlock(t,r,i,o,c,f,m){const y=c-ue.BLOCK_SIZE,E=o-ue.BLOCK_SIZE;for(let S=0;S<i;S++){let N=S<<ue.BLOCK_SIZE_POWER;N>y&&(N=y);const I=ue.cap(S,2,i-3);for(let L=0;L<r;L++){let z=L<<ue.BLOCK_SIZE_POWER;z>E&&(z=E);const F=ue.cap(L,2,r-3);let Y=0;for(let we=-2;we<=2;we++){const pe=f[I+we];Y+=pe[F-2]+pe[F-1]+pe[F]+pe[F+1]+pe[F+2]}const ne=Y/25;ue.thresholdBlock(t,z,N,ne,o,m)}}}static cap(t,r,i){return t<r?r:t>i?i:t}static thresholdBlock(t,r,i,o,c,f){for(let m=0,y=i*c+r;m<ue.BLOCK_SIZE;m++,y+=c)for(let E=0;E<ue.BLOCK_SIZE;E++)(t[y+E]&255)<=o&&f.set(r+E,i+m)}static calculateBlackPoints(t,r,i,o,c){const f=c-ue.BLOCK_SIZE,m=o-ue.BLOCK_SIZE,y=new Array(i);for(let E=0;E<i;E++){y[E]=new Int32Array(r);let S=E<<ue.BLOCK_SIZE_POWER;S>f&&(S=f);for(let N=0;N<r;N++){let I=N<<ue.BLOCK_SIZE_POWER;I>m&&(I=m);let L=0,z=255,F=0;for(let ne=0,we=S*o+I;ne<ue.BLOCK_SIZE;ne++,we+=o){for(let pe=0;pe<ue.BLOCK_SIZE;pe++){const xe=t[we+pe]&255;L+=xe,xe<z&&(z=xe),xe>F&&(F=xe)}if(F-z>ue.MIN_DYNAMIC_RANGE)for(ne++,we+=o;ne<ue.BLOCK_SIZE;ne++,we+=o)for(let pe=0;pe<ue.BLOCK_SIZE;pe++)L+=t[we+pe]&255}let Y=L>>ue.BLOCK_SIZE_POWER*2;if(F-z<=ue.MIN_DYNAMIC_RANGE&&(Y=z/2,E>0&&N>0)){const ne=(y[E-1][N]+2*y[E][N-1]+y[E-1][N-1])/4;z<ne&&(Y=ne)}y[E][N]=Y}}return y}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class je{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,i,o){throw new Gn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Gn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Gn("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new Je;for(let i=0;i<this.height;i++){const o=this.getRow(i,t);for(let c=0;c<this.width;c++){const f=o[c]&255;let m;f<64?m="#":f<128?m="+":f<192?m=".":m=" ",r.append(m)}r.append(`
`)}return r.toString()}}class tt extends je{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const i=this.delegate.getRow(t,r),o=this.getWidth();for(let c=0;c<o;c++)i[c]=255-(i[c]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let o=0;o<r;o++)i[o]=255-(t[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,i,o){return new tt(this.delegate.crop(t,r,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new tt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new tt(this.delegate.rotateCounterClockwise45())}}class ut extends je{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=ut.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return ut.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,i){const o=new Uint8ClampedArray(r*i);for(let c=0,f=0,m=t.length;c<m;c+=4,f++){let y;if(t[c+3]===0)y=255;else{const S=t[c],N=t[c+1],I=t[c+2];y=306*S+601*N+117*I+512>>10}o[f]=y}return o}getRow(t,r){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const i=this.getWidth(),o=t*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,i,o){return super.crop(t,r,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),i=r.getContext("2d"),o=t*ut.DEGREE_TO_RADIANS,c=this.canvas.width,f=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(o))*c+Math.abs(Math.sin(o))*f),y=Math.ceil(Math.abs(Math.sin(o))*c+Math.abs(Math.cos(o))*f);return r.width=m,r.height=y,i.translate(m/2,y/2),i.rotate(o),i.drawImage(this.canvas,c/-2,f/-2),this.buffer=ut.makeBufferFromCanvasImageData(r),this}invert(){return new tt(this)}}ut.DEGREE_TO_RADIANS=Math.PI/180;class q{constructor(t,r,i){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var le=(globalThis||Nc||self||window||void 0)&&(globalThis||Nc||self||window||void 0).__awaiter||function(O,t,r,i){function o(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function m(S){try{E(i.next(S))}catch(N){f(N)}}function y(S){try{E(i.throw(S))}catch(N){f(N)}}function E(S){S.done?c(S.value):o(S.value).then(m,y)}E((i=i.apply(O,t||[])).next())})};class Ee{constructor(t,r=500,i){this.reader=t,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return le(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of t){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const c=i.deviceId||i.id,f=i.label||`Video device ${r.length+1}`,m=i.groupId,y={deviceId:c,label:f,kind:o,groupId:m};r.push(y)}return r})}getVideoInputDevices(){return le(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new q(r.deviceId,r.label))})}findDeviceById(t){return le(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return le(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return le(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(t,r){return le(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(t,r){return le(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,r,i){return le(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,i)})}decodeFromVideoDevice(t,r,i){return le(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const c={video:o};return yield this.decodeFromConstraints(c,r,i)})}decodeFromConstraints(t,r,i){return le(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,r,i)})}decodeFromStream(t,r,i){return le(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return le(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((r,i)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return le(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const i=document.getElementById(t);if(!i)throw new T(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new T(`element with id '${t}' must be an ${r} element`);return i}decodeFromImage(t,r){if(!t&&!r)throw new T("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new T("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,i){if(t===void 0&&r===void 0)throw new T("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new T("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(t){if(!t)throw new T("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new T("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=t,i}decodeFromVideoUrl(t){if(!t)throw new T("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=t,i}decodeFromVideoUrlContinuously(t,r){if(!t)throw new T("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,r);return i.src=t,o}_decodeOnLoadImage(t){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return le(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return le(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,i=!0){this._stopAsyncDecode=!1;const o=(c,f)=>{if(this._stopAsyncDecode){f(new ie("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(t);c(m)}catch(m){const y=r&&m instanceof ie,S=(m instanceof j||m instanceof ee)&&i;if(y||S)return setTimeout(o,this._timeBetweenDecodingAttempts,c,f);f(m)}};return new Promise((c,f)=>o(c,f))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);r(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){r(null,o);const c=o instanceof j||o instanceof ee,f=o instanceof ie;(c||f)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,i){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,i=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),i=new ut(r),o=new ue(i);return new k(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class ve{constructor(t,r,i=r==null?0:8*r.length,o,c,f=G.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=i,this.resultPoints=o,this.format=c,this.timestamp=f,this.text=t,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=o,this.format=c,this.resultMetadata=null,f==null?this.timestamp=G.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(r.length+t.length);G.arraycopy(r,0,i,0,r.length),G.arraycopy(t,0,i,r.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var He;(function(O){O[O.AZTEC=0]="AZTEC",O[O.CODABAR=1]="CODABAR",O[O.CODE_39=2]="CODE_39",O[O.CODE_93=3]="CODE_93",O[O.CODE_128=4]="CODE_128",O[O.DATA_MATRIX=5]="DATA_MATRIX",O[O.EAN_8=6]="EAN_8",O[O.EAN_13=7]="EAN_13",O[O.ITF=8]="ITF",O[O.MAXICODE=9]="MAXICODE",O[O.PDF_417=10]="PDF_417",O[O.QR_CODE=11]="QR_CODE",O[O.RSS_14=12]="RSS_14",O[O.RSS_EXPANDED=13]="RSS_EXPANDED",O[O.UPC_A=14]="UPC_A",O[O.UPC_E=15]="UPC_E",O[O.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(He||(He={}));var be=He,ft;(function(O){O[O.OTHER=0]="OTHER",O[O.ORIENTATION=1]="ORIENTATION",O[O.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",O[O.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",O[O.ISSUE_NUMBER=4]="ISSUE_NUMBER",O[O.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",O[O.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",O[O.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",O[O.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",O[O.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",O[O.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ft||(ft={}));var Ye=ft;class Dt{constructor(t,r,i,o,c=-1,f=-1){this.rawBytes=t,this.text=r,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=f,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class fn{exp(t){return this.expTable[t]}log(t){if(t===0)throw new R;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class $t{constructor(t,r){if(r.length===0)throw new R;this.field=t;const i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),G.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(t===1){i=0;for(let f=0,m=r.length;f!==m;f++){const y=r[f];i=fn.addOrSubtract(i,y)}return i}i=r[0];const o=r.length,c=this.field;for(let f=1;f<o;f++)i=fn.addOrSubtract(c.multiply(t,i),r[f]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){const f=r;r=i,i=f}let o=new Int32Array(i.length);const c=i.length-r.length;G.arraycopy(i,0,o,0,c);for(let f=c;f<i.length;f++)o[f]=fn.addOrSubtract(r[f-c],i[f]);return new $t(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,o=t.coefficients,c=o.length,f=new Int32Array(i+c-1),m=this.field;for(let y=0;y<i;y++){const E=r[y];for(let S=0;S<c;S++)f[y+S]=fn.addOrSubtract(f[y+S],m.multiply(E,o[S]))}return new $t(m,f)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,i=this.field,o=new Int32Array(r),c=this.coefficients;for(let f=0;f<r;f++)o[f]=i.multiply(c[f],t);return new $t(i,o)}multiplyByMonomial(t,r){if(t<0)throw new R;if(r===0)return this.field.getZero();const i=this.coefficients,o=i.length,c=new Int32Array(o+t),f=this.field;for(let m=0;m<o;m++)c[m]=f.multiply(i[m],r);return new $t(f,c)}divide(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new R("Divide by 0");const r=this.field;let i=r.getZero(),o=this;const c=t.getCoefficient(t.getDegree()),f=r.inverse(c);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const m=o.getDegree()-t.getDegree(),y=r.multiply(o.getCoefficient(o.getDegree()),f),E=t.multiplyByMonomial(m,y),S=r.buildMonomial(m,y);i=i.addOrSubtract(S),o=o.addOrSubtract(E)}return[i,o]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),r===0||i!==1){const o=this.field.log(i);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class dn extends v{}dn.kind="ArithmeticException";class $e extends fn{constructor(t,r,i){super(),this.primitive=t,this.size=r,this.generatorBase=i;const o=new Int32Array(r);let c=1;for(let m=0;m<r;m++)o[m]=c,c*=2,c>=r&&(c^=t,c&=r-1);this.expTable=o;const f=new Int32Array(r);for(let m=0;m<r-1;m++)f[o[m]]=m;this.logTable=f,this.zero=new $t(this,Int32Array.from([0])),this.one=new $t(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new R;if(r===0)return this.zero;const i=new Int32Array(t+1);return i[0]=r,new $t(this,i)}inverse(t){if(t===0)throw new dn;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+W.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}$e.AZTEC_DATA_12=new $e(4201,4096,1),$e.AZTEC_DATA_10=new $e(1033,1024,1),$e.AZTEC_DATA_6=new $e(67,64,1),$e.AZTEC_PARAM=new $e(19,16,1),$e.QR_CODE_FIELD_256=new $e(285,256,0),$e.DATA_MATRIX_FIELD_256=new $e(301,256,1),$e.AZTEC_DATA_8=$e.DATA_MATRIX_FIELD_256,$e.MAXICODE_FIELD_64=$e.AZTEC_DATA_6;class an extends v{}an.kind="ReedSolomonException";class kn extends v{}kn.kind="IllegalStateException";class vr{constructor(t){this.field=t}decode(t,r){const i=this.field,o=new $t(i,t),c=new Int32Array(r);let f=!0;for(let L=0;L<r;L++){const z=o.evaluateAt(i.exp(L+i.getGeneratorBase()));c[c.length-1-L]=z,z!==0&&(f=!1)}if(f)return;const m=new $t(i,c),y=this.runEuclideanAlgorithm(i.buildMonomial(r,1),m,r),E=y[0],S=y[1],N=this.findErrorLocations(E),I=this.findErrorMagnitudes(S,N);for(let L=0;L<N.length;L++){const z=t.length-1-i.log(N[L]);if(z<0)throw new an("Bad error location");t[z]=$e.addOrSubtract(t[z],I[L])}}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){const L=t;t=r,r=L}const o=this.field;let c=t,f=r,m=o.getZero(),y=o.getOne();for(;f.getDegree()>=(i/2|0);){let L=c,z=m;if(c=f,m=y,c.isZero())throw new an("r_{i-1} was zero");f=L;let F=o.getZero();const Y=c.getCoefficient(c.getDegree()),ne=o.inverse(Y);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){const we=f.getDegree()-c.getDegree(),pe=o.multiply(f.getCoefficient(f.getDegree()),ne);F=F.addOrSubtract(o.buildMonomial(we,pe)),f=f.addOrSubtract(c.multiplyByMonomial(we,pe))}if(y=F.multiply(m).addOrSubtract(z),f.getDegree()>=c.getDegree())throw new kn("Division algorithm failed to reduce polynomial?")}const E=y.getCoefficient(0);if(E===0)throw new an("sigmaTilde(0) was zero");const S=o.inverse(E),N=y.multiplyScalar(S),I=f.multiplyScalar(S);return[N,I]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(r);let o=0;const c=this.field;for(let f=1;f<c.getSize()&&o<r;f++)t.evaluateAt(f)===0&&(i[o]=c.inverse(f),o++);if(o!==r)throw new an("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,r){const i=r.length,o=new Int32Array(i),c=this.field;for(let f=0;f<i;f++){const m=c.inverse(r[f]);let y=1;for(let E=0;E<i;E++)if(f!==E){const S=c.multiply(r[E],m),N=(S&1)===0?S|1:S&-2;y=c.multiply(y,N)}o[f]=c.multiply(t.evaluateAt(m),c.inverse(y)),c.getGeneratorBase()!==0&&(o[f]=c.multiply(o[f],m))}return o}}var gn;(function(O){O[O.UPPER=0]="UPPER",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.DIGIT=3]="DIGIT",O[O.PUNCT=4]="PUNCT",O[O.BINARY=5]="BINARY"})(gn||(gn={}));class Me{decode(t){this.ddata=t;let r=t.getBits(),i=this.extractBits(r),o=this.correctBits(i),c=Me.convertBoolArrayToByteArray(o),f=Me.getEncodedData(o),m=new Dt(c,f,null,null);return m.setNumBits(o.length),m}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,i=gn.UPPER,o=gn.UPPER,c="",f=0;for(;f<r;)if(o===gn.BINARY){if(r-f<5)break;let m=Me.readCode(t,f,5);if(f+=5,m===0){if(r-f<11)break;m=Me.readCode(t,f,11)+31,f+=11}for(let y=0;y<m;y++){if(r-f<8){f=r;break}const E=Me.readCode(t,f,8);c+=Ne.castAsNonUtf8Char(E),f+=8}o=i}else{let m=o===gn.DIGIT?4:5;if(r-f<m)break;let y=Me.readCode(t,f,m);f+=m;let E=Me.getCharacter(o,y);E.startsWith("CTRL_")?(i=o,o=Me.getTable(E.charAt(5)),E.charAt(6)==="L"&&(i=o)):(c+=E,o=i)}return c}static getTable(t){switch(t){case"L":return gn.LOWER;case"P":return gn.PUNCT;case"M":return gn.MIXED;case"D":return gn.DIGIT;case"B":return gn.BINARY;case"U":default:return gn.UPPER}}static getCharacter(t,r){switch(t){case gn.UPPER:return Me.UPPER_TABLE[r];case gn.LOWER:return Me.LOWER_TABLE[r];case gn.MIXED:return Me.MIXED_TABLE[r];case gn.PUNCT:return Me.PUNCT_TABLE[r];case gn.DIGIT:return Me.DIGIT_TABLE[r];default:throw new kn("Bad table")}}correctBits(t){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=$e.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=$e.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=$e.AZTEC_DATA_10):(i=12,r=$e.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),c=t.length/i;if(c<o)throw new ee;let f=t.length%i,m=new Int32Array(c);for(let I=0;I<c;I++,f+=i)m[I]=Me.readCode(t,f,i);try{new vr(r).decode(m,c-o)}catch(I){throw new ee(I)}let y=(1<<i)-1,E=0;for(let I=0;I<o;I++){let L=m[I];if(L===0||L===y)throw new ee;(L===1||L===y-1)&&E++}let S=new Array(o*i-E),N=0;for(let I=0;I<o;I++){let L=m[I];if(L===1||L===y-1)S.fill(L>1,N,N+i-1),N+=i-1;else for(let z=i-1;z>=0;--z)S[N++]=(L&1<<z)!==0}return S}extractBits(t){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(r?11:14)+i*4,c=new Int32Array(o),f=new Array(this.totalBitsInLayer(i,r));if(r)for(let m=0;m<c.length;m++)c[m]=m;else{let m=o+1+2*W.truncDivision(W.truncDivision(o,2)-1,15),y=o/2,E=W.truncDivision(m,2);for(let S=0;S<y;S++){let N=S+W.truncDivision(S,15);c[y-S-1]=E-N-1,c[y+S]=E+N+1}}for(let m=0,y=0;m<i;m++){let E=(i-m)*4+(r?9:12),S=m*2,N=o-1-S;for(let I=0;I<E;I++){let L=I*2;for(let z=0;z<2;z++)f[y+L+z]=t.get(c[S+z],c[S+I]),f[y+2*E+L+z]=t.get(c[S+I],c[N-z]),f[y+4*E+L+z]=t.get(c[N-z],c[N-I]),f[y+6*E+L+z]=t.get(c[N-I],c[S+z])}y+=E*8}return f}static readCode(t,r,i){let o=0;for(let c=r;c<r+i;c++)o<<=1,t[c]&&(o|=1);return o}static readByte(t,r){let i=t.length-r;return i>=8?Me.readCode(t,r,8):Me.readCode(t,r,i)<<8-i}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let i=0;i<r.length;i++)r[i]=Me.readByte(t,8*i);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Me.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Me.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Me.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Me.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Me.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ge{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,i,o){const c=t-i,f=r-o;return Math.sqrt(c*c+f*f)}static sum(t){let r=0;for(let i=0,o=t.length;i!==o;i++){const c=t[i];r+=c}return r}}class Er{static floatToIntBits(t){return t}}Er.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Oe{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Oe){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Er.floatToIntBits(this.x)+Er.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let c,f,m;if(i>=r&&i>=o?(f=t[0],c=t[1],m=t[2]):o>=i&&o>=r?(f=t[1],c=t[0],m=t[2]):(f=t[2],c=t[0],m=t[1]),this.crossProductZ(c,f,m)<0){const y=c;c=m,m=y}t[0]=c,t[1]=f,t[2]=m}static distance(t,r){return Ge.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,i){const o=r.x,c=r.y;return(i.x-o)*(t.y-c)-(i.y-c)*(t.x-o)}}class at{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ns extends at{constructor(t,r,i,o,c){super(t,r),this.compact=i,this.nbDatablocks=o,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ot{constructor(t,r,i,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=ot.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const c=r/2|0;if(this.leftInit=i-c,this.rightInit=i+c,this.upInit=o-c,this.downInit=o+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ie}detect(){let t=this.leftInit,r=this.rightInit,i=this.upInit,o=this.downInit,c=!1,f=!0,m=!1,y=!1,E=!1,S=!1,N=!1;const I=this.width,L=this.height;for(;f;){f=!1;let z=!0;for(;(z||!y)&&r<I;)z=this.containsBlackPoint(i,o,r,!1),z?(r++,f=!0,y=!0):y||r++;if(r>=I){c=!0;break}let F=!0;for(;(F||!E)&&o<L;)F=this.containsBlackPoint(t,r,o,!0),F?(o++,f=!0,E=!0):E||o++;if(o>=L){c=!0;break}let Y=!0;for(;(Y||!S)&&t>=0;)Y=this.containsBlackPoint(i,o,t,!1),Y?(t--,f=!0,S=!0):S||t--;if(t<0){c=!0;break}let ne=!0;for(;(ne||!N)&&i>=0;)ne=this.containsBlackPoint(t,r,i,!0),ne?(i--,f=!0,N=!0):N||i--;if(i<0){c=!0;break}f&&(m=!0)}if(!c&&m){const z=r-t;let F=null;for(let pe=1;F===null&&pe<z;pe++)F=this.getBlackPointOnSegment(t,o-pe,t+pe,o);if(F==null)throw new ie;let Y=null;for(let pe=1;Y===null&&pe<z;pe++)Y=this.getBlackPointOnSegment(t,i+pe,t+pe,i);if(Y==null)throw new ie;let ne=null;for(let pe=1;ne===null&&pe<z;pe++)ne=this.getBlackPointOnSegment(r,i+pe,r-pe,i);if(ne==null)throw new ie;let we=null;for(let pe=1;we===null&&pe<z;pe++)we=this.getBlackPointOnSegment(r,o-pe,r-pe,o);if(we==null)throw new ie;return this.centerEdges(we,F,ne,Y)}else throw new ie}getBlackPointOnSegment(t,r,i,o){const c=Ge.round(Ge.distance(t,r,i,o)),f=(i-t)/c,m=(o-r)/c,y=this.image;for(let E=0;E<c;E++){const S=Ge.round(t+E*f),N=Ge.round(r+E*m);if(y.get(S,N))return new Oe(S,N)}return null}centerEdges(t,r,i,o){const c=t.getX(),f=t.getY(),m=r.getX(),y=r.getY(),E=i.getX(),S=i.getY(),N=o.getX(),I=o.getY(),L=ot.CORR;return c<this.width/2?[new Oe(N-L,I+L),new Oe(m+L,y+L),new Oe(E-L,S-L),new Oe(c+L,f-L)]:[new Oe(N+L,I+L),new Oe(m+L,y-L),new Oe(E-L,S+L),new Oe(c-L,f-L)]}containsBlackPoint(t,r,i,o){const c=this.image;if(o){for(let f=t;f<=r;f++)if(c.get(f,i))return!0}else for(let f=t;f<=r;f++)if(c.get(i,f))return!0;return!1}}ot.INIT_SIZE=10,ot.CORR=1;class Rs{static checkAndNudgePoints(t,r){const i=t.getWidth(),o=t.getHeight();let c=!0;for(let f=0;f<r.length&&c;f+=2){const m=Math.floor(r[f]),y=Math.floor(r[f+1]);if(m<-1||m>i||y<-1||y>o)throw new ie;c=!1,m===-1?(r[f]=0,c=!0):m===i&&(r[f]=i-1,c=!0),y===-1?(r[f+1]=0,c=!0):y===o&&(r[f+1]=o-1,c=!0)}c=!0;for(let f=r.length-2;f>=0&&c;f-=2){const m=Math.floor(r[f]),y=Math.floor(r[f+1]);if(m<-1||m>i||y<-1||y>o)throw new ie;c=!1,m===-1?(r[f]=0,c=!0):m===i&&(r[f]=i-1,c=!0),y===-1?(r[f+1]=0,c=!0):y===o&&(r[f+1]=o-1,c=!0)}}}class tr{constructor(t,r,i,o,c,f,m,y,E){this.a11=t,this.a21=r,this.a31=i,this.a12=o,this.a22=c,this.a32=f,this.a13=m,this.a23=y,this.a33=E}static quadrilateralToQuadrilateral(t,r,i,o,c,f,m,y,E,S,N,I,L,z,F,Y){const ne=tr.quadrilateralToSquare(t,r,i,o,c,f,m,y);return tr.squareToQuadrilateral(E,S,N,I,L,z,F,Y).times(ne)}transformPoints(t){const r=t.length,i=this.a11,o=this.a12,c=this.a13,f=this.a21,m=this.a22,y=this.a23,E=this.a31,S=this.a32,N=this.a33;for(let I=0;I<r;I+=2){const L=t[I],z=t[I+1],F=c*L+y*z+N;t[I]=(i*L+f*z+E)/F,t[I+1]=(o*L+m*z+S)/F}}transformPointsWithValues(t,r){const i=this.a11,o=this.a12,c=this.a13,f=this.a21,m=this.a22,y=this.a23,E=this.a31,S=this.a32,N=this.a33,I=t.length;for(let L=0;L<I;L++){const z=t[L],F=r[L],Y=c*z+y*F+N;t[L]=(i*z+f*F+E)/Y,r[L]=(o*z+m*F+S)/Y}}static squareToQuadrilateral(t,r,i,o,c,f,m,y){const E=t-i+c-m,S=r-o+f-y;if(E===0&&S===0)return new tr(i-t,c-i,t,o-r,f-o,r,0,0,1);{const N=i-c,I=m-c,L=o-f,z=y-f,F=N*z-I*L,Y=(E*z-I*S)/F,ne=(N*S-E*L)/F;return new tr(i-t+Y*i,m-t+ne*m,t,o-r+Y*o,y-r+ne*y,r,Y,ne,1)}}static quadrilateralToSquare(t,r,i,o,c,f,m,y){return tr.squareToQuadrilateral(t,r,i,o,c,f,m,y).buildAdjoint()}buildAdjoint(){return new tr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new tr(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Is extends Rs{sampleGrid(t,r,i,o,c,f,m,y,E,S,N,I,L,z,F,Y,ne,we,pe){const xe=tr.quadrilateralToQuadrilateral(o,c,f,m,y,E,S,N,I,L,z,F,Y,ne,we,pe);return this.sampleGridWithTransform(t,r,i,xe)}sampleGridWithTransform(t,r,i,o){if(r<=0||i<=0)throw new ie;const c=new Et(r,i),f=new Float32Array(2*r);for(let m=0;m<i;m++){const y=f.length,E=m+.5;for(let S=0;S<y;S+=2)f[S]=S/2+.5,f[S+1]=E;o.transformPoints(f),Rs.checkAndNudgePoints(t,f);try{for(let S=0;S<y;S+=2)t.get(Math.floor(f[S]),Math.floor(f[S+1]))&&c.set(S/2,m)}catch{throw new ie}}return c}}class ir{static setGridSampler(t){ir.gridSampler=t}static getInstance(){return ir.gridSampler}}ir.gridSampler=new Is;class Ln{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new Oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ds{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(t){let f=i[0];i[0]=i[2],i[2]=f}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),c=this.getMatrixCornerPoints(i);return new Ns(o,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new ie;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(i,r);let o=0;for(let f=0;f<4;f++){let m=i[(this.shift+f)%4];this.compact?(o<<=7,o+=m>>1&127):(o<<=10,o+=(m>>2&992)+(m>>1&31))}let c=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(t,r){let i=0;t.forEach((o,c,f)=>{let m=(o>>r-2<<1)+(o&1);i=(i<<3)+m}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(W.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new ie}getCorrectedParameterData(t,r){let i,o;r?(i=7,o=2):(i=10,o=4);let c=i-o,f=new Int32Array(i);for(let y=i-1;y>=0;--y)f[y]=t&15,t>>=4;try{new vr($e.AZTEC_PARAM).decode(f,c)}catch{throw new ie}let m=0;for(let y=0;y<o;y++)m=(m<<4)+f[y];return m}getBullsEyeCorners(t){let r=t,i=t,o=t,c=t,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(r,f,1,-1),I=this.getFirstDifferent(i,f,1,1),L=this.getFirstDifferent(o,f,-1,1),z=this.getFirstDifferent(c,f,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(z,N)*this.nbCenterLayers/(this.distancePoint(c,r)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(N,I,L,z))break}r=N,i=I,o=L,c=z,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ie;this.compact=this.nbCenterLayers===5;let m=new Oe(r.getX()+.5,r.getY()-.5),y=new Oe(i.getX()+.5,i.getY()+.5),E=new Oe(o.getX()-.5,o.getY()+.5),S=new Oe(c.getX()-.5,c.getY()-.5);return this.expandSquare([m,y,E,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,i,o;try{let m=new ot(this.image).detect();t=m[0],r=m[1],i=m[2],o=m[3]}catch{let y=this.image.getWidth()/2,E=this.image.getHeight()/2;t=this.getFirstDifferent(new Ln(y+7,E-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ln(y+7,E+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Ln(y-7,E+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Ln(y-7,E-7),!1,-1,-1).toResultPoint()}let c=Ge.round((t.getX()+o.getX()+r.getX()+i.getX())/4),f=Ge.round((t.getY()+o.getY()+r.getY()+i.getY())/4);try{let m=new ot(this.image,15,c,f).detect();t=m[0],r=m[1],i=m[2],o=m[3]}catch{t=this.getFirstDifferent(new Ln(c+7,f-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ln(c+7,f+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Ln(c-7,f+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Ln(c-7,f-7),!1,-1,-1).toResultPoint()}return c=Ge.round((t.getX()+o.getX()+r.getX()+i.getX())/4),f=Ge.round((t.getY()+o.getY()+r.getY()+i.getY())/4),new Ln(c,f)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,i,o,c){let f=ir.getInstance(),m=this.getDimension(),y=m/2-this.nbCenterLayers,E=m/2+this.nbCenterLayers;return f.sampleGrid(t,m,m,y,y,E,y,E,E,y,E,r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY(),c.getX(),c.getY())}sampleLine(t,r,i){let o=0,c=this.distanceResultPoint(t,r),f=c/i,m=t.getX(),y=t.getY(),E=f*(r.getX()-t.getX())/c,S=f*(r.getY()-t.getY())/c;for(let N=0;N<i;N++)this.image.get(Ge.round(m+N*E),Ge.round(y+N*S))&&(o|=1<<i-N-1);return o}isWhiteOrBlackRectangle(t,r,i,o){let c=3;t=new Ln(t.getX()-c,t.getY()+c),r=new Ln(r.getX()-c,r.getY()-c),i=new Ln(i.getX()+c,i.getY()-c),o=new Ln(o.getX()+c,o.getY()+c);let f=this.getColor(o,t);if(f===0)return!1;let m=this.getColor(t,r);return m!==f||(m=this.getColor(r,i),m!==f)?!1:(m=this.getColor(i,o),m===f)}getColor(t,r){let i=this.distancePoint(t,r),o=(r.getX()-t.getX())/i,c=(r.getY()-t.getY())/i,f=0,m=t.getX(),y=t.getY(),E=this.image.get(t.getX(),t.getY()),S=Math.ceil(i);for(let I=0;I<S;I++)m+=o,y+=c,this.image.get(Ge.round(m),Ge.round(y))!==E&&f++;let N=f/i;return N>.1&&N<.9?0:N<=.1===E?1:-1}getFirstDifferent(t,r,i,o){let c=t.getX()+i,f=t.getY()+o;for(;this.isValid(c,f)&&this.image.get(c,f)===r;)c+=i,f+=o;for(c-=i,f-=o;this.isValid(c,f)&&this.image.get(c,f)===r;)c+=i;for(c-=i;this.isValid(c,f)&&this.image.get(c,f)===r;)f+=o;return f-=o,new Ln(c,f)}expandSquare(t,r,i){let o=i/(2*r),c=t[0].getX()-t[2].getX(),f=t[0].getY()-t[2].getY(),m=(t[0].getX()+t[2].getX())/2,y=(t[0].getY()+t[2].getY())/2,E=new Oe(m+o*c,y+o*f),S=new Oe(m-o*c,y-o*f);c=t[1].getX()-t[3].getX(),f=t[1].getY()-t[3].getY(),m=(t[1].getX()+t[3].getX())/2,y=(t[1].getY()+t[3].getY())/2;let N=new Oe(m+o*c,y+o*f),I=new Oe(m-o*c,y-o*f);return[E,N,S,I]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=Ge.round(t.getX()),i=Ge.round(t.getY());return this.isValid(r,i)}distancePoint(t,r){return Ge.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return Ge.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(W.truncDivision(this.nbLayers-4,8)+1)+15}}class Gi{decode(t,r=null){let i=null,o=new Ds(t.getBlackMatrix()),c=null,f=null;try{let S=o.detectMirror(!1);c=S.getPoints(),this.reportFoundResultPoints(r,c),f=new Me().decode(S)}catch(S){i=S}if(f==null)try{let S=o.detectMirror(!0);c=S.getPoints(),this.reportFoundResultPoints(r,c),f=new Me().decode(S)}catch(S){throw i??S}let m=new ve(f.getText(),f.getRawBytes(),f.getNumBits(),c,be.AZTEC,G.currentTimeMillis()),y=f.getByteSegments();y!=null&&m.putMetadata(Ye.BYTE_SEGMENTS,y);let E=f.getECLevel();return E!=null&&m.putMetadata(Ye.ERROR_CORRECTION_LEVEL,E),m}reportFoundResultPoints(t,r){if(t!=null){let i=t.get(_e.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((o,c,f)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class ll extends Ee{constructor(t=500){super(new Gi,t)}}class Ft{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(_e.TRY_HARDER)===!0&&t.isRotateSupported()){const c=t.rotateCounterClockwise(),f=this.doDecode(c,r),m=f.getResultMetadata();let y=270;m!==null&&m.get(Ye.ORIENTATION)===!0&&(y=y+m.get(Ye.ORIENTATION)%360),f.putMetadata(Ye.ORIENTATION,y);const E=f.getResultPoints();if(E!==null){const S=c.getHeight();for(let N=0;N<E.length;N++)E[N]=new Oe(S-E[N].getY()-1,E[N].getX())}return f}else throw new ie}}reset(){}doDecode(t,r){const i=t.getWidth(),o=t.getHeight();let c=new me(i);const f=r&&r.get(_e.TRY_HARDER)===!0,m=Math.max(1,o>>(f?8:5));let y;f?y=o:y=15;const E=Math.trunc(o/2);for(let S=0;S<y;S++){const N=Math.trunc((S+1)/2),I=(S&1)===0,L=E+m*(I?N:-N);if(L<0||L>=o)break;try{c=t.getBlackRow(L,c)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(c.reverse(),r&&r.get(_e.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;r.forEach((Y,ne)=>F.set(ne,Y)),F.delete(_e.NEED_RESULT_POINT_CALLBACK),r=F}try{const F=this.decodeRow(L,c,r);if(z===1){F.putMetadata(Ye.ORIENTATION,180);const Y=F.getResultPoints();Y!==null&&(Y[0]=new Oe(i-Y[0].getX()-1,Y[0].getY()),Y[1]=new Oe(i-Y[1].getX()-1,Y[1].getY()))}return F}catch{}}}throw new ie}static recordPattern(t,r,i){const o=i.length;for(let E=0;E<o;E++)i[E]=0;const c=t.getSize();if(r>=c)throw new ie;let f=!t.get(r),m=0,y=r;for(;y<c;){if(t.get(y)!==f)i[m]++;else{if(++m===o)break;i[m]=1,f=!f}y++}if(!(m===o||m===o-1&&y===c))throw new ie}static recordPatternInReverse(t,r,i){let o=i.length,c=t.get(r);for(;r>0&&o>=0;)t.get(--r)!==c&&(o--,c=!c);if(o>=0)throw new ie;Ft.recordPattern(t,r+1,i)}static patternMatchVariance(t,r,i){const o=t.length;let c=0,f=0;for(let E=0;E<o;E++)c+=t[E],f+=r[E];if(c<f)return Number.POSITIVE_INFINITY;const m=c/f;i*=m;let y=0;for(let E=0;E<o;E++){const S=t[E],N=r[E]*m,I=S>N?S-N:N-S;if(I>i)return Number.POSITIVE_INFINITY;y+=I}return y/c}}class ye extends Ft{static findStartPattern(t){const r=t.getSize(),i=t.getNextSet(0);let o=0,c=Int32Array.from([0,0,0,0,0,0]),f=i,m=!1;const y=6;for(let E=i;E<r;E++)if(t.get(E)!==m)c[o]++;else{if(o===y-1){let S=ye.MAX_AVG_VARIANCE,N=-1;for(let I=ye.CODE_START_A;I<=ye.CODE_START_C;I++){const L=Ft.patternMatchVariance(c,ye.CODE_PATTERNS[I],ye.MAX_INDIVIDUAL_VARIANCE);L<S&&(S=L,N=I)}if(N>=0&&t.isRange(Math.max(0,f-(E-f)/2),f,!1))return Int32Array.from([f,E,N]);f+=c[0]+c[1],c=c.slice(2,c.length-1),c[o-1]=0,c[o]=0,o--}else o++;c[o]=1,m=!m}throw new ie}static decodeCode(t,r,i){Ft.recordPattern(t,i,r);let o=ye.MAX_AVG_VARIANCE,c=-1;for(let f=0;f<ye.CODE_PATTERNS.length;f++){const m=ye.CODE_PATTERNS[f],y=this.patternMatchVariance(r,m,ye.MAX_INDIVIDUAL_VARIANCE);y<o&&(o=y,c=f)}if(c>=0)return c;throw new ie}decodeRow(t,r,i){const o=i&&i.get(_e.ASSUME_GS1)===!0,c=ye.findStartPattern(r),f=c[2];let m=0;const y=new Uint8Array(20);y[m++]=f;let E;switch(f){case ye.CODE_START_A:E=ye.CODE_CODE_A;break;case ye.CODE_START_B:E=ye.CODE_CODE_B;break;case ye.CODE_START_C:E=ye.CODE_CODE_C;break;default:throw new ee}let S=!1,N=!1,I="",L=c[0],z=c[1];const F=Int32Array.from([0,0,0,0,0,0]);let Y=0,ne=0,we=f,pe=0,xe=!0,lt=!1,We=!1;for(;!S;){const Si=N;switch(N=!1,Y=ne,ne=ye.decodeCode(r,F,z),y[m++]=ne,ne!==ye.CODE_STOP&&(xe=!0),ne!==ye.CODE_STOP&&(pe++,we+=pe*ne),L=z,z+=F.reduce((Co,pl)=>Co+pl,0),ne){case ye.CODE_START_A:case ye.CODE_START_B:case ye.CODE_START_C:throw new ee}switch(E){case ye.CODE_CODE_A:if(ne<64)We===lt?I+=String.fromCharCode(32+ne):I+=String.fromCharCode(32+ne+128),We=!1;else if(ne<96)We===lt?I+=String.fromCharCode(ne-64):I+=String.fromCharCode(ne+64),We=!1;else switch(ne!==ye.CODE_STOP&&(xe=!1),ne){case ye.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_A:!lt&&We?(lt=!0,We=!1):lt&&We?(lt=!1,We=!1):We=!0;break;case ye.CODE_SHIFT:N=!0,E=ye.CODE_CODE_B;break;case ye.CODE_CODE_B:E=ye.CODE_CODE_B;break;case ye.CODE_CODE_C:E=ye.CODE_CODE_C;break;case ye.CODE_STOP:S=!0;break}break;case ye.CODE_CODE_B:if(ne<96)We===lt?I+=String.fromCharCode(32+ne):I+=String.fromCharCode(32+ne+128),We=!1;else switch(ne!==ye.CODE_STOP&&(xe=!1),ne){case ye.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_B:!lt&&We?(lt=!0,We=!1):lt&&We?(lt=!1,We=!1):We=!0;break;case ye.CODE_SHIFT:N=!0,E=ye.CODE_CODE_A;break;case ye.CODE_CODE_A:E=ye.CODE_CODE_A;break;case ye.CODE_CODE_C:E=ye.CODE_CODE_C;break;case ye.CODE_STOP:S=!0;break}break;case ye.CODE_CODE_C:if(ne<100)ne<10&&(I+="0"),I+=ne;else switch(ne!==ye.CODE_STOP&&(xe=!1),ne){case ye.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case ye.CODE_CODE_A:E=ye.CODE_CODE_A;break;case ye.CODE_CODE_B:E=ye.CODE_CODE_B;break;case ye.CODE_STOP:S=!0;break}break}Si&&(E=E===ye.CODE_CODE_A?ye.CODE_CODE_B:ye.CODE_CODE_A)}const yn=z-L;if(z=r.getNextUnset(z),!r.isRange(z,Math.min(r.getSize(),z+(z-L)/2),!1))throw new ie;if(we-=pe*Y,we%103!==Y)throw new j;const dr=I.length;if(dr===0)throw new ie;dr>0&&xe&&(E===ye.CODE_CODE_C?I=I.substring(0,dr-2):I=I.substring(0,dr-1));const Kn=(c[1]+c[0])/2,Lt=L+yn/2,zn=y.length,or=new Uint8Array(zn);for(let Si=0;Si<zn;Si++)or[Si]=y[Si];const is=[new Oe(Kn,t),new Oe(Lt,t)];return new ve(I,or,0,is,be.CODE_128,new Date().getTime())}}ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ye.MAX_AVG_VARIANCE=.25,ye.MAX_INDIVIDUAL_VARIANCE=.7,ye.CODE_SHIFT=98,ye.CODE_CODE_C=99,ye.CODE_CODE_B=100,ye.CODE_CODE_A=101,ye.CODE_FNC_1=102,ye.CODE_FNC_2=97,ye.CODE_FNC_3=96,ye.CODE_FNC_4_A=101,ye.CODE_FNC_4_B=100,ye.CODE_START_A=103,ye.CODE_START_B=104,ye.CODE_START_C=105,ye.CODE_STOP=106;class Mt extends Ft{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let c=Mt.findAsteriskPattern(r,o),f=r.getNextSet(c[1]),m=r.getSize(),y,E;do{Mt.recordPattern(r,f,o);let F=Mt.toNarrowWidePattern(o);if(F<0)throw new ie;y=Mt.patternToChar(F),this.decodeRowResult+=y,E=f;for(let Y of o)f+=Y;f=r.getNextSet(f)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S=0;for(let F of o)S+=F;let N=f-E-S;if(f!==m&&N*2<S)throw new ie;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,Y=0;for(let ne=0;ne<F;ne++)Y+=Mt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ne));if(this.decodeRowResult.charAt(F)!==Mt.ALPHABET_STRING.charAt(Y%43))throw new j;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new ie;let I;this.extendedMode?I=Mt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let L=(c[1]+c[0])/2,z=E+S/2;return new ve(I,null,0,[new Oe(L,t),new Oe(z,t)],be.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let i=t.getSize(),o=t.getNextSet(0),c=0,f=o,m=!1,y=r.length;for(let E=o;E<i;E++)if(t.get(E)!==m)r[c]++;else{if(c===y-1){if(this.toNarrowWidePattern(r)===Mt.ASTERISK_ENCODING&&t.isRange(Math.max(0,f-Math.floor((E-f)/2)),f,!1))return[f,E];f+=r[0]+r[1],r.copyWithin(0,2,2+c-1),r[c-1]=0,r[c]=0,c--}else c++;r[c]=1,m=!m}throw new ie}static toNarrowWidePattern(t){let r=t.length,i=0,o;do{let c=2147483647;for(let y of t)y<c&&y>i&&(c=y);i=c,o=0;let f=0,m=0;for(let y=0;y<r;y++){let E=t[y];E>i&&(m|=1<<r-1-y,o++,f+=E)}if(o===3){for(let y=0;y<r&&o>0;y++){let E=t[y];if(E>i&&(o--,E*2>=f))return-1}return m}}while(o>3);return-1}static patternToChar(t){for(let r=0;r<Mt.CHARACTER_ENCODINGS.length;r++)if(Mt.CHARACTER_ENCODINGS[r]===t)return Mt.ALPHABET_STRING.charAt(r);if(t===Mt.ASTERISK_ENCODING)return"*";throw new ie}static decodeExtended(t){let r=t.length,i="";for(let o=0;o<r;o++){let c=t.charAt(o);if(c==="+"||c==="$"||c==="%"||c==="/"){let f=t.charAt(o+1),m="\0";switch(c){case"+":if(f>="A"&&f<="Z")m=String.fromCharCode(f.charCodeAt(0)+32);else throw new ee;break;case"$":if(f>="A"&&f<="Z")m=String.fromCharCode(f.charCodeAt(0)-64);else throw new ee;break;case"%":if(f>="A"&&f<="E")m=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")m=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")m=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")m=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")m="\0";else if(f==="V")m="@";else if(f==="W")m="`";else if(f==="X"||f==="Y"||f==="Z")m="";else throw new ee;break;case"/":if(f>="A"&&f<="O")m=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")m=":";else throw new ee;break}i+=m,o++}else i+=c}return i}}Mt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Mt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Mt.ASTERISK_ENCODING=148;class et extends Ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,i){let o=this.decodeStart(r),c=this.decodeEnd(r),f=new Je;et.decodeMiddle(r,o[1],c[0],f);let m=f.toString(),y=null;i!=null&&(y=i.get(_e.ALLOWED_LENGTHS)),y==null&&(y=et.DEFAULT_ALLOWED_LENGTHS);let E=m.length,S=!1,N=0;for(let z of y){if(E===z){S=!0;break}z>N&&(N=z)}if(!S&&E>N&&(S=!0),!S)throw new ee;const I=[new Oe(o[1],t),new Oe(c[0],t)];return new ve(m,null,0,I,be.ITF,new Date().getTime())}static decodeMiddle(t,r,i,o){let c=new Int32Array(10),f=new Int32Array(5),m=new Int32Array(5);for(c.fill(0),f.fill(0),m.fill(0);r<i;){Ft.recordPattern(t,r,c);for(let E=0;E<5;E++){let S=2*E;f[E]=c[S],m[E]=c[S+1]}let y=et.decodeDigit(f);o.append(y.toString()),y=this.decodeDigit(m),o.append(y.toString()),c.forEach(function(E){r+=E})}}decodeStart(t){let r=et.skipWhiteSpace(t),i=et.findGuardPattern(t,r,et.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let o=r-1;i>0&&o>=0&&!t.get(o);o--)i--;if(i!==0)throw new ie}static skipWhiteSpace(t){const r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new ie;return i}decodeEnd(t){t.reverse();try{let r=et.skipWhiteSpace(t),i;try{i=et.findGuardPattern(t,r,et.END_PATTERN_REVERSED[0])}catch(c){c instanceof ie&&(i=et.findGuardPattern(t,r,et.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let o=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-o,i}finally{t.reverse()}}static findGuardPattern(t,r,i){let o=i.length,c=new Int32Array(o),f=t.getSize(),m=!1,y=0,E=r;c.fill(0);for(let S=r;S<f;S++)if(t.get(S)!==m)c[y]++;else{if(y===o-1){if(Ft.patternMatchVariance(c,i,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE)return[E,S];E+=c[0]+c[1],G.arraycopy(c,2,c,0,y-1),c[y-1]=0,c[y]=0,y--}else y++;c[y]=1,m=!m}throw new ie}static decodeDigit(t){let r=et.MAX_AVG_VARIANCE,i=-1,o=et.PATTERNS.length;for(let c=0;c<o;c++){let f=et.PATTERNS[c],m=Ft.patternMatchVariance(t,f,et.MAX_INDIVIDUAL_VARIANCE);m<r?(r=m,i=c):m===r&&(i=-1)}if(i>=0)return i%10;throw new ie}}et.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],et.MAX_AVG_VARIANCE=.38,et.MAX_INDIVIDUAL_VARIANCE=.5,et.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],et.START_PATTERN=Int32Array.from([1,1,1,1]),et.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Gt extends Ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,i,o=0,c=Int32Array.from([0,0,0]);for(;!r;){c=Int32Array.from([0,0,0]),i=Gt.findGuardPattern(t,o,!1,this.START_END_PATTERN,c);let f=i[0];o=i[1];let m=f-(o-f);m>=0&&(r=t.isRange(m,f,!1))}return i}static checkChecksum(t){return Gt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return Gt.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let o=r-1;o>=0;o-=2){let c=t.charAt(o).charCodeAt(0)-48;if(c<0||c>9)throw new ee;i+=c}i*=3;for(let o=r-2;o>=0;o-=2){let c=t.charAt(o).charCodeAt(0)-48;if(c<0||c>9)throw new ee;i+=c}return(1e3-i)%10}static decodeEnd(t,r){return Gt.findGuardPattern(t,r,!1,Gt.START_END_PATTERN,new Int32Array(Gt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,i,o){return this.findGuardPattern(t,r,i,o,new Int32Array(o.length))}static findGuardPattern(t,r,i,o,c){let f=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);let m=0,y=r,E=o.length,S=i;for(let N=r;N<f;N++)if(t.get(N)!==S)c[m]++;else{if(m===E-1){if(Ft.patternMatchVariance(c,o,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return Int32Array.from([y,N]);y+=c[0]+c[1];let I=c.slice(2,c.length-1);for(let L=0;L<m-1;L++)c[L]=I[L];c[m-1]=0,c[m]=0,m--}else m++;c[m]=1,S=!S}throw new ie}static decodeDigit(t,r,i,o){this.recordPattern(t,i,r);let c=this.MAX_AVG_VARIANCE,f=-1,m=o.length;for(let y=0;y<m;y++){let E=o[y],S=Ft.patternMatchVariance(r,E,Gt.MAX_INDIVIDUAL_VARIANCE);S<c&&(c=S,f=y)}if(f>=0)return f;throw new ie}}Gt.MAX_AVG_VARIANCE=.48,Gt.MAX_INDIVIDUAL_VARIANCE=.7,Gt.START_END_PATTERN=Int32Array.from([1,1,1]),Gt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Gt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class si{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let o=this.decodeRowStringBuffer,c=this.decodeMiddle(r,i,o),f=o.toString(),m=si.parseExtensionString(f),y=[new Oe((i[0]+i[1])/2,t),new Oe(c,t)],E=new ve(f,null,0,y,be.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&E.putAllMetadata(m),E}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let c=t.getSize(),f=r[1],m=0;for(let E=0;E<5&&f<c;E++){let S=Gt.decodeDigit(t,o,f,Gt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+S%10);for(let N of o)f+=N;S>=10&&(m|=1<<4-E),E!==4&&(f=t.getNextSet(f),f=t.getNextUnset(f))}if(i.length!==5)throw new ie;let y=this.determineCheckDigit(m);if(si.extensionChecksum(i.toString())!==y)throw new ie;return f}static extensionChecksum(t){let r=t.length,i=0;for(let o=r-2;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;i*=3;for(let o=r-1;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new ie}static parseExtensionString(t){if(t.length!==5)return null;let r=si.parseExtension5String(t);return r==null?null:new Map([[Ye.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(t.substring(1)),o=(i/100).toString(),c=i%100,f=c<10?"0"+c:c.toString();return r+o+"."+f}}class Ms{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let o=this.decodeRowStringBuffer,c=this.decodeMiddle(r,i,o),f=o.toString(),m=Ms.parseExtensionString(f),y=[new Oe((i[0]+i[1])/2,t),new Oe(c,t)],E=new ve(f,null,0,y,be.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&E.putAllMetadata(m),E}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let c=t.getSize(),f=r[1],m=0;for(let y=0;y<2&&f<c;y++){let E=Gt.decodeDigit(t,o,f,Gt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+E%10);for(let S of o)f+=S;E>=10&&(m|=1<<1-y),y!==1&&(f=t.getNextSet(f),f=t.getNextUnset(f))}if(i.length!==2)throw new ie;if(parseInt(i.toString())%4!==m)throw new ie;return f}static parseExtensionString(t){return t.length!==2?null:new Map([[Ye.ISSUE_NUMBER,parseInt(t)]])}}class ai{static decodeRow(t,r,i){let o=Gt.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new si().decodeRow(t,r,o)}catch{return new Ms().decodeRow(t,r,o)}}}ai.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ht extends Gt{constructor(){super(),this.decodeRowStringBuffer="",ht.L_AND_G_PATTERNS=ht.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=ht.L_PATTERNS[t-10],i=new Int32Array(r.length);for(let o=0;o<r.length;o++)i[o]=r[r.length-o-1];ht.L_AND_G_PATTERNS[t]=i}}decodeRow(t,r,i){let o=ht.findStartGuardPattern(r),c=i==null?null:i.get(_e.NEED_RESULT_POINT_CALLBACK);if(c!=null){const xe=new Oe((o[0]+o[1])/2,t);c.foundPossibleResultPoint(xe)}let f=this.decodeMiddle(r,o,this.decodeRowStringBuffer),m=f.rowOffset,y=f.resultString;if(c!=null){const xe=new Oe(m,t);c.foundPossibleResultPoint(xe)}let E=this.decodeEnd(r,m);if(c!=null){const xe=new Oe((E[0]+E[1])/2,t);c.foundPossibleResultPoint(xe)}let S=E[1],N=S+(S-E[0]);if(N>=r.getSize()||!r.isRange(S,N,!1))throw new ie;let I=y.toString();if(I.length<8)throw new ee;if(!ht.checkChecksum(I))throw new j;let L=(o[1]+o[0])/2,z=(E[1]+E[0])/2,F=this.getBarcodeFormat(),Y=[new Oe(L,t),new Oe(z,t)],ne=new ve(I,null,0,Y,F,new Date().getTime()),we=0;try{let xe=ai.decodeRow(t,r,E[1]);ne.putMetadata(Ye.UPC_EAN_EXTENSION,xe.getText()),ne.putAllMetadata(xe.getResultMetadata()),ne.addResultPoints(xe.getResultPoints()),we=xe.getText().length}catch{}let pe=i==null?null:i.get(_e.ALLOWED_EAN_EXTENSIONS);if(pe!=null){let xe=!1;for(let lt in pe)if(we.toString()===lt){xe=!0;break}if(!xe)throw new ie}return ne}decodeEnd(t,r){return ht.findGuardPattern(t,r,!1,ht.START_END_PATTERN,new Int32Array(ht.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return ht.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return ht.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let o=r-1;o>=0;o-=2){let c=t.charAt(o).charCodeAt(0)-48;if(c<0||c>9)throw new ee;i+=c}i*=3;for(let o=r-2;o>=0;o-=2){let c=t.charAt(o).charCodeAt(0)-48;if(c<0||c>9)throw new ee;i+=c}return(1e3-i)%10}}class ur extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let c=t.getSize(),f=r[1],m=0;for(let E=0;E<6&&f<c;E++){let S=ht.decodeDigit(t,o,f,ht.L_AND_G_PATTERNS);i+=String.fromCharCode(48+S%10);for(let N of o)f+=N;S>=10&&(m|=1<<5-E)}i=ur.determineFirstDigit(i,m),f=ht.findGuardPattern(t,f,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&f<c;E++){let S=ht.decodeDigit(t,o,f,ht.L_PATTERNS);i+=String.fromCharCode(48+S);for(let N of o)f+=N}return{rowOffset:f,resultString:i}}getBarcodeFormat(){return be.EAN_13}static determineFirstDigit(t,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new ie}}ur.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Lr extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let c=t.getSize(),f=r[1];for(let y=0;y<4&&f<c;y++){let E=ht.decodeDigit(t,o,f,ht.L_PATTERNS);i+=String.fromCharCode(48+E);for(let S of o)f+=S}f=ht.findGuardPattern(t,f,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<c;y++){let E=ht.decodeDigit(t,o,f,ht.L_PATTERNS);i+=String.fromCharCode(48+E);for(let S of o)f+=S}return{rowOffset:f,resultString:i}}getBarcodeFormat(){return be.EAN_8}}class li extends ht{constructor(){super(...arguments),this.ean13Reader=new ur}getBarcodeFormat(){return be.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))}decodeMiddle(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let i=new ve(r.substring(1),null,null,t.getResultPoints(),be.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new ie}reset(){this.ean13Reader.reset()}}class Cn extends ht{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,i){const o=this.decodeMiddleCounters.map(E=>E);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const c=t.getSize();let f=r[1],m=0;for(let E=0;E<6&&f<c;E++){const S=Cn.decodeDigit(t,o,f,Cn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+S%10);for(let N of o)f+=N;S>=10&&(m|=1<<5-E)}let y=Cn.determineNumSysAndCheckDigit(i,m);return{rowOffset:f,resultString:y}}decodeEnd(t,r){return Cn.findGuardPatternWithoutCounters(t,r,!0,Cn.MIDDLE_END_PATTERN)}checkChecksum(t){return ht.checkChecksum(Cn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let c=String.fromCharCode(48+i),f=String.fromCharCode(48+o);return c+t+f}throw ie.getNotFoundInstance()}getBarcodeFormat(){return be.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(c=>c.charCodeAt(0)),i=new Je;i.append(t.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}Cn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Cn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Bs extends Ft{constructor(t){super();let r=t==null?null:t.get(_e.POSSIBLE_FORMATS),i=[];h(r)?(i.push(new ur),i.push(new li),i.push(new Lr),i.push(new Cn)):(r.indexOf(be.EAN_13)>-1&&i.push(new ur),r.indexOf(be.UPC_A)>-1&&i.push(new li),r.indexOf(be.EAN_8)>-1&&i.push(new Lr),r.indexOf(be.UPC_E)>-1&&i.push(new Cn)),this.readers=i}decodeRow(t,r,i){for(let o of this.readers)try{const c=o.decodeRow(t,r,i),f=c.getBarcodeFormat()===be.EAN_13&&c.getText().charAt(0)==="0",m=i==null?null:i.get(_e.POSSIBLE_FORMATS),y=m==null||m.includes(be.UPC_A);if(f&&y){const E=c.getRawBytes(),S=new ve(c.getText().substring(1),E,E?E.length:null,c.getResultPoints(),be.UPC_A);return S.putAllMetadata(c.getResultMetadata()),S}return c}catch{}throw new ie}reset(){for(let t of this.readers)t.reset()}}class V extends Ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let i=0;i<r.length;i++)if(Ft.patternMatchVariance(t,r[i],V.MAX_INDIVIDUAL_VARIANCE)<V.MAX_AVG_VARIANCE)return i;throw new ie}static count(t){return Ge.sum(new Int32Array(t))}static increment(t,r){let i=0,o=r[0];for(let c=1;c<t.length;c++)r[c]>o&&(o=r[c],i=c);t[i]++}static decrement(t,r){let i=0,o=r[0];for(let c=1;c<t.length;c++)r[c]<o&&(o=r[c],i=c);t[i]--}static isFinderPattern(t){let r=t[0]+t[1],i=r+t[2]+t[3],o=r/i;if(o>=V.MIN_FINDER_PATTERN_RATIO&&o<=V.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let m of t)m>f&&(f=m),m<c&&(c=m);return f<10*c}return!1}}V.MAX_AVG_VARIANCE=.2,V.MAX_INDIVIDUAL_VARIANCE=.45,V.MIN_FINDER_PATTERN_RATIO=9.5/12,V.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ce{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Ce))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Se{constructor(t,r,i,o,c){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Oe(i,c)),this.resultPoints.push(new Oe(o,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Se))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Ze{constructor(){}static getRSSvalue(t,r,i){let o=0;for(let y of t)o+=y;let c=0,f=0,m=t.length;for(let y=0;y<m-1;y++){let E;for(E=1,f|=1<<y;E<t[y];E++,f&=~(1<<y)){let S=Ze.combins(o-E-1,m-y-2);if(i&&f===0&&o-E-(m-y-1)>=m-y-1&&(S-=Ze.combins(o-E-(m-y),m-y-2)),m-y-1>1){let N=0;for(let I=o-E-(m-y-2);I>r;I--)N+=Ze.combins(o-E-I-1,m-y-3);S-=N*(m-1-y)}else o-E>r&&S--;c+=S}o-=E}return c}static combins(t,r){let i,o;t-r>r?(o=r,i=t-r):(o=t-r,i=r);let c=1,f=1;for(let m=t;m>i;m--)c*=m,f<=o&&(c/=f,f++);for(;f<=o;)c/=f,f++;return c}}class jt{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let i=12*r,o=new me(i),c=0,m=t[0].getRightChar().getValue();for(let y=11;y>=0;--y)(m&1<<y)!=0&&o.set(c),c++;for(let y=1;y<t.length;++y){let E=t[y],S=E.getLeftChar().getValue();for(let N=11;N>=0;--N)(S&1<<N)!=0&&o.set(c),c++;if(E.getRightChar()!=null){let N=E.getRightChar().getValue();for(let I=11;I>=0;--I)(N&1<<I)!=0&&o.set(c),c++}}return o}}class ln{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class mn{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Ut extends mn{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Ut.FNC1}}Ut.FNC1="$";class xn extends mn{constructor(t,r,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Xn extends mn{constructor(t,r,i){if(super(t),r<0||r>10||i<0||i>10)throw new ee;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Xn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Xn.FNC1}isAnyFNC1(){return this.firstDigit===Xn.FNC1||this.secondDigit===Xn.FNC1}}Xn.FNC1=10;class Ae{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new ie;let r=t.substring(0,2);for(let c of Ae.TWO_DIGIT_DATA_LENGTH)if(c[0]===r)return c[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(2,c[2],t):Ae.processFixedAI(2,c[1],t);if(t.length<3)throw new ie;let i=t.substring(0,3);for(let c of Ae.THREE_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(3,c[2],t):Ae.processFixedAI(3,c[1],t);for(let c of Ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(4,c[2],t):Ae.processFixedAI(4,c[1],t);if(t.length<4)throw new ie;let o=t.substring(0,4);for(let c of Ae.FOUR_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(4,c[2],t):Ae.processFixedAI(4,c[1],t);throw new ie}static processFixedAI(t,r,i){if(i.length<t)throw new ie;let o=i.substring(0,t);if(i.length<t+r)throw new ie;let c=i.substring(t,t+r),f=i.substring(t+r),m="("+o+")"+c,y=Ae.parseFieldsInGeneralPurpose(f);return y==null?m:m+y}static processVariableAI(t,r,i){let o=i.substring(0,t),c;i.length<t+r?c=i.length:c=t+r;let f=i.substring(t,c),m=i.substring(c),y="("+o+")"+f,E=Ae.parseFieldsInGeneralPurpose(m);return E==null?y:y+E}}Ae.VARIABLE_LENGTH=[],Ae.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ae.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ae.VARIABLE_LENGTH,20],["22",Ae.VARIABLE_LENGTH,29],["30",Ae.VARIABLE_LENGTH,8],["37",Ae.VARIABLE_LENGTH,8],["90",Ae.VARIABLE_LENGTH,30],["91",Ae.VARIABLE_LENGTH,30],["92",Ae.VARIABLE_LENGTH,30],["93",Ae.VARIABLE_LENGTH,30],["94",Ae.VARIABLE_LENGTH,30],["95",Ae.VARIABLE_LENGTH,30],["96",Ae.VARIABLE_LENGTH,30],["97",Ae.VARIABLE_LENGTH,3],["98",Ae.VARIABLE_LENGTH,30],["99",Ae.VARIABLE_LENGTH,30]],Ae.THREE_DIGIT_DATA_LENGTH=[["240",Ae.VARIABLE_LENGTH,30],["241",Ae.VARIABLE_LENGTH,30],["242",Ae.VARIABLE_LENGTH,6],["250",Ae.VARIABLE_LENGTH,30],["251",Ae.VARIABLE_LENGTH,30],["253",Ae.VARIABLE_LENGTH,17],["254",Ae.VARIABLE_LENGTH,20],["400",Ae.VARIABLE_LENGTH,30],["401",Ae.VARIABLE_LENGTH,30],["402",17],["403",Ae.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ae.VARIABLE_LENGTH,20],["421",Ae.VARIABLE_LENGTH,15],["422",3],["423",Ae.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ae.VARIABLE_LENGTH,15],["391",Ae.VARIABLE_LENGTH,18],["392",Ae.VARIABLE_LENGTH,15],["393",Ae.VARIABLE_LENGTH,18],["703",Ae.VARIABLE_LENGTH,30]],Ae.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ae.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ae.VARIABLE_LENGTH,20],["8003",Ae.VARIABLE_LENGTH,30],["8004",Ae.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ae.VARIABLE_LENGTH,30],["8008",Ae.VARIABLE_LENGTH,12],["8018",18],["8020",Ae.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ae.VARIABLE_LENGTH,70],["8200",Ae.VARIABLE_LENGTH,70]];class qn{constructor(t){this.buffer=new Je,this.information=t}decodeAllCodes(t,r){let i=r,o=null;do{let c=this.decodeGeneralPurposeField(i,o),f=Ae.parseFieldsInGeneralPurpose(c.getNewString());if(f!=null&&t.append(f),c.isRemaining()?o=""+c.getRemainingValue():o=null,i===c.getNewPosition())break;i=c.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(t,4);return c===0?new Xn(this.information.getSize(),Xn.FNC1,Xn.FNC1):new Xn(this.information.getSize(),c-1,Xn.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),i=(r-8)/11,o=(r-8)%11;return new Xn(t+7,i,o)}extractNumericValueFromBitArray(t,r){return qn.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,i){let o=0;for(let c=0;c<i;++c)t.get(r+c)&&(o|=1<<i-c-1);return o}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new xn(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new xn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new xn(this.current.getPosition(),this.buffer.toString()):r=new xn(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new ln(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new xn(this.current.getPosition(),this.buffer.toString());return new ln(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ln(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new xn(this.current.getPosition(),this.buffer.toString());return new ln(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ln(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new xn(this.current.getPosition(),this.buffer.toString());return new ln(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ln(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Ut(t+5,Ut.FNC1);if(r>=5&&r<15)return new Ut(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new Ut(t+7,""+(i+1));if(i>=90&&i<116)return new Ut(t+7,""+(i+7));let o=this.extractNumericValueFromBitArray(t,8),c;switch(o){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new ee}return new Ut(t+8,c)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Ut(t+5,Ut.FNC1);if(r>=5&&r<15)return new Ut(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new Ut(t+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new kn("Decoding invalid alphanumeric value: "+i)}return new Ut(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Xt{constructor(t){this.information=t,this.generalDecoder=new qn(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Nt extends Xt{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)}encodeCompressedGtinWithoutAI(t,r,i){for(let o=0;o<4;++o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);c/100===0&&t.append("0"),c/10===0&&t.append("0"),t.append(c)}Nt.appendCheckDigit(t,i)}static appendCheckDigit(t,r){let i=0;for(let o=0;o<13;o++){let c=t.charAt(o+r).charCodeAt(0)-48;i+=(o&1)===0?3*c:c}i=10-i%10,i===10&&(i=0),t.append(i)}}Nt.GTIN_SIZE=40;class sr extends Nt{constructor(t){super(t)}parseInformation(){let t=new Je;t.append("(01)");let r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(sr.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,sr.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,sr.HEADER_SIZE+44)}}sr.HEADER_SIZE=4;class oi extends Xt{constructor(t){super(t)}parseInformation(){let t=new Je;return this.getGeneralDecoder().decodeAllCodes(t,oi.HEADER_SIZE)}}oi.HEADER_SIZE=5;class Xi extends Nt{constructor(t){super(t)}encodeCompressedWeight(t,r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,o);let c=this.checkWeight(o),f=1e5;for(let m=0;m<5;++m)c/f===0&&t.append("0"),f/=10;t.append(c)}}class Hn extends Xi{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Hn.HEADER_SIZE+Xi.GTIN_SIZE+Hn.WEIGHT_SIZE)throw new ie;let t=new Je;return this.encodeCompressedGtin(t,Hn.HEADER_SIZE),this.encodeCompressedWeight(t,Hn.HEADER_SIZE+Xi.GTIN_SIZE,Hn.WEIGHT_SIZE),t.toString()}}Hn.HEADER_SIZE=5,Hn.WEIGHT_SIZE=15;class ua extends Hn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class ci extends Hn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Yn extends Nt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Yn.HEADER_SIZE+Nt.GTIN_SIZE)throw new ie;let t=new Je;this.encodeCompressedGtin(t,Yn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Yn.HEADER_SIZE+Nt.GTIN_SIZE,Yn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Yn.HEADER_SIZE+Nt.GTIN_SIZE+Yn.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}Yn.HEADER_SIZE=8,Yn.LAST_DIGIT_SIZE=2;class on extends Nt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<on.HEADER_SIZE+Nt.GTIN_SIZE)throw new ie;let t=new Je;this.encodeCompressedGtin(t,on.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(on.HEADER_SIZE+Nt.GTIN_SIZE,on.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(on.HEADER_SIZE+Nt.GTIN_SIZE+on.LAST_DIGIT_SIZE,on.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(on.HEADER_SIZE+Nt.GTIN_SIZE+on.LAST_DIGIT_SIZE+on.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}on.HEADER_SIZE=8,on.LAST_DIGIT_SIZE=2,on.FIRST_THREE_DIGITS_SIZE=10;class _t extends Xi{constructor(t,r,i){super(t),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=_t.HEADER_SIZE+_t.GTIN_SIZE+_t.WEIGHT_SIZE+_t.DATE_SIZE)throw new ie;let t=new Je;return this.encodeCompressedGtin(t,_t.HEADER_SIZE),this.encodeCompressedWeight(t,_t.HEADER_SIZE+_t.GTIN_SIZE,_t.WEIGHT_SIZE),this.encodeCompressedDate(t,_t.HEADER_SIZE+_t.GTIN_SIZE+_t.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,_t.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=i%32;i/=32;let c=i%12+1;i/=12;let f=i;f/10==0&&t.append("0"),t.append(f),c/10==0&&t.append("0"),t.append(c),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}_t.HEADER_SIZE=8,_t.WEIGHT_SIZE=20,_t.DATE_SIZE=16;function Yr(O){try{if(O.get(1))return new sr(O);if(!O.get(2))return new oi(O);switch(qn.extractNumericValueFromBitArray(O,1,4)){case 4:return new ua(O);case 5:return new ci(O)}switch(qn.extractNumericValueFromBitArray(O,1,5)){case 12:return new Yn(O);case 13:return new on(O)}switch(qn.extractNumericValueFromBitArray(O,1,7)){case 56:return new _t(O,"310","11");case 57:return new _t(O,"320","11");case 58:return new _t(O,"310","13");case 59:return new _t(O,"320","13");case 60:return new _t(O,"310","15");case 61:return new _t(O,"320","15");case 62:return new _t(O,"310","17");case 63:return new _t(O,"320","17")}}catch(t){throw console.log(t),new kn("unknown decoder: "+O)}}class jn{constructor(t,r,i,o){this.leftchar=t,this.rightchar=r,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof jn?jn.equalsOrNull(t.leftchar,r.leftchar)&&jn.equalsOrNull(t.rightchar,r.rightchar)&&jn.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:jn.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class pn{constructor(t,r,i){this.pairs=t,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof pn?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let i;return t.forEach((o,c)=>{r.forEach(f=>{o.getLeftChar().getValue()===f.getLeftChar().getValue()&&o.getRightChar().getValue()===f.getRightChar().getValue()&&o.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(i=!0)})}),i}}class ge extends V{constructor(t){super(...arguments),this.pairs=new Array(ge.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return ge.constructResult(this.decodeRow2pairs(t,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,ge.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(c){if(c instanceof ie){if(!this.pairs.length)throw new ie;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new ie}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let i=r;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let f of t)this.pairs.push(f.getPairs());if(this.pairs.push(o.getPairs()),!ge.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(t);c.push(o);try{return this.checkRows(c,i+1)}catch(f){this.verbose&&console.log(f)}}throw new ie}static isValidSequence(t){for(let r of ge.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let i=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=r[o]){i=!1;break}if(i)return!0}return!1}storeRow(t,r){let i=0,o=!1,c=!1;for(;i<this.rows.length;){let f=this.rows[i];if(f.getRowNumber()>t){c=f.isEquivalent(this.pairs);break}o=f.isEquivalent(this.pairs),i++}c||o||ge.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new pn(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let i of r)if(i.getPairs().length!==t.length){for(let o of i.getPairs())for(let c of t)if(jn.equals(o,c))break}}static isPartialRow(t,r){for(let i of r){let o=!0;for(let c of t){let f=!1;for(let m of i.getPairs())if(c.equals(m)){f=!0;break}if(!f){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=jt.buildBitArray(t),o=Yr(r).parseInformation(),c=t[0].getFinderPattern().getResultPoints(),f=t[t.length-1].getFinderPattern().getResultPoints(),m=[c[0],c[1],f[0],f[1]];return new ve(o,null,null,m,be.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),c=2;for(let m=1;m<this.pairs.size();++m){let y=this.pairs.get(m);o+=y.getLeftChar().getChecksumPortion(),c++;let E=y.getRightChar();E!=null&&(o+=E.getChecksumPortion(),c++)}return o%=211,211*(c-4)+o==r.getValue()}static getNextSecondBar(t,r){let i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i}retrieveNextPair(t,r,i){let o=r.length%2==0;this.startFromEven&&(o=!o);let c,f=!0,m=-1;do this.findNextPair(t,r,m),c=this.parseFoundFinderPattern(t,i,o),c==null?m=ge.getNextSecondBar(t,this.startEnd[0]):f=!1;while(f);let y=this.decodeDataCharacter(t,c,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ie;let E;try{E=this.decodeDataCharacter(t,c,o,!1)}catch(S){E=null,this.verbose&&console.log(S)}return new jn(y,E,c,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let c=t.getSize(),f;i>=0?f=i:this.isEmptyPair(r)?f=0:f=r[r.length-1].getFinderPattern().getStartEnd()[1];let m=r.length%2!=0;this.startFromEven&&(m=!m);let y=!1;for(;f<c&&(y=!t.get(f),!!y);)f++;let E=0,S=f;for(let N=f;N<c;N++)if(t.get(N)!=y)o[E]++;else{if(E==3){if(m&&ge.reverseCounters(o),ge.isFinderPattern(o)){this.startEnd[0]=S,this.startEnd[1]=N;return}m&&ge.reverseCounters(o),S+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,E--}else E++;o[E]=1,y=!y}throw new ie}static reverseCounters(t){let r=t.length;for(let i=0;i<r/2;++i){let o=t[i];t[i]=t[r-i-1],t[r-i-1]=o}}parseFoundFinderPattern(t,r,i){let o,c,f;if(i){let E=this.startEnd[0]-1;for(;E>=0&&!t.get(E);)E--;E++,o=this.startEnd[0]-E,c=E,f=this.startEnd[1]}else c=this.startEnd[0],f=t.getNextUnset(this.startEnd[1]+1),o=f-this.startEnd[1];let m=this.getDecodeFinderCounters();G.arraycopy(m,0,m,1,m.length-1),m[0]=o;let y;try{y=this.parseFinderValue(m,ge.FINDER_PATTERNS)}catch{return null}return new Se(y,[c,f],c,f,r)}decodeDataCharacter(t,r,i,o){let c=this.getDataCharacterCounters();for(let Lt=0;Lt<c.length;Lt++)c[Lt]=0;if(o)ge.recordPatternInReverse(t,r.getStartEnd()[0],c);else{ge.recordPattern(t,r.getStartEnd()[1],c);for(let Lt=0,zn=c.length-1;Lt<zn;Lt++,zn--){let or=c[Lt];c[Lt]=c[zn],c[zn]=or}}let f=17,m=Ge.sum(new Int32Array(c))/f,y=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(m-y)/y>.3)throw new ie;let E=this.getOddCounts(),S=this.getEvenCounts(),N=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Lt=0;Lt<c.length;Lt++){let zn=1*c[Lt]/m,or=zn+.5;if(or<1){if(zn<.3)throw new ie;or=1}else if(or>8){if(zn>8.7)throw new ie;or=8}let is=Lt/2;(Lt&1)==0?(E[is]=or,N[is]=zn-or):(S[is]=or,I[is]=zn-or)}this.adjustOddEvenCounts(f);let L=4*r.getValue()+(i?0:2)+(o?0:1)-1,z=0,F=0;for(let Lt=E.length-1;Lt>=0;Lt--){if(ge.isNotA1left(r,i,o)){let zn=ge.WEIGHTS[L][2*Lt];F+=E[Lt]*zn}z+=E[Lt]}let Y=0;for(let Lt=S.length-1;Lt>=0;Lt--)if(ge.isNotA1left(r,i,o)){let zn=ge.WEIGHTS[L][2*Lt+1];Y+=S[Lt]*zn}let ne=F+Y;if((z&1)!=0||z>13||z<4)throw new ie;let we=(13-z)/2,pe=ge.SYMBOL_WIDEST[we],xe=9-pe,lt=Ze.getRSSvalue(E,pe,!0),We=Ze.getRSSvalue(S,xe,!1),yn=ge.EVEN_TOTAL_SUBSET[we],dr=ge.GSUM[we],Kn=lt*yn+We+dr;return new Ce(Kn,ne)}static isNotA1left(t,r,i){return!(t.getValue()==0&&r&&i)}adjustOddEvenCounts(t){let r=Ge.sum(new Int32Array(this.getOddCounts())),i=Ge.sum(new Int32Array(this.getEvenCounts())),o=!1,c=!1;r>13?c=!0:r<4&&(o=!0);let f=!1,m=!1;i>13?m=!0:i<4&&(f=!0);let y=r+i-t,E=(r&1)==1,S=(i&1)==0;if(y==1)if(E){if(S)throw new ie;c=!0}else{if(!S)throw new ie;m=!0}else if(y==-1)if(E){if(S)throw new ie;o=!0}else{if(!S)throw new ie;f=!0}else if(y==0){if(E){if(!S)throw new ie;r<i?(o=!0,m=!0):(c=!0,f=!0)}else if(S)throw new ie}else throw new ie;if(o){if(c)throw new ie;ge.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&ge.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(m)throw new ie;ge.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&ge.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ge.SYMBOL_WIDEST=[7,5,4,3,1],ge.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ge.GSUM=[0,348,1388,2948,3988],ge.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ge.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ge.FINDER_PAT_A=0,ge.FINDER_PAT_B=1,ge.FINDER_PAT_C=2,ge.FINDER_PAT_D=3,ge.FINDER_PAT_E=4,ge.FINDER_PAT_F=5,ge.FINDER_PATTERN_SEQUENCES=[[ge.FINDER_PAT_A,ge.FINDER_PAT_A],[ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B],[ge.FINDER_PAT_A,ge.FINDER_PAT_C,ge.FINDER_PAT_B,ge.FINDER_PAT_D],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_C],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_D,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_D],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_E],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F]],ge.MAX_PAIRS=11;class go extends Ce{constructor(t,r,i){super(t,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Bt extends V{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,i){const o=this.decodePair(r,!1,t,i);Bt.addOrTally(this.possibleLeftPairs,o),r.reverse();let c=this.decodePair(r,!0,t,i);Bt.addOrTally(this.possibleRightPairs,c),r.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&Bt.checkChecksum(f,m))return Bt.constructResult(f,m)}throw new ie}static addOrTally(t,r){if(r==null)return;let i=!1;for(let o of t)if(o.getValue()===r.getValue()){o.incrementCount(),i=!0;break}i||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let i=4537077*t.getValue()+r.getValue(),o=new String(i).toString(),c=new Je;for(let E=13-o.length;E>0;E--)c.append("0");c.append(o);let f=0;for(let E=0;E<13;E++){let S=c.charAt(E).charCodeAt(0)-48;f+=(E&1)===0?3*S:S}f=10-f%10,f===10&&(f=0),c.append(f.toString());let m=t.getFinderPattern().getResultPoints(),y=r.getFinderPattern().getResultPoints();return new ve(c.toString(),null,0,[m[0],m[1],y[0],y[1]],be.RSS_14,new Date().getTime())}static checkChecksum(t,r){let i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(t,r,i,o){try{let c=this.findFinderPattern(t,r),f=this.parseFoundFinderPattern(t,i,r,c),m=o==null?null:o.get(_e.NEED_RESULT_POINT_CALLBACK);if(m!=null){let S=(c[0]+c[1])/2;r&&(S=t.getSize()-1-S),m.foundPossibleResultPoint(new Oe(S,i))}let y=this.decodeDataCharacter(t,f,!0),E=this.decodeDataCharacter(t,f,!1);return new go(1597*y.getValue()+E.getValue(),y.getChecksumPortion()+4*E.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(t,r,i){let o=this.getDataCharacterCounters();for(let Y=0;Y<o.length;Y++)o[Y]=0;if(i)Ft.recordPatternInReverse(t,r.getStartEnd()[0],o);else{Ft.recordPattern(t,r.getStartEnd()[1]+1,o);for(let Y=0,ne=o.length-1;Y<ne;Y++,ne--){let we=o[Y];o[Y]=o[ne],o[ne]=we}}let c=i?16:15,f=Ge.sum(new Int32Array(o))/c,m=this.getOddCounts(),y=this.getEvenCounts(),E=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let Y=0;Y<o.length;Y++){let ne=o[Y]/f,we=Math.floor(ne+.5);we<1?we=1:we>8&&(we=8);let pe=Math.floor(Y/2);(Y&1)===0?(m[pe]=we,E[pe]=ne-we):(y[pe]=we,S[pe]=ne-we)}this.adjustOddEvenCounts(i,c);let N=0,I=0;for(let Y=m.length-1;Y>=0;Y--)I*=9,I+=m[Y],N+=m[Y];let L=0,z=0;for(let Y=y.length-1;Y>=0;Y--)L*=9,L+=y[Y],z+=y[Y];let F=I+3*L;if(i){if((N&1)!==0||N>12||N<4)throw new ie;let Y=(12-N)/2,ne=Bt.OUTSIDE_ODD_WIDEST[Y],we=9-ne,pe=Ze.getRSSvalue(m,ne,!1),xe=Ze.getRSSvalue(y,we,!0),lt=Bt.OUTSIDE_EVEN_TOTAL_SUBSET[Y],We=Bt.OUTSIDE_GSUM[Y];return new Ce(pe*lt+xe+We,F)}else{if((z&1)!==0||z>10||z<4)throw new ie;let Y=(10-z)/2,ne=Bt.INSIDE_ODD_WIDEST[Y],we=9-ne,pe=Ze.getRSSvalue(m,ne,!0),xe=Ze.getRSSvalue(y,we,!1),lt=Bt.INSIDE_ODD_TOTAL_SUBSET[Y],We=Bt.INSIDE_GSUM[Y];return new Ce(xe*lt+pe+We,F)}}findFinderPattern(t,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=t.getSize(),c=!1,f=0;for(;f<o&&(c=!t.get(f),r!==c);)f++;let m=0,y=f;for(let E=f;E<o;E++)if(t.get(E)!==c)i[m]++;else{if(m===3){if(V.isFinderPattern(i))return[y,E];y+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,m--}else m++;i[m]=1,c=!c}throw new ie}parseFoundFinderPattern(t,r,i,o){let c=t.get(o[0]),f=o[0]-1;for(;f>=0&&c!==t.get(f);)f--;f++;const m=o[0]-f,y=this.getDecodeFinderCounters(),E=new Int32Array(y.length);G.arraycopy(y,0,E,1,y.length-1),E[0]=m;const S=this.parseFinderValue(E,Bt.FINDER_PATTERNS);let N=f,I=o[1];return i&&(N=t.getSize()-1-N,I=t.getSize()-1-I),new Se(S,[f,o[1]],N,I,r)}adjustOddEvenCounts(t,r){let i=Ge.sum(new Int32Array(this.getOddCounts())),o=Ge.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1,m=!1,y=!1;t?(i>12?f=!0:i<4&&(c=!0),o>12?y=!0:o<4&&(m=!0)):(i>11?f=!0:i<5&&(c=!0),o>10?y=!0:o<4&&(m=!0));let E=i+o-r,S=(i&1)===(t?1:0),N=(o&1)===1;if(E===1)if(S){if(N)throw new ie;f=!0}else{if(!N)throw new ie;y=!0}else if(E===-1)if(S){if(N)throw new ie;c=!0}else{if(!N)throw new ie;m=!0}else if(E===0){if(S){if(!N)throw new ie;i<o?(c=!0,y=!0):(f=!0,m=!0)}else if(N)throw new ie}else throw new ie;if(c){if(f)throw new ie;V.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&V.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(y)throw new ie;V.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&V.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Bt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Bt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Bt.OUTSIDE_GSUM=[0,161,961,2015,2715],Bt.INSIDE_GSUM=[0,336,1036,1516],Bt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Bt.INSIDE_ODD_WIDEST=[2,4,6,8],Bt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class _r extends Ft{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const i=t?t.get(_e.POSSIBLE_FORMATS):null,o=t&&t.get(_e.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(be.EAN_13)||i.includes(be.UPC_A)||i.includes(be.EAN_8)||i.includes(be.UPC_E))&&this.readers.push(new Bs(t)),i.includes(be.CODE_39)&&this.readers.push(new Mt(o)),i.includes(be.CODE_128)&&this.readers.push(new ye),i.includes(be.ITF)&&this.readers.push(new et),i.includes(be.RSS_14)&&this.readers.push(new Bt),i.includes(be.RSS_EXPANDED)&&this.readers.push(new ge(this.verbose))):(this.readers.push(new Bs(t)),this.readers.push(new Mt),this.readers.push(new Bs(t)),this.readers.push(new ye),this.readers.push(new et),this.readers.push(new Bt),this.readers.push(new ge(this.verbose)))}decodeRow(t,r,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,i)}catch{}throw new ie}reset(){this.readers.forEach(t=>t.reset())}}class fu extends Ee{constructor(t=500,r){super(new _r(r),t,r)}}class St{constructor(t,r,i){this.ecCodewords=t,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class At{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class dt{constructor(t,r,i,o,c,f){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=c,this.ecBlocks=f;let m=0;const y=f.getECCodewords(),E=f.getECBlocks();for(let S of E)m+=S.getCount()*(S.getDataCodewords()+y);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if((t&1)!==0||(r&1)!==0)throw new ee;for(let i of dt.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===r)return i;throw new ee}toString(){return""+this.versionNumber}static buildVersions(){return[new dt(1,10,10,8,8,new St(5,new At(1,3))),new dt(2,12,12,10,10,new St(7,new At(1,5))),new dt(3,14,14,12,12,new St(10,new At(1,8))),new dt(4,16,16,14,14,new St(12,new At(1,12))),new dt(5,18,18,16,16,new St(14,new At(1,18))),new dt(6,20,20,18,18,new St(18,new At(1,22))),new dt(7,22,22,20,20,new St(20,new At(1,30))),new dt(8,24,24,22,22,new St(24,new At(1,36))),new dt(9,26,26,24,24,new St(28,new At(1,44))),new dt(10,32,32,14,14,new St(36,new At(1,62))),new dt(11,36,36,16,16,new St(42,new At(1,86))),new dt(12,40,40,18,18,new St(48,new At(1,114))),new dt(13,44,44,20,20,new St(56,new At(1,144))),new dt(14,48,48,22,22,new St(68,new At(1,174))),new dt(15,52,52,24,24,new St(42,new At(2,102))),new dt(16,64,64,14,14,new St(56,new At(2,140))),new dt(17,72,72,16,16,new St(36,new At(4,92))),new dt(18,80,80,18,18,new St(48,new At(4,114))),new dt(19,88,88,20,20,new St(56,new At(4,144))),new dt(20,96,96,22,22,new St(68,new At(4,174))),new dt(21,104,104,24,24,new St(56,new At(6,136))),new dt(22,120,120,18,18,new St(68,new At(6,175))),new dt(23,132,132,20,20,new St(62,new At(8,163))),new dt(24,144,144,22,22,new St(62,new At(8,156),new At(2,155))),new dt(25,8,18,6,16,new St(7,new At(1,5))),new dt(26,8,32,6,14,new St(11,new At(1,10))),new dt(27,12,26,10,24,new St(14,new At(1,16))),new dt(28,12,36,10,16,new St(18,new At(1,22))),new dt(29,16,36,14,16,new St(24,new At(1,32))),new dt(30,16,48,14,22,new St(28,new At(1,49)))]}}dt.VERSIONS=dt.buildVersions();class Yi{constructor(t){const r=t.getHeight();if(r<8||r>144||(r&1)!==0)throw new ee;this.version=Yi.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Et(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),i=t.getWidth();return dt.getVersionForDimensions(r,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,o=0;const c=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let m=!1,y=!1,E=!1,S=!1;do if(i===c&&o===0&&!m)t[r++]=this.readCorner1(c,f)&255,i-=2,o+=2,m=!0;else if(i===c-2&&o===0&&(f&3)!==0&&!y)t[r++]=this.readCorner2(c,f)&255,i-=2,o+=2,y=!0;else if(i===c+4&&o===2&&(f&7)===0&&!E)t[r++]=this.readCorner3(c,f)&255,i-=2,o+=2,E=!0;else if(i===c-2&&o===0&&(f&7)===4&&!S)t[r++]=this.readCorner4(c,f)&255,i-=2,o+=2,S=!0;else{do i<c&&o>=0&&!this.readMappingMatrix.get(o,i)&&(t[r++]=this.readUtah(i,o,c,f)&255),i-=2,o+=2;while(i>=0&&o<f);i+=1,o+=3;do i>=0&&o<f&&!this.readMappingMatrix.get(o,i)&&(t[r++]=this.readUtah(i,o,c,f)&255),i+=2,o-=2;while(i<c&&o>=0);i+=3,o+=1}while(i<c||o<f);if(r!==this.version.getTotalCodewords())throw new ee;return t}readModule(t,r,i,o){return t<0&&(t+=i,r+=4-(i+4&7)),r<0&&(r+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,i,o){let c=0;return this.readModule(t-2,r-2,i,o)&&(c|=1),c<<=1,this.readModule(t-2,r-1,i,o)&&(c|=1),c<<=1,this.readModule(t-1,r-2,i,o)&&(c|=1),c<<=1,this.readModule(t-1,r-1,i,o)&&(c|=1),c<<=1,this.readModule(t-1,r,i,o)&&(c|=1),c<<=1,this.readModule(t,r-2,i,o)&&(c|=1),c<<=1,this.readModule(t,r-1,i,o)&&(c|=1),c<<=1,this.readModule(t,r,i,o)&&(c|=1),c}readCorner1(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,1,t,r)&&(i|=1),i<<=1,this.readModule(t-1,2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}readCorner2(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-4,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner3(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-3,t,r)&&(i|=1),i<<=1,this.readModule(1,r-2,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner4(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new R("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),f=r/o|0,m=i/c|0,y=f*o,E=m*c,S=new Et(E,y);for(let N=0;N<f;++N){const I=N*o;for(let L=0;L<m;++L){const z=L*c;for(let F=0;F<o;++F){const Y=N*(o+2)+1+F,ne=I+F;for(let we=0;we<c;++we){const pe=L*(c+2)+1+we;if(t.get(pe,Y)){const xe=z+we;S.set(xe,ne)}}}}}return S}}class Ki{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const i=r.getECBlocks();let o=0;const c=i.getECBlocks();for(let F of c)o+=F.getCount();const f=new Array(o);let m=0;for(let F of c)for(let Y=0;Y<F.getCount();Y++){const ne=F.getDataCodewords(),we=i.getECCodewords()+ne;f[m++]=new Ki(ne,new Uint8Array(we))}const E=f[0].codewords.length-i.getECCodewords(),S=E-1;let N=0;for(let F=0;F<S;F++)for(let Y=0;Y<m;Y++)f[Y].codewords[F]=t[N++];const I=r.getVersionNumber()===24,L=I?8:m;for(let F=0;F<L;F++)f[F].codewords[E-1]=t[N++];const z=f[0].codewords.length;for(let F=E;F<z;F++)for(let Y=0;Y<m;Y++){const ne=I?(Y+8)%m:Y,we=I&&ne>7?F-1:F;f[ne].codewords[we]=t[N++]}if(N!==t.length)throw new R;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ar{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new R(""+t);let r=0,i=this.bitOffset,o=this.byteOffset;const c=this.bytes;if(i>0){const f=8-i,m=t<f?t:f,y=f-m,E=255>>8-m<<y;r=(c[o]&E)>>y,t-=m,i+=m,i===8&&(i=0,o++)}if(t>0){for(;t>=8;)r=r<<8|c[o]&255,o++,t-=8;if(t>0){const f=8-t,m=255>>f<<f;r=r<<t|(c[o]&m)>>f,i+=t}}return this.bitOffset=i,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ct;(function(O){O[O.PAD_ENCODE=0]="PAD_ENCODE",O[O.ASCII_ENCODE=1]="ASCII_ENCODE",O[O.C40_ENCODE=2]="C40_ENCODE",O[O.TEXT_ENCODE=3]="TEXT_ENCODE",O[O.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",O[O.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",O[O.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ct||(Ct={}));class Kr{static decode(t){const r=new Ar(t),i=new Je,o=new Je,c=new Array;let f=Ct.ASCII_ENCODE;do if(f===Ct.ASCII_ENCODE)f=this.decodeAsciiSegment(r,i,o);else{switch(f){case Ct.C40_ENCODE:this.decodeC40Segment(r,i);break;case Ct.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case Ct.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case Ct.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case Ct.BASE256_ENCODE:this.decodeBase256Segment(r,i,c);break;default:throw new ee}f=Ct.ASCII_ENCODE}while(f!==Ct.PAD_ENCODE&&r.available()>0);return o.length()>0&&i.append(o.toString()),new Dt(t,i.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(t,r,i){let o=!1;do{let c=t.readBits(8);if(c===0)throw new ee;if(c<=128)return o&&(c+=128),r.append(String.fromCharCode(c-1)),Ct.ASCII_ENCODE;if(c===129)return Ct.PAD_ENCODE;if(c<=229){const f=c-130;f<10&&r.append("0"),r.append(""+f)}else switch(c){case 230:return Ct.C40_ENCODE;case 231:return Ct.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return Ct.ANSIX12_ENCODE;case 239:return Ct.TEXT_ENCODE;case 240:return Ct.EDIFACT_ENCODE;case 241:break;default:if(c!==254||t.available()!==0)throw new ee;break}}while(t.available()>0);return Ct.ASCII_ENCODE}static decodeC40Segment(t,r){let i=!1;const o=[];let c=0;do{if(t.available()===8)return;const f=t.readBits(8);if(f===254)return;this.parseTwoBytes(f,t.readBits(8),o);for(let m=0;m<3;m++){const y=o[m];switch(c){case 0:if(y<3)c=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[y];i?(r.append(String.fromCharCode(E.charCodeAt(0)+128)),i=!1):r.append(E)}else throw new ee;break;case 1:i?(r.append(String.fromCharCode(y+128)),i=!1):r.append(String.fromCharCode(y)),c=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[y];i?(r.append(String.fromCharCode(E.charCodeAt(0)+128)),i=!1):r.append(E)}else switch(y){case 27:r.append("");break;case 30:i=!0;break;default:throw new ee}c=0;break;case 3:i?(r.append(String.fromCharCode(y+224)),i=!1):r.append(String.fromCharCode(y+96)),c=0;break;default:throw new ee}}}while(t.available()>0)}static decodeTextSegment(t,r){let i=!1,o=[],c=0;do{if(t.available()===8)return;const f=t.readBits(8);if(f===254)return;this.parseTwoBytes(f,t.readBits(8),o);for(let m=0;m<3;m++){const y=o[m];switch(c){case 0:if(y<3)c=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[y];i?(r.append(String.fromCharCode(E.charCodeAt(0)+128)),i=!1):r.append(E)}else throw new ee;break;case 1:i?(r.append(String.fromCharCode(y+128)),i=!1):r.append(String.fromCharCode(y)),c=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[y];i?(r.append(String.fromCharCode(E.charCodeAt(0)+128)),i=!1):r.append(E)}else switch(y){case 27:r.append("");break;case 30:i=!0;break;default:throw new ee}c=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[y];i?(r.append(String.fromCharCode(E.charCodeAt(0)+128)),i=!1):r.append(E),c=0}else throw new ee;break;default:throw new ee}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const i=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),i);for(let c=0;c<3;c++){const f=i[c];switch(f){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(f<14)r.append(String.fromCharCode(f+44));else if(f<40)r.append(String.fromCharCode(f+51));else throw new ee;break}}}while(t.available()>0)}static parseTwoBytes(t,r,i){let o=(t<<8)+r-1,c=Math.floor(o/1600);i[0]=c,o-=c*1600,c=Math.floor(o/40),i[1]=c,i[2]=o-c*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let o=t.readBits(6);if(o===31){const c=8-t.getBitOffset();c!==8&&t.readBits(c);return}(o&32)===0&&(o|=64),r.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,r,i){let o=1+t.getByteOffset();const c=this.unrandomize255State(t.readBits(8),o++);let f;if(c===0?f=t.available()/8|0:c<250?f=c:f=250*(c-249)+this.unrandomize255State(t.readBits(8),o++),f<0)throw new ee;const m=new Uint8Array(f);for(let y=0;y<f;y++){if(t.available()<8)throw new ee;m[y]=this.unrandomize255State(t.readBits(8),o++)}i.push(m);try{r.append(vt.decode(m,Ne.ISO88591))}catch(y){throw new kn("Platform does not support required encoding: "+y.message)}}static unrandomize255State(t,r){const i=149*r%255+1,o=t-i;return o>=0?o:o+256}}Kr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Kr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Kr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Kr.TEXT_SHIFT2_SET_CHARS=Kr.C40_SHIFT2_SET_CHARS,Kr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class du{constructor(){this.rsDecoder=new vr($e.DATA_MATRIX_FIELD_256)}decode(t){const r=new Yi(t),i=r.getVersion(),o=r.readCodewords(),c=Ki.getDataBlocks(o,i);let f=0;for(let E of c)f+=E.getNumDataCodewords();const m=new Uint8Array(f),y=c.length;for(let E=0;E<y;E++){const S=c[E],N=S.getCodewords(),I=S.getNumDataCodewords();this.correctErrors(N,I);for(let L=0;L<I;L++)m[L*y+E]=N[L]}return Kr.decode(m)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new j}for(let o=0;o<r;o++)t[o]=i[o]}}class en{constructor(t){this.image=t,this.rectangleDetector=new ot(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new ie;r=this.shiftToModuleCenter(r);const i=r[0],o=r[1],c=r[2],f=r[3];let m=this.transitionsBetween(i,f)+1,y=this.transitionsBetween(c,f)+1;(m&1)===1&&(m+=1),(y&1)===1&&(y+=1),4*m<7*y&&4*y<7*m&&(m=y=Math.max(m,y));let E=en.sampleGrid(this.image,i,o,c,f,m,y);return new at(E,[i,o,c,f])}static shiftPoint(t,r,i){let o=(r.getX()-t.getX())/(i+1),c=(r.getY()-t.getY())/(i+1);return new Oe(t.getX()+o,t.getY()+c)}static moveAway(t,r,i){let o=t.getX(),c=t.getY();return o<r?o-=1:o+=1,c<i?c-=1:c+=1,new Oe(o,c)}detectSolid1(t){let r=t[0],i=t[1],o=t[3],c=t[2],f=this.transitionsBetween(r,i),m=this.transitionsBetween(i,o),y=this.transitionsBetween(o,c),E=this.transitionsBetween(c,r),S=f,N=[c,r,i,o];return S>m&&(S=m,N[0]=r,N[1]=i,N[2]=o,N[3]=c),S>y&&(S=y,N[0]=i,N[1]=o,N[2]=c,N[3]=r),S>E&&(N[0]=o,N[1]=c,N[2]=r,N[3]=i),N}detectSolid2(t){let r=t[0],i=t[1],o=t[2],c=t[3],f=this.transitionsBetween(r,c),m=en.shiftPoint(i,o,(f+1)*4),y=en.shiftPoint(o,i,(f+1)*4),E=this.transitionsBetween(m,r),S=this.transitionsBetween(y,c);return E<S?(t[0]=r,t[1]=i,t[2]=o,t[3]=c):(t[0]=i,t[1]=o,t[2]=c,t[3]=r),t}correctTopRight(t){let r=t[0],i=t[1],o=t[2],c=t[3],f=this.transitionsBetween(r,c),m=this.transitionsBetween(i,c),y=en.shiftPoint(r,i,(m+1)*4),E=en.shiftPoint(o,i,(f+1)*4);f=this.transitionsBetween(y,c),m=this.transitionsBetween(E,c);let S=new Oe(c.getX()+(o.getX()-i.getX())/(f+1),c.getY()+(o.getY()-i.getY())/(f+1)),N=new Oe(c.getX()+(r.getX()-i.getX())/(m+1),c.getY()+(r.getY()-i.getY())/(m+1));if(!this.isValid(S))return this.isValid(N)?N:null;if(!this.isValid(N))return S;let I=this.transitionsBetween(y,S)+this.transitionsBetween(E,S),L=this.transitionsBetween(y,N)+this.transitionsBetween(E,N);return I>L?S:N}shiftToModuleCenter(t){let r=t[0],i=t[1],o=t[2],c=t[3],f=this.transitionsBetween(r,c)+1,m=this.transitionsBetween(o,c)+1,y=en.shiftPoint(r,i,m*4),E=en.shiftPoint(o,i,f*4);f=this.transitionsBetween(y,c)+1,m=this.transitionsBetween(E,c)+1,(f&1)===1&&(f+=1),(m&1)===1&&(m+=1);let S=(r.getX()+i.getX()+o.getX()+c.getX())/4,N=(r.getY()+i.getY()+o.getY()+c.getY())/4;r=en.moveAway(r,S,N),i=en.moveAway(i,S,N),o=en.moveAway(o,S,N),c=en.moveAway(c,S,N);let I,L;return y=en.shiftPoint(r,i,m*4),y=en.shiftPoint(y,c,f*4),I=en.shiftPoint(i,r,m*4),I=en.shiftPoint(I,o,f*4),E=en.shiftPoint(o,c,m*4),E=en.shiftPoint(E,i,f*4),L=en.shiftPoint(c,o,m*4),L=en.shiftPoint(L,r,f*4),[y,I,E,L]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,i,o,c,f,m){return ir.getInstance().sampleGrid(t,f,m,.5,.5,f-.5,.5,f-.5,m-.5,.5,m-.5,r.getX(),r.getY(),c.getX(),c.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(t,r){let i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),c=Math.trunc(r.getX()),f=Math.trunc(r.getY()),m=Math.abs(f-o)>Math.abs(c-i);if(m){let F=i;i=o,o=F,F=c,c=f,f=F}let y=Math.abs(c-i),E=Math.abs(f-o),S=-y/2,N=o<f?1:-1,I=i<c?1:-1,L=0,z=this.image.get(m?o:i,m?i:o);for(let F=i,Y=o;F!==c;F+=I){let ne=this.image.get(m?Y:F,m?F:Y);if(ne!==z&&(L++,z=ne),S+=E,S>0){if(Y===f)break;Y+=N,S-=y}}return L}}class Wr{constructor(){this.decoder=new du}decode(t,r=null){let i,o;if(r!=null&&r.has(_e.PURE_BARCODE)){const E=Wr.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(E),o=Wr.NO_POINTS}else{const E=new en(t.getBlackMatrix()).detect();i=this.decoder.decode(E.getBits()),o=E.getPoints()}const c=i.getRawBytes(),f=new ve(i.getText(),c,8*c.length,o,be.DATA_MATRIX,G.currentTimeMillis()),m=i.getByteSegments();m!=null&&f.putMetadata(Ye.BYTE_SEGMENTS,m);const y=i.getECLevel();return y!=null&&f.putMetadata(Ye.ERROR_CORRECTION_LEVEL,y),f}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r==null||i==null)throw new ie;const o=this.moduleSize(r,t);let c=r[1];const f=i[1];let m=r[0];const E=(i[0]-m+1)/o,S=(f-c+1)/o;if(E<=0||S<=0)throw new ie;const N=o/2;c+=N,m+=N;const I=new Et(E,S);for(let L=0;L<S;L++){const z=c+L*o;for(let F=0;F<E;F++)t.get(m+F*o,z)&&I.set(F,L)}return I}static moduleSize(t,r){const i=r.getWidth();let o=t[0];const c=t[1];for(;o<i&&r.get(o,c);)o++;if(o===i)throw new ie;const f=o-t[0];if(f===0)throw new ie;return f}}Wr.NO_POINTS=[];class ha extends Ee{constructor(t=500){super(new Wr,t)}}var Wi;(function(O){O[O.L=0]="L",O[O.M=1]="M",O[O.Q=2]="Q",O[O.H=3]="H"})(Wi||(Wi={}));class ct{constructor(t,r,i){this.value=t,this.stringValue=r,this.bits=i,ct.FOR_BITS.set(i,this),ct.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return ct.L;case"M":return ct.M;case"Q":return ct.Q;case"H":return ct.H;default:throw new T(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof ct))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=ct.FOR_BITS.size)throw new R;return ct.FOR_BITS.get(t)}}ct.FOR_BITS=new Map,ct.FOR_VALUE=new Map,ct.L=new ct(Wi.L,"L",1),ct.M=new ct(Wi.M,"M",0),ct.Q=new ct(Wi.Q,"Q",3),ct.H=new ct(Wi.H,"H",2);class Tn{constructor(t){this.errorCorrectionLevel=ct.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return W.bitCount(t^r)}static decodeFormatInformation(t,r){const i=Tn.doDecodeFormatInformation(t,r);return i!==null?i:Tn.doDecodeFormatInformation(t^Tn.FORMAT_INFO_MASK_QR,r^Tn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let i=Number.MAX_SAFE_INTEGER,o=0;for(const c of Tn.FORMAT_INFO_DECODE_LOOKUP){const f=c[0];if(f===t||f===r)return new Tn(c[1]);let m=Tn.numBitsDiffering(t,f);m<i&&(o=c[1],i=m),t!==r&&(m=Tn.numBitsDiffering(r,f),m<i&&(o=c[1],i=m))}return i<=3?new Tn(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Tn))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Tn.FORMAT_INFO_MASK_QR=21522,Tn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const i of r)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class De{constructor(t,r,...i){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=i;let o=0;const c=i[0].getECCodewordsPerBlock(),f=i[0].getECBlocks();for(const m of f)o+=m.getCount()*(m.getDataCodewords()+c);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new ee;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ee}}static getVersionForNumber(t){if(t<1||t>40)throw new R;return De.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<De.VERSION_DECODE_INFO.length;o++){const c=De.VERSION_DECODE_INFO[o];if(c===t)return De.getVersionForNumber(o+7);const f=Tn.numBitsDiffering(t,c);f<r&&(i=o+7,r=f)}return r<=3?De.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new Et(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const c=this.alignmentPatternCenters[o]-2;for(let f=0;f<i;f++)o===0&&(f===0||f===i-1)||o===i-1&&f===0||r.setRegion(this.alignmentPatternCenters[f]-2,c,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}De.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),De.VERSIONS=[new De(1,new Int32Array(0),new K(7,new B(1,19)),new K(10,new B(1,16)),new K(13,new B(1,13)),new K(17,new B(1,9))),new De(2,Int32Array.from([6,18]),new K(10,new B(1,34)),new K(16,new B(1,28)),new K(22,new B(1,22)),new K(28,new B(1,16))),new De(3,Int32Array.from([6,22]),new K(15,new B(1,55)),new K(26,new B(1,44)),new K(18,new B(2,17)),new K(22,new B(2,13))),new De(4,Int32Array.from([6,26]),new K(20,new B(1,80)),new K(18,new B(2,32)),new K(26,new B(2,24)),new K(16,new B(4,9))),new De(5,Int32Array.from([6,30]),new K(26,new B(1,108)),new K(24,new B(2,43)),new K(18,new B(2,15),new B(2,16)),new K(22,new B(2,11),new B(2,12))),new De(6,Int32Array.from([6,34]),new K(18,new B(2,68)),new K(16,new B(4,27)),new K(24,new B(4,19)),new K(28,new B(4,15))),new De(7,Int32Array.from([6,22,38]),new K(20,new B(2,78)),new K(18,new B(4,31)),new K(18,new B(2,14),new B(4,15)),new K(26,new B(4,13),new B(1,14))),new De(8,Int32Array.from([6,24,42]),new K(24,new B(2,97)),new K(22,new B(2,38),new B(2,39)),new K(22,new B(4,18),new B(2,19)),new K(26,new B(4,14),new B(2,15))),new De(9,Int32Array.from([6,26,46]),new K(30,new B(2,116)),new K(22,new B(3,36),new B(2,37)),new K(20,new B(4,16),new B(4,17)),new K(24,new B(4,12),new B(4,13))),new De(10,Int32Array.from([6,28,50]),new K(18,new B(2,68),new B(2,69)),new K(26,new B(4,43),new B(1,44)),new K(24,new B(6,19),new B(2,20)),new K(28,new B(6,15),new B(2,16))),new De(11,Int32Array.from([6,30,54]),new K(20,new B(4,81)),new K(30,new B(1,50),new B(4,51)),new K(28,new B(4,22),new B(4,23)),new K(24,new B(3,12),new B(8,13))),new De(12,Int32Array.from([6,32,58]),new K(24,new B(2,92),new B(2,93)),new K(22,new B(6,36),new B(2,37)),new K(26,new B(4,20),new B(6,21)),new K(28,new B(7,14),new B(4,15))),new De(13,Int32Array.from([6,34,62]),new K(26,new B(4,107)),new K(22,new B(8,37),new B(1,38)),new K(24,new B(8,20),new B(4,21)),new K(22,new B(12,11),new B(4,12))),new De(14,Int32Array.from([6,26,46,66]),new K(30,new B(3,115),new B(1,116)),new K(24,new B(4,40),new B(5,41)),new K(20,new B(11,16),new B(5,17)),new K(24,new B(11,12),new B(5,13))),new De(15,Int32Array.from([6,26,48,70]),new K(22,new B(5,87),new B(1,88)),new K(24,new B(5,41),new B(5,42)),new K(30,new B(5,24),new B(7,25)),new K(24,new B(11,12),new B(7,13))),new De(16,Int32Array.from([6,26,50,74]),new K(24,new B(5,98),new B(1,99)),new K(28,new B(7,45),new B(3,46)),new K(24,new B(15,19),new B(2,20)),new K(30,new B(3,15),new B(13,16))),new De(17,Int32Array.from([6,30,54,78]),new K(28,new B(1,107),new B(5,108)),new K(28,new B(10,46),new B(1,47)),new K(28,new B(1,22),new B(15,23)),new K(28,new B(2,14),new B(17,15))),new De(18,Int32Array.from([6,30,56,82]),new K(30,new B(5,120),new B(1,121)),new K(26,new B(9,43),new B(4,44)),new K(28,new B(17,22),new B(1,23)),new K(28,new B(2,14),new B(19,15))),new De(19,Int32Array.from([6,30,58,86]),new K(28,new B(3,113),new B(4,114)),new K(26,new B(3,44),new B(11,45)),new K(26,new B(17,21),new B(4,22)),new K(26,new B(9,13),new B(16,14))),new De(20,Int32Array.from([6,34,62,90]),new K(28,new B(3,107),new B(5,108)),new K(26,new B(3,41),new B(13,42)),new K(30,new B(15,24),new B(5,25)),new K(28,new B(15,15),new B(10,16))),new De(21,Int32Array.from([6,28,50,72,94]),new K(28,new B(4,116),new B(4,117)),new K(26,new B(17,42)),new K(28,new B(17,22),new B(6,23)),new K(30,new B(19,16),new B(6,17))),new De(22,Int32Array.from([6,26,50,74,98]),new K(28,new B(2,111),new B(7,112)),new K(28,new B(17,46)),new K(30,new B(7,24),new B(16,25)),new K(24,new B(34,13))),new De(23,Int32Array.from([6,30,54,78,102]),new K(30,new B(4,121),new B(5,122)),new K(28,new B(4,47),new B(14,48)),new K(30,new B(11,24),new B(14,25)),new K(30,new B(16,15),new B(14,16))),new De(24,Int32Array.from([6,28,54,80,106]),new K(30,new B(6,117),new B(4,118)),new K(28,new B(6,45),new B(14,46)),new K(30,new B(11,24),new B(16,25)),new K(30,new B(30,16),new B(2,17))),new De(25,Int32Array.from([6,32,58,84,110]),new K(26,new B(8,106),new B(4,107)),new K(28,new B(8,47),new B(13,48)),new K(30,new B(7,24),new B(22,25)),new K(30,new B(22,15),new B(13,16))),new De(26,Int32Array.from([6,30,58,86,114]),new K(28,new B(10,114),new B(2,115)),new K(28,new B(19,46),new B(4,47)),new K(28,new B(28,22),new B(6,23)),new K(30,new B(33,16),new B(4,17))),new De(27,Int32Array.from([6,34,62,90,118]),new K(30,new B(8,122),new B(4,123)),new K(28,new B(22,45),new B(3,46)),new K(30,new B(8,23),new B(26,24)),new K(30,new B(12,15),new B(28,16))),new De(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new B(3,117),new B(10,118)),new K(28,new B(3,45),new B(23,46)),new K(30,new B(4,24),new B(31,25)),new K(30,new B(11,15),new B(31,16))),new De(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new B(7,116),new B(7,117)),new K(28,new B(21,45),new B(7,46)),new K(30,new B(1,23),new B(37,24)),new K(30,new B(19,15),new B(26,16))),new De(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new B(5,115),new B(10,116)),new K(28,new B(19,47),new B(10,48)),new K(30,new B(15,24),new B(25,25)),new K(30,new B(23,15),new B(25,16))),new De(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new B(13,115),new B(3,116)),new K(28,new B(2,46),new B(29,47)),new K(30,new B(42,24),new B(1,25)),new K(30,new B(23,15),new B(28,16))),new De(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new B(17,115)),new K(28,new B(10,46),new B(23,47)),new K(30,new B(10,24),new B(35,25)),new K(30,new B(19,15),new B(35,16))),new De(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new B(17,115),new B(1,116)),new K(28,new B(14,46),new B(21,47)),new K(30,new B(29,24),new B(19,25)),new K(30,new B(11,15),new B(46,16))),new De(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new B(13,115),new B(6,116)),new K(28,new B(14,46),new B(23,47)),new K(30,new B(44,24),new B(7,25)),new K(30,new B(59,16),new B(1,17))),new De(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new B(12,121),new B(7,122)),new K(28,new B(12,47),new B(26,48)),new K(30,new B(39,24),new B(14,25)),new K(30,new B(22,15),new B(41,16))),new De(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new B(6,121),new B(14,122)),new K(28,new B(6,47),new B(34,48)),new K(30,new B(46,24),new B(10,25)),new K(30,new B(2,15),new B(64,16))),new De(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new B(17,122),new B(4,123)),new K(28,new B(29,46),new B(14,47)),new K(30,new B(49,24),new B(10,25)),new K(30,new B(24,15),new B(46,16))),new De(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new B(4,122),new B(18,123)),new K(28,new B(13,46),new B(32,47)),new K(30,new B(48,24),new B(14,25)),new K(30,new B(42,15),new B(32,16))),new De(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new B(20,117),new B(4,118)),new K(28,new B(40,47),new B(7,48)),new K(30,new B(43,24),new B(22,25)),new K(30,new B(10,15),new B(67,16))),new De(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new B(19,118),new B(6,119)),new K(28,new B(18,47),new B(31,48)),new K(30,new B(34,24),new B(34,25)),new K(30,new B(20,15),new B(61,16)))];var En;(function(O){O[O.DATA_MASK_000=0]="DATA_MASK_000",O[O.DATA_MASK_001=1]="DATA_MASK_001",O[O.DATA_MASK_010=2]="DATA_MASK_010",O[O.DATA_MASK_011=3]="DATA_MASK_011",O[O.DATA_MASK_100=4]="DATA_MASK_100",O[O.DATA_MASK_101=5]="DATA_MASK_101",O[O.DATA_MASK_110=6]="DATA_MASK_110",O[O.DATA_MASK_111=7]="DATA_MASK_111"})(En||(En={}));class ar{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let i=0;i<r;i++)for(let o=0;o<r;o++)this.isMasked(i,o)&&t.flip(o,i)}}ar.values=new Map([[En.DATA_MASK_000,new ar(En.DATA_MASK_000,(O,t)=>(O+t&1)===0)],[En.DATA_MASK_001,new ar(En.DATA_MASK_001,(O,t)=>(O&1)===0)],[En.DATA_MASK_010,new ar(En.DATA_MASK_010,(O,t)=>t%3===0)],[En.DATA_MASK_011,new ar(En.DATA_MASK_011,(O,t)=>(O+t)%3===0)],[En.DATA_MASK_100,new ar(En.DATA_MASK_100,(O,t)=>(Math.floor(O/2)+Math.floor(t/3)&1)===0)],[En.DATA_MASK_101,new ar(En.DATA_MASK_101,(O,t)=>O*t%6===0)],[En.DATA_MASK_110,new ar(En.DATA_MASK_110,(O,t)=>O*t%6<3)],[En.DATA_MASK_111,new ar(En.DATA_MASK_111,(O,t)=>(O+t+O*t%3&1)===0)]]);class Zi{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new ee;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let c=0;c<6;c++)t=this.copyBit(c,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let c=5;c>=0;c--)t=this.copyBit(8,c,t);const r=this.bitMatrix.getHeight();let i=0;const o=r-7;for(let c=r-1;c>=o;c--)i=this.copyBit(8,c,i);for(let c=r-8;c<r;c++)i=this.copyBit(c,8,i);if(this.parsedFormatInfo=Tn.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ee}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return De.getVersionForNumber(r);let i=0;const o=t-11;for(let f=5;f>=0;f--)for(let m=t-9;m>=o;m--)i=this.copyBit(m,f,i);let c=De.decodeVersionInformation(i);if(c!==null&&c.getDimensionForVersion()===t)return this.parsedVersion=c,c;i=0;for(let f=5;f>=0;f--)for(let m=t-9;m>=o;m--)i=this.copyBit(f,m,i);if(c=De.decodeVersionInformation(i),c!==null&&c.getDimensionForVersion()===t)return this.parsedVersion=c,c;throw new ee}copyBit(t,r,i){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),i=ar.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const c=r.buildFunctionPattern();let f=!0;const m=new Uint8Array(r.getTotalCodewords());let y=0,E=0,S=0;for(let N=o-1;N>0;N-=2){N===6&&N--;for(let I=0;I<o;I++){const L=f?o-1-I:I;for(let z=0;z<2;z++)c.get(N-z,L)||(S++,E<<=1,this.bitMatrix.get(N-z,L)&&(E|=1),S===8&&(m[y++]=E,S=0,E=0))}f=!f}if(y!==r.getTotalCodewords())throw new ee;return m}remask(){if(this.parsedFormatInfo===null)return;const t=ar.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,i=t.getWidth();r<i;r++)for(let o=r+1,c=t.getHeight();o<c;o++)t.get(r,o)!==t.get(o,r)&&(t.flip(o,r),t.flip(r,o))}}class ol{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,i){if(t.length!==r.getTotalCodewords())throw new R;const o=r.getECBlocksForLevel(i);let c=0;const f=o.getECBlocks();for(const z of f)c+=z.getCount();const m=new Array(c);let y=0;for(const z of f)for(let F=0;F<z.getCount();F++){const Y=z.getDataCodewords(),ne=o.getECCodewordsPerBlock()+Y;m[y++]=new ol(Y,new Uint8Array(ne))}const E=m[0].codewords.length;let S=m.length-1;for(;S>=0&&m[S].codewords.length!==E;)S--;S++;const N=E-o.getECCodewordsPerBlock();let I=0;for(let z=0;z<N;z++)for(let F=0;F<y;F++)m[F].codewords[z]=t[I++];for(let z=S;z<y;z++)m[z].codewords[N]=t[I++];const L=m[0].codewords.length;for(let z=N;z<L;z++)for(let F=0;F<y;F++){const Y=F<S?z:z+1;m[F].codewords[Y]=t[I++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var lr;(function(O){O[O.TERMINATOR=0]="TERMINATOR",O[O.NUMERIC=1]="NUMERIC",O[O.ALPHANUMERIC=2]="ALPHANUMERIC",O[O.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",O[O.BYTE=4]="BYTE",O[O.ECI=5]="ECI",O[O.KANJI=6]="KANJI",O[O.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",O[O.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",O[O.HANZI=9]="HANZI"})(lr||(lr={}));class Ue{constructor(t,r,i,o){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=o,Ue.FOR_BITS.set(o,this),Ue.FOR_VALUE.set(t,this)}static forBits(t){const r=Ue.FOR_BITS.get(t);if(r===void 0)throw new R;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Ue))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}Ue.FOR_BITS=new Map,Ue.FOR_VALUE=new Map,Ue.TERMINATOR=new Ue(lr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ue.NUMERIC=new Ue(lr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ue.ALPHANUMERIC=new Ue(lr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ue.STRUCTURED_APPEND=new Ue(lr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ue.BYTE=new Ue(lr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ue.ECI=new Ue(lr.ECI,"ECI",Int32Array.from([0,0,0]),7),Ue.KANJI=new Ue(lr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ue.FNC1_FIRST_POSITION=new Ue(lr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ue.FNC1_SECOND_POSITION=new Ue(lr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ue.HANZI=new Ue(lr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Yt{static decode(t,r,i,o){const c=new Ar(t);let f=new Je;const m=new Array;let y=-1,E=-1;try{let S=null,N=!1,I;do{if(c.available()<4)I=Ue.TERMINATOR;else{const L=c.readBits(4);I=Ue.forBits(L)}switch(I){case Ue.TERMINATOR:break;case Ue.FNC1_FIRST_POSITION:case Ue.FNC1_SECOND_POSITION:N=!0;break;case Ue.STRUCTURED_APPEND:if(c.available()<16)throw new ee;y=c.readBits(8),E=c.readBits(8);break;case Ue.ECI:const L=Yt.parseECIValue(c);if(S=de.getCharacterSetECIByValue(L),S===null)throw new ee;break;case Ue.HANZI:const z=c.readBits(4),F=c.readBits(I.getCharacterCountBits(r));z===Yt.GB2312_SUBSET&&Yt.decodeHanziSegment(c,f,F);break;default:const Y=c.readBits(I.getCharacterCountBits(r));switch(I){case Ue.NUMERIC:Yt.decodeNumericSegment(c,f,Y);break;case Ue.ALPHANUMERIC:Yt.decodeAlphanumericSegment(c,f,Y,N);break;case Ue.BYTE:Yt.decodeByteSegment(c,f,Y,S,m,o);break;case Ue.KANJI:Yt.decodeKanjiSegment(c,f,Y);break;default:throw new ee}break}}while(I!==Ue.TERMINATOR)}catch{throw new ee}return new Dt(t,f.toString(),m.length===0?null:m,i===null?null:i.toString(),y,E)}static decodeHanziSegment(t,r,i){if(i*13>t.available())throw new ee;const o=new Uint8Array(2*i);let c=0;for(;i>0;){const f=t.readBits(13);let m=f/96<<8&4294967295|f%96;m<959?m+=41377:m+=42657,o[c]=m>>8&255,o[c+1]=m&255,c+=2,i--}try{r.append(vt.decode(o,Ne.GB2312))}catch(f){throw new ee(f)}}static decodeKanjiSegment(t,r,i){if(i*13>t.available())throw new ee;const o=new Uint8Array(2*i);let c=0;for(;i>0;){const f=t.readBits(13);let m=f/192<<8&4294967295|f%192;m<7936?m+=33088:m+=49472,o[c]=m>>8,o[c+1]=m,c+=2,i--}try{r.append(vt.decode(o,Ne.SHIFT_JIS))}catch(f){throw new ee(f)}}static decodeByteSegment(t,r,i,o,c,f){if(8*i>t.available())throw new ee;const m=new Uint8Array(i);for(let E=0;E<i;E++)m[E]=t.readBits(8);let y;o===null?y=Ne.guessEncoding(m,f):y=o.getName();try{r.append(vt.decode(m,y))}catch(E){throw new ee(E)}c.push(m)}static toAlphaNumericChar(t){if(t>=Yt.ALPHANUMERIC_CHARS.length)throw new ee;return Yt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,i,o){const c=r.length();for(;i>1;){if(t.available()<11)throw new ee;const f=t.readBits(11);r.append(Yt.toAlphaNumericChar(Math.floor(f/45))),r.append(Yt.toAlphaNumericChar(f%45)),i-=2}if(i===1){if(t.available()<6)throw new ee;r.append(Yt.toAlphaNumericChar(t.readBits(6)))}if(o)for(let f=c;f<r.length();f++)r.charAt(f)==="%"&&(f<r.length()-1&&r.charAt(f+1)==="%"?r.deleteCharAt(f+1):r.setCharAt(f,""))}static decodeNumericSegment(t,r,i){for(;i>=3;){if(t.available()<10)throw new ee;const o=t.readBits(10);if(o>=1e3)throw new ee;r.append(Yt.toAlphaNumericChar(Math.floor(o/100))),r.append(Yt.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(Yt.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(t.available()<7)throw new ee;const o=t.readBits(7);if(o>=100)throw new ee;r.append(Yt.toAlphaNumericChar(Math.floor(o/10))),r.append(Yt.toAlphaNumericChar(o%10))}else if(i===1){if(t.available()<4)throw new ee;const o=t.readBits(4);if(o>=10)throw new ee;r.append(Yt.toAlphaNumericChar(o))}}static parseECIValue(t){const r=t.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){const i=t.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=t.readBits(16);return(r&31)<<16&4294967295|i}throw new ee}}Yt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Yt.GB2312_SUBSET=1;class mo{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class gu{constructor(){this.rsDecoder=new vr($e.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(Et.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const i=new Zi(t);let o=null;try{return this.decodeBitMatrixParser(i,r)}catch(c){o=c}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const c=this.decodeBitMatrixParser(i,r);return c.setOther(new mo(!0)),c}catch(c){throw o!==null?o:c}}decodeBitMatrixParser(t,r){const i=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),c=t.readCodewords(),f=ol.getDataBlocks(c,i,o);let m=0;for(const S of f)m+=S.getNumDataCodewords();const y=new Uint8Array(m);let E=0;for(const S of f){const N=S.getCodewords(),I=S.getNumDataCodewords();this.correctErrors(N,I);for(let L=0;L<I;L++)y[E++]=N[L]}return Yt.decode(y,i,o,r)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new j}for(let o=0;o<r;o++)t[o]=i[o]}}class Qi extends Oe{constructor(t,r,i){super(t,r),this.estimatedModuleSize=i}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const o=(this.getX()+r)/2,c=(this.getY()+t)/2,f=(this.estimatedModuleSize+i)/2;return new Qi(o,c,f)}}class hr{constructor(t,r,i,o,c,f,m){this.image=t,this.startX=r,this.startY=i,this.width=o,this.height=c,this.moduleSize=f,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,i=this.width,o=t+i,c=this.startY+r/2,f=new Int32Array(3),m=this.image;for(let y=0;y<r;y++){const E=c+((y&1)===0?Math.floor((y+1)/2):-Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let S=t;for(;S<o&&!m.get(S,E);)S++;let N=0;for(;S<o;){if(m.get(S,E))if(N===1)f[1]++;else if(N===2){if(this.foundPatternCross(f)){const I=this.handlePossibleCenter(f,E,S);if(I!==null)return I}f[0]=f[2],f[1]=1,f[2]=0,N=1}else f[++N]++;else N===1&&N++,f[N]++;S++}if(this.foundPatternCross(f)){const I=this.handlePossibleCenter(f,E,o);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ie}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,i=r/2;for(let o=0;o<3;o++)if(Math.abs(r-t[o])>=i)return!1;return!0}crossCheckVertical(t,r,i,o){const c=this.image,f=c.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let y=t;for(;y>=0&&c.get(r,y)&&m[1]<=i;)m[1]++,y--;if(y<0||m[1]>i)return NaN;for(;y>=0&&!c.get(r,y)&&m[0]<=i;)m[0]++,y--;if(m[0]>i)return NaN;for(y=t+1;y<f&&c.get(r,y)&&m[1]<=i;)m[1]++,y++;if(y===f||m[1]>i)return NaN;for(;y<f&&!c.get(r,y)&&m[2]<=i;)m[2]++,y++;if(m[2]>i)return NaN;const E=m[0]+m[1]+m[2];return 5*Math.abs(E-o)>=2*o?NaN:this.foundPatternCross(m)?hr.centerFromEnd(m,y):NaN}handlePossibleCenter(t,r,i){const o=t[0]+t[1]+t[2],c=hr.centerFromEnd(t,i),f=this.crossCheckVertical(r,c,2*t[1],o);if(!isNaN(f)){const m=(t[0]+t[1]+t[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(m,f,c))return E.combineEstimate(f,c,m);const y=new Qi(c,f,m);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class ks extends Oe{constructor(t,r,i,o){super(t,r),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const o=this.count+1,c=(this.count*this.getX()+r)/o,f=(this.count*this.getY()+t)/o,m=(this.count*this.estimatedModuleSize+i)/o;return new ks(c,f,m,o)}}class cl{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class tn{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(_e.TRY_HARDER)!==void 0,i=t!=null&&t.get(_e.PURE_BARCODE)!==void 0,o=this.image,c=o.getHeight(),f=o.getWidth();let m=Math.floor(3*c/(4*tn.MAX_MODULES));(m<tn.MIN_SKIP||r)&&(m=tn.MIN_SKIP);let y=!1;const E=new Int32Array(5);for(let N=m-1;N<c&&!y;N+=m){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let I=0;for(let L=0;L<f;L++)if(o.get(L,N))(I&1)===1&&I++,E[I]++;else if((I&1)===0)if(I===4)if(tn.foundPatternCross(E)){if(this.handlePossibleCenter(E,N,L,i)===!0)if(m=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>E[2]&&(N+=F-E[2]-m,L=f-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,I=3;continue}I=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,I=3;else E[++I]++;else E[I]++;tn.foundPatternCross(E)&&this.handlePossibleCenter(E,N,f,i)===!0&&(m=E[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const S=this.selectBestPatterns();return Oe.orderBestPatterns(S),new cl(S)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let c=0;c<5;c++){const f=t[c];if(f===0)return!1;r+=f}if(r<7)return!1;const i=r/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,i,o){const c=this.getCrossCheckStateCount();let f=0;const m=this.image;for(;t>=f&&r>=f&&m.get(r-f,t-f);)c[2]++,f++;if(t<f||r<f)return!1;for(;t>=f&&r>=f&&!m.get(r-f,t-f)&&c[1]<=i;)c[1]++,f++;if(t<f||r<f||c[1]>i)return!1;for(;t>=f&&r>=f&&m.get(r-f,t-f)&&c[0]<=i;)c[0]++,f++;if(c[0]>i)return!1;const y=m.getHeight(),E=m.getWidth();for(f=1;t+f<y&&r+f<E&&m.get(r+f,t+f);)c[2]++,f++;if(t+f>=y||r+f>=E)return!1;for(;t+f<y&&r+f<E&&!m.get(r+f,t+f)&&c[3]<i;)c[3]++,f++;if(t+f>=y||r+f>=E||c[3]>=i)return!1;for(;t+f<y&&r+f<E&&m.get(r+f,t+f)&&c[4]<i;)c[4]++,f++;if(c[4]>=i)return!1;const S=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(S-o)<2*o&&tn.foundPatternCross(c)}crossCheckVertical(t,r,i,o){const c=this.image,f=c.getHeight(),m=this.getCrossCheckStateCount();let y=t;for(;y>=0&&c.get(r,y);)m[2]++,y--;if(y<0)return NaN;for(;y>=0&&!c.get(r,y)&&m[1]<=i;)m[1]++,y--;if(y<0||m[1]>i)return NaN;for(;y>=0&&c.get(r,y)&&m[0]<=i;)m[0]++,y--;if(m[0]>i)return NaN;for(y=t+1;y<f&&c.get(r,y);)m[2]++,y++;if(y===f)return NaN;for(;y<f&&!c.get(r,y)&&m[3]<i;)m[3]++,y++;if(y===f||m[3]>=i)return NaN;for(;y<f&&c.get(r,y)&&m[4]<i;)m[4]++,y++;if(m[4]>=i)return NaN;const E=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(E-o)>=2*o?NaN:tn.foundPatternCross(m)?tn.centerFromEnd(m,y):NaN}crossCheckHorizontal(t,r,i,o){const c=this.image,f=c.getWidth(),m=this.getCrossCheckStateCount();let y=t;for(;y>=0&&c.get(y,r);)m[2]++,y--;if(y<0)return NaN;for(;y>=0&&!c.get(y,r)&&m[1]<=i;)m[1]++,y--;if(y<0||m[1]>i)return NaN;for(;y>=0&&c.get(y,r)&&m[0]<=i;)m[0]++,y--;if(m[0]>i)return NaN;for(y=t+1;y<f&&c.get(y,r);)m[2]++,y++;if(y===f)return NaN;for(;y<f&&!c.get(y,r)&&m[3]<i;)m[3]++,y++;if(y===f||m[3]>=i)return NaN;for(;y<f&&c.get(y,r)&&m[4]<i;)m[4]++,y++;if(m[4]>=i)return NaN;const E=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(E-o)>=o?NaN:tn.foundPatternCross(m)?tn.centerFromEnd(m,y):NaN}handlePossibleCenter(t,r,i,o){const c=t[0]+t[1]+t[2]+t[3]+t[4];let f=tn.centerFromEnd(t,i),m=this.crossCheckVertical(r,Math.floor(f),t[2],c);if(!isNaN(m)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(m),t[2],c),!isNaN(f)&&(!o||this.crossCheckDiagonal(Math.floor(m),Math.floor(f),t[2],c)))){const y=c/7;let E=!1;const S=this.possibleCenters;for(let N=0,I=S.length;N<I;N++){const L=S[N];if(L.aboutEquals(y,m,f)){S[N]=L.combineEstimate(m,f,y),E=!0;break}}if(!E){const N=new ks(f,m,y);S.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const i of this.possibleCenters)if(i.getCount()>=tn.CENTER_QUORUM)if(r==null)r=i;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const i=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=tn.CENTER_QUORUM&&(t++,r+=f.getEstimatedModuleSize());if(t<3)return!1;const o=r/i;let c=0;for(const f of this.possibleCenters)c+=Math.abs(f.getEstimatedModuleSize()-o);return c<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new ie;const r=this.possibleCenters;let i;if(t>3){let o=0,c=0;for(const y of this.possibleCenters){const E=y.getEstimatedModuleSize();o+=E,c+=E*E}i=o/t;let f=Math.sqrt(c/t-i*i);r.sort((y,E)=>{const S=Math.abs(E.getEstimatedModuleSize()-i),N=Math.abs(y.getEstimatedModuleSize()-i);return S<N?-1:S>N?1:0});const m=Math.max(.2*i,f);for(let y=0;y<r.length&&r.length>3;y++){const E=r[y];Math.abs(E.getEstimatedModuleSize()-i)>m&&(r.splice(y,1),y--)}}if(r.length>3){let o=0;for(const c of r)o+=c.getEstimatedModuleSize();i=o/r.length,r.sort((c,f)=>{if(f.getCount()===c.getCount()){const m=Math.abs(f.getEstimatedModuleSize()-i),y=Math.abs(c.getEstimatedModuleSize()-i);return m<y?1:m>y?-1:0}else return f.getCount()-c.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}tn.CENTER_QUORUM=2,tn.MIN_SKIP=3,tn.MAX_MODULES=57;class jr{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(_e.NEED_RESULT_POINT_CALLBACK);const i=new tn(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const r=t.getTopLeft(),i=t.getTopRight(),o=t.getBottomLeft(),c=this.calculateModuleSize(r,i,o);if(c<1)throw new ie("No pattern found in proccess finder.");const f=jr.computeDimension(r,i,o,c),m=De.getProvisionalVersionForDimension(f),y=m.getDimensionForVersion()-7;let E=null;if(m.getAlignmentPatternCenters().length>0){const L=i.getX()-r.getX()+o.getX(),z=i.getY()-r.getY()+o.getY(),F=1-3/y,Y=Math.floor(r.getX()+F*(L-r.getX())),ne=Math.floor(r.getY()+F*(z-r.getY()));for(let we=4;we<=16;we<<=1)try{E=this.findAlignmentInRegion(c,Y,ne,we);break}catch(pe){if(!(pe instanceof ie))throw pe}}const S=jr.createTransform(r,i,o,E,f),N=jr.sampleGrid(this.image,S,f);let I;return E===null?I=[o,r,i]:I=[o,r,i,E],new at(N,I)}static createTransform(t,r,i,o,c){const f=c-3.5;let m,y,E,S;return o!==null?(m=o.getX(),y=o.getY(),E=f-3,S=E):(m=r.getX()-t.getX()+i.getX(),y=r.getY()-t.getY()+i.getY(),E=f,S=f),tr.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,E,S,3.5,f,t.getX(),t.getY(),r.getX(),r.getY(),m,y,i.getX(),i.getY())}static sampleGrid(t,r,i){return ir.getInstance().sampleGridWithTransform(t,i,i,r)}static computeDimension(t,r,i,o){const c=Ge.round(Oe.distance(t,r)/o),f=Ge.round(Oe.distance(t,i)/o);let m=Math.floor((c+f)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new ie("Dimensions could be not found.")}return m}calculateModuleSize(t,r,i){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,i,o){let c=this.sizeOfBlackWhiteBlackRun(t,r,i,o),f=1,m=t-(i-t);m<0?(f=t/(t-m),m=0):m>=this.image.getWidth()&&(f=(this.image.getWidth()-1-t)/(m-t),m=this.image.getWidth()-1);let y=Math.floor(r-(o-r)*f);return f=1,y<0?(f=r/(r-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-r)/(y-r),y=this.image.getHeight()-1),m=Math.floor(t+(m-t)*f),c+=this.sizeOfBlackWhiteBlackRun(t,r,m,y),c-1}sizeOfBlackWhiteBlackRun(t,r,i,o){const c=Math.abs(o-r)>Math.abs(i-t);if(c){let L=t;t=r,r=L,L=i,i=o,o=L}const f=Math.abs(i-t),m=Math.abs(o-r);let y=-f/2;const E=t<i?1:-1,S=r<o?1:-1;let N=0;const I=i+E;for(let L=t,z=r;L!==I;L+=E){const F=c?z:L,Y=c?L:z;if(N===1===this.image.get(F,Y)){if(N===2)return Ge.distance(L,z,t,r);N++}if(y+=m,y>0){if(z===o)break;z+=S,y-=f}}return N===2?Ge.distance(i+E,o,t,r):NaN}findAlignmentInRegion(t,r,i,o){const c=Math.floor(o*t),f=Math.max(0,r-c),m=Math.min(this.image.getWidth()-1,r+c);if(m-f<t*3)throw new ie("Alignment top exceeds estimated module size.");const y=Math.max(0,i-c),E=Math.min(this.image.getHeight()-1,i+c);if(E-y<t*3)throw new ie("Alignment bottom exceeds estimated module size.");return new hr(this.image,f,y,m-f,E-y,t,this.resultPointCallback).find()}}class Zr{constructor(){this.decoder=new gu}getDecoder(){return this.decoder}decode(t,r){let i,o;if(r!=null&&r.get(_e.PURE_BARCODE)!==void 0){const y=Zr.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(y,r),o=Zr.NO_POINTS}else{const y=new jr(t.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(y.getBits(),r),o=y.getPoints()}i.getOther()instanceof mo&&i.getOther().applyMirroredCorrection(o);const c=new ve(i.getText(),i.getRawBytes(),void 0,o,be.QR_CODE,void 0),f=i.getByteSegments();f!==null&&c.putMetadata(Ye.BYTE_SEGMENTS,f);const m=i.getECLevel();return m!==null&&c.putMetadata(Ye.ERROR_CORRECTION_LEVEL,m),i.hasStructuredAppend()&&(c.putMetadata(Ye.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),c.putMetadata(Ye.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),c}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r===null||i===null)throw new ie;const o=this.moduleSize(r,t);let c=r[1],f=i[1],m=r[0],y=i[0];if(m>=y||c>=f)throw new ie;if(f-c!==y-m&&(y=m+(f-c),y>=t.getWidth()))throw new ie;const E=Math.round((y-m+1)/o),S=Math.round((f-c+1)/o);if(E<=0||S<=0)throw new ie;if(S!==E)throw new ie;const N=Math.floor(o/2);c+=N,m+=N;const I=m+Math.floor((E-1)*o)-y;if(I>0){if(I>N)throw new ie;m-=I}const L=c+Math.floor((S-1)*o)-f;if(L>0){if(L>N)throw new ie;c-=L}const z=new Et(E,S);for(let F=0;F<S;F++){const Y=c+Math.floor(F*o);for(let ne=0;ne<E;ne++)t.get(m+Math.floor(ne*o),Y)&&z.set(ne,F)}return z}static moduleSize(t,r){const i=r.getHeight(),o=r.getWidth();let c=t[0],f=t[1],m=!0,y=0;for(;c<o&&f<i;){if(m!==r.get(c,f)){if(++y===5)break;m=!m}c++,f++}if(c===o||f===i)throw new ie;return(c-t[0])/7}}Zr.NO_POINTS=new Array;class Fe{PDF417Common(){}static getBitCountSum(t){return Ge.sum(t)}static toIntArray(t){if(t==null||!t.length)return Fe.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let i=0;for(const o of t)r[i++]=o;return r}static getCodeword(t){const r=ce.binarySearch(Fe.SYMBOL_TABLE,t&262143);return r<0?-1:(Fe.CODEWORD_TABLE[r]-1)%Fe.NUMBER_OF_CODEWORDS}}Fe.NUMBER_OF_CODEWORDS=929,Fe.MAX_CODEWORDS_IN_BARCODE=Fe.NUMBER_OF_CODEWORDS-1,Fe.MIN_ROWS_IN_BARCODE=3,Fe.MAX_ROWS_IN_BARCODE=90,Fe.MODULES_IN_CODEWORD=17,Fe.MODULES_IN_STOP_PATTERN=18,Fe.BARS_IN_MODULE=8,Fe.EMPTY_INT_ARRAY=new Int32Array([]),Fe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Fe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class xo{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ke{static detectMultiple(t,r,i){let o=t.getBlackMatrix(),c=Ke.detect(i,o);return c.length||(o=o.clone(),o.rotate180(),c=Ke.detect(i,o)),new xo(o,c)}static detect(t,r){const i=new Array;let o=0,c=0,f=!1;for(;o<r.getHeight();){const m=Ke.findVertices(r,o,c);if(m[0]==null&&m[3]==null){if(!f)break;f=!1,c=0;for(const y of i)y[1]!=null&&(o=Math.trunc(Math.max(o,y[1].getY()))),y[3]!=null&&(o=Math.max(o,Math.trunc(y[3].getY())));o+=Ke.ROW_STEP;continue}if(f=!0,i.push(m),!t)break;m[2]!=null?(c=Math.trunc(m[2].getX()),o=Math.trunc(m[2].getY())):(c=Math.trunc(m[4].getX()),o=Math.trunc(m[4].getY()))}return i}static findVertices(t,r,i){const o=t.getHeight(),c=t.getWidth(),f=new Array(8);return Ke.copyToResult(f,Ke.findRowsWithPattern(t,o,c,r,i,Ke.START_PATTERN),Ke.INDEXES_START_PATTERN),f[4]!=null&&(i=Math.trunc(f[4].getX()),r=Math.trunc(f[4].getY())),Ke.copyToResult(f,Ke.findRowsWithPattern(t,o,c,r,i,Ke.STOP_PATTERN),Ke.INDEXES_STOP_PATTERN),f}static copyToResult(t,r,i){for(let o=0;o<i.length;o++)t[i[o]]=r[o]}static findRowsWithPattern(t,r,i,o,c,f){const m=new Array(4);let y=!1;const E=new Int32Array(f.length);for(;o<r;o+=Ke.ROW_STEP){let N=Ke.findGuardPattern(t,c,o,i,!1,f,E);if(N!=null){for(;o>0;){const I=Ke.findGuardPattern(t,c,--o,i,!1,f,E);if(I!=null)N=I;else{o++;break}}m[0]=new Oe(N[0],o),m[1]=new Oe(N[1],o),y=!0;break}}let S=o+1;if(y){let N=0,I=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;S<r;S++){const L=Ke.findGuardPattern(t,I[0],S,i,!1,f,E);if(L!=null&&Math.abs(I[0]-L[0])<Ke.MAX_PATTERN_DRIFT&&Math.abs(I[1]-L[1])<Ke.MAX_PATTERN_DRIFT)I=L,N=0;else{if(N>Ke.SKIPPED_ROW_COUNT_MAX)break;N++}}S-=N+1,m[2]=new Oe(I[0],S),m[3]=new Oe(I[1],S)}return S-o<Ke.BARCODE_MIN_HEIGHT&&ce.fill(m,null),m}static findGuardPattern(t,r,i,o,c,f,m){ce.fillWithin(m,0,m.length,0);let y=r,E=0;for(;t.get(y,i)&&y>0&&E++<Ke.MAX_PIXEL_DRIFT;)y--;let S=y,N=0,I=f.length;for(let L=c;S<o;S++)if(t.get(S,i)!==L)m[N]++;else{if(N===I-1){if(Ke.patternMatchVariance(m,f,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE)return new Int32Array([y,S]);y+=m[0]+m[1],G.arraycopy(m,2,m,0,N-1),m[N-1]=0,m[N]=0,N--}else N++;m[N]=1,L=!L}return N===I-1&&Ke.patternMatchVariance(m,f,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE?new Int32Array([y,S-1]):null}static patternMatchVariance(t,r,i){let o=t.length,c=0,f=0;for(let E=0;E<o;E++)c+=t[E],f+=r[E];if(c<f)return 1/0;let m=c/f;i*=m;let y=0;for(let E=0;E<o;E++){let S=t[E],N=r[E]*m,I=S>N?S-N:N-S;if(I>i)return 1/0;y+=I}return y/c}}Ke.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ke.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ke.MAX_AVG_VARIANCE=.42,Ke.MAX_INDIVIDUAL_VARIANCE=.8,Ke.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ke.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ke.MAX_PIXEL_DRIFT=3,Ke.MAX_PATTERN_DRIFT=5,Ke.SKIPPED_ROW_COUNT_MAX=25,Ke.ROW_STEP=5,Ke.BARCODE_MIN_HEIGHT=10;class Kt{constructor(t,r){if(r.length===0)throw new R;this.field=t;let i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),G.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let c of this.coefficients)o=this.field.add(o,c);return o}let r=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)r=this.field.add(this.field.multiply(t,r),this.coefficients[o]);return r}add(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){let f=r;r=i,i=f}let o=new Int32Array(i.length),c=i.length-r.length;G.arraycopy(i,0,o,0,c);for(let f=c;f<i.length;f++)o[f]=this.field.add(r[f-c],i[f]);return new Kt(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Kt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Kt(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,o=t.coefficients,c=o.length,f=new Int32Array(i+c-1);for(let m=0;m<i;m++){let y=r[m];for(let E=0;E<c;E++)f[m+E]=this.field.add(f[m+E],this.field.multiply(y,o[E]))}return new Kt(this.field,f)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let i=0;i<t;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new Kt(this.field,r)}multiplyScalar(t){if(t===0)return new Kt(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new Kt(this.field,i)}multiplyByMonomial(t,r){if(t<0)throw new R;if(r===0)return new Kt(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+t);for(let c=0;c<i;c++)o[c]=this.field.multiply(this.coefficients[c],r);return new Kt(this.field,o)}toString(){let t=new Je;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(r===0||i!==1)&&t.append(i),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class ul{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new R;return this.logTable[t]}inverse(t){if(t===0)throw new dn;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class wi extends ul{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let o=0;o<t;o++)this.expTable[o]=i,i=i*r%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Kt(this,new Int32Array([0])),this.one=new Kt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new R;if(r===0)return this.zero;let i=new Int32Array(t+1);return i[0]=r,new Kt(this,i)}}wi.PDF417_GF=new wi(Fe.NUMBER_OF_CODEWORDS,3);class Qr{constructor(){this.field=wi.PDF417_GF}decode(t,r,i){let o=new Kt(this.field,t),c=new Int32Array(r),f=!1;for(let z=r;z>0;z--){let F=o.evaluateAt(this.field.exp(z));c[r-z]=F,F!==0&&(f=!0)}if(!f)return 0;let m=this.field.getOne();if(i!=null)for(const z of i){let F=this.field.exp(t.length-1-z),Y=new Kt(this.field,new Int32Array([this.field.subtract(0,F),1]));m=m.multiply(Y)}let y=new Kt(this.field,c),E=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),y,r),S=E[0],N=E[1],I=this.findErrorLocations(S),L=this.findErrorMagnitudes(N,S,I);for(let z=0;z<I.length;z++){let F=t.length-1-this.field.log(I[z]);if(F<0)throw j.getChecksumInstance();t[F]=this.field.subtract(t[F],L[z])}return I.length}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){let I=t;t=r,r=I}let o=t,c=r,f=this.field.getZero(),m=this.field.getOne();for(;c.getDegree()>=Math.round(i/2);){let I=o,L=f;if(o=c,f=m,o.isZero())throw j.getChecksumInstance();c=I;let z=this.field.getZero(),F=o.getCoefficient(o.getDegree()),Y=this.field.inverse(F);for(;c.getDegree()>=o.getDegree()&&!c.isZero();){let ne=c.getDegree()-o.getDegree(),we=this.field.multiply(c.getCoefficient(c.getDegree()),Y);z=z.add(this.field.buildMonomial(ne,we)),c=c.subtract(o.multiplyByMonomial(ne,we))}m=z.multiply(f).subtract(L).negative()}let y=m.getCoefficient(0);if(y===0)throw j.getChecksumInstance();let E=this.field.inverse(y),S=m.multiply(E),N=c.multiply(E);return[S,N]}findErrorLocations(t){let r=t.getDegree(),i=new Int32Array(r),o=0;for(let c=1;c<this.field.getSize()&&o<r;c++)t.evaluateAt(c)===0&&(i[o]=this.field.inverse(c),o++);if(o!==r)throw j.getChecksumInstance();return i}findErrorMagnitudes(t,r,i){let o=r.getDegree(),c=new Int32Array(o);for(let E=1;E<=o;E++)c[o-E]=this.field.multiply(E,r.getCoefficient(E));let f=new Kt(this.field,c),m=i.length,y=new Int32Array(m);for(let E=0;E<m;E++){let S=this.field.inverse(i[E]),N=this.field.subtract(0,t.evaluateAt(S)),I=this.field.inverse(f.evaluateAt(S));y[E]=this.field.multiply(N,I)}return y}}class Jr{constructor(t,r,i,o,c){t instanceof Jr?this.constructor_2(t):this.constructor_1(t,r,i,o,c)}constructor_1(t,r,i,o,c){const f=r==null||i==null,m=o==null||c==null;if(f&&m)throw new ie;f?(r=new Oe(0,o.getY()),i=new Oe(0,c.getY())):m&&(o=new Oe(t.getWidth()-1,r.getY()),c=new Oe(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=r,this.bottomLeft=i,this.topRight=o,this.bottomRight=c,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),c.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),c.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Jr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,i){let o=this.topLeft,c=this.bottomLeft,f=this.topRight,m=this.bottomRight;if(t>0){let y=i?this.topLeft:this.topRight,E=Math.trunc(y.getY()-t);E<0&&(E=0);let S=new Oe(y.getX(),E);i?o=S:f=S}if(r>0){let y=i?this.bottomLeft:this.bottomRight,E=Math.trunc(y.getY()+r);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let S=new Oe(y.getX(),E);i?c=S:m=S}return new Jr(this.image,o,c,f,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class fa{constructor(t,r,i,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ji{constructor(){this.buffer=""}static form(t,r){let i=-1;function o(f,m,y,E,S,N){if(f==="%%")return"%";if(r[++i]===void 0)return;f=E?parseInt(E.substr(1)):void 0;let I=S?parseInt(S.substr(1)):void 0,L;switch(N){case"s":L=r[i];break;case"c":L=r[i][0];break;case"f":L=parseFloat(r[i]).toFixed(f);break;case"p":L=parseFloat(r[i]).toPrecision(f);break;case"e":L=parseFloat(r[i]).toExponential(f);break;case"x":L=parseInt(r[i]).toString(I||16);break;case"d":L=parseFloat(parseInt(r[i],I||10).toPrecision(f)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let z=parseInt(y),F=y&&y[0]+""=="0"?"0":" ";for(;L.length<z;)L=m!==void 0?L+F:F+L;return L}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(c,o)}format(t,...r){this.buffer+=Ji.form(t,r)}toString(){return this.buffer}}class ui{constructor(t){this.boundingBox=new Jr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let i=1;i<ui.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(t)-i;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(t)+i,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Ji;let r=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return t.toString()}}ui.MAX_NEARBY_DISTANCE=5;class hi{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[i,o]of this.values.entries()){const c={getKey:()=>i,getValue:()=>o};c.getValue()>t?(t=c.getValue(),r=[],r.push(c.getKey())):c.getValue()===t&&r.push(c.getKey())}return Fe.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class hl extends ui{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(o.getY())),m=this.imageRowToCodewordIndex(Math.trunc(c.getY())),y=-1,E=1,S=0;for(let N=f;N<m;N++){if(r[N]==null)continue;let I=r[N],L=I.getRowNumber()-y;if(L===0)S++;else if(L===1)E=Math.max(E,S),S=1,y=I.getRowNumber();else if(L<0||I.getRowNumber()>=t.getRowCount()||L>N)r[N]=null;else{let z;E>2?z=(E-2)*L:z=L;let F=z>=N;for(let Y=1;Y<=z&&!F;Y++)F=r[N-Y]!=null;F?r[N]=null:(y=I.getRowNumber(),S=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(i.getY())),f=this.imageRowToCodewordIndex(Math.trunc(o.getY())),m=this.getCodewords(),y=-1;for(let E=c;E<f;E++){if(m[E]==null)continue;let S=m[E];S.setRowNumberAsRowIndicatorColumn();let N=S.getRowNumber()-y;N===0||(N===1?y=S.getRowNumber():S.getRowNumber()>=t.getRowCount()?m[E]=null:y=S.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new hi,i=new hi,o=new hi,c=new hi;for(let m of t){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let y=m.getValue()%30,E=m.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:i.setValue(y*3+1);break;case 1:c.setValue(y/3),o.setValue(y%3);break;case 2:r.setValue(y+1);break}}if(r.getValue().length===0||i.getValue().length===0||o.getValue().length===0||c.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<Fe.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>Fe.MAX_ROWS_IN_BARCODE)return null;let f=new fa(r.getValue()[0],i.getValue()[0],o.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(t,f),f}removeIncorrectCodewords(t,r){for(let i=0;i<t.length;i++){let o=t[i];if(t[i]==null)continue;let c=o.getValue()%30,f=o.getRowNumber();if(f>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:c*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(c/3)!==r.getErrorCorrectionLevel()||c%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:c+1!==r.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class On{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Fe.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&r[i]!=null&&t[i].getRowNumber()===r[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let c=this.detectionResultColumns[o].getCodewords()[i];c!=null&&(c.setRowNumber(t[i].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),c=0;for(let f=this.barcodeColumnCount+1;f>0&&c<this.ADJUST_ROW_NUMBER_SKIP;f--){let m=this.detectionResultColumns[f].getCodewords()[i];m!=null&&(c=On.adjustRowNumberIfValid(o,c,m),m.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),c=0;for(let f=1;f<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;f++){let m=this.detectionResultColumns[f].getCodewords()[i];m!=null&&(c=On.adjustRowNumberIfValid(o,c,m),m.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,i){if(!this.detectionResultColumns[t-1])return;let o=i[r],c=this.detectionResultColumns[t-1].getCodewords(),f=c;this.detectionResultColumns[t+1]!=null&&(f=this.detectionResultColumns[t+1].getCodewords());let m=new Array(14);m[2]=c[r],m[3]=f[r],r>0&&(m[0]=i[r-1],m[4]=c[r-1],m[5]=f[r-1]),r>1&&(m[8]=i[r-2],m[10]=c[r-2],m[11]=f[r-2]),r<i.length-1&&(m[1]=i[r+1],m[6]=c[r+1],m[7]=f[r+1]),r<i.length-2&&(m[9]=i[r+2],m[12]=c[r+2],m[13]=f[r+2]);for(let y of m)if(On.adjustRowNumber(o,y))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Ji;for(let i=0;i<t.getCodewords().length;i++){r.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let c=this.detectionResultColumns[o].getCodewords()[i];if(c==null){r.format("    |   ");continue}r.format(" %3d|%3d",c.getRowNumber(),c.getValue())}r.format("%n")}return r.toString()}}class Sr{constructor(t,r,i,o){this.rowNumber=Sr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Sr.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Sr.BARCODE_ROW_UNKNOWN=-1;class Un{static initialize(){for(let t=0;t<Fe.SYMBOL_TABLE.length;t++){let r=Fe.SYMBOL_TABLE[t],i=r&1;for(let o=0;o<Fe.BARS_IN_MODULE;o++){let c=0;for(;(r&1)===i;)c+=1,r>>=1;i=r&1,Un.RATIOS_TABLE[t]||(Un.RATIOS_TABLE[t]=new Array(Fe.BARS_IN_MODULE)),Un.RATIOS_TABLE[t][Fe.BARS_IN_MODULE-o-1]=Math.fround(c/Fe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=Un.getDecodedCodewordValue(Un.sampleBitCounts(t));return r!==-1?r:Un.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=Ge.sum(t),i=new Int32Array(Fe.BARS_IN_MODULE),o=0,c=0;for(let f=0;f<Fe.MODULES_IN_CODEWORD;f++){let m=r/(2*Fe.MODULES_IN_CODEWORD)+f*r/Fe.MODULES_IN_CODEWORD;c+t[o]<=m&&(c+=t[o],o++),i[o]++}return i}static getDecodedCodewordValue(t){let r=Un.getBitValue(t);return Fe.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let i=0;i<t.length;i++)for(let o=0;o<t[i];o++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=Ge.sum(t),i=new Array(Fe.BARS_IN_MODULE);if(r>1)for(let f=0;f<i.length;f++)i[f]=Math.fround(t[f]/r);let o=Er.MAX_VALUE,c=-1;this.bSymbolTableReady||Un.initialize();for(let f=0;f<Un.RATIOS_TABLE.length;f++){let m=0,y=Un.RATIOS_TABLE[f];for(let E=0;E<Fe.BARS_IN_MODULE;E++){let S=Math.fround(y[E]-i[E]);if(m+=Math.fround(S*S),m>=o)break}m<o&&(o=m,c=Fe.SYMBOL_TABLE[f])}return c}}Un.bSymbolTableReady=!1,Un.RATIOS_TABLE=new Array(Fe.SYMBOL_TABLE.length).map(O=>new Array(Fe.BARS_IN_MODULE));class $i{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class po{static parseLong(t,r=void 0){return parseInt(t,r)}}class da extends v{}da.kind="NullPointerException";class fl{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,i){if(t==null)throw new da;if(r<0||r>t.length||i<0||r+i>t.length||r+i<0)throw new J;if(i===0)return;for(let o=0;o<i;o++)this.write(t[r+o])}flush(){}close(){}}class Ls extends v{}class ga extends fl{constructor(t=32){if(super(),this.count=0,t<0)throw new R("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new Ls;i=W.MAX_VALUE}this.buf=ce.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new J;this.ensureCapacity(this.count+i),G.arraycopy(t,r,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return ce.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Rt;(function(O){O[O.ALPHA=0]="ALPHA",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.PUNCT=3]="PUNCT",O[O.ALPHA_SHIFT=4]="ALPHA_SHIFT",O[O.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Rt||(Rt={}));function yo(){if(typeof window<"u")return window.BigInt||null;if(typeof Nc<"u")return Nc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ma;function fi(O){if(typeof ma>"u"&&(ma=yo()),ma===null)throw new Error("BigInt is not supported!");return ma(O)}function dl(){let O=[];O[0]=fi(1);let t=fi(900);O[1]=t;for(let r=2;r<16;r++)O[r]=O[r-1]*t;return O}class re{static decode(t,r){let i=new Je(""),o=de.ISO8859_1;i.enableDecoding(o);let c=1,f=t[c++],m=new $i;for(;c<t[0];){switch(f){case re.TEXT_COMPACTION_MODE_LATCH:c=re.textCompaction(t,c,i);break;case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:c=re.byteCompaction(f,t,o,c,i);break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c++]);break;case re.NUMERIC_COMPACTION_MODE_LATCH:c=re.numericCompaction(t,c,i);break;case re.ECI_CHARSET:de.getCharacterSetECIByValue(t[c++]);break;case re.ECI_GENERAL_PURPOSE:c+=2;break;case re.ECI_USER_DEFINED:c++;break;case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=re.decodeMacroBlock(t,c,m);break;case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:throw new ee;default:c--,c=re.textCompaction(t,c,i);break}if(c<t.length)f=t[c++];else throw ee.getFormatInstance()}if(i.length()===0)throw ee.getFormatInstance();let y=new Dt(null,i.toString(),null,r);return y.setOther(m),y}static decodeMacroBlock(t,r,i){if(r+re.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ee.getFormatInstance();let o=new Int32Array(re.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<re.NUMBER_OF_SEQUENCE_CODEWORDS;m++,r++)o[m]=t[r];i.setSegmentIndex(W.parseInt(re.decodeBase900toBase10(o,re.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new Je;r=re.textCompaction(t,r,c),i.setFileId(c.toString());let f=-1;for(t[r]===re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=r+1);r<t[0];)switch(t[r]){case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new Je;r=re.textCompaction(t,r+1,m),i.setFileName(m.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new Je;r=re.textCompaction(t,r+1,y),i.setSender(y.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new Je;r=re.textCompaction(t,r+1,E),i.setAddressee(E.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let S=new Je;r=re.numericCompaction(t,r+1,S),i.setSegmentCount(W.parseInt(S.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new Je;r=re.numericCompaction(t,r+1,N),i.setTimestamp(po.parseLong(N.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Je;r=re.numericCompaction(t,r+1,I),i.setChecksum(W.parseInt(I.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new Je;r=re.numericCompaction(t,r+1,L),i.setFileSize(po.parseLong(L.toString()));break;default:throw ee.getFormatInstance()}break;case re.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw ee.getFormatInstance()}if(f!==-1){let m=r-f;i.isLastSegment()&&m--,i.setOptionalData(ce.copyOfRange(t,f,f+m))}return r}static textCompaction(t,r,i){let o=new Int32Array((t[0]-r)*2),c=new Int32Array((t[0]-r)*2),f=0,m=!1;for(;r<t[0]&&!m;){let y=t[r++];if(y<re.TEXT_COMPACTION_MODE_LATCH)o[f]=y/30,o[f+1]=y%30,f+=2;else switch(y){case re.TEXT_COMPACTION_MODE_LATCH:o[f++]=re.TEXT_COMPACTION_MODE_LATCH;break;case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:r--,m=!0;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[f]=re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=t[r++],c[f]=y,f++;break}}return re.decodeTextCompaction(o,c,f,i),r}static decodeTextCompaction(t,r,i,o){let c=Rt.ALPHA,f=Rt.ALPHA,m=0;for(;m<i;){let y=t[m],E="";switch(c){case Rt.ALPHA:if(y<26)E=String.fromCharCode(65+y);else switch(y){case 26:E=" ";break;case re.LL:c=Rt.LOWER;break;case re.ML:c=Rt.MIXED;break;case re.PS:f=c,c=Rt.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:c=Rt.ALPHA;break}break;case Rt.LOWER:if(y<26)E=String.fromCharCode(97+y);else switch(y){case 26:E=" ";break;case re.AS:f=c,c=Rt.ALPHA_SHIFT;break;case re.ML:c=Rt.MIXED;break;case re.PS:f=c,c=Rt.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:c=Rt.ALPHA;break}break;case Rt.MIXED:if(y<re.PL)E=re.MIXED_CHARS[y];else switch(y){case re.PL:c=Rt.PUNCT;break;case 26:E=" ";break;case re.LL:c=Rt.LOWER;break;case re.AL:c=Rt.ALPHA;break;case re.PS:f=c,c=Rt.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:c=Rt.ALPHA;break}break;case Rt.PUNCT:if(y<re.PAL)E=re.PUNCT_CHARS[y];else switch(y){case re.PAL:c=Rt.ALPHA;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:c=Rt.ALPHA;break}break;case Rt.ALPHA_SHIFT:if(c=f,y<26)E=String.fromCharCode(65+y);else switch(y){case 26:E=" ";break;case re.TEXT_COMPACTION_MODE_LATCH:c=Rt.ALPHA;break}break;case Rt.PUNCT_SHIFT:if(c=f,y<re.PAL)E=re.PUNCT_CHARS[y];else switch(y){case re.PAL:c=Rt.ALPHA;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:c=Rt.ALPHA;break}break}E!==""&&o.append(E),m++}}static byteCompaction(t,r,i,o,c){let f=new ga,m=0,y=0,E=!1;switch(t){case re.BYTE_COMPACTION_MODE_LATCH:let S=new Int32Array(6),N=r[o++];for(;o<r[0]&&!E;)switch(S[m++]=N,y=900*y+N,N=r[o++],N){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:o--,E=!0;break;default:if(m%5===0&&m>0){for(let I=0;I<6;++I)f.write(Number(fi(y)>>fi(8*(5-I))));y=0,m=0}break}o===r[0]&&N<re.TEXT_COMPACTION_MODE_LATCH&&(S[m++]=N);for(let I=0;I<m;I++)f.write(S[I]);break;case re.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!E;){let I=r[o++];if(I<re.TEXT_COMPACTION_MODE_LATCH)m++,y=900*y+I;else switch(I){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:o--,E=!0;break}if(m%5===0&&m>0){for(let L=0;L<6;++L)f.write(Number(fi(y)>>fi(8*(5-L))));y=0,m=0}}break}return c.append(vt.decode(f.toByteArray(),i)),o}static numericCompaction(t,r,i){let o=0,c=!1,f=new Int32Array(re.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!c;){let m=t[r++];if(r===t[0]&&(c=!0),m<re.TEXT_COMPACTION_MODE_LATCH)f[o]=m,o++;else switch(m){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:r--,c=!0;break}(o%re.MAX_NUMERIC_CODEWORDS===0||m===re.NUMERIC_COMPACTION_MODE_LATCH||c)&&o>0&&(i.append(re.decodeBase900toBase10(f,o)),o=0)}return r}static decodeBase900toBase10(t,r){let i=fi(0);for(let c=0;c<r;c++)i+=re.EXP900[r-c-1]*fi(t[c]);let o=i.toString();if(o.charAt(0)!=="1")throw new ee;return o.substring(1)}}re.TEXT_COMPACTION_MODE_LATCH=900,re.BYTE_COMPACTION_MODE_LATCH=901,re.NUMERIC_COMPACTION_MODE_LATCH=902,re.BYTE_COMPACTION_MODE_LATCH_6=924,re.ECI_USER_DEFINED=925,re.ECI_GENERAL_PURPOSE=926,re.ECI_CHARSET=927,re.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,re.MACRO_PDF417_TERMINATOR=922,re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,re.MAX_NUMERIC_CODEWORDS=15,re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,re.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,re.PL=25,re.LL=27,re.AS=27,re.ML=28,re.AL=28,re.PS=29,re.PAL=29,re.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,re.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",re.EXP900=yo()?dl():[],re.NUMBER_OF_SEQUENCE_CODEWORDS=2;class it{constructor(){}static decode(t,r,i,o,c,f,m){let y=new Jr(t,r,i,o,c),E=null,S=null,N;for(let z=!0;;z=!1){if(r!=null&&(E=it.getRowIndicatorColumn(t,y,r,!0,f,m)),o!=null&&(S=it.getRowIndicatorColumn(t,y,o,!1,f,m)),N=it.merge(E,S),N==null)throw ie.getNotFoundInstance();let F=N.getBoundingBox();if(z&&F!=null&&(F.getMinY()<y.getMinY()||F.getMaxY()>y.getMaxY()))y=F;else break}N.setBoundingBox(y);let I=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,E),N.setDetectionResultColumn(I,S);let L=E!=null;for(let z=1;z<=I;z++){let F=L?z:I-z;if(N.getDetectionResultColumn(F)!==void 0)continue;let Y;F===0||F===I?Y=new hl(y,F===0):Y=new ui(y),N.setDetectionResultColumn(F,Y);let ne=-1,we=ne;for(let pe=y.getMinY();pe<=y.getMaxY();pe++){if(ne=it.getStartColumn(N,F,pe,L),ne<0||ne>y.getMaxX()){if(we===-1)continue;ne=we}let xe=it.detectCodeword(t,y.getMinX(),y.getMaxX(),L,ne,pe,f,m);xe!=null&&(Y.setCodeword(pe,xe),we=ne,f=Math.min(f,xe.getWidth()),m=Math.max(m,xe.getWidth()))}}return it.createDecoderResult(N)}static merge(t,r){if(t==null&&r==null)return null;let i=it.getBarcodeMetadata(t,r);if(i==null)return null;let o=Jr.merge(it.adjustBoundingBox(t),it.adjustBoundingBox(r));return new On(i,o)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let i=it.getMax(r),o=0;for(let m of r)if(o+=i-m,m>0)break;let c=t.getCodewords();for(let m=0;o>0&&c[m]==null;m++)o--;let f=0;for(let m=r.length-1;m>=0&&(f+=i-r[m],!(r[m]>0));m--);for(let m=c.length-1;f>0&&c[m]==null;m--)f--;return t.getBoundingBox().addMissingRows(o,f,t.isLeft())}static getMax(t){let r=-1;for(let i of t)r=Math.max(r,i);return r}static getBarcodeMetadata(t,r){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(t,r,i,o,c,f){let m=new hl(r,o);for(let y=0;y<2;y++){let E=y===0?1:-1,S=Math.trunc(Math.trunc(i.getX()));for(let N=Math.trunc(Math.trunc(i.getY()));N<=r.getMaxY()&&N>=r.getMinY();N+=E){let I=it.detectCodeword(t,0,t.getWidth(),o,S,N,c,f);I!=null&&(m.setCodeword(N,I),o?S=I.getStartX():S=I.getEndX())}}return m}static adjustCodewordCount(t,r){let i=r[0][1],o=i.getValue(),c=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-it.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(c<1||c>Fe.MAX_CODEWORDS_IN_BARCODE)throw ie.getNotFoundInstance();i.setValue(c)}else o[0]!==c&&i.setValue(c)}static createDecoderResult(t){let r=it.createBarcodeMatrix(t);it.adjustCodewordCount(t,r);let i=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),c=[],f=new Array;for(let y=0;y<t.getBarcodeRowCount();y++)for(let E=0;E<t.getBarcodeColumnCount();E++){let S=r[y][E+1].getValue(),N=y*t.getBarcodeColumnCount()+E;S.length===0?i.push(N):S.length===1?o[N]=S[0]:(f.push(N),c.push(S))}let m=new Array(c.length);for(let y=0;y<m.length;y++)m[y]=c[y];return it.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,Fe.toIntArray(i),Fe.toIntArray(f),m)}static createDecoderResultFromAmbiguousValues(t,r,i,o,c){let f=new Int32Array(o.length),m=100;for(;m-- >0;){for(let y=0;y<f.length;y++)r[o[y]]=c[y][f[y]];try{return it.decodeCodewords(r,t,i)}catch(y){if(!(y instanceof j))throw y}if(f.length===0)throw j.getChecksumInstance();for(let y=0;y<f.length;y++)if(f[y]<c[y].length-1){f[y]++;break}else if(f[y]=0,y===f.length-1)throw j.getChecksumInstance()}throw j.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let c=0;c<r[o].length;c++)r[o][c]=new hi;let i=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let c of o.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=0){if(f>=r.length)continue;r[f][i].setValue(c.getValue())}}}i++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,i,o){let c=o?1:-1,f=null;if(it.isValidBarcodeColumn(t,r-c)&&(f=t.getDetectionResultColumn(r-c).getCodeword(i)),f!=null)return o?f.getEndX():f.getStartX();if(f=t.getDetectionResultColumn(r).getCodewordNearby(i),f!=null)return o?f.getStartX():f.getEndX();if(it.isValidBarcodeColumn(t,r-c)&&(f=t.getDetectionResultColumn(r-c).getCodewordNearby(i)),f!=null)return o?f.getEndX():f.getStartX();let m=0;for(;it.isValidBarcodeColumn(t,r-c);){r-=c;for(let y of t.getDetectionResultColumn(r).getCodewords())if(y!=null)return(o?y.getEndX():y.getStartX())+c*m*(y.getEndX()-y.getStartX());m++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,i,o,c,f,m,y){c=it.adjustCodewordStartColumn(t,r,i,o,c,f);let E=it.getModuleBitCount(t,r,i,o,c,f);if(E==null)return null;let S,N=Ge.sum(E);if(o)S=c+N;else{for(let z=0;z<E.length/2;z++){let F=E[z];E[z]=E[E.length-1-z],E[E.length-1-z]=F}S=c,c=S-N}if(!it.checkCodewordSkew(N,m,y))return null;let I=Un.getDecodedValue(E),L=Fe.getCodeword(I);return L===-1?null:new Sr(c,S,it.getCodewordBucketNumber(I),L)}static getModuleBitCount(t,r,i,o,c,f){let m=c,y=new Int32Array(8),E=0,S=o?1:-1,N=o;for(;(o?m<i:m>=r)&&E<y.length;)t.get(m,f)===N?(y[E]++,m+=S):(E++,N=!N);return E===y.length||m===(o?i:r)&&E===y.length-1?y:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,i,o,c,f){let m=c,y=o?-1:1;for(let E=0;E<2;E++){for(;(o?m>=r:m<i)&&o===t.get(m,f);){if(Math.abs(c-m)>it.CODEWORD_SKEW_SIZE)return c;m+=y}y=-y,o=!o}return m}static checkCodewordSkew(t,r,i){return r-it.CODEWORD_SKEW_SIZE<=t&&t<=i+it.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,i){if(t.length===0)throw ee.getFormatInstance();let o=1<<r+1,c=it.correctErrors(t,i,o);it.verifyCodewordCount(t,o);let f=re.decode(t,""+r);return f.setErrorsCorrected(c),f.setErasures(i.length),f}static correctErrors(t,r,i){if(r!=null&&r.length>i/2+it.MAX_ERRORS||i<0||i>it.MAX_EC_CODEWORDS)throw j.getChecksumInstance();return it.errorCorrection.decode(t,i,r)}static verifyCodewordCount(t,r){if(t.length<4)throw ee.getFormatInstance();let i=t[0];if(i>t.length)throw ee.getFormatInstance();if(i===0)if(r<t.length)t[0]=t.length-r;else throw ee.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),i=0,o=r.length-1;for(;!((t&1)!==i&&(i=t&1,o--,o<0));)r[o]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return it.getCodewordBucketNumber(it.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new Ji;for(let i=0;i<t.length;i++){r.format("Row %2d: ",i);for(let o=0;o<t[i].length;o++){let c=t[i][o];c.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}r.format("%n")}return r.toString()}}it.CODEWORD_SKEW_SIZE=2,it.MAX_ERRORS=3,it.MAX_EC_CODEWORDS=512,it.errorCorrection=new Qr;class Pn{decode(t,r=null){let i=Pn.decode(t,r,!1);if(i==null||i.length===0||i[0]==null)throw ie.getNotFoundInstance();return i[0]}decodeMultiple(t,r=null){try{return Pn.decode(t,r,!0)}catch(i){throw i instanceof ee||i instanceof j?ie.getNotFoundInstance():i}}static decode(t,r,i){const o=new Array,c=Ke.detectMultiple(t,r,i);for(const f of c.getPoints()){const m=it.decode(c.getBits(),f[4],f[5],f[6],f[7],Pn.getMinCodewordWidth(f),Pn.getMaxCodewordWidth(f)),y=new ve(m.getText(),m.getRawBytes(),void 0,f,be.PDF_417);y.putMetadata(Ye.ERROR_CORRECTION_LEVEL,m.getECLevel());const E=m.getOther();E!=null&&y.putMetadata(Ye.PDF417_EXTRA_METADATA,E),o.push(y)}return o.map(f=>f)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?W.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Pn.getMaxWidth(t[0],t[4]),Pn.getMaxWidth(t[6],t[2])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN),Math.max(Pn.getMaxWidth(t[1],t[5]),Pn.getMaxWidth(t[7],t[3])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Pn.getMinWidth(t[0],t[4]),Pn.getMinWidth(t[6],t[2])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN),Math.min(Pn.getMinWidth(t[1],t[5]),Pn.getMinWidth(t[7],t[3])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN)))}reset(){}}class xa extends v{}xa.kind="ReaderException";class wo{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!h(t)&&t.get(_e.TRY_HARDER)===!0,i=h(t)?null:t.get(_e.POSSIBLE_FORMATS),o=new Array;if(!h(i)){const c=i.some(f=>f===be.UPC_A||f===be.UPC_E||f===be.EAN_13||f===be.EAN_8||f===be.CODABAR||f===be.CODE_39||f===be.CODE_93||f===be.CODE_128||f===be.ITF||f===be.RSS_14||f===be.RSS_EXPANDED);c&&!r&&o.push(new _r(t,this.verbose)),i.includes(be.QR_CODE)&&o.push(new Zr),i.includes(be.DATA_MATRIX)&&o.push(new Wr),i.includes(be.AZTEC)&&o.push(new Gi),i.includes(be.PDF_417)&&o.push(new Pn),c&&r&&o.push(new _r(t,this.verbose))}o.length===0&&(r||o.push(new _r(t,this.verbose)),o.push(new Zr),o.push(new Wr),o.push(new Gi),o.push(new Pn),r&&o.push(new _r(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new xa("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(i){if(i instanceof xa)continue}throw new ie("No MultiFormat Readers were able to detect the code.")}}class bo extends Ee{constructor(t=null,r=500){const i=new wo;i.setHints(t),super(i,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class mu extends Ee{constructor(t=500){super(new Pn,t)}}class xu extends Ee{constructor(t=500){super(new Zr,t)}}var gl;(function(O){O[O.ERROR_CORRECTION=0]="ERROR_CORRECTION",O[O.CHARACTER_SET=1]="CHARACTER_SET",O[O.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",O[O.MIN_SIZE=3]="MIN_SIZE",O[O.MAX_SIZE=4]="MAX_SIZE",O[O.MARGIN=5]="MARGIN",O[O.PDF417_COMPACT=6]="PDF417_COMPACT",O[O.PDF417_COMPACTION=7]="PDF417_COMPACTION",O[O.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",O[O.AZTEC_LAYERS=9]="AZTEC_LAYERS",O[O.QR_VERSION=10]="QR_VERSION"})(gl||(gl={}));var _n=gl;class js{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new $t(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let i=r[r.length-1];const o=this.field;for(let c=r.length;c<=t;c++){const f=i.multiply(new $t(o,Int32Array.from([1,o.exp(c-1+o.getGeneratorBase())])));r.push(f),i=f}}return r[t]}encode(t,r){if(r===0)throw new R("No error correction bytes");const i=t.length-r;if(i<=0)throw new R("No data bytes provided");const o=this.buildGenerator(r),c=new Int32Array(i);G.arraycopy(t,0,c,0,i);let f=new $t(this.field,c);f=f.multiplyByMonomial(r,1);const y=f.divide(o)[1].getCoefficients(),E=r-y.length;for(let S=0;S<E;S++)t[i+S]=0;G.arraycopy(y,0,t,i+E,y.length)}}class cn{constructor(){}static applyMaskPenaltyRule1(t){return cn.applyMaskPenaltyRule1Internal(t,!0)+cn.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const i=t.getArray(),o=t.getWidth(),c=t.getHeight();for(let f=0;f<c-1;f++){const m=i[f];for(let y=0;y<o-1;y++){const E=m[y];E===m[y+1]&&E===i[f+1][y]&&E===i[f+1][y+1]&&r++}}return cn.N2*r}static applyMaskPenaltyRule3(t){let r=0;const i=t.getArray(),o=t.getWidth(),c=t.getHeight();for(let f=0;f<c;f++)for(let m=0;m<o;m++){const y=i[f];m+6<o&&y[m]===1&&y[m+1]===0&&y[m+2]===1&&y[m+3]===1&&y[m+4]===1&&y[m+5]===0&&y[m+6]===1&&(cn.isWhiteHorizontal(y,m-4,m)||cn.isWhiteHorizontal(y,m+7,m+11))&&r++,f+6<c&&i[f][m]===1&&i[f+1][m]===0&&i[f+2][m]===1&&i[f+3][m]===1&&i[f+4][m]===1&&i[f+5][m]===0&&i[f+6][m]===1&&(cn.isWhiteVertical(i,m,f-4,f)||cn.isWhiteVertical(i,m,f+7,f+11))&&r++}return r*cn.N3}static isWhiteHorizontal(t,r,i){r=Math.max(r,0),i=Math.min(i,t.length);for(let o=r;o<i;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,r,i,o){i=Math.max(i,0),o=Math.min(o,t.length);for(let c=i;c<o;c++)if(t[c][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const i=t.getArray(),o=t.getWidth(),c=t.getHeight();for(let y=0;y<c;y++){const E=i[y];for(let S=0;S<o;S++)E[S]===1&&r++}const f=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-f)*10/f)*cn.N4}static getDataMaskBit(t,r,i){let o,c;switch(t){case 0:o=i+r&1;break;case 1:o=i&1;break;case 2:o=r%3;break;case 3:o=(i+r)%3;break;case 4:o=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:c=i*r,o=(c&1)+c%3;break;case 6:c=i*r,o=(c&1)+c%3&1;break;case 7:c=i*r,o=c%3+(i+r&1)&1;break;default:throw new R("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,r){let i=0;const o=r?t.getHeight():t.getWidth(),c=r?t.getWidth():t.getHeight(),f=t.getArray();for(let m=0;m<o;m++){let y=0,E=-1;for(let S=0;S<c;S++){const N=r?f[m][S]:f[S][m];N===E?y++:(y>=5&&(i+=cn.N1+(y-5)),y=1,E=N)}y>=5&&(i+=cn.N1+(y-5))}return i}}cn.N1=3,cn.N2=3,cn.N3=40,cn.N4=10;class pa{constructor(t,r){this.width=t,this.height=r;const i=new Array(r);for(let o=0;o!==r;o++)i[o]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,i){this.bytes[r][t]=i}setBoolean(t,r,i){this.bytes[r][t]=i?1:0}clear(t){for(const r of this.bytes)ce.fill(r,t)}equals(t){if(!(t instanceof pa))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,o=this.height;i<o;++i){const c=this.bytes[i],f=r.bytes[i];for(let m=0,y=this.width;m<y;++m)if(c[m]!==f[m])return!1}return!0}toString(){const t=new Je;for(let r=0,i=this.height;r<i;++r){const o=this.bytes[r];for(let c=0,f=this.width;c<f;++c)switch(o[c]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class bi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Je;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<bi.NUM_MASK_PATTERNS}}bi.NUM_MASK_PATTERNS=8;class kt extends v{}kt.kind="WriterException";class qe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,i,o,c){qe.clearMatrix(c),qe.embedBasicPatterns(i,c),qe.embedTypeInfo(r,o,c),qe.maybeEmbedVersionInfo(i,c),qe.embedDataBits(t,o,c)}static embedBasicPatterns(t,r){qe.embedPositionDetectionPatternsAndSeparators(r),qe.embedDarkDotAtLeftBottomCorner(r),qe.maybeEmbedPositionAdjustmentPatterns(t,r),qe.embedTimingPatterns(r)}static embedTypeInfo(t,r,i){const o=new me;qe.makeTypeInfoBits(t,r,o);for(let c=0,f=o.getSize();c<f;++c){const m=o.get(o.getSize()-1-c),y=qe.TYPE_INFO_COORDINATES[c],E=y[0],S=y[1];if(i.setBoolean(E,S,m),c<8){const N=i.getWidth()-c-1;i.setBoolean(N,8,m)}else{const I=i.getHeight()-7+(c-8);i.setBoolean(8,I,m)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const i=new me;qe.makeVersionInfoBits(t,i);let o=17;for(let c=0;c<6;++c)for(let f=0;f<3;++f){const m=i.get(o);o--,r.setBoolean(c,r.getHeight()-11+f,m),r.setBoolean(r.getHeight()-11+f,c,m)}}static embedDataBits(t,r,i){let o=0,c=-1,f=i.getWidth()-1,m=i.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);m>=0&&m<i.getHeight();){for(let y=0;y<2;++y){const E=f-y;if(!qe.isEmpty(i.get(E,m)))continue;let S;o<t.getSize()?(S=t.get(o),++o):S=!1,r!==255&&cn.getDataMaskBit(r,E,m)&&(S=!S),i.setBoolean(E,m,S)}m+=c}c=-c,m+=c,f-=2}if(o!==t.getSize())throw new kt("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-W.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new R("0 polynomial");const i=qe.findMSBSet(r);for(t<<=i-1;qe.findMSBSet(t)>=i;)t^=r<<qe.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,r,i){if(!bi.isValidMaskPattern(r))throw new kt("Invalid mask pattern");const o=t.getBits()<<3|r;i.appendBits(o,5);const c=qe.calculateBCHCode(o,qe.TYPE_INFO_POLY);i.appendBits(c,10);const f=new me;if(f.appendBits(qe.TYPE_INFO_MASK_PATTERN,15),i.xor(f),i.getSize()!==15)throw new kt("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const i=qe.calculateBCHCode(t.getVersionNumber(),qe.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new kt("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const i=(r+1)%2;qe.isEmpty(t.get(r,6))&&t.setNumber(r,6,i),qe.isEmpty(t.get(6,r))&&t.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new kt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,i){for(let o=0;o<8;++o){if(!qe.isEmpty(i.get(t+o,r)))throw new kt;i.setNumber(t+o,r,0)}}static embedVerticalSeparationPattern(t,r,i){for(let o=0;o<7;++o){if(!qe.isEmpty(i.get(t,r+o)))throw new kt;i.setNumber(t,r+o,0)}}static embedPositionAdjustmentPattern(t,r,i){for(let o=0;o<5;++o){const c=qe.POSITION_ADJUSTMENT_PATTERN[o];for(let f=0;f<5;++f)i.setNumber(t+f,r+o,c[f])}}static embedPositionDetectionPattern(t,r,i){for(let o=0;o<7;++o){const c=qe.POSITION_DETECTION_PATTERN[o];for(let f=0;f<7;++f)i.setNumber(t+f,r+o,c[f])}}static embedPositionDetectionPatternsAndSeparators(t){const r=qe.POSITION_DETECTION_PATTERN[0].length;qe.embedPositionDetectionPattern(0,0,t),qe.embedPositionDetectionPattern(t.getWidth()-r,0,t),qe.embedPositionDetectionPattern(0,t.getWidth()-r,t);const i=8;qe.embedHorizontalSeparationPattern(0,i-1,t),qe.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),qe.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const o=7;qe.embedVerticalSeparationPattern(o,0,t),qe.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),qe.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,o=qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let c=0,f=o.length;c!==f;c++){const m=o[c];if(m>=0)for(let y=0;y!==f;y++){const E=o[y];E>=0&&qe.isEmpty(r.get(E,m))&&qe.embedPositionAdjustmentPattern(E-2,m-2,r)}}}}qe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),qe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),qe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),qe.VERSION_INFO_POLY=7973,qe.TYPE_INFO_POLY=1335,qe.TYPE_INFO_MASK_PATTERN=21522;class pu{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Wt{constructor(){}static calculateMaskPenalty(t){return cn.applyMaskPenaltyRule1(t)+cn.applyMaskPenaltyRule2(t)+cn.applyMaskPenaltyRule3(t)+cn.applyMaskPenaltyRule4(t)}static encode(t,r,i=null){let o=Wt.DEFAULT_BYTE_MODE_ENCODING;const c=i!==null&&i.get(_n.CHARACTER_SET)!==void 0;c&&(o=i.get(_n.CHARACTER_SET).toString());const f=this.chooseMode(t,o),m=new me;if(f===Ue.BYTE&&(c||Wt.DEFAULT_BYTE_MODE_ENCODING!==o)){const pe=de.getCharacterSetECIByName(o);pe!==void 0&&this.appendECI(pe,m)}this.appendModeInfo(f,m);const y=new me;this.appendBytes(t,f,y,o);let E;if(i!==null&&i.get(_n.QR_VERSION)!==void 0){const pe=Number.parseInt(i.get(_n.QR_VERSION).toString(),10);E=De.getVersionForNumber(pe);const xe=this.calculateBitsNeeded(f,m,y,E);if(!this.willFit(xe,E,r))throw new kt("Data too big for requested version")}else E=this.recommendVersion(r,f,m,y);const S=new me;S.appendBitArray(m);const N=f===Ue.BYTE?y.getSizeInBytes():t.length;this.appendLengthInfo(N,E,f,S),S.appendBitArray(y);const I=E.getECBlocksForLevel(r),L=E.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(L,S);const z=this.interleaveWithECBytes(S,E.getTotalCodewords(),L,I.getNumBlocks()),F=new bi;F.setECLevel(r),F.setMode(f),F.setVersion(E);const Y=E.getDimensionForVersion(),ne=new pa(Y,Y),we=this.chooseMaskPattern(z,r,E,ne);return F.setMaskPattern(we),qe.buildMatrix(z,r,E,we,ne),F.setMatrix(ne),F}static recommendVersion(t,r,i,o){const c=this.calculateBitsNeeded(r,i,o,De.getVersionForNumber(1)),f=this.chooseVersion(c,t),m=this.calculateBitsNeeded(r,i,o,f);return this.chooseVersion(m,t)}static calculateBitsNeeded(t,r,i,o){return r.getSize()+t.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(t){return t<Wt.ALPHANUMERIC_TABLE.length?Wt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(de.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return Ue.KANJI;let i=!1,o=!1;for(let c=0,f=t.length;c<f;++c){const m=t.charAt(c);if(Wt.isDigit(m))i=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)o=!0;else return Ue.BYTE}return o?Ue.ALPHANUMERIC:i?Ue.NUMERIC:Ue.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=vt.encode(t,de.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const c=r[o]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(t,r,i,o){let c=Number.MAX_SAFE_INTEGER,f=-1;for(let m=0;m<bi.NUM_MASK_PATTERNS;m++){qe.buildMatrix(t,r,i,m,o);let y=this.calculateMaskPenalty(o);y<c&&(c=y,f=m)}return f}static chooseVersion(t,r){for(let i=1;i<=40;i++){const o=De.getVersionForNumber(i);if(Wt.willFit(t,o,r))return o}throw new kt("Data too big")}static willFit(t,r,i){const o=r.getTotalCodewords(),f=r.getECBlocksForLevel(i).getTotalECCodewords(),m=o-f,y=(t+7)/8;return m>=y}static terminateBits(t,r){const i=t*8;if(r.getSize()>i)throw new kt("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let f=0;f<4&&r.getSize()<i;++f)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let f=o;f<8;f++)r.appendBit(!1);const c=t-r.getSizeInBytes();for(let f=0;f<c;++f)r.appendBits((f&1)===0?236:17,8);if(r.getSize()!==i)throw new kt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,i,o,c,f){if(o>=i)throw new kt("Block ID too large");const m=t%i,y=i-m,E=Math.floor(t/i),S=E+1,N=Math.floor(r/i),I=N+1,L=E-N,z=S-I;if(L!==z)throw new kt("EC bytes mismatch");if(i!==y+m)throw new kt("RS blocks mismatch");if(t!==(N+L)*y+(I+z)*m)throw new kt("Total bytes mismatch");o<y?(c[0]=N,f[0]=L):(c[0]=I,f[0]=z)}static interleaveWithECBytes(t,r,i,o){if(t.getSizeInBytes()!==i)throw new kt("Number of bits and data bytes does not match");let c=0,f=0,m=0;const y=new Array;for(let S=0;S<o;++S){const N=new Int32Array(1),I=new Int32Array(1);Wt.getNumDataBytesAndNumECBytesForBlockID(r,i,o,S,N,I);const L=N[0],z=new Uint8Array(L);t.toBytes(8*c,z,0,L);const F=Wt.generateECBytes(z,I[0]);y.push(new pu(z,F)),f=Math.max(f,L),m=Math.max(m,F.length),c+=N[0]}if(i!==c)throw new kt("Data bytes does not match offset");const E=new me;for(let S=0;S<f;++S)for(const N of y){const I=N.getDataBytes();S<I.length&&E.appendBits(I[S],8)}for(let S=0;S<m;++S)for(const N of y){const I=N.getErrorCorrectionBytes();S<I.length&&E.appendBits(I[S],8)}if(r!==E.getSizeInBytes())throw new kt("Interleaving error: "+r+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(t,r){const i=t.length,o=new Int32Array(i+r);for(let f=0;f<i;f++)o[f]=t[f]&255;new js($e.QR_CODE_FIELD_256).encode(o,r);const c=new Uint8Array(r);for(let f=0;f<r;f++)c[f]=o[i+f];return c}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,i,o){const c=i.getCharacterCountBits(r);if(t>=1<<c)throw new kt(t+" is bigger than "+((1<<c)-1));o.appendBits(t,c)}static appendBytes(t,r,i,o){switch(r){case Ue.NUMERIC:Wt.appendNumericBytes(t,i);break;case Ue.ALPHANUMERIC:Wt.appendAlphanumericBytes(t,i);break;case Ue.BYTE:Wt.append8BitBytes(t,i,o);break;case Ue.KANJI:Wt.appendKanjiBytes(t,i);break;default:throw new kt("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=Wt.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const i=t.length;let o=0;for(;o<i;){const c=Wt.getDigit(t.charAt(o));if(o+2<i){const f=Wt.getDigit(t.charAt(o+1)),m=Wt.getDigit(t.charAt(o+2));r.appendBits(c*100+f*10+m,10),o+=3}else if(o+1<i){const f=Wt.getDigit(t.charAt(o+1));r.appendBits(c*10+f,7),o+=2}else r.appendBits(c,4),o++}}static appendAlphanumericBytes(t,r){const i=t.length;let o=0;for(;o<i;){const c=Wt.getAlphanumericCode(t.charCodeAt(o));if(c===-1)throw new kt;if(o+1<i){const f=Wt.getAlphanumericCode(t.charCodeAt(o+1));if(f===-1)throw new kt;r.appendBits(c*45+f,11),o+=2}else r.appendBits(c,6),o++}}static append8BitBytes(t,r,i){let o;try{o=vt.encode(t,i)}catch(c){throw new kt(c)}for(let c=0,f=o.length;c!==f;c++){const m=o[c];r.appendBits(m,8)}}static appendKanjiBytes(t,r){let i;try{i=vt.encode(t,de.SJIS)}catch(c){throw new kt(c)}const o=i.length;for(let c=0;c<o;c+=2){const f=i[c]&255,m=i[c+1]&255,y=f<<8&4294967295|m;let E=-1;if(y>=33088&&y<=40956?E=y-33088:y>=57408&&y<=60351&&(E=y-49472),E===-1)throw new kt("Invalid byte sequence");const S=(E>>8)*192+(E&255);r.appendBits(S,13)}}static appendECI(t,r){r.appendBits(Ue.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}Wt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Wt.DEFAULT_BYTE_MODE_ENCODING=de.UTF8.getName();class vi{write(t,r,i,o=null){if(t.length===0)throw new R("Found empty contents");if(r<0||i<0)throw new R("Requested dimensions are too small: "+r+"x"+i);let c=ct.L,f=vi.QUIET_ZONE_SIZE;o!==null&&(o.get(_n.ERROR_CORRECTION)!==void 0&&(c=ct.fromString(o.get(_n.ERROR_CORRECTION).toString())),o.get(_n.MARGIN)!==void 0&&(f=Number.parseInt(o.get(_n.MARGIN).toString(),10)));const m=Wt.encode(t,c,o);return this.renderResult(m,r,i,f)}writeToDom(t,r,i,o,c=null){typeof t=="string"&&(t=document.querySelector(t));const f=this.write(r,i,o,c);t&&t.appendChild(f)}renderResult(t,r,i,o){const c=t.getMatrix();if(c===null)throw new kn;const f=c.getWidth(),m=c.getHeight(),y=f+o*2,E=m+o*2,S=Math.max(r,y),N=Math.max(i,E),I=Math.min(Math.floor(S/y),Math.floor(N/E)),L=Math.floor((S-f*I)/2),z=Math.floor((N-m*I)/2),F=this.createSVGElement(S,N);for(let Y=0,ne=z;Y<m;Y++,ne+=I)for(let we=0,pe=L;we<f;we++,pe+=I)if(c.get(we,Y)===1){const xe=this.createSvgRectElement(pe,ne,I,I);F.appendChild(xe)}return F}createSVGElement(t,r){const i=document.createElementNS(vi.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(t,r,i,o){const c=document.createElementNS(vi.SVG_NS,"rect");return c.setAttributeNS(null,"x",t.toString()),c.setAttributeNS(null,"y",r.toString()),c.setAttributeNS(null,"height",i.toString()),c.setAttributeNS(null,"width",o.toString()),c.setAttributeNS(null,"fill","#000000"),c}}vi.QUIET_ZONE_SIZE=4,vi.SVG_NS="http://www.w3.org/2000/svg";class es{encode(t,r,i,o,c){if(t.length===0)throw new R("Found empty contents");if(r!==be.QR_CODE)throw new R("Can only encode QR_CODE, but got "+r);if(i<0||o<0)throw new R(`Requested dimensions are too small: ${i}x${o}`);let f=ct.L,m=es.QUIET_ZONE_SIZE;c!==null&&(c.get(_n.ERROR_CORRECTION)!==void 0&&(f=ct.fromString(c.get(_n.ERROR_CORRECTION).toString())),c.get(_n.MARGIN)!==void 0&&(m=Number.parseInt(c.get(_n.MARGIN).toString(),10)));const y=Wt.encode(t,f,c);return es.renderResult(y,i,o,m)}static renderResult(t,r,i,o){const c=t.getMatrix();if(c===null)throw new kn;const f=c.getWidth(),m=c.getHeight(),y=f+o*2,E=m+o*2,S=Math.max(r,y),N=Math.max(i,E),I=Math.min(Math.floor(S/y),Math.floor(N/E)),L=Math.floor((S-f*I)/2),z=Math.floor((N-m*I)/2),F=new Et(S,N);for(let Y=0,ne=z;Y<m;Y++,ne+=I)for(let we=0,pe=L;we<f;we++,pe+=I)c.get(we,Y)===1&&F.setRegion(pe,ne,I,I);return F}}es.QUIET_ZONE_SIZE=4;class yu{encode(t,r,i,o,c){let f;switch(r){case be.QR_CODE:f=new es;break;default:throw new R("No encoder available for format "+r)}return f.encode(t,r,i,o,c)}}class Ur extends je{constructor(t,r,i,o,c,f,m,y){if(super(f,m),this.yuvData=t,this.dataWidth=r,this.dataHeight=i,this.left=o,this.top=c,o+f>r||c+m>i)throw new R("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(f,m)}getRow(t,r){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return G.arraycopy(this.yuvData,o,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=t*r,o=new Uint8ClampedArray(i);let c=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return G.arraycopy(this.yuvData,c,o,0,i),o;for(let f=0;f<r;f++){const m=f*t;G.arraycopy(this.yuvData,c,o,m,t),c+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,i,o){return new Ur(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,o,!1)}renderThumbnail(){const t=this.getWidth()/Ur.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Ur.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),o=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let f=0;f<r;f++){const m=f*t;for(let y=0;y<t;y++){const E=o[c+y*Ur.THUMBNAIL_SCALE_FACTOR]&255;i[m+y]=4278190080|E*65793}c+=this.dataWidth*Ur.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/Ur.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ur.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const i=this.yuvData;for(let o=0,c=this.top*this.dataWidth+this.left;o<r;o++,c+=this.dataWidth){const f=c+t/2;for(let m=c,y=c+t-1;m<f;m++,y--){const E=i[m];i[m]=i[y],i[y]=E}}}invert(){return new tt(this)}}Ur.THUMBNAIL_SCALE_FACTOR=2;class ml extends je{constructor(t,r,i,o,c,f,m){if(super(r,i),this.dataWidth=o,this.dataHeight=c,this.left=f,this.top=m,t.BYTES_PER_ELEMENT===4){const y=r*i,E=new Uint8ClampedArray(y);for(let S=0;S<y;S++){const N=t[S],I=N>>16&255,L=N>>7&510,z=N&255;E[S]=(I+L+z)/4&255}this.luminances=E}else this.luminances=t;if(o===void 0&&(this.dataWidth=r),c===void 0&&(this.dataHeight=i),f===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new R("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return G.arraycopy(this.luminances,o,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=t*r,o=new Uint8ClampedArray(i);let c=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return G.arraycopy(this.luminances,c,o,0,i),o;for(let f=0;f<r;f++){const m=f*t;G.arraycopy(this.luminances,c,o,m,t),c+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,i,o){return new ml(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new tt(this)}}class vo extends de{static forName(t){return this.getCharacterSetECIByName(t)}}class Us{}Us.ISO_8859_1=de.ISO8859_1;class ts{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Eo{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class _o{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Ei extends _o{constructor(t,r,i){super(t),this.value=r,this.bitCount=i}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new Ei(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ei(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+W.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class ya extends Ei{constructor(t,r,i){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(t,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(t,r){return new ya(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ao(O,t,r){return new ya(O,t,r)}function ns(O,t,r){return new Ei(O,t,r)}const rs=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],di=0,wa=1,fr=2,xl=3,Cr=4,Ps=new Ei(null,0,0),_i=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function wu(O){for(let t of O)ce.fill(t,-1);return O[di][Cr]=0,O[wa][Cr]=0,O[wa][di]=28,O[xl][Cr]=0,O[fr][Cr]=0,O[fr][di]=15,O}const zs=wu(ce.createInt32Array(6,6));class Tr{constructor(t,r,i,o){this.token=t,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let i=this.bitCount,o=this.token;if(t!==this.mode){let f=_i[this.mode][t];o=ns(o,f&65535,f>>16),i+=f>>16}let c=t===fr?4:5;return o=ns(o,r,c),new Tr(o,t,0,i+c)}shiftAndAppend(t,r){let i=this.token,o=this.mode===fr?4:5;return i=ns(i,zs[this.mode][t],o),i=ns(i,r,5),new Tr(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let r=this.token,i=this.mode,o=this.bitCount;if(this.mode===Cr||this.mode===fr){let m=_i[i][di];r=ns(r,m&65535,m>>16),o+=m>>16,i=di}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Tr(r,i,this.binaryShiftByteCount+1,o+c);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(t+1)),f}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Ao(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Tr(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(_i[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=Tr.calculateBinaryShiftCost(t)-Tr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())r.unshift(o);let i=new me;for(const o of r)o.appendTo(i,t);return i}toString(){return Ne.format("%s bits=%d bytes=%d",rs[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Tr.INITIAL_STATE=new Tr(Ps,di,0,0);function So(O){const t=Ne.getCharCode(" "),r=Ne.getCharCode("."),i=Ne.getCharCode(",");O[di][t]=1;const o=Ne.getCharCode("Z"),c=Ne.getCharCode("A");for(let I=c;I<=o;I++)O[di][I]=I-c+2;O[wa][t]=1;const f=Ne.getCharCode("z"),m=Ne.getCharCode("a");for(let I=m;I<=f;I++)O[wa][I]=I-m+2;O[fr][t]=1;const y=Ne.getCharCode("9"),E=Ne.getCharCode("0");for(let I=E;I<=y;I++)O[fr][I]=I-E+2;O[fr][i]=12,O[fr][r]=13;const S=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<S.length;I++)O[xl][Ne.getCharCode(S[I])]=I;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<N.length;I++)Ne.getCharCode(N[I])>0&&(O[Cr][Ne.getCharCode(N[I])]=I);return O}const Fs=So(ce.createInt32Array(5,256));class Ai{constructor(t){this.text=t}encode(){const t=Ne.getCharCode(" "),r=Ne.getCharCode(`
`);let i=Eo.singletonList(Tr.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let f,m=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case Ne.getCharCode("\r"):f=m===r?2:0;break;case Ne.getCharCode("."):f=m===t?3:0;break;case Ne.getCharCode(","):f=m===t?4:0;break;case Ne.getCharCode(":"):f=m===t?5:0;break;default:f=0}f>0?(i=Ai.updateStateListForPair(i,c,f),c++):i=this.updateStateListForChar(i,c)}return Eo.min(i,(c,f)=>c.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const i=[];for(let o of t)this.updateStateForChar(o,r,i);return Ai.simplifyStates(i)}updateStateForChar(t,r,i){let o=this.text[r]&255,c=Fs[t.getMode()][o]>0,f=null;for(let m=0;m<=Cr;m++){let y=Fs[m][o];if(y>0){if(f==null&&(f=t.endBinaryShift(r)),!c||m===t.getMode()||m===fr){const E=f.latchAndAppend(m,y);i.push(E)}if(!c&&zs[t.getMode()][m]>=0){const E=f.shiftAndAppend(m,y);i.push(E)}}}if(t.getBinaryShiftByteCount()>0||Fs[t.getMode()][o]===0){let m=t.addBinaryShiftChar(r);i.push(m)}}static updateStateListForPair(t,r,i){const o=[];for(let c of t)this.updateStateForPair(c,r,i,o);return this.simplifyStates(o)}static updateStateForPair(t,r,i,o){let c=t.endBinaryShift(r);if(o.push(c.latchAndAppend(Cr,i)),t.getMode()!==Cr&&o.push(c.shiftAndAppend(Cr,i)),i===3||i===4){let f=c.latchAndAppend(fr,16-i).latchAndAppend(fr,1);o.push(f)}if(t.getBinaryShiftByteCount()>0){let f=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(f)}}static simplifyStates(t){let r=[];for(const i of t){let o=!0;for(const c of r){if(c.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(c)&&(r=r.filter(f=>f!==c))}o&&r.push(i)}return r}}class xt{constructor(){}static encodeBytes(t){return xt.encode(t,xt.DEFAULT_EC_PERCENT,xt.DEFAULT_AZTEC_LAYERS)}static encode(t,r,i){let o=new Ai(t).encode(),c=W.truncDivision(o.getSize()*r,100)+11,f=o.getSize()+c,m,y,E,S,N;if(i!==xt.DEFAULT_AZTEC_LAYERS){if(m=i<0,y=Math.abs(i),y>(m?xt.MAX_NB_BITS_COMPACT:xt.MAX_NB_BITS))throw new R(Ne.format("Illegal value %s for layers",i));E=xt.totalBitsInLayer(y,m),S=xt.WORD_SIZE[y];let xe=E-E%S;if(N=xt.stuffBits(o,S),N.getSize()+c>xe)throw new R("Data to large for user specified layer");if(m&&N.getSize()>S*64)throw new R("Data to large for user specified layer")}else{S=0,N=null;for(let xe=0;;xe++){if(xe>xt.MAX_NB_BITS)throw new R("Data too large for an Aztec code");if(m=xe<=3,y=m?xe+1:xe,E=xt.totalBitsInLayer(y,m),f>E)continue;(N==null||S!==xt.WORD_SIZE[y])&&(S=xt.WORD_SIZE[y],N=xt.stuffBits(o,S));let lt=E-E%S;if(!(m&&N.getSize()>S*64)&&N.getSize()+c<=lt)break}}let I=xt.generateCheckWords(N,E,S),L=N.getSize()/S,z=xt.generateModeMessage(m,y,L),F=(m?11:14)+y*4,Y=new Int32Array(F),ne;if(m){ne=F;for(let xe=0;xe<Y.length;xe++)Y[xe]=xe}else{ne=F+1+2*W.truncDivision(W.truncDivision(F,2)-1,15);let xe=W.truncDivision(F,2),lt=W.truncDivision(ne,2);for(let We=0;We<xe;We++){let yn=We+W.truncDivision(We,15);Y[xe-We-1]=lt-yn-1,Y[xe+We]=lt+yn+1}}let we=new Et(ne);for(let xe=0,lt=0;xe<y;xe++){let We=(y-xe)*4+(m?9:12);for(let yn=0;yn<We;yn++){let dr=yn*2;for(let Kn=0;Kn<2;Kn++)I.get(lt+dr+Kn)&&we.set(Y[xe*2+Kn],Y[xe*2+yn]),I.get(lt+We*2+dr+Kn)&&we.set(Y[xe*2+yn],Y[F-1-xe*2-Kn]),I.get(lt+We*4+dr+Kn)&&we.set(Y[F-1-xe*2-Kn],Y[F-1-xe*2-yn]),I.get(lt+We*6+dr+Kn)&&we.set(Y[F-1-xe*2-yn],Y[xe*2+Kn])}lt+=We*8}if(xt.drawModeMessage(we,m,ne,z),m)xt.drawBullsEye(we,W.truncDivision(ne,2),5);else{xt.drawBullsEye(we,W.truncDivision(ne,2),7);for(let xe=0,lt=0;xe<W.truncDivision(F,2)-1;xe+=15,lt+=16)for(let We=W.truncDivision(ne,2)&1;We<ne;We+=2)we.set(W.truncDivision(ne,2)-lt,We),we.set(W.truncDivision(ne,2)+lt,We),we.set(We,W.truncDivision(ne,2)-lt),we.set(We,W.truncDivision(ne,2)+lt)}let pe=new ts;return pe.setCompact(m),pe.setSize(ne),pe.setLayers(y),pe.setCodeWords(L),pe.setMatrix(we),pe}static drawBullsEye(t,r,i){for(let o=0;o<i;o+=2)for(let c=r-o;c<=r+o;c++)t.set(c,r-o),t.set(c,r+o),t.set(r-o,c),t.set(r+o,c);t.set(r-i,r-i),t.set(r-i+1,r-i),t.set(r-i,r-i+1),t.set(r+i,r-i),t.set(r+i,r-i+1),t.set(r+i,r+i-1)}static generateModeMessage(t,r,i){let o=new me;return t?(o.appendBits(r-1,2),o.appendBits(i-1,6),o=xt.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(i-1,11),o=xt.generateCheckWords(o,40,4)),o}static drawModeMessage(t,r,i,o){let c=W.truncDivision(i,2);if(r)for(let f=0;f<7;f++){let m=c-3+f;o.get(f)&&t.set(m,c-5),o.get(f+7)&&t.set(c+5,m),o.get(20-f)&&t.set(m,c+5),o.get(27-f)&&t.set(c-5,m)}else for(let f=0;f<10;f++){let m=c-5+f+W.truncDivision(f,5);o.get(f)&&t.set(m,c-7),o.get(f+10)&&t.set(c+7,m),o.get(29-f)&&t.set(m,c+7),o.get(39-f)&&t.set(c-7,m)}}static generateCheckWords(t,r,i){let o=t.getSize()/i,c=new js(xt.getGF(i)),f=W.truncDivision(r,i),m=xt.bitsToWords(t,i,f);c.encode(m,f-o);let y=r%i,E=new me;E.appendBits(0,y);for(const S of Array.from(m))E.appendBits(S,i);return E}static bitsToWords(t,r,i){let o=new Int32Array(i),c,f;for(c=0,f=t.getSize()/r;c<f;c++){let m=0;for(let y=0;y<r;y++)m|=t.get(c*r+y)?1<<r-y-1:0;o[c]=m}return o}static getGF(t){switch(t){case 4:return $e.AZTEC_PARAM;case 6:return $e.AZTEC_DATA_6;case 8:return $e.AZTEC_DATA_8;case 10:return $e.AZTEC_DATA_10;case 12:return $e.AZTEC_DATA_12;default:throw new R("Unsupported word size "+t)}}static stuffBits(t,r){let i=new me,o=t.getSize(),c=(1<<r)-2;for(let f=0;f<o;f+=r){let m=0;for(let y=0;y<r;y++)(f+y>=o||t.get(f+y))&&(m|=1<<r-1-y);(m&c)===c?(i.appendBits(m&c,r),f--):(m&c)===0?(i.appendBits(m|1,r),f--):i.appendBits(m,r)}return i}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}xt.DEFAULT_EC_PERCENT=33,xt.DEFAULT_AZTEC_LAYERS=0,xt.MAX_NB_BITS=32,xt.MAX_NB_BITS_COMPACT=4,xt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class qs{encode(t,r,i,o){return this.encodeWithHints(t,r,i,o,null)}encodeWithHints(t,r,i,o,c){let f=Us.ISO_8859_1,m=xt.DEFAULT_EC_PERCENT,y=xt.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(_n.CHARACTER_SET)&&(f=vo.forName(c.get(_n.CHARACTER_SET).toString())),c.has(_n.ERROR_CORRECTION)&&(m=W.parseInt(c.get(_n.ERROR_CORRECTION).toString())),c.has(_n.AZTEC_LAYERS)&&(y=W.parseInt(c.get(_n.AZTEC_LAYERS).toString()))),qs.encodeLayers(t,r,i,o,f,m,y)}static encodeLayers(t,r,i,o,c,f,m){if(r!==be.AZTEC)throw new R("Can only encode AZTEC, but got "+r);let y=xt.encode(Ne.getBytes(t,c),f,m);return qs.renderResult(y,i,o)}static renderResult(t,r,i){let o=t.getMatrix();if(o==null)throw new kn;let c=o.getWidth(),f=o.getHeight(),m=Math.max(r,c),y=Math.max(i,f),E=Math.min(m/c,y/f),S=(m-c*E)/2,N=(y-f*E)/2,I=new Et(m,y);for(let L=0,z=N;L<f;L++,z+=E)for(let F=0,Y=S;F<c;F++,Y+=E)o.get(F,L)&&I.setRegion(Y,z,E,E);return I}}l.AbstractExpandedDecoder=Xt,l.ArgumentException=T,l.ArithmeticException=dn,l.AztecCode=ts,l.AztecCodeReader=Gi,l.AztecCodeWriter=qs,l.AztecDecoder=Me,l.AztecDetector=Ds,l.AztecDetectorResult=Ns,l.AztecEncoder=xt,l.AztecHighLevelEncoder=Ai,l.AztecPoint=Ln,l.BarcodeFormat=be,l.Binarizer=P,l.BinaryBitmap=k,l.BitArray=me,l.BitMatrix=Et,l.BitSource=Ar,l.BrowserAztecCodeReader=ll,l.BrowserBarcodeReader=fu,l.BrowserCodeReader=Ee,l.BrowserDatamatrixCodeReader=ha,l.BrowserMultiFormatReader=bo,l.BrowserPDF417Reader=mu,l.BrowserQRCodeReader=xu,l.BrowserQRCodeSvgWriter=vi,l.CharacterSetECI=de,l.ChecksumException=j,l.Code128Reader=ye,l.Code39Reader=Mt,l.DataMatrixDecodedBitStreamParser=Kr,l.DataMatrixReader=Wr,l.DecodeHintType=_e,l.DecoderResult=Dt,l.DefaultGridSampler=Is,l.DetectorResult=at,l.EAN13Reader=ur,l.EncodeHintType=_n,l.Exception=v,l.FormatException=ee,l.GenericGF=$e,l.GenericGFPoly=$t,l.GlobalHistogramBinarizer=te,l.GridSampler=Rs,l.GridSamplerInstance=ir,l.HTMLCanvasElementLuminanceSource=ut,l.HybridBinarizer=ue,l.ITFReader=et,l.IllegalArgumentException=R,l.IllegalStateException=kn,l.InvertedLuminanceSource=tt,l.LuminanceSource=je,l.MathUtils=Ge,l.MultiFormatOneDReader=_r,l.MultiFormatReader=wo,l.MultiFormatWriter=yu,l.NotFoundException=ie,l.OneDReader=Ft,l.PDF417DecodedBitStreamParser=re,l.PDF417DecoderErrorCorrection=Qr,l.PDF417Reader=Pn,l.PDF417ResultMetadata=$i,l.PerspectiveTransform=tr,l.PlanarYUVLuminanceSource=Ur,l.QRCodeByteMatrix=pa,l.QRCodeDataMask=ar,l.QRCodeDecodedBitStreamParser=Yt,l.QRCodeDecoderErrorCorrectionLevel=ct,l.QRCodeDecoderFormatInformation=Tn,l.QRCodeEncoder=Wt,l.QRCodeEncoderQRCode=bi,l.QRCodeMaskUtil=cn,l.QRCodeMatrixUtil=qe,l.QRCodeMode=Ue,l.QRCodeReader=Zr,l.QRCodeVersion=De,l.QRCodeWriter=es,l.RGBLuminanceSource=ml,l.RSS14Reader=Bt,l.RSSExpandedReader=ge,l.ReaderException=xa,l.ReedSolomonDecoder=vr,l.ReedSolomonEncoder=js,l.ReedSolomonException=an,l.Result=ve,l.ResultMetadataType=Ye,l.ResultPoint=Oe,l.StringUtils=Ne,l.UnsupportedOperationException=Gn,l.VideoInputDevice=q,l.WhiteRectangleDetector=ot,l.WriterException=kt,l.ZXingArrays=ce,l.ZXingCharset=vo,l.ZXingInteger=W,l.ZXingStandardCharsets=Us,l.ZXingStringBuilder=Je,l.ZXingStringEncoding=vt,l.ZXingSystem=G,l.createAbstractExpandedDecoder=Yr,Object.defineProperty(l,"__esModule",{value:!0})}))})(so,so.exports)),so.exports}var sn=Ev();const _v=oo(sn),Av=U2({__proto__:null,default:_v},[sn]);var p2=(function(){function d(a,l,h){if(this.formatMap=new Map([[Te.QR_CODE,sn.BarcodeFormat.QR_CODE],[Te.AZTEC,sn.BarcodeFormat.AZTEC],[Te.CODABAR,sn.BarcodeFormat.CODABAR],[Te.CODE_39,sn.BarcodeFormat.CODE_39],[Te.CODE_93,sn.BarcodeFormat.CODE_93],[Te.CODE_128,sn.BarcodeFormat.CODE_128],[Te.DATA_MATRIX,sn.BarcodeFormat.DATA_MATRIX],[Te.MAXICODE,sn.BarcodeFormat.MAXICODE],[Te.ITF,sn.BarcodeFormat.ITF],[Te.EAN_13,sn.BarcodeFormat.EAN_13],[Te.EAN_8,sn.BarcodeFormat.EAN_8],[Te.PDF_417,sn.BarcodeFormat.PDF_417],[Te.RSS_14,sn.BarcodeFormat.RSS_14],[Te.RSS_EXPANDED,sn.BarcodeFormat.RSS_EXPANDED],[Te.UPC_A,sn.BarcodeFormat.UPC_A],[Te.UPC_E,sn.BarcodeFormat.UPC_E],[Te.UPC_EAN_EXTENSION,sn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Av)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=h;var x=this.createZXingFormats(a),g=new Map;g.set(sn.DecodeHintType.POSSIBLE_FORMATS,x),g.set(sn.DecodeHintType.TRY_HARDER,!1),this.hints=g}return d.prototype.decodeAsync=function(a){var l=this;return new Promise(function(h,x){try{h(l.decode(a))}catch(g){x(g)}})},d.prototype.decode=function(a){var l=new sn.MultiFormatReader(this.verbose,this.hints),h=new sn.HTMLCanvasElementLuminanceSource(a),x=new sn.BinaryBitmap(new sn.HybridBinarizer(h)),g=l.decode(x);return{text:g.text,format:ix.create(this.toHtml5QrcodeSupportedFormats(g.format)),debugData:this.createDebugData()}},d.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(l,h,x){a.set(l,h)}),a},d.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},d.prototype.createZXingFormats=function(a){for(var l=[],h=0,x=a;h<x.length;h++){var g=x[h];this.formatMap.has(g)?l.push(this.formatMap.get(g)):this.logger.logError("".concat(g," is not supported by")+"ZXingHtml5QrcodeShim")}return l},d.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},d})(),Sv=function(d,a,l,h){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(T){try{v(h.next(T))}catch(R){b(R)}}function _(T){try{v(h.throw(T))}catch(R){b(R)}}function v(T){T.done?g(T.value):x(T.value).then(A,_)}v((h=h.apply(d,a||[])).next())})},Cv=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(v){return function(T){return _([v,T])}}function _(v){if(h)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(l=0)),l;)try{if(h=1,x&&(g=v[0]&2?x.return:v[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,v[1])).done)return g;switch(x=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,x=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){l.label=v[1];break}if(v[0]===6&&l.label<g[1]){l.label=g[1],g=v;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(v);break}g[2]&&l.ops.pop(),l.trys.pop();continue}v=a.call(d,l)}catch(T){v=[6,T],x=0}finally{h=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},y2=(function(){function d(a,l,h){if(this.formatMap=new Map([[Te.QR_CODE,"qr_code"],[Te.AZTEC,"aztec"],[Te.CODABAR,"codabar"],[Te.CODE_39,"code_39"],[Te.CODE_93,"code_93"],[Te.CODE_128,"code_128"],[Te.DATA_MATRIX,"data_matrix"],[Te.ITF,"itf"],[Te.EAN_13,"ean_13"],[Te.EAN_8,"ean_8"],[Te.PDF_417,"pdf417"],[Te.UPC_A,"upc_a"],[Te.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!d.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=h;var x=this.createBarcodeDetectorFormats(a);if(this.detector=new BarcodeDetector(x),!this.detector)throw"BarcodeDetector detector not supported"}return d.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var a=new BarcodeDetector({formats:["qr_code"]});return typeof a<"u"},d.prototype.decodeAsync=function(a){return Sv(this,void 0,void 0,function(){var l,h;return Cv(this,function(x){switch(x.label){case 0:return[4,this.detector.detect(a)];case 1:if(l=x.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return h=this.selectLargestBarcode(l),[2,{text:h.rawValue,format:ix.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}]}})})},d.prototype.selectLargestBarcode=function(a){for(var l=null,h=0,x=0,g=a;x<g.length;x++){var b=g[x],A=b.boundingBox.width*b.boundingBox.height;A>h&&(h=A,l=b)}if(!l)throw"No largest barcode found";return l},d.prototype.createBarcodeDetectorFormats=function(a){for(var l=[],h=0,x=a;h<x.length;h++){var g=x[h];this.formatMap.has(g)?l.push(this.formatMap.get(g)):this.logger.warn("".concat(g," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},d.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},d.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(l,h,x){a.set(l,h)}),a},d.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},d})(),w2=function(d,a,l,h){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(T){try{v(h.next(T))}catch(R){b(R)}}function _(T){try{v(h.throw(T))}catch(R){b(R)}}function v(T){T.done?g(T.value):x(T.value).then(A,_)}v((h=h.apply(d,a||[])).next())})},b2=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(v){return function(T){return _([v,T])}}function _(v){if(h)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(l=0)),l;)try{if(h=1,x&&(g=v[0]&2?x.return:v[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,v[1])).done)return g;switch(x=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,x=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){l.label=v[1];break}if(v[0]===6&&l.label<g[1]){l.label=g[1],g=v;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(v);break}g[2]&&l.ops.pop(),l.trys.pop();continue}v=a.call(d,l)}catch(T){v=[6,T],x=0}finally{h=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Tv=(function(){function d(a,l,h,x){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=h,l&&y2.isSupported()?(this.primaryDecoder=new y2(a,h,x),this.secondaryDecoder=new p2(a,h,x)):this.primaryDecoder=new p2(a,h,x)}return d.prototype.decodeAsync=function(a){return w2(this,void 0,void 0,function(){var l;return b2(this,function(h){switch(h.label){case 0:l=performance.now(),h.label=1;case 1:return h.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(a)];case 2:return[2,h.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},d.prototype.decodeRobustlyAsync=function(a){return w2(this,void 0,void 0,function(){var l,h;return b2(this,function(x){switch(x.label){case 0:l=performance.now(),x.label=1;case 1:return x.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(a)];case 2:return[2,x.sent()];case 3:if(h=x.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(a)];throw h;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},d.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},d.prototype.possiblyLogPerformance=function(a){if(this.verbose){var l=performance.now()-a;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},d.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var a=0,l=0,h=this.executionResults;l<h.length;l++){var x=h[l];a+=x}var g=a/this.executionResults.length;console.log("".concat(g," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},d})(),fd=(function(){var d=function(a,l){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,x){h.__proto__=x}||function(h,x){for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(h[g]=x[g])},d(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");d(a,l);function h(){this.constructor=a}a.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}})(),ru=function(d,a,l,h){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(T){try{v(h.next(T))}catch(R){b(R)}}function _(T){try{v(h.throw(T))}catch(R){b(R)}}function v(T){T.done?g(T.value):x(T.value).then(A,_)}v((h=h.apply(d,a||[])).next())})},iu=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(v){return function(T){return _([v,T])}}function _(v){if(h)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(l=0)),l;)try{if(h=1,x&&(g=v[0]&2?x.return:v[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,v[1])).done)return g;switch(x=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,x=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){l.label=v[1];break}if(v[0]===6&&l.label<g[1]){l.label=g[1],g=v;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(v);break}g[2]&&l.ops.pop(),l.trys.pop();continue}v=a.call(d,l)}catch(T){v=[6,T],x=0}finally{h=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},ax=(function(){function d(a,l){this.name=a,this.track=l}return d.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},d.prototype.apply=function(a){var l={};l[this.name]=a;var h={advanced:[l]};return this.track.applyConstraints(h)},d.prototype.value=function(){var a=this.track.getSettings();if(this.name in a){var l=a[this.name];return l}return null},d})(),Ov=(function(d){fd(a,d);function a(l,h){return d.call(this,l,h)||this}return a.prototype.min=function(){return this.getCapabilities().min},a.prototype.max=function(){return this.getCapabilities().max},a.prototype.step=function(){return this.getCapabilities().step},a.prototype.apply=function(l){var h={};h[this.name]=l;var x={advanced:[h]};return this.track.applyConstraints(x)},a.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),h=l[this.name];return{min:h.min,max:h.max,step:h.step}},a.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},a})(ax),Nv=(function(d){fd(a,d);function a(l){return d.call(this,"zoom",l)||this}return a})(Ov),Rv=(function(d){fd(a,d);function a(l){return d.call(this,"torch",l)||this}return a})(ax),Iv=(function(){function d(a){this.track=a}return d.prototype.zoomFeature=function(){return new Nv(this.track)},d.prototype.torchFeature=function(){return new Rv(this.track)},d})(),Dv=(function(){function d(a,l,h){this.isClosed=!1,this.parentElement=a,this.mediaStream=l,this.callbacks=h,this.surface=this.createVideoElement(this.parentElement.clientWidth),a.append(this.surface)}return d.prototype.createVideoElement=function(a){var l=document.createElement("video");return l.style.width="".concat(a,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},d.prototype.setupSurface=function(){var a=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var h=a.surface.clientWidth,x=a.surface.clientHeight;a.callbacks.onRenderSurfaceReady(h,x),a.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},d.create=function(a,l,h,x){return ru(this,void 0,void 0,function(){var g,b;return iu(this,function(A){switch(A.label){case 0:return g=new d(a,l,x),h.aspectRatio?(b={aspectRatio:h.aspectRatio},[4,g.getFirstTrackOrFail().applyConstraints(b)]):[3,2];case 1:A.sent(),A.label=2;case 2:return g.setupSurface(),[2,g]}})})},d.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},d.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},d.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},d.prototype.resume=function(a){this.failIfClosed();var l=this,h=function(){setTimeout(a,200),l.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.play()},d.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},d.prototype.getSurface=function(){return this.failIfClosed(),this.surface},d.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},d.prototype.applyVideoConstraints=function(a){return ru(this,void 0,void 0,function(){return iu(this,function(l){if("aspectRatio"in a)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(a)]})})},d.prototype.close=function(){if(this.isClosed)return Promise.resolve();var a=this;return new Promise(function(l,h){var x=a.mediaStream.getVideoTracks(),g=x.length,b=0;a.mediaStream.getVideoTracks().forEach(function(A){a.mediaStream.removeTrack(A),A.stop(),++b,b>=g&&(a.isClosed=!0,a.parentElement.removeChild(a.surface),l())})})},d.prototype.getCapabilities=function(){return new Iv(this.getFirstTrackOrFail())},d})(),Mv=(function(){function d(a){this.mediaStream=a}return d.prototype.render=function(a,l,h){return ru(this,void 0,void 0,function(){return iu(this,function(x){return[2,Dv.create(a,this.mediaStream,l,h)]})})},d.create=function(a){return ru(this,void 0,void 0,function(){var l,h;return iu(this,function(x){switch(x.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:a},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return h=x.sent(),[2,new d(h)]}})})},d})(),v2=function(d,a,l,h){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(T){try{v(h.next(T))}catch(R){b(R)}}function _(T){try{v(h.throw(T))}catch(R){b(R)}}function v(T){T.done?g(T.value):x(T.value).then(A,_)}v((h=h.apply(d,a||[])).next())})},E2=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(v){return function(T){return _([v,T])}}function _(v){if(h)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(l=0)),l;)try{if(h=1,x&&(g=v[0]&2?x.return:v[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,v[1])).done)return g;switch(x=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,x=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){l.label=v[1];break}if(v[0]===6&&l.label<g[1]){l.label=g[1],g=v;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(v);break}g[2]&&l.ops.pop(),l.trys.pop();continue}v=a.call(d,l)}catch(T){v=[6,T],x=0}finally{h=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Bv=(function(){function d(){}return d.failIfNotSupported=function(){return v2(this,void 0,void 0,function(){return E2(this,function(a){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new d]})})},d.prototype.create=function(a){return v2(this,void 0,void 0,function(){return E2(this,function(l){return[2,Mv.create(a)]})})},d})(),kv=function(d,a,l,h){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(T){try{v(h.next(T))}catch(R){b(R)}}function _(T){try{v(h.throw(T))}catch(R){b(R)}}function v(T){T.done?g(T.value):x(T.value).then(A,_)}v((h=h.apply(d,a||[])).next())})},Lv=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(v){return function(T){return _([v,T])}}function _(v){if(h)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(l=0)),l;)try{if(h=1,x&&(g=v[0]&2?x.return:v[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,v[1])).done)return g;switch(x=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,x=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){l.label=v[1];break}if(v[0]===6&&l.label<g[1]){l.label=g[1],g=v;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(v);break}g[2]&&l.ops.pop(),l.trys.pop();continue}v=a.call(d,l)}catch(T){v=[6,T],x=0}finally{h=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},jv=(function(){function d(){}return d.retrieve=function(){if(navigator.mediaDevices)return d.getCamerasFromMediaDevices();var a=MediaStreamTrack;return MediaStreamTrack&&a.getSources?d.getCamerasFromMediaStreamTrack():d.rejectWithError()},d.rejectWithError=function(){var a=$a.unableToQuerySupportedDevices();return d.isHttpsOrLocalhost()||(a=$a.insecureContextCameraQueryError()),Promise.reject(a)},d.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var a=location.host.split(":")[0];return a==="127.0.0.1"||a==="localhost"},d.getCamerasFromMediaDevices=function(){return kv(this,void 0,void 0,function(){var a,l,h,x,g,b,A;return Lv(this,function(_){switch(_.label){case 0:return a=function(v){for(var T=v.getVideoTracks(),R=0,k=T;R<k.length;R++){var j=k[R];j.enabled=!1,j.stop(),v.removeTrack(j)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=_.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(h=_.sent(),x=[],g=0,b=h;g<b.length;g++)A=b[g],A.kind==="videoinput"&&x.push({id:A.deviceId,label:A.label});return a(l),[2,x]}})})},d.getCamerasFromMediaStreamTrack=function(){return new Promise(function(a,l){var h=function(g){for(var b=[],A=0,_=g;A<_.length;A++){var v=_[A];v.kind==="video"&&b.push({id:v.id,label:v.label})}a(b)},x=MediaStreamTrack;x.getSources(h)})},d})(),vn;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.NOT_STARTED=1]="NOT_STARTED",d[d.SCANNING=2]="SCANNING",d[d.PAUSED=3]="PAUSED"})(vn||(vn={}));var Uv=(function(){function d(){this.state=vn.NOT_STARTED,this.onGoingTransactionNewState=vn.UNKNOWN}return d.prototype.directTransition=function(a){this.failIfTransitionOngoing(),this.validateTransition(a),this.state=a},d.prototype.startTransition=function(a){return this.failIfTransitionOngoing(),this.validateTransition(a),this.onGoingTransactionNewState=a,this},d.prototype.execute=function(){if(this.onGoingTransactionNewState===vn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var a=this.onGoingTransactionNewState;this.onGoingTransactionNewState=vn.UNKNOWN,this.directTransition(a)},d.prototype.cancel=function(){if(this.onGoingTransactionNewState===vn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=vn.UNKNOWN},d.prototype.getState=function(){return this.state},d.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==vn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},d.prototype.validateTransition=function(a){switch(this.state){case vn.UNKNOWN:throw"Transition from unknown is not allowed";case vn.NOT_STARTED:this.failIfNewStateIs(a,[vn.PAUSED]);break;case vn.SCANNING:break;case vn.PAUSED:break}},d.prototype.failIfNewStateIs=function(a,l){for(var h=0,x=l;h<x.length;h++){var g=x[h];if(a===g)throw"Cannot transition from ".concat(this.state," to ").concat(a)}},d})(),Pv=(function(){function d(a){this.stateManager=a}return d.prototype.startTransition=function(a){return this.stateManager.startTransition(a)},d.prototype.directTransition=function(a){this.stateManager.directTransition(a)},d.prototype.getState=function(){return this.stateManager.getState()},d.prototype.canScanFile=function(){return this.stateManager.getState()===vn.NOT_STARTED},d.prototype.isScanning=function(){return this.stateManager.getState()!==vn.NOT_STARTED},d.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===vn.SCANNING},d.prototype.isPaused=function(){return this.stateManager.getState()===vn.PAUSED},d})(),zv=(function(){function d(){}return d.create=function(){return new Pv(new Uv)},d})(),Fv=(function(){var d=function(a,l){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,x){h.__proto__=x}||function(h,x){for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(h[g]=x[g])},d(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");d(a,l);function h(){this.constructor=a}a.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}})(),Br=(function(d){Fv(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.DEFAULT_WIDTH=300,a.DEFAULT_WIDTH_OFFSET=2,a.FILE_SCAN_MIN_HEIGHT=300,a.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,a.MIN_QR_BOX_SIZE=50,a.SHADED_LEFT=1,a.SHADED_RIGHT=2,a.SHADED_TOP=3,a.SHADED_BOTTOM=4,a.SHADED_REGION_ELEMENT_ID="qr-shaded-region",a.VERBOSE=!1,a.BORDER_SHADER_DEFAULT_COLOR="#ffffff",a.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",a})(yv),qv=(function(){function d(a,l){this.logger=l,this.fps=Br.SCAN_DEFAULT_FPS,a?(a.fps&&(this.fps=a.fps),this.disableFlip=a.disableFlip===!0,this.qrbox=a.qrbox,this.aspectRatio=a.aspectRatio,this.videoConstraints=a.videoConstraints):this.disableFlip=Br.DEFAULT_DISABLE_FLIP}return d.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?sx.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},d.prototype.isShadedBoxEnabled=function(){return!Hi(this.qrbox)},d.create=function(a,l){return new d(a,l)},d})(),Hv=(function(){function d(a,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(a))throw"HTML Element with id=".concat(a," not found");this.elementId=a,this.verbose=!1;var h;typeof l=="boolean"?this.verbose=l===!0:l&&(h=l,this.verbose=h.verbose===!0,h.experimentalFeatures),this.logger=new bv(this.verbose),this.qrcode=new Tv(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(h),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=zv.create()}return d.prototype.start=function(a,l,h,x){var g=this;if(!a)throw"cameraIdOrConfig is required";if(!h||typeof h!="function")throw"qrCodeSuccessCallback is required and should be a function.";var b;x?b=x:b=this.verbose?this.logger.log:function(){};var A=qv.create(l,this.logger);this.clearElement();var _=!1;A.videoConstraints&&(A.isMediaStreamConstraintsValid()?_=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=_,T=document.getElementById(this.elementId);T.clientWidth?T.clientWidth:Br.DEFAULT_WIDTH,T.style.position="relative",this.shouldScan=!0,this.element=T;var R=this,k=this.stateManagerProxy.startTransition(vn.SCANNING);return new Promise(function(j,P){var G=v?A.videoConstraints:R.createVideoConstraints(a);if(!G){k.cancel(),P("videoConstraints should be defined");return}var J={};(!v||A.aspectRatio)&&(J.aspectRatio=A.aspectRatio);var ae={onRenderSurfaceReady:function(ce,W){R.setupUi(ce,W,A),R.isScanning=!0,R.foreverScan(A,h,b)}};Bv.failIfNotSupported().then(function(ce){ce.create(G).then(function(W){return W.render(g.element,J,ae).then(function(me){R.renderedCamera=me,k.execute(),j(null)}).catch(function(me){k.cancel(),P(me)})}).catch(function(W){k.cancel(),P($a.errorGettingUserMedia(W))})}).catch(function(ce){k.cancel(),P($a.cameraStreamingNotSupported())})})},d.prototype.pause=function(a){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(vn.PAUSED),this.showPausedState(),(Hi(a)||a!==!0)&&(a=!1),a&&this.renderedCamera&&this.renderedCamera.pause()},d.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var a=this,l=function(){a.stateManagerProxy.directTransition(vn.SCANNING),a.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},d.prototype.getState=function(){return this.stateManagerProxy.getState()},d.prototype.stop=function(){var a=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(vn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var h=function(){if(a.element){var g=document.getElementById(Br.SHADED_REGION_ELEMENT_ID);g&&a.element.removeChild(g)}},x=this;return this.renderedCamera.close().then(function(){return x.renderedCamera=null,x.element&&(x.element.removeChild(x.canvasElement),x.canvasElement=null),h(),x.qrRegion&&(x.qrRegion=null),x.context&&(x.context=null),l.execute(),x.hidePausedState(),x.isScanning=!1,Promise.resolve()})},d.prototype.scanFile=function(a,l){return this.scanFileV2(a,l).then(function(h){return h.decodedText})},d.prototype.scanFileV2=function(a,l){var h=this;if(!a||!(a instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Hi(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(x,g){h.possiblyCloseLastScanImageFile(),h.clearElement(),h.lastScanImageFile=URL.createObjectURL(a);var b=new Image;b.onload=function(){var A=b.width,_=b.height,v=document.getElementById(h.elementId),T=v.clientWidth?v.clientWidth:Br.DEFAULT_WIDTH,R=Math.max(v.clientHeight?v.clientHeight:_,Br.FILE_SCAN_MIN_HEIGHT),k=h.computeCanvasDrawConfig(A,_,T,R);if(l){var j=h.createCanvasElement(T,R,"qr-canvas-visible");j.style.display="inline-block",v.appendChild(j);var P=j.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=T,P.canvas.height=R,P.drawImage(b,0,0,A,_,k.x,k.y,k.width,k.height)}var G=Br.FILE_SCAN_HIDDEN_CANVAS_PADDING,J=Math.max(b.width,k.width),ae=Math.max(b.height,k.height),ce=J+2*G,W=ae+2*G,me=h.createCanvasElement(ce,W);v.appendChild(me);var ze=me.getContext("2d");if(!ze)throw"Unable to get 2d context from canvas";ze.canvas.width=ce,ze.canvas.height=W,ze.drawImage(b,0,0,A,_,G,G,J,ae);try{h.qrcode.decodeRobustlyAsync(me).then(function(_e){x(m2.createFromQrcodeResult(_e))}).catch(g)}catch(_e){g("QR code parse error, error = ".concat(_e))}},b.onerror=g,b.onabort=g,b.onstalled=g,b.onsuspend=g,b.src=URL.createObjectURL(a)})},d.prototype.clear=function(){this.clearElement()},d.getCameras=function(){return jv.retrieve()},d.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},d.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},d.prototype.applyVideoConstraints=function(a){if(a){if(!sx.isMediaStreamConstraintsValid(a,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(a)},d.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},d.prototype.getSupportedFormats=function(a){var l=[Te.QR_CODE,Te.AZTEC,Te.CODABAR,Te.CODE_39,Te.CODE_93,Te.CODE_128,Te.DATA_MATRIX,Te.MAXICODE,Te.ITF,Te.EAN_13,Te.EAN_8,Te.PDF_417,Te.RSS_14,Te.RSS_EXPANDED,Te.UPC_A,Te.UPC_E,Te.UPC_EAN_EXTENSION];if(!a||typeof a=="boolean"||!a.formatsToSupport)return l;if(!Array.isArray(a.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(a.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var h=[],x=0,g=a.formatsToSupport;x<g.length;x++){var b=g[x];pv(b)?h.push(b):this.logger.warn("Invalid format: ".concat(b," passed in config, ignoring."))}if(h.length===0)throw"None of formatsToSupport match supported values.";return h},d.prototype.getUseBarCodeDetectorIfSupported=function(a){if(Hi(a))return!0;if(!Hi(a.useBarCodeDetectorIfSupported))return a.useBarCodeDetectorIfSupported!==!1;if(Hi(a.experimentalFeatures))return!0;var l=a.experimentalFeatures;return Hi(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},d.prototype.validateQrboxSize=function(a,l,h){var x=this,g=h.qrbox;this.validateQrboxConfig(g);var b=this.toQrdimensions(a,l,g),A=function(v){if(v<Br.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Br.MIN_QR_BOX_SIZE,"px.")},_=function(v){return v>a&&(x.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=a),v};A(b.width),A(b.height),b.width=_(b.width)},d.prototype.validateQrboxConfig=function(a){if(typeof a!="number"&&typeof a!="function"&&(a.width===void 0||a.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},d.prototype.toQrdimensions=function(a,l,h){if(typeof h=="number")return{width:h,height:h};if(typeof h=="function")try{return h(a,l)}catch(x){throw new Error("qrbox config was passed as a function but it failed with unknown error"+x)}return h},d.prototype.setupUi=function(a,l,h){h.isShadedBoxEnabled()&&this.validateQrboxSize(a,l,h);var x=Hi(h.qrbox)?{width:a,height:l}:h.qrbox;this.validateQrboxConfig(x);var g=this.toQrdimensions(a,l,x);g.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var b=h.isShadedBoxEnabled()&&g.height<=l,A={x:0,y:0,width:a,height:l},_=b?this.getShadedRegionBounds(a,l,g):A,v=this.createCanvasElement(_.width,_.height),T={willReadFrequently:!0},R=v.getContext("2d",T);R.canvas.width=_.width,R.canvas.height=_.height,this.element.append(v),b&&this.possiblyInsertShadingElement(this.element,a,l,g),this.createScannerPausedUiElement(this.element),this.qrRegion=_,this.context=R,this.canvasElement=v},d.prototype.createScannerPausedUiElement=function(a){var l=document.createElement("div");l.innerText=$a.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",a.appendChild(l),this.scannerPausedUiElement=l},d.prototype.scanContext=function(a,l){var h=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(x){return a(x.text,m2.createFromQrcodeResult(x)),h.possiblyUpdateShaders(!0),!0}).catch(function(x){h.possiblyUpdateShaders(!1);var g=$a.codeParseError(x);return l(g,wv.createFrom(g)),!1})},d.prototype.foreverScan=function(a,l,h){var x=this;if(this.shouldScan&&this.renderedCamera){var g=this.renderedCamera.getSurface(),b=g.videoWidth/g.clientWidth,A=g.videoHeight/g.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var _=this.qrRegion.width*b,v=this.qrRegion.height*A,T=this.qrRegion.x*b,R=this.qrRegion.y*A;this.context.drawImage(g,T,R,_,v,0,0,this.qrRegion.width,this.qrRegion.height);var k=function(){x.foreverScanTimeout=setTimeout(function(){x.foreverScan(a,l,h)},x.getTimeoutFps(a.fps))};this.scanContext(l,h).then(function(j){!j&&a.disableFlip!==!0?(x.context.translate(x.context.canvas.width,0),x.context.scale(-1,1),x.scanContext(l,h).finally(function(){k()})):k()}).catch(function(j){x.logger.logError("Error happend while scanning context",j),k()})}},d.prototype.createVideoConstraints=function(a){if(typeof a=="string")return{deviceId:{exact:a}};if(typeof a=="object"){var l="facingMode",h="deviceId",x={user:!0,environment:!0},g="exact",b=function(P){if(P in x)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},A=Object.keys(a);if(A.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(A.length," keys");var _=Object.keys(a)[0];if(_!==l&&_!==h)throw"Only '".concat(l,"' and '").concat(h,"' ")+" are supported for 'cameraIdOrConfig'";if(_===l){var v=a.facingMode;if(typeof v=="string"){if(b(v))return{facingMode:v}}else if(typeof v=="object")if(g in v){if(b(v["".concat(g)]))return{facingMode:{exact:v["".concat(g)]}}}else throw"'facingMode' should be string or object with"+" ".concat(g," as key.");else{var T=typeof v;throw"Invalid type of 'facingMode' = ".concat(T)}}else{var R=a.deviceId;if(typeof R=="string")return{deviceId:R};if(typeof R=="object"){if(g in R)return{deviceId:{exact:R["".concat(g)]}};throw"'deviceId' should be string or object with"+" ".concat(g," as key.")}else{var k=typeof R;throw"Invalid type of 'deviceId' = ".concat(k)}}}var j=typeof a;throw"Invalid type of 'cameraIdOrConfig' = ".concat(j)},d.prototype.computeCanvasDrawConfig=function(a,l,h,x){if(a<=h&&l<=x){var g=(h-a)/2,b=(x-l)/2;return{x:g,y:b,width:a,height:l}}else{var A=a,_=l;return a>h&&(l=h/a*l,a=h),l>x&&(a=x/l*a,l=x),this.logger.log("Image downsampled from "+"".concat(A,"X").concat(_)+" to ".concat(a,"X").concat(l,".")),this.computeCanvasDrawConfig(a,l,h,x)}},d.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var a=document.getElementById(this.elementId);a&&(a.innerHTML="")},d.prototype.possiblyUpdateShaders=function(a){this.qrMatch!==a&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=a?Br.BORDER_SHADER_MATCH_COLOR:Br.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=a)},d.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},d.prototype.createCanvasElement=function(a,l,h){var x=a,g=l,b=document.createElement("canvas");return b.style.width="".concat(x,"px"),b.style.height="".concat(g,"px"),b.style.display="none",b.id=Hi(h)?"qr-canvas":h,b},d.prototype.getShadedRegionBounds=function(a,l,h){if(h.width>a||h.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(a-h.width)/2,y:(l-h.height)/2,width:h.width,height:h.height}},d.prototype.possiblyInsertShadingElement=function(a,l,h,x){if(!(l-x.width<1||h-x.height<1)){var g=document.createElement("div");g.style.position="absolute";var b=(l-x.width)/2,A=(h-x.height)/2;if(g.style.borderLeft="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderRight="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderTop="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderBottom="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),g.style.boxSizing="border-box",g.style.top="0px",g.style.bottom="0px",g.style.left="0px",g.style.right="0px",g.id="".concat(Br.SHADED_REGION_ELEMENT_ID),l-x.width<11||h-x.height<11)this.hasBorderShaders=!1;else{var _=5,v=40;this.insertShaderBorders(g,v,_,-_,null,0,!0),this.insertShaderBorders(g,v,_,-_,null,0,!1),this.insertShaderBorders(g,v,_,null,-_,0,!0),this.insertShaderBorders(g,v,_,null,-_,0,!1),this.insertShaderBorders(g,_,v+_,-_,null,-_,!0),this.insertShaderBorders(g,_,v+_,null,-_,-_,!0),this.insertShaderBorders(g,_,v+_,-_,null,-_,!1),this.insertShaderBorders(g,_,v+_,null,-_,-_,!1),this.hasBorderShaders=!0}a.append(g)}},d.prototype.insertShaderBorders=function(a,l,h,x,g,b,A){var _=document.createElement("div");_.style.position="absolute",_.style.backgroundColor=Br.BORDER_SHADER_DEFAULT_COLOR,_.style.width="".concat(l,"px"),_.style.height="".concat(h,"px"),x!==null&&(_.style.top="".concat(x,"px")),g!==null&&(_.style.bottom="".concat(g,"px")),A?_.style.left="".concat(b,"px"):_.style.right="".concat(b,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(_),a.appendChild(_)},d.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},d.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},d.prototype.getTimeoutFps=function(a){return 1e3/a},d})(),_2;(function(d){d[d.STATUS_DEFAULT=0]="STATUS_DEFAULT",d[d.STATUS_SUCCESS=1]="STATUS_SUCCESS",d[d.STATUS_WARNING=2]="STATUS_WARNING",d[d.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(_2||(_2={}));const Vv=({onScan:d,onClose:a})=>{const[l,h]=rt.useState(null),x=rt.useRef(null),g=rt.useRef(!1);return rt.useEffect(()=>{g.current=!0;const b="html5qr-code-full-region",_=setTimeout(async()=>{try{const v=new Hv(b);x.current=v;const T={fps:10,qrbox:{width:250,height:250},formatsToSupport:[Te.QR_CODE,Te.CODE_128,Te.EAN_13]};await v.start({facingMode:"environment"},T,R=>{g.current&&d(R)},R=>{})}catch(v){g.current&&(h("No foi possvel acessar a cmera. Verifique as permisses."),console.error(v))}},100);return()=>{g.current=!1,clearTimeout(_),x.current&&x.current.isScanning&&x.current.stop().then(()=>{var v;(v=x.current)==null||v.clear()}).catch(console.error)}},[d]),M.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col",children:[M.jsxs("div",{className:"flex justify-between items-center p-4 text-white bg-black/50 z-10",children:[M.jsx("h2",{className:"text-lg font-bold",children:"Escanear Cdigo"}),M.jsx("button",{onClick:a,className:"p-2 rounded-full hover:bg-white/20",children:M.jsx(uy,{size:28})})]}),M.jsx("div",{className:"flex-1 relative bg-black flex items-center justify-center",children:l?M.jsxs("div",{className:"text-white text-center p-6",children:[M.jsx(iy,{size:48,className:"mx-auto mb-4 opacity-50"}),M.jsx("p",{children:l})]}):M.jsx("div",{id:"html5qr-code-full-region",className:"w-full h-full"})}),M.jsx("div",{className:"p-6 bg-black/80 text-white text-center text-sm",children:"Aponte a cmera para o cdigo de barras ou QR Code."})]})};var Za={},Sf={exports:{}},Cf,A2;function Gv(){if(A2)return Cf;A2=1;var d="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cf=d,Cf}var Tf,S2;function Xv(){if(S2)return Tf;S2=1;var d=Gv();function a(){}function l(){}return l.resetWarningCache=a,Tf=function(){function h(b,A,_,v,T,R){if(R!==d){var k=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw k.name="Invariant Violation",k}}h.isRequired=h;function x(){return h}var g={array:h,bigint:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:x,element:h,elementType:h,instanceOf:x,node:h,objectOf:x,oneOf:x,oneOfType:x,shape:x,exact:x,checkPropTypes:l,resetWarningCache:a};return g.PropTypes=g,g},Tf}var C2;function lx(){return C2||(C2=1,Sf.exports=Xv()()),Sf.exports}var Of,T2;function ox(){return T2||(T2=1,Of={L:1,M:0,Q:3,H:2}),Of}var Nf,O2;function cx(){return O2||(O2=1,Nf={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),Nf}var Rf,N2;function Yv(){if(N2)return Rf;N2=1;var d=cx();function a(l){this.mode=d.MODE_8BIT_BYTE,this.data=l}return a.prototype={getLength:function(l){return this.data.length},write:function(l){for(var h=0;h<this.data.length;h++)l.put(this.data.charCodeAt(h),8)}},Rf=a,Rf}var If,R2;function Kv(){if(R2)return If;R2=1;var d=ox();function a(l,h){this.totalCount=l,this.dataCount=h}return a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(l,h){var x=a.getRsBlockTable(l,h);if(x==null)throw new Error("bad rs block @ typeNumber:"+l+"/errorCorrectLevel:"+h);for(var g=x.length/3,b=new Array,A=0;A<g;A++)for(var _=x[A*3+0],v=x[A*3+1],T=x[A*3+2],R=0;R<_;R++)b.push(new a(v,T));return b},a.getRsBlockTable=function(l,h){switch(h){case d.L:return a.RS_BLOCK_TABLE[(l-1)*4+0];case d.M:return a.RS_BLOCK_TABLE[(l-1)*4+1];case d.Q:return a.RS_BLOCK_TABLE[(l-1)*4+2];case d.H:return a.RS_BLOCK_TABLE[(l-1)*4+3];default:return}},If=a,If}var Df,I2;function Wv(){if(I2)return Df;I2=1;function d(){this.buffer=new Array,this.length=0}return d.prototype={get:function(a){var l=Math.floor(a/8);return(this.buffer[l]>>>7-a%8&1)==1},put:function(a,l){for(var h=0;h<l;h++)this.putBit((a>>>l-h-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(a){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),a&&(this.buffer[l]|=128>>>this.length%8),this.length++}},Df=d,Df}var Mf,D2;function ux(){if(D2)return Mf;D2=1;for(var d={glog:function(l){if(l<1)throw new Error("glog("+l+")");return d.LOG_TABLE[l]},gexp:function(l){for(;l<0;)l+=255;for(;l>=256;)l-=255;return d.EXP_TABLE[l]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},a=0;a<8;a++)d.EXP_TABLE[a]=1<<a;for(var a=8;a<256;a++)d.EXP_TABLE[a]=d.EXP_TABLE[a-4]^d.EXP_TABLE[a-5]^d.EXP_TABLE[a-6]^d.EXP_TABLE[a-8];for(var a=0;a<255;a++)d.LOG_TABLE[d.EXP_TABLE[a]]=a;return Mf=d,Mf}var Bf,M2;function hx(){if(M2)return Bf;M2=1;var d=ux();function a(l,h){if(l.length==null)throw new Error(l.length+"/"+h);for(var x=0;x<l.length&&l[x]==0;)x++;this.num=new Array(l.length-x+h);for(var g=0;g<l.length-x;g++)this.num[g]=l[g+x]}return a.prototype={get:function(l){return this.num[l]},getLength:function(){return this.num.length},multiply:function(l){for(var h=new Array(this.getLength()+l.getLength()-1),x=0;x<this.getLength();x++)for(var g=0;g<l.getLength();g++)h[x+g]^=d.gexp(d.glog(this.get(x))+d.glog(l.get(g)));return new a(h,0)},mod:function(l){if(this.getLength()-l.getLength()<0)return this;for(var h=d.glog(this.get(0))-d.glog(l.get(0)),x=new Array(this.getLength()),g=0;g<this.getLength();g++)x[g]=this.get(g);for(var g=0;g<l.getLength();g++)x[g]^=d.gexp(d.glog(l.get(g))+h);return new a(x,0).mod(l)}},Bf=a,Bf}var kf,B2;function Zv(){if(B2)return kf;B2=1;var d=cx(),a=hx(),l=ux(),h={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},x={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(g){for(var b=g<<10;x.getBCHDigit(b)-x.getBCHDigit(x.G15)>=0;)b^=x.G15<<x.getBCHDigit(b)-x.getBCHDigit(x.G15);return(g<<10|b)^x.G15_MASK},getBCHTypeNumber:function(g){for(var b=g<<12;x.getBCHDigit(b)-x.getBCHDigit(x.G18)>=0;)b^=x.G18<<x.getBCHDigit(b)-x.getBCHDigit(x.G18);return g<<12|b},getBCHDigit:function(g){for(var b=0;g!=0;)b++,g>>>=1;return b},getPatternPosition:function(g){return x.PATTERN_POSITION_TABLE[g-1]},getMask:function(g,b,A){switch(g){case h.PATTERN000:return(b+A)%2==0;case h.PATTERN001:return b%2==0;case h.PATTERN010:return A%3==0;case h.PATTERN011:return(b+A)%3==0;case h.PATTERN100:return(Math.floor(b/2)+Math.floor(A/3))%2==0;case h.PATTERN101:return b*A%2+b*A%3==0;case h.PATTERN110:return(b*A%2+b*A%3)%2==0;case h.PATTERN111:return(b*A%3+(b+A)%2)%2==0;default:throw new Error("bad maskPattern:"+g)}},getErrorCorrectPolynomial:function(g){for(var b=new a([1],0),A=0;A<g;A++)b=b.multiply(new a([1,l.gexp(A)],0));return b},getLengthInBits:function(g,b){if(1<=b&&b<10)switch(g){case d.MODE_NUMBER:return 10;case d.MODE_ALPHA_NUM:return 9;case d.MODE_8BIT_BYTE:return 8;case d.MODE_KANJI:return 8;default:throw new Error("mode:"+g)}else if(b<27)switch(g){case d.MODE_NUMBER:return 12;case d.MODE_ALPHA_NUM:return 11;case d.MODE_8BIT_BYTE:return 16;case d.MODE_KANJI:return 10;default:throw new Error("mode:"+g)}else if(b<41)switch(g){case d.MODE_NUMBER:return 14;case d.MODE_ALPHA_NUM:return 13;case d.MODE_8BIT_BYTE:return 16;case d.MODE_KANJI:return 12;default:throw new Error("mode:"+g)}else throw new Error("type:"+b)},getLostPoint:function(g){for(var b=g.getModuleCount(),A=0,_=0;_<b;_++)for(var v=0;v<b;v++){for(var T=0,R=g.isDark(_,v),k=-1;k<=1;k++)if(!(_+k<0||b<=_+k))for(var j=-1;j<=1;j++)v+j<0||b<=v+j||k==0&&j==0||R==g.isDark(_+k,v+j)&&T++;T>5&&(A+=3+T-5)}for(var _=0;_<b-1;_++)for(var v=0;v<b-1;v++){var P=0;g.isDark(_,v)&&P++,g.isDark(_+1,v)&&P++,g.isDark(_,v+1)&&P++,g.isDark(_+1,v+1)&&P++,(P==0||P==4)&&(A+=3)}for(var _=0;_<b;_++)for(var v=0;v<b-6;v++)g.isDark(_,v)&&!g.isDark(_,v+1)&&g.isDark(_,v+2)&&g.isDark(_,v+3)&&g.isDark(_,v+4)&&!g.isDark(_,v+5)&&g.isDark(_,v+6)&&(A+=40);for(var v=0;v<b;v++)for(var _=0;_<b-6;_++)g.isDark(_,v)&&!g.isDark(_+1,v)&&g.isDark(_+2,v)&&g.isDark(_+3,v)&&g.isDark(_+4,v)&&!g.isDark(_+5,v)&&g.isDark(_+6,v)&&(A+=40);for(var G=0,v=0;v<b;v++)for(var _=0;_<b;_++)g.isDark(_,v)&&G++;var J=Math.abs(100*G/b/b-50)/5;return A+=J*10,A}};return kf=x,kf}var Lf,k2;function Qv(){if(k2)return Lf;k2=1;var d=Yv(),a=Kv(),l=Wv(),h=Zv(),x=hx();function g(A,_){this.typeNumber=A,this.errorCorrectLevel=_,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var b=g.prototype;return b.addData=function(A){var _=new d(A);this.dataList.push(_),this.dataCache=null},b.isDark=function(A,_){if(A<0||this.moduleCount<=A||_<0||this.moduleCount<=_)throw new Error(A+","+_);return this.modules[A][_]},b.getModuleCount=function(){return this.moduleCount},b.make=function(){if(this.typeNumber<1){var A=1;for(A=1;A<40;A++){for(var _=a.getRSBlocks(A,this.errorCorrectLevel),v=new l,T=0,R=0;R<_.length;R++)T+=_[R].dataCount;for(var R=0;R<this.dataList.length;R++){var k=this.dataList[R];v.put(k.mode,4),v.put(k.getLength(),h.getLengthInBits(k.mode,A)),k.write(v)}if(v.getLengthInBits()<=T*8)break}this.typeNumber=A}this.makeImpl(!1,this.getBestMaskPattern())},b.makeImpl=function(A,_){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var v=0;v<this.moduleCount;v++){this.modules[v]=new Array(this.moduleCount);for(var T=0;T<this.moduleCount;T++)this.modules[v][T]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(A,_),this.typeNumber>=7&&this.setupTypeNumber(A),this.dataCache==null&&(this.dataCache=g.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,_)},b.setupPositionProbePattern=function(A,_){for(var v=-1;v<=7;v++)if(!(A+v<=-1||this.moduleCount<=A+v))for(var T=-1;T<=7;T++)_+T<=-1||this.moduleCount<=_+T||(0<=v&&v<=6&&(T==0||T==6)||0<=T&&T<=6&&(v==0||v==6)||2<=v&&v<=4&&2<=T&&T<=4?this.modules[A+v][_+T]=!0:this.modules[A+v][_+T]=!1)},b.getBestMaskPattern=function(){for(var A=0,_=0,v=0;v<8;v++){this.makeImpl(!0,v);var T=h.getLostPoint(this);(v==0||A>T)&&(A=T,_=v)}return _},b.createMovieClip=function(A,_,v){var T=A.createEmptyMovieClip(_,v),R=1;this.make();for(var k=0;k<this.modules.length;k++)for(var j=k*R,P=0;P<this.modules[k].length;P++){var G=P*R,J=this.modules[k][P];J&&(T.beginFill(0,100),T.moveTo(G,j),T.lineTo(G+R,j),T.lineTo(G+R,j+R),T.lineTo(G,j+R),T.endFill())}return T},b.setupTimingPattern=function(){for(var A=8;A<this.moduleCount-8;A++)this.modules[A][6]==null&&(this.modules[A][6]=A%2==0);for(var _=8;_<this.moduleCount-8;_++)this.modules[6][_]==null&&(this.modules[6][_]=_%2==0)},b.setupPositionAdjustPattern=function(){for(var A=h.getPatternPosition(this.typeNumber),_=0;_<A.length;_++)for(var v=0;v<A.length;v++){var T=A[_],R=A[v];if(this.modules[T][R]==null)for(var k=-2;k<=2;k++)for(var j=-2;j<=2;j++)k==-2||k==2||j==-2||j==2||k==0&&j==0?this.modules[T+k][R+j]=!0:this.modules[T+k][R+j]=!1}},b.setupTypeNumber=function(A){for(var _=h.getBCHTypeNumber(this.typeNumber),v=0;v<18;v++){var T=!A&&(_>>v&1)==1;this.modules[Math.floor(v/3)][v%3+this.moduleCount-8-3]=T}for(var v=0;v<18;v++){var T=!A&&(_>>v&1)==1;this.modules[v%3+this.moduleCount-8-3][Math.floor(v/3)]=T}},b.setupTypeInfo=function(A,_){for(var v=this.errorCorrectLevel<<3|_,T=h.getBCHTypeInfo(v),R=0;R<15;R++){var k=!A&&(T>>R&1)==1;R<6?this.modules[R][8]=k:R<8?this.modules[R+1][8]=k:this.modules[this.moduleCount-15+R][8]=k}for(var R=0;R<15;R++){var k=!A&&(T>>R&1)==1;R<8?this.modules[8][this.moduleCount-R-1]=k:R<9?this.modules[8][15-R-1+1]=k:this.modules[8][15-R-1]=k}this.modules[this.moduleCount-8][8]=!A},b.mapData=function(A,_){for(var v=-1,T=this.moduleCount-1,R=7,k=0,j=this.moduleCount-1;j>0;j-=2)for(j==6&&j--;;){for(var P=0;P<2;P++)if(this.modules[T][j-P]==null){var G=!1;k<A.length&&(G=(A[k]>>>R&1)==1);var J=h.getMask(_,T,j-P);J&&(G=!G),this.modules[T][j-P]=G,R--,R==-1&&(k++,R=7)}if(T+=v,T<0||this.moduleCount<=T){T-=v,v=-v;break}}},g.PAD0=236,g.PAD1=17,g.createData=function(A,_,v){for(var T=a.getRSBlocks(A,_),R=new l,k=0;k<v.length;k++){var j=v[k];R.put(j.mode,4),R.put(j.getLength(),h.getLengthInBits(j.mode,A)),j.write(R)}for(var P=0,k=0;k<T.length;k++)P+=T[k].dataCount;if(R.getLengthInBits()>P*8)throw new Error("code length overflow. ("+R.getLengthInBits()+">"+P*8+")");for(R.getLengthInBits()+4<=P*8&&R.put(0,4);R.getLengthInBits()%8!=0;)R.putBit(!1);for(;!(R.getLengthInBits()>=P*8||(R.put(g.PAD0,8),R.getLengthInBits()>=P*8));)R.put(g.PAD1,8);return g.createBytes(R,T)},g.createBytes=function(A,_){for(var v=0,T=0,R=0,k=new Array(_.length),j=new Array(_.length),P=0;P<_.length;P++){var G=_[P].dataCount,J=_[P].totalCount-G;T=Math.max(T,G),R=Math.max(R,J),k[P]=new Array(G);for(var ae=0;ae<k[P].length;ae++)k[P][ae]=255&A.buffer[ae+v];v+=G;var ce=h.getErrorCorrectPolynomial(J),W=new x(k[P],ce.getLength()-1),me=W.mod(ce);j[P]=new Array(ce.getLength()-1);for(var ae=0;ae<j[P].length;ae++){var ze=ae+me.getLength()-j[P].length;j[P][ae]=ze>=0?me.get(ze):0}}for(var _e=0,ae=0;ae<_.length;ae++)_e+=_[ae].totalCount;for(var ee=new Array(_e),ke=0,ae=0;ae<T;ae++)for(var P=0;P<_.length;P++)ae<k[P].length&&(ee[ke++]=k[P][ae]);for(var ae=0;ae<R;ae++)for(var P=0;P<_.length;P++)ae<j[P].length&&(ee[ke++]=j[P][ae]);return ee},Lf=g,Lf}var Pc={},L2;function Jv(){if(L2)return Pc;L2=1,Object.defineProperty(Pc,"__esModule",{value:!0});var d=Object.assign||function(v){for(var T=1;T<arguments.length;T++){var R=arguments[T];for(var k in R)Object.prototype.hasOwnProperty.call(R,k)&&(v[k]=R[k])}return v},a=lx(),l=g(a),h=uo(),x=g(h);function g(v){return v&&v.__esModule?v:{default:v}}function b(v,T){var R={};for(var k in v)T.indexOf(k)>=0||Object.prototype.hasOwnProperty.call(v,k)&&(R[k]=v[k]);return R}var A={bgColor:l.default.oneOfType([l.default.object,l.default.string]).isRequired,bgD:l.default.string.isRequired,fgColor:l.default.oneOfType([l.default.object,l.default.string]).isRequired,fgD:l.default.string.isRequired,size:l.default.number.isRequired,title:l.default.string,viewBoxSize:l.default.number.isRequired,xmlns:l.default.string},_=(0,h.forwardRef)(function(v,T){var R=v.bgColor,k=v.bgD,j=v.fgD,P=v.fgColor,G=v.size,J=v.title,ae=v.viewBoxSize,ce=v.xmlns,W=ce===void 0?"http://www.w3.org/2000/svg":ce,me=b(v,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return x.default.createElement("svg",d({},me,{height:G,ref:T,viewBox:"0 0 "+ae+" "+ae,width:G,xmlns:W}),J?x.default.createElement("title",null,J):null,x.default.createElement("path",{d:k,fill:R}),x.default.createElement("path",{d:j,fill:P}))});return _.displayName="QRCodeSvg",_.propTypes=A,Pc.default=_,Pc}var j2;function $v(){if(j2)return Za;j2=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.QRCode=void 0;var d=Object.assign||function(G){for(var J=1;J<arguments.length;J++){var ae=arguments[J];for(var ce in ae)Object.prototype.hasOwnProperty.call(ae,ce)&&(G[ce]=ae[ce])}return G},a=lx(),l=R(a),h=ox(),x=R(h),g=Qv(),b=R(g),A=uo(),_=R(A),v=Jv(),T=R(v);function R(G){return G&&G.__esModule?G:{default:G}}function k(G,J){var ae={};for(var ce in G)J.indexOf(ce)>=0||Object.prototype.hasOwnProperty.call(G,ce)&&(ae[ce]=G[ce]);return ae}var j={bgColor:l.default.oneOfType([l.default.object,l.default.string]),fgColor:l.default.oneOfType([l.default.object,l.default.string]),level:l.default.string,size:l.default.number,value:l.default.string.isRequired},P=(0,A.forwardRef)(function(G,J){var ae=G.bgColor,ce=ae===void 0?"#FFFFFF":ae,W=G.fgColor,me=W===void 0?"#000000":W,ze=G.level,_e=ze===void 0?"L":ze,ee=G.size,ke=ee===void 0?256:ee,de=G.value,Gn=k(G,["bgColor","fgColor","level","size","value"]),vt=new b.default(-1,x.default[_e]);vt.addData(de),vt.make();var Ne=vt.modules;return _.default.createElement(T.default,d({},Gn,{bgColor:ce,bgD:Ne.map(function(Je,Et){return Je.map(function(ie,te){return ie?"":"M "+te+" "+Et+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:me,fgD:Ne.map(function(Je,Et){return Je.map(function(ie,te){return ie?"M "+te+" "+Et+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:J,size:ke,viewBoxSize:Ne.length}))});return Za.QRCode=P,P.displayName="QRCode",P.propTypes=j,Za.default=P,Za}var e3=$v();const t3=oo(e3),n3=({product:d,onClose:a})=>{const l=()=>{var x;const h=window.open("","","height=500,width=500");if(h){const g=((x=document.getElementById("qr-code-svg"))==null?void 0:x.outerHTML)||"";h.document.write(`
            <html>
                <body style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%; font-family:sans-serif;">
                    <h2 style="margin-bottom:10px;">${d.name}</h2>
                    ${g}
                    <p style="margin-top:10px; font-weight:bold; font-family:monospace;">${d.id}</p>
                    <script>
                        setTimeout(() => { window.print(); window.close(); }, 500);
                    <\/script>
                </body>
            </html>
        `),h.document.close()}};return M.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:M.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl relative",children:[M.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:M.jsx(Xc,{size:24})}),M.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 text-center",children:"Etiqueta"}),M.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl p-6 flex flex-col items-center",children:[M.jsx("h4",{className:"font-bold text-lg mb-4 text-center",children:d.name}),M.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm",children:M.jsx(t3,{id:"qr-code-svg",value:d.id,size:160,level:"H"})}),M.jsx("p",{className:"font-mono font-bold mt-4 text-slate-600",children:d.id})]}),M.jsx("div",{className:"mt-6",children:M.jsxs("button",{onClick:l,className:"w-full bg-qq-green hover:bg-qq-green-dark text-white py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-qq-green/20 transition-all active:scale-95",children:[M.jsx(Ty,{size:20}),"Imprimir"]})})]})})},r3=({toasts:d,removeToast:a})=>M.jsx("div",{className:"fixed top-4 left-0 right-0 z-[100] flex flex-col items-center gap-2 pointer-events-none px-4",children:d.map(l=>M.jsxs("div",{className:`
            pointer-events-auto flex items-center p-4 rounded-xl shadow-lg border w-full max-w-sm animate-fade-in
            ${l.type==="success"?"bg-white border-green-200 text-green-700":""}
            ${l.type==="error"?"bg-white border-red-200 text-red-700":""}
            ${l.type==="info"?"bg-white border-blue-200 text-blue-700":""}
          `,children:[M.jsxs("div",{className:"mr-3",children:[l.type==="success"&&M.jsx(oy,{size:20}),l.type==="error"&&M.jsx(ay,{size:20}),l.type==="info"&&M.jsx(Ey,{size:20})]}),M.jsx("p",{className:"flex-1 text-sm font-medium",children:l.text}),M.jsx("button",{onClick:()=>a(l.id),className:"ml-2 opacity-50 hover:opacity-100",children:M.jsx(Xc,{size:16})})]},l.id))}),i3=()=>{const[d,a]=rt.useState("home"),[l,h]=rt.useState([]),[x,g]=rt.useState([]),[b,A]=rt.useState([]),[_,v]=rt.useState(!1),[T,R]=rt.useState(!1),[k,j]=rt.useState(0),[P,G]=rt.useState(""),[J,ae]=rt.useState([]),[ce,W]=rt.useState(""),[me,ze]=rt.useState(""),[_e,ee]=rt.useState(!1),[ke,de]=rt.useState(!1),[Gn,vt]=rt.useState(!1),[Ne,Je]=rt.useState(!1),[Et,ie]=rt.useState(!1),[te,ue]=rt.useState(!1),[je,tt]=rt.useState("global"),[ut,q]=rt.useState(!1),[le,Ee]=rt.useState(!1),[ve,He]=rt.useState(null),[be,ft]=rt.useState(null),[Ye,Dt]=rt.useState(null),[fn,$t]=rt.useState({id:"",name:"",qty:""}),[dn,$e]=rt.useState({qty:1,obs:"",matricula:""}),[an,kn]=rt.useState("out"),vr=rt.useRef(null),gn={id:"",orderNumber:"",customerName:"",filial:"",matricula:"",date:new Date().toISOString().slice(0,10),status:"pending",items:[],obs:"",envioMalote:!1,entregaMatriz:!1},[Me,Ge]=rt.useState(gn),[Er,Oe]=rt.useState(""),at=(V,Ce)=>{const Se=Date.now();ae(Ze=>[...Ze,{id:Se,type:V,text:Ce}]),setTimeout(()=>Ns(Se),3e3)},Ns=V=>{ae(Ce=>Ce.filter(Se=>Se.id!==V))},ot=rt.useCallback(async()=>{v(!0);try{const V=await lv(),Ce=await cv(),Se=await dv();h(V),g(Ce),A(Se),j(Af())}catch(V){console.error(V),at("error","Erro ao carregar dados.")}finally{v(!1)}},[]),Rs=rt.useCallback(async()=>{const V=Af();if(V>0&&T){at("info",`Sincronizando ${V} itens offline...`);const Ce=await f2();at("success",Ce),ot()}},[T,ot]);rt.useEffect(()=>{const V=h2();R(V),ot().then(()=>{if(V){const Ce=Af();Ce>0&&(at("info",`Enviando ${Ce} itens pendentes...`),f2().then(Se=>{at("success",Se),ot()}))}})},[ot]);const tr=async()=>{const V=h2();R(V),V?(at("success","Conexo restabelecida!"),await Rs(),await ot(),ee(!1)):at("error","Falha ao conectar. Verifique internet.")},Is=async()=>{const V=T?"ATENO: Isso apagar TODO o histrico no Banco de Dados. Tem certeza?":"Limpar histrico local?";if(window.confirm(V)){v(!0);try{await fv(),await ot(),at("success","Histrico apagado com sucesso.")}catch(Ce){console.error("Delete Error:",Ce),at("error","Erro ao apagar: "+Ce.message)}finally{v(!1)}}},ir=async()=>{if(!fn.id||!fn.name){at("error","Preencha cdigo e nome.");return}v(!0);try{const V=parseInt(fn.qty)||0;await Vc({id:fn.id,name:fn.name,qty:V},!0),await ot(),de(!1),$t({id:"",name:"",qty:""}),at("success",T?"Produto salvo!":"Salvo offline. Ser enviado ao conectar.")}catch(V){at("error",V.message||"Erro ao salvar.")}finally{v(!1)}},Ln=async()=>{if(!ve)return;const V=dn.qty,Ce=an==="out",Se=Ce?-V:V;if(Ce&&ve.qty<V){at("error","Estoque insuficiente.");return}if(!dn.matricula.trim()){at("error","Preencha a matrcula.");return}v(!0);try{const Ze=ve.qty+Se,jt={...ve,qty:Ze};await Vc(jt,!1),await Gc({id:Date.now(),date:new Date().toISOString(),prodId:ve.id,prodName:ve.name,qty:Se,obs:dn.obs,matricula:dn.matricula}),await ot(),vt(!1),He(null),$e(ln=>({...ln,qty:1,obs:""})),at("success",T?"Estoque atualizado!":"Salvo offline. Ser enviado ao conectar.")}catch(Ze){at("error",Ze.message)}finally{v(!1)}},Ds=()=>{Ge({...gn,id:crypto.randomUUID?crypto.randomUUID():Date.now().toString()}),q(!0)},Gi=V=>{Ge({...V}),q(!0)},ll=V=>{Dt(V),Ee(!0)},Ft=async()=>{if(!Me.orderNumber||!Me.customerName){at("error","Preencha Nmero e Nome.");return}if(Me.items.length===0){at("error","Adicione pelo menos um item.");return}v(!0);try{const V=!b.find(jt=>jt.id===Me.id),Ce=Me.items.every(jt=>jt.qtyPicked>=jt.qtyRequested),Se=Me.envioMalote||Me.entregaMatriz;await io({...Me,status:Ce&&Se?"completed":"pending"},V),await ot(),q(!1),at("success",T?"Pedido salvo!":"Salvo offline. Ser enviado ao conectar.")}catch(V){at("error","Erro ao salvar pedido: "+V.message)}finally{v(!1)}},ye=async(V,Ce)=>{v(!0);try{const Se={...V},Ze=!!V.envioMalote,jt=!!V.entregaMatriz;Ce==="malote"?Se.envioMalote=!Ze:Se.entregaMatriz=!jt;const ln=Se.items.every(xn=>xn.qtyPicked>=xn.qtyRequested),mn=Se.envioMalote===!0||Se.entregaMatriz===!0,Ut=ln&&mn?"completed":"pending";if(Se.status=Ut,await io(Se,!1),Ut==="completed"&&V.status!=="completed"){const xn=Se.envioMalote?"Malote":"Matriz";await Gc({id:Date.now(),date:new Date().toISOString(),prodId:null,prodName:`Envio Pedido #${Se.orderNumber}`,qty:0,obs:`Pedido Concludo. Via: ${xn}. Filial: ${Se.filial}`,matricula:Se.matricula})}await ot(),at("success",T?"Envio atualizado!":"Salvo offline.")}catch(Se){console.error("Toggle Error:",Se),at("error",`Erro ao atualizar: ${Se.message}`)}finally{v(!1)}},Mt=async V=>{if(window.confirm("Tem certeza que deseja excluir este pedido?")){v(!0);try{await rx(V),await ot(),at("success","Pedido excludo.")}catch(Ce){at("error",Ce.message)}finally{v(!1)}}},et=V=>{if(Me.items.find(Se=>Se.productId===V.id)){const Se=Me.items.map(Ze=>Ze.productId===V.id?{...Ze,qtyRequested:Ze.qtyRequested+1}:Ze);Ge({...Me,items:Se})}else{const Se={productId:V.id,productName:V.name,qtyRequested:1,qtyPicked:0};Ge({...Me,items:[...Me.items,Se]})}at("success","Item adicionado.")},Gt=(V,Ce)=>{Ce<=0?Ge({...Me,items:Me.items.filter(Se=>Se.productId!==V)}):Ge({...Me,items:Me.items.map(Se=>Se.productId===V?{...Se,qtyRequested:Ce}:Se)})},si=async(V,Ce=!1)=>{if(!Ye)return;if(V.qtyPicked>=V.qtyRequested){Ce||at("info","Item j separado totalmente.");return}const Se=l.find(Ze=>Ze.id===V.productId);if(!Se){at("error","Produto no encontrado no estoque.");return}if(Se.qty<=0){at("error","Produto sem estoque!");return}if(!(!Ce&&!window.confirm(`Confirmar baixa de 1x ${V.productName}? Isso descontar do estoque.`))){v(!0);try{const Ze=Se.qty-1;await Vc({...Se,qty:Ze},!1),await Gc({id:Date.now(),date:new Date().toISOString(),prodId:V.productId,prodName:V.productName,qty:-1,obs:`Separao Pedido #${Ye.orderNumber}`,matricula:Ye.matricula});const jt=Ye.items.map(mn=>mn.productId===V.productId?{...mn,qtyPicked:mn.qtyPicked+1}:mn),ln={...Ye,items:jt,status:"pending"};await io(ln,!1),Dt(ln),await ot(),at("success",`Item ${V.productName} baixado.`)}catch(Ze){at("error","Erro na baixa: "+Ze.message)}finally{v(!1)}}},Ms=async V=>{var Ze;const Ce=(Ze=V.target.files)==null?void 0:Ze[0];if(!Ce)return;const Se=new FileReader;Se.onload=async jt=>{var ln;try{const mn=(ln=jt.target)==null?void 0:ln.result;if(!mn)return;v(!0);const Ut=mn.split(`
`),xn=new Map,Xn=Ut[0].toLowerCase().includes("numero")?1:0;for(let Ae=Xn;Ae<Ut.length;Ae++){const qn=Ut[Ae].trim();if(!qn)continue;const[Xt,Nt,sr,oi,Xi,Hn,ua]=qn.split(";");if(!Xt||!Hn)continue;const ci=parseInt(ua)||1,Yn=l.find(jn=>jn.id===Hn),on=Yn?Yn.name:`Produto ${Hn}`;xn.has(Xt)||xn.set(Xt,{id:crypto.randomUUID?crypto.randomUUID():`IMP-${Date.now()}-${Ae}`,orderNumber:Xt,customerName:Nt||"Importado",filial:sr||"",matricula:oi||"",date:Xi||new Date().toISOString().slice(0,10),status:"pending",items:[],obs:"Importado via CSV"});const _t=xn.get(Xt),Yr=_t.items.find(jn=>jn.productId===Hn);Yr?Yr.qtyRequested+=ci:_t.items.push({productId:Hn,productName:on,qtyRequested:ci,qtyPicked:0})}for(const Ae of xn.values())await io(Ae,!0);await ot(),at("success",`${xn.size} pedidos importados!`),ie(!1)}catch(mn){console.error(mn),at("error","Erro ao importar CSV.")}finally{v(!1),vr.current&&(vr.current.value="")}},Se.readAsText(Ce)},ai=V=>{if(ue(!1),je==="global"){const Ce=l.find(Se=>Se.id===V);Ce?(He(Ce),kn("out"),$e(Se=>({...Se,qty:1,obs:""})),vt(!0)):window.confirm(`Produto ${V} no encontrado. Deseja cadastrar?`)&&($t({id:V,name:"",qty:""}),de(!0))}else if(je==="order"&&Ye){const Ce=Ye.items.find(Se=>Se.productId===V);Ce?si(Ce,!0):at("error","Este produto no pertence a este pedido."),tt("global")}},ht=()=>{tt("order"),ue(!0)},ur=()=>{var Ce;const V=(Ce=document.getElementById("manual-code-input"))==null?void 0:Ce.value;V&&ai(V)},Lr=V=>{He(V),kn("out"),$e({qty:1,obs:"",matricula:""}),vt(!0)},li=l.filter(V=>V.name.toLowerCase().includes(P.toLowerCase())||V.id.toLowerCase().includes(P.toLowerCase())),Cn=x.filter(V=>{if(!ce&&!me)return!0;const Ce=new Date(V.date);Ce.setHours(0,0,0,0);let Se=!0,Ze=!0;if(ce){const jt=new Date(ce);jt.setHours(0,0,0,0),Se=Ce.getTime()>=jt.getTime()}if(me){const jt=new Date(me);jt.setHours(0,0,0,0),Ze=Ce.getTime()<=jt.getTime()}return Se&&Ze}),Bs=l.filter(V=>V.name.toLowerCase().includes(Er.toLowerCase())||V.id.toLowerCase().includes(Er.toLowerCase()));return M.jsxs("div",{className:"max-w-[480px] mx-auto bg-slate-50 min-h-screen relative shadow-2xl pb-24",children:[M.jsx(r3,{toasts:J,removeToast:Ns}),M.jsxs("header",{className:"bg-qq-green text-white p-4 sticky top-0 z-40 shadow-lg flex justify-between items-center rounded-b-3xl",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"bg-white/10 p-2 rounded-xl backdrop-blur-sm",children:M.jsx(Cg,{size:24,className:"text-white"})}),M.jsxs("div",{children:[M.jsxs("h1",{className:"text-lg font-bold leading-tight",children:["Estoque ",M.jsx("span",{className:"text-qq-yellow",children:"Palavra"})]}),M.jsxs("div",{className:"flex items-center gap-1.5 opacity-80",children:[M.jsx("div",{className:`w-2 h-2 rounded-full ${T?"bg-green-400 shadow-[0_0_8px_rgba(74,222,128,0.8)]":"bg-slate-400"}`}),M.jsx("span",{className:"text-[10px] font-medium tracking-wide uppercase",children:T?"Online":"Offline"})]})]})]}),M.jsxs("div",{className:"flex gap-2",children:[k>0&&!T&&M.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-orange-500 rounded-full animate-pulse",children:M.jsx(Og,{size:18})}),M.jsx("button",{onClick:ot,className:"w-10 h-10 flex items-center justify-center bg-qq-green-dark/50 hover:bg-qq-green-dark rounded-full transition active:scale-95 backdrop-blur-sm",children:M.jsx(Ry,{size:18,className:_?"animate-spin":""})}),M.jsx("button",{onClick:()=>Je(!0),className:"w-10 h-10 flex items-center justify-center bg-qq-green-dark/50 hover:bg-qq-green-dark rounded-full transition active:scale-95 backdrop-blur-sm",children:M.jsx(py,{size:18})}),M.jsx("button",{onClick:()=>ee(!0),className:"w-10 h-10 flex items-center justify-center bg-qq-green-dark/50 hover:bg-qq-green-dark rounded-full transition active:scale-95 backdrop-blur-sm",children:M.jsx(ky,{size:18})})]})]}),_&&M.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/50 backdrop-blur-[2px]",children:M.jsx("div",{className:"w-10 h-10 border-4 border-slate-200 border-t-qq-green rounded-full animate-spin"})}),d==="home"&&M.jsxs("div",{className:"p-6 animate-fade-in space-y-6",children:[M.jsxs("div",{className:"flex justify-between items-end",children:[M.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Produtos"}),M.jsxs("button",{onClick:()=>de(!0),className:"bg-qq-yellow hover:bg-qq-yellow-dark text-slate-900 px-4 py-2 rounded-xl text-sm font-bold shadow-md shadow-orange-100 transition flex items-center gap-2 active:scale-95",children:[M.jsx(Jl,{size:18})," Novo"]})]}),M.jsxs("div",{className:"relative group",children:[M.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:M.jsx(Ig,{className:"h-5 w-5 text-slate-400 group-focus-within:text-qq-green transition-colors"})}),M.jsx("input",{type:"text",placeholder:"Buscar nome ou cdigo...",value:P,onChange:V=>G(V.target.value),className:"block w-full pl-11 pr-4 py-3.5 bg-white border-2 border-slate-100 rounded-2xl text-slate-700 focus:outline-none focus:border-qq-green focus:ring-4 focus:ring-qq-green/10 transition-all shadow-sm"})]}),M.jsx("div",{className:"space-y-3",children:li.length===0?M.jsxs("div",{className:"text-center py-12 opacity-50",children:[M.jsx(Cg,{size:48,className:"mx-auto mb-3 text-slate-400"}),M.jsx("p",{children:"Nenhum produto encontrado"})]}):li.map(V=>M.jsxs("div",{onClick:()=>Lr(V),className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex justify-between items-center active:scale-[0.98] transition-transform cursor-pointer",children:[M.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[M.jsx("h3",{className:"font-bold text-slate-800 truncate",children:V.name}),M.jsx("div",{className:"mt-1 inline-flex items-center px-2 py-0.5 rounded bg-slate-100 text-slate-500 text-xs font-mono",children:V.id})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsxs("div",{className:"text-right",children:[M.jsx("div",{className:`text-[10px] font-bold uppercase mb-0.5 px-1.5 py-0.5 rounded-md inline-block ${V.qty<5?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:V.qty<5?"Baixo":"Ok"}),M.jsx("div",{className:"text-xl font-bold text-slate-700",children:V.qty})]}),M.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),ft(V)},className:"p-3 bg-slate-50 hover:bg-slate-100 rounded-xl text-slate-400 hover:text-qq-green transition-colors",children:M.jsx(gf,{size:20})})]})]},V.id))})]}),d==="orders"&&M.jsxs("div",{className:"p-6 animate-fade-in space-y-6",children:[M.jsxs("div",{className:"flex justify-between items-end",children:[M.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Pedidos"}),M.jsxs("button",{onClick:Ds,className:"bg-qq-green hover:bg-qq-green-dark text-white px-4 py-2 rounded-xl text-sm font-bold shadow-md shadow-green-100 transition flex items-center gap-2 active:scale-95",children:[M.jsx(Jl,{size:18})," Criar Pedido"]})]}),M.jsx("div",{className:"space-y-4",children:b.length===0?M.jsxs("div",{className:"text-center py-12 opacity-50",children:[M.jsx(mf,{size:48,className:"mx-auto mb-3 text-slate-400"}),M.jsx("p",{children:"Nenhum pedido cadastrado"})]}):b.map(V=>{const Ce=V.items.reduce((mn,Ut)=>mn+Ut.qtyRequested,0),Se=V.items.reduce((mn,Ut)=>mn+Ut.qtyPicked,0),Ze=Ce>0?Se/Ce*100:0,jt=Ce>0&&Se===Ce,ln=V.status==="completed"&&(V.envioMalote||V.entregaMatriz);return M.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 active:scale-[0.99] transition-transform relative overflow-hidden",children:[jt&&!ln&&M.jsx("div",{className:"absolute top-0 right-0 bg-orange-100 text-orange-700 px-3 py-1 text-[10px] font-bold uppercase rounded-bl-xl border-b border-l border-orange-200",children:"Pendente de Envio"}),M.jsxs("div",{className:"flex justify-between items-start mb-2",children:[M.jsxs("div",{className:"flex-1",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsxs("h3",{className:"font-bold text-slate-800",children:["#",V.orderNumber]}),M.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full uppercase ${ln?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:ln?"Concludo":jt?"Pronto":"Pendente"})]}),M.jsx("p",{className:"text-sm font-medium text-slate-600 truncate max-w-[200px]",children:V.customerName}),M.jsxs("div",{className:"text-xs text-slate-400 mt-1 flex flex-wrap gap-x-2 gap-y-1 items-center",children:[M.jsx("span",{children:new Date(V.date).toLocaleDateString("pt-BR")}),V.filial&&M.jsxs("span",{className:"bg-slate-50 px-1.5 py-0.5 rounded border border-slate-100",children:["Filial: ",V.filial]}),V.matricula&&M.jsxs("span",{children:["Mat: ",V.matricula]})]}),jt&&M.jsxs("div",{className:"flex gap-2 mt-3 pt-2 border-t border-slate-50",children:[M.jsxs("label",{className:`flex items-center gap-1.5 text-xs font-bold px-2 py-1.5 rounded-lg border cursor-pointer transition-colors ${V.envioMalote?"bg-purple-50 border-purple-200 text-purple-700":"bg-white border-slate-200 text-slate-400"}`,children:[M.jsx("input",{type:"checkbox",checked:V.envioMalote||!1,onChange:()=>ye(V,"malote"),className:"w-3.5 h-3.5 text-purple-600 rounded focus:ring-purple-500"}),M.jsx(Mg,{size:14})," Malote"]}),M.jsxs("label",{className:`flex items-center gap-1.5 text-xs font-bold px-2 py-1.5 rounded-lg border cursor-pointer transition-colors ${V.entregaMatriz?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-400"}`,children:[M.jsx("input",{type:"checkbox",checked:V.entregaMatriz||!1,onChange:()=>ye(V,"matriz"),className:"w-3.5 h-3.5 text-blue-600 rounded focus:ring-blue-500"}),M.jsx(ty,{size:14})," Matriz"]})]})]}),M.jsxs("div",{className:"flex gap-1 flex-col",children:[M.jsx("button",{onClick:()=>Gi(V),className:"p-2 text-slate-400 hover:text-qq-green hover:bg-green-50 rounded-lg transition",children:M.jsx(zy,{size:18})}),M.jsx("button",{onClick:()=>Mt(V.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition",children:M.jsx(Dg,{size:18})})]})]}),M.jsxs("div",{onClick:()=>ll(V),className:"mt-3 cursor-pointer group",children:[M.jsxs("div",{className:"flex justify-between text-xs font-bold text-slate-500 mb-1 group-hover:text-qq-green transition-colors",children:[M.jsx("span",{children:"Separao"}),M.jsxs("span",{children:[Se,"/",Ce," itens"]})]}),M.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:M.jsx("div",{className:`h-full transition-all duration-500 ${Ze===100?"bg-qq-green":"bg-qq-yellow"}`,style:{width:`${Ze}%`}})})]})]},V.id)})})]}),d==="scan"&&M.jsxs("div",{className:"p-6 animate-fade-in flex flex-col h-[80vh]",children:[M.jsx("h2",{className:"text-2xl font-bold text-slate-800 text-center mb-6",children:"Ler Cdigo"}),M.jsxs("div",{onClick:()=>{tt("global"),ue(!0)},className:"flex-1 bg-slate-800 rounded-3xl flex flex-col items-center justify-center text-white/50 cursor-pointer hover:bg-slate-700 transition-colors shadow-inner relative overflow-hidden group",children:[M.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-slate-900 to-transparent opacity-50"}),M.jsx(gf,{size:64,className:"mb-4 group-hover:scale-110 transition-transform duration-300 text-white"}),M.jsx("p",{className:"font-medium text-white",children:"Toque para abrir a cmera"})]}),M.jsx("div",{className:"mt-8",children:M.jsxs("div",{className:"flex gap-3",children:[M.jsx("input",{id:"manual-code-input",type:"text",placeholder:"Digitar cdigo...",className:"flex-1 bg-white border-2 border-slate-200 rounded-xl px-4 py-3 text-center text-lg font-mono font-bold text-slate-700 focus:border-qq-green outline-none"}),M.jsx("button",{onClick:ur,className:"bg-qq-green text-white px-5 rounded-xl shadow-lg active:scale-95 transition-transform",children:M.jsx(Zp,{size:24})})]})})]}),d==="history"&&M.jsxs("div",{className:"p-6 animate-fade-in space-y-4",children:[M.jsxs("div",{className:"flex justify-between items-center mb-2",children:[M.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Histrico"}),M.jsxs("button",{onClick:Is,className:"text-white bg-red-500 hover:bg-red-600 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-1 transition shadow-sm shadow-red-200",children:[M.jsx(Dg,{size:14})," Limpar Tudo"]})]}),M.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-100 shadow-sm grid grid-cols-2 gap-3",children:[M.jsxs("div",{className:"col-span-2 text-xs font-bold text-slate-400 uppercase tracking-wide flex items-center gap-1",children:[M.jsx(Tg,{size:12})," Filtro por Data"]}),M.jsxs("div",{children:[M.jsx("label",{className:"text-[10px] text-slate-500 font-bold block mb-1",children:"De:"}),M.jsx("input",{type:"date",value:ce,onChange:V=>W(V.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-2 text-xs focus:border-qq-green outline-none text-slate-700"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"text-[10px] text-slate-500 font-bold block mb-1",children:"At:"}),M.jsx("input",{type:"date",value:me,onChange:V=>ze(V.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-2 text-xs focus:border-qq-green outline-none text-slate-700"})]})]}),M.jsx("div",{className:"space-y-4 pt-2",children:Cn.length===0?M.jsxs("div",{className:"text-center py-12 opacity-50",children:[M.jsx(Ng,{size:48,className:"mx-auto mb-3 text-slate-400"}),M.jsx("p",{children:x.length>0?"Nenhum item neste perodo":"Sem movimentaes recentes"})]}):Cn.map(V=>M.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex items-start gap-4",children:[!V.prodId||V.prodId==="ENVIO"?M.jsx("div",{className:"mt-1 p-2 rounded-lg bg-blue-50 text-blue-700",children:M.jsx(Mg,{size:16})}):M.jsx("div",{className:`mt-1 p-2 rounded-lg ${V.qty>0?"bg-green-50 text-green-700":"bg-yellow-50 text-yellow-700"}`,children:V.qty>0?M.jsx(Jl,{size:16}):M.jsx(df,{size:16})}),M.jsxs("div",{className:"flex-1 min-w-0",children:[M.jsxs("div",{className:"flex justify-between items-start",children:[M.jsx("h4",{className:"font-bold text-slate-800 truncate",children:V.prodName}),V.qty!==0&&M.jsx("span",{className:`font-bold ${V.qty>0?"text-green-600":"text-qq-yellow"}`,children:V.qty>0?`+${V.qty}`:V.qty})]}),M.jsxs("div",{className:"text-xs text-slate-400 mt-1 flex flex-wrap gap-2",children:[M.jsx("span",{children:new Date(V.date).toLocaleString("pt-BR")}),V.matricula&&M.jsxs("span",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-slate-600 font-medium",children:["Mat: ",V.matricula]})]}),V.obs&&M.jsxs("div",{className:"mt-2 text-xs bg-slate-50 text-slate-600 p-2 rounded italic border border-slate-100",children:['"',V.obs,'"']})]})]},V.id))})]}),M.jsxs("nav",{className:"fixed bottom-0 w-full max-w-[480px] bg-white border-t border-slate-100 flex justify-around py-2 pb-safe z-40 shadow-[0_-4px_20px_rgba(0,0,0,0.03)]",children:[M.jsxs("button",{onClick:()=>a("home"),className:`flex flex-col items-center p-2 transition-colors ${d==="home"?"text-qq-green":"text-slate-400 hover:text-slate-600"}`,children:[M.jsx(Rg,{size:24,className:d==="home"?"fill-current opacity-20":""}),M.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Estoque"})]}),M.jsxs("button",{onClick:()=>a("orders"),className:`flex flex-col items-center p-2 transition-colors ${d==="orders"?"text-qq-green":"text-slate-400 hover:text-slate-600"}`,children:[M.jsx(mf,{size:24,className:d==="orders"?"fill-current opacity-20":""}),M.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Pedidos"})]}),M.jsx("div",{className:"relative -top-6",children:M.jsx("button",{onClick:()=>{tt("global"),a("scan")},className:"w-16 h-16 rounded-full bg-gradient-to-br from-qq-yellow to-qq-yellow-dark text-white flex items-center justify-center shadow-lg shadow-orange-200 border-4 border-slate-50 transform transition active:scale-90",children:M.jsx(gf,{size:28})})}),M.jsxs("button",{onClick:()=>a("history"),className:`flex flex-col items-center p-2 transition-colors ${d==="history"?"text-qq-green":"text-slate-400 hover:text-slate-600"}`,children:[M.jsx(fy,{size:24,className:d==="history"?"fill-current opacity-20":""}),M.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Histrico"})]}),M.jsxs("button",{onClick:()=>ie(!0),className:"flex flex-col items-center p-2 transition-colors text-slate-400 hover:text-slate-600",children:[M.jsx(Bg,{size:24}),M.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Importar"})]})]}),_e&&M.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:M.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[M.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[M.jsx("div",{className:"bg-qq-green/10 p-2 rounded-lg text-qq-green",children:M.jsx(my,{size:24})}),M.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Conexo"})]}),M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{className:`p-4 rounded-xl border flex items-center gap-3 ${T?"bg-green-50 border-green-200":"bg-slate-50 border-slate-200"}`,children:[M.jsx("div",{className:`w-3 h-3 rounded-full ${T?"bg-green-500":"bg-slate-400"}`}),M.jsxs("div",{children:[M.jsx("p",{className:"font-bold text-slate-800",children:T?"Conectado":"Modo Offline"}),M.jsx("p",{className:"text-xs text-slate-500",children:T?"Sincronizado com Supabase":"Dados salvos localmente"})]})]}),k>0&&!T&&M.jsxs("div",{className:"p-4 rounded-xl bg-orange-50 border border-orange-100 flex items-center gap-3",children:[M.jsx(Og,{className:"text-orange-500",size:24}),M.jsxs("div",{children:[M.jsxs("p",{className:"font-bold text-orange-700",children:[k," itens pendentes"]}),M.jsx("p",{className:"text-xs text-orange-600",children:"Conecte-se para enviar."})]})]}),!T&&M.jsx("p",{className:"text-xs text-slate-400 text-center",children:"Verifique se as chaves esto configuradas corretamente no cdigo fonte."})]}),M.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[M.jsx("button",{onClick:tr,className:"bg-slate-100 text-slate-700 py-3 rounded-xl font-bold hover:bg-slate-200 transition",children:"Testar Conexo"}),M.jsx("button",{onClick:()=>ee(!1),className:"bg-qq-green text-white py-3 rounded-xl font-bold hover:bg-qq-green-dark transition",children:"Fechar"})]})]})}),ke&&M.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:M.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[M.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 text-center",children:"Novo Produto"}),M.jsxs("div",{className:"space-y-4",children:[M.jsx("input",{type:"text",placeholder:"Cdigo (Barras/QR)",value:fn.id,onChange:V=>$t({...fn,id:V.target.value}),className:"w-full border-2 border-slate-200 rounded-xl p-3 focus:border-qq-green outline-none"}),M.jsx("input",{type:"text",placeholder:"Nome do Produto",value:fn.name,onChange:V=>$t({...fn,name:V.target.value}),className:"w-full border-2 border-slate-200 rounded-xl p-3 focus:border-qq-green outline-none"}),M.jsx("input",{type:"number",placeholder:"Quantidade Inicial",value:fn.qty,onChange:V=>$t({...fn,qty:V.target.value}),className:"w-full border-2 border-slate-200 rounded-xl p-3 focus:border-qq-green outline-none"})]}),M.jsxs("div",{className:"flex gap-3 mt-6",children:[M.jsx("button",{onClick:()=>de(!1),className:"flex-1 bg-slate-100 text-slate-700 py-3 rounded-xl font-bold",children:"Cancelar"}),M.jsx("button",{onClick:ir,className:"flex-1 bg-qq-green text-white py-3 rounded-xl font-bold",children:"Salvar"})]})]})}),ut&&M.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:M.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl flex flex-col max-h-[90vh]",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h3",{className:"text-xl font-bold text-slate-800",children:Me.orderNumber?"Editar Pedido":"Novo Pedido"}),M.jsx("button",{onClick:()=>q(!1),className:"text-slate-400 hover:text-slate-600",children:M.jsx(Xc,{size:24})})]}),M.jsxs("div",{className:"overflow-y-auto flex-1 space-y-4 pr-1",children:[M.jsxs("div",{className:"space-y-3",children:[M.jsxs("div",{className:"flex gap-3",children:[M.jsxs("div",{className:"flex-1",children:[M.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"N Pedido"}),M.jsxs("div",{className:"flex items-center border-2 border-slate-200 rounded-xl p-2 mt-1 focus-within:border-qq-green",children:[M.jsx(wy,{size:16,className:"text-slate-400 mr-2"}),M.jsx("input",{type:"text",value:Me.orderNumber,onChange:V=>Ge({...Me,orderNumber:V.target.value}),className:"w-full outline-none text-sm font-bold",placeholder:"001"})]})]}),M.jsxs("div",{className:"flex-1",children:[M.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Data"}),M.jsxs("div",{className:"flex items-center border-2 border-slate-200 rounded-xl p-2 mt-1 focus-within:border-qq-green",children:[M.jsx(Tg,{size:16,className:"text-slate-400 mr-2"}),M.jsx("input",{type:"date",value:Me.date,onChange:V=>Ge({...Me,date:V.target.value}),className:"w-full outline-none text-sm"})]})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Cliente / Destino"}),M.jsxs("div",{className:"flex items-center border-2 border-slate-200 rounded-xl p-2 mt-1 focus-within:border-qq-green",children:[M.jsx(Yy,{size:16,className:"text-slate-400 mr-2"}),M.jsx("input",{type:"text",value:Me.customerName,onChange:V=>Ge({...Me,customerName:V.target.value}),className:"w-full outline-none text-sm font-bold",placeholder:"Nome..."})]})]}),M.jsxs("div",{className:"flex gap-3",children:[M.jsxs("div",{className:"flex-1",children:[M.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Filial"}),M.jsx("input",{type:"text",value:Me.filial,onChange:V=>Ge({...Me,filial:V.target.value}),className:"w-full border-2 border-slate-200 rounded-xl p-2 mt-1 text-sm outline-none focus:border-qq-green",placeholder:"01"})]}),M.jsxs("div",{className:"flex-1",children:[M.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Matrcula"}),M.jsx("input",{type:"text",value:Me.matricula,onChange:V=>Ge({...Me,matricula:V.target.value}),className:"w-full border-2 border-slate-200 rounded-xl p-2 mt-1 text-sm outline-none focus:border-qq-green",placeholder:"12345"})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Observaes"}),M.jsx("input",{type:"text",value:Me.obs||"",onChange:V=>Ge({...Me,obs:V.target.value}),className:"w-full border-2 border-slate-200 rounded-xl p-2 mt-1 text-sm outline-none focus:border-qq-green",placeholder:"Opcional..."})]})]}),M.jsx("hr",{className:"border-slate-100"}),M.jsxs("div",{children:[M.jsx("h4",{className:"font-bold text-slate-700 mb-2",children:"Itens do Pedido"}),M.jsxs("div",{className:"relative mb-3",children:[M.jsx(Ig,{size:16,className:"absolute left-3 top-3 text-slate-400"}),M.jsx("input",{type:"text",placeholder:"Buscar produto para adicionar...",value:Er,onChange:V=>Oe(V.target.value),className:"w-full pl-9 p-2.5 bg-slate-50 rounded-xl text-sm border border-slate-200 outline-none focus:border-qq-green"}),Er&&M.jsx("div",{className:"absolute top-full left-0 right-0 bg-white shadow-xl border border-slate-100 rounded-xl mt-1 z-10 max-h-40 overflow-y-auto",children:Bs.map(V=>M.jsxs("div",{onClick:()=>{et(V),Oe("")},className:"p-2 hover:bg-slate-50 cursor-pointer flex justify-between items-center border-b border-slate-50 last:border-0",children:[M.jsx("span",{className:"text-sm font-medium truncate flex-1",children:V.name}),M.jsxs("span",{className:"text-xs bg-slate-100 px-1.5 rounded ml-2",children:["Est: ",V.qty]})]},V.id))})]}),M.jsx("div",{className:"space-y-2",children:Me.items.length===0?M.jsx("p",{className:"text-center text-xs text-slate-400 py-4 italic",children:"Nenhum item adicionado"}):Me.items.map(V=>M.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-2.5 rounded-xl border border-slate-100",children:[M.jsx("div",{className:"flex-1 min-w-0 pr-2",children:M.jsx("p",{className:"text-sm font-bold text-slate-700 truncate",children:V.productName})}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("button",{onClick:()=>Gt(V.productId,V.qtyRequested-1),className:"w-6 h-6 flex items-center justify-center bg-white border border-slate-200 rounded hover:bg-red-50 hover:text-red-500",children:M.jsx(df,{size:12})}),M.jsx("span",{className:"text-sm font-bold w-6 text-center",children:V.qtyRequested}),M.jsx("button",{onClick:()=>Gt(V.productId,V.qtyRequested+1),className:"w-6 h-6 flex items-center justify-center bg-white border border-slate-200 rounded hover:bg-green-50 hover:text-green-600",children:M.jsx(Jl,{size:12})})]})]},V.productId))})]})]}),M.jsx("div",{className:"pt-4 mt-2 border-t border-slate-100",children:M.jsx("button",{onClick:Ft,className:"w-full bg-qq-green hover:bg-qq-green-dark text-white py-3 rounded-xl font-bold shadow-lg shadow-green-100 transition active:scale-95",children:"Salvar Pedido"})})]})}),le&&Ye&&M.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:M.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl flex flex-col max-h-[90vh]",children:[M.jsxs("div",{className:"flex justify-between items-start mb-4",children:[M.jsxs("div",{children:[M.jsxs("h3",{className:"text-xl font-bold text-slate-800",children:["Separao #",Ye.orderNumber]}),M.jsx("p",{className:"text-sm text-slate-500",children:Ye.customerName})]}),M.jsx("button",{onClick:()=>Ee(!1),className:"bg-slate-100 p-2 rounded-full text-slate-500",children:M.jsx(Xc,{size:20})})]}),M.jsxs("div",{className:"bg-blue-50 p-3 rounded-xl border border-blue-100 mb-4 text-xs text-blue-800 flex justify-between items-center",children:[M.jsxs("div",{children:[M.jsxs("p",{className:"font-bold flex items-center gap-1",children:[M.jsx(Hy,{size:12})," Modo Separao:"]}),M.jsx("p",{children:"Toque para baixar ou use a cmera."})]}),M.jsx("button",{onClick:ht,className:"bg-blue-600 text-white p-2.5 rounded-xl shadow-lg shadow-blue-200 active:scale-95 transition-transform",children:M.jsx(Dy,{size:20})})]}),M.jsx("div",{className:"overflow-y-auto flex-1 space-y-3",children:Ye.items.map(V=>{var Ze;const Ce=V.qtyPicked>=V.qtyRequested,Se=((Ze=l.find(jt=>jt.id===V.productId))==null?void 0:Ze.qty)||0;return M.jsxs("div",{onClick:()=>!Ce&&si(V),className:`p-3 rounded-xl border transition-all ${Ce?"bg-green-50 border-green-200 opacity-60":"bg-white border-slate-200 shadow-sm active:scale-[0.98] cursor-pointer hover:border-qq-green"}`,children:[M.jsxs("div",{className:"flex justify-between items-center mb-1",children:[M.jsx("p",{className:`font-bold ${Ce?"text-green-800":"text-slate-800"}`,children:V.productName}),Ce&&M.jsx(Uy,{size:18,className:"text-green-600"})]}),M.jsxs("div",{className:"flex justify-between items-center text-sm",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{className:"text-slate-500",children:"Separado:"}),M.jsxs("span",{className:`font-mono font-bold ${Ce?"text-green-700":"text-slate-800"}`,children:[V.qtyPicked," / ",V.qtyRequested]})]}),!Ce&&M.jsxs("span",{className:`text-xs px-2 py-0.5 rounded ${Se>0?"bg-slate-100 text-slate-600":"bg-red-100 text-red-600 font-bold"}`,children:["Estoque: ",Se]})]})]},V.productId)})}),Ye.status==="completed"&&M.jsx("div",{className:"mt-4 p-3 bg-green-100 text-green-800 text-center rounded-xl font-bold border border-green-200",children:"Pedido Finalizado"})]})}),Gn&&ve&&M.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:M.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[M.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl mb-6",children:[M.jsxs("button",{onClick:()=>kn("out"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${an==="out"?"bg-white text-qq-yellow shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[M.jsx(Kp,{size:16})," Sada"]}),M.jsxs("button",{onClick:()=>kn("in"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${an==="in"?"bg-white text-qq-green shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[M.jsx(Jp,{size:16})," Entrada"]})]}),M.jsxs("div",{className:"text-center mb-6",children:[M.jsx("h3",{className:"text-2xl font-bold text-slate-800 leading-tight",children:ve.name}),M.jsxs("p",{className:"text-slate-500 font-medium mt-1",children:["Em estoque: ",M.jsx("span",{className:"font-bold text-slate-800",children:ve.qty})]})]}),M.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[M.jsx("button",{onClick:()=>$e({...dn,qty:Math.max(1,dn.qty-1)}),className:"w-12 h-12 rounded-full bg-slate-100 text-slate-800 font-bold text-xl hover:bg-slate-200 transition",children:M.jsx(df,{size:20,className:"mx-auto"})}),M.jsx("div",{className:`w-24 h-16 border-2 rounded-2xl flex items-center justify-center ${an==="in"?"border-green-100":"border-orange-100"}`,children:M.jsx("input",{type:"number",value:dn.qty,onChange:V=>$e({...dn,qty:parseInt(V.target.value)||1}),className:`w-full text-center text-2xl font-bold outline-none bg-transparent ${an==="in"?"text-qq-green":"text-qq-yellow"}`})}),M.jsx("button",{onClick:()=>$e({...dn,qty:dn.qty+1}),className:"w-12 h-12 rounded-full bg-slate-100 text-slate-800 font-bold text-xl hover:bg-slate-200 transition",children:M.jsx(Jl,{size:20,className:"mx-auto"})})]}),M.jsxs("div",{className:"space-y-3",children:[M.jsx("input",{type:"text",placeholder:"Matrcula do Funcionrio",value:dn.matricula,onChange:V=>$e({...dn,matricula:V.target.value}),className:`w-full border-2 rounded-xl p-3 text-sm outline-none ${an==="in"?"focus:border-qq-green border-slate-100":"focus:border-qq-yellow border-slate-100"}`}),M.jsx("textarea",{placeholder:"Observao (Opcional)",value:dn.obs,onChange:V=>$e({...dn,obs:V.target.value}),rows:2,className:`w-full bg-slate-50 border-2 border-slate-100 rounded-xl p-3 text-sm outline-none resize-none ${an==="in"?"focus:border-qq-green":"focus:border-qq-yellow"}`})]}),M.jsxs("div",{className:"flex gap-3 mt-6",children:[M.jsx("button",{onClick:()=>{vt(!1),He(null)},className:"flex-1 bg-slate-100 text-slate-700 py-3 rounded-xl font-bold",children:"Cancelar"}),M.jsx("button",{onClick:Ln,className:`flex-1 text-white py-3 rounded-xl font-bold shadow-lg transition active:scale-95 ${an==="in"?"bg-qq-green hover:bg-qq-green-dark shadow-green-200":"bg-qq-yellow hover:bg-qq-yellow-dark shadow-orange-200 text-slate-900"}`,children:an==="in"?"Adicionar":"Baixar"})]})]})}),Ne&&M.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:M.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[M.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 text-center",children:"Exportar Dados"}),M.jsxs("div",{className:"space-y-3",children:[M.jsxs("button",{onClick:()=>gv(l),className:"w-full flex items-center p-4 rounded-xl border-2 border-qq-green/20 bg-green-50/50 text-qq-green font-bold hover:bg-green-50 transition",children:[M.jsx(Rg,{size:24,className:"mr-3"}),"Estoque Atual (.csv)"]}),M.jsxs("button",{onClick:()=>mv(x),className:"w-full flex items-center p-4 rounded-xl border-2 border-qq-yellow/20 bg-yellow-50/50 text-yellow-700 font-bold hover:bg-yellow-50 transition",children:[M.jsx(Ng,{size:24,className:"mr-3"}),"Histrico (.csv)"]}),M.jsxs("button",{onClick:()=>xv(b),className:"w-full flex items-center p-4 rounded-xl border-2 border-blue-400/20 bg-blue-50/50 text-blue-700 font-bold hover:bg-blue-50 transition",children:[M.jsx(mf,{size:24,className:"mr-3"}),"Relatrio Pedidos (.csv)"]})]}),M.jsx("button",{onClick:()=>Je(!1),className:"w-full mt-6 bg-slate-100 py-3 rounded-xl font-bold text-slate-600",children:"Fechar"})]})}),Et&&M.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:M.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[M.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4 text-center",children:"Importar Pedidos"}),M.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 text-xs text-slate-600 mb-6",children:[M.jsx("p",{className:"font-bold mb-2",children:"Formato CSV (separado por ;):"}),M.jsx("code",{className:"block bg-white p-2 rounded border border-slate-200 text-slate-500 mb-2 overflow-x-auto whitespace-nowrap",children:"Numero;Cliente;Filial;Matricula;Data;CodProduto;Qtd"}),M.jsx("p",{children:"Exemplo:"}),M.jsx("code",{className:"block bg-white p-2 rounded border border-slate-200 text-slate-500 overflow-x-auto whitespace-nowrap",children:"101;Joo;01;1234;2023-10-25;789101;2"})]}),M.jsxs("div",{className:"space-y-4",children:[M.jsx("input",{type:"file",accept:".csv",ref:vr,onChange:Ms,className:"hidden",id:"csv-upload"}),M.jsxs("label",{htmlFor:"csv-upload",className:"w-full flex flex-col items-center justify-center p-6 border-2 border-dashed border-slate-300 rounded-xl cursor-pointer hover:border-qq-green hover:bg-green-50/50 transition-colors",children:[M.jsx(Bg,{size:32,className:"text-slate-400 mb-2"}),M.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Toque para selecionar arquivo"})]})]}),M.jsx("button",{onClick:()=>ie(!1),className:"w-full mt-6 bg-slate-100 py-3 rounded-xl font-bold text-slate-600",children:"Cancelar"})]})}),te&&M.jsx(Vv,{onScan:ai,onClose:()=>ue(!1)}),be&&M.jsx(n3,{product:be,onClose:()=>ft(null)})]})},fx=document.getElementById("root");if(!fx)throw new Error("Failed to find the root element");const s3=Fp.createRoot(fx);s3.render(M.jsx(Mp.StrictMode,{children:M.jsx(i3,{})}));
