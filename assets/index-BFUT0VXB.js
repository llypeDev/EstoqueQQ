function v2(d,a){for(var l=0;l<a.length;l++){const f=a[l];if(typeof f!="string"&&!Array.isArray(f)){for(const x in f)if(x!=="default"&&!(x in d)){const g=Object.getOwnPropertyDescriptor(f,x);g&&Object.defineProperty(d,x,g.get?g:{enumerable:!0,get:()=>f[x]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))f(x);new MutationObserver(x=>{for(const g of x)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&f(b)}).observe(document,{childList:!0,subtree:!0});function l(x){const g={};return x.integrity&&(g.integrity=x.integrity),x.referrerPolicy&&(g.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?g.credentials="include":x.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function f(x){if(x.ep)return;x.ep=!0;const g=l(x);fetch(x.href,g)}})();var Cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function to(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function no(d){if(Object.prototype.hasOwnProperty.call(d,"__esModule"))return d;var a=d.default;if(typeof a=="function"){var l=function f(){return this instanceof f?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};l.prototype=a.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(d).forEach(function(f){var x=Object.getOwnPropertyDescriptor(d,f);Object.defineProperty(l,f,x.get?x:{enumerable:!0,get:function(){return d[f]}})}),l}var Qh={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function by(){if(ig)return Vl;ig=1;var d=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(f,x,g){var b=null;if(g!==void 0&&(b=""+g),x.key!==void 0&&(b=""+x.key),"key"in x){g={};for(var A in x)A!=="key"&&(g[A]=x[A])}else g=x;return x=g.ref,{$$typeof:d,type:f,key:b,ref:x!==void 0?x:null,props:g}}return Vl.Fragment=a,Vl.jsx=l,Vl.jsxs=l,Vl}var sg;function vy(){return sg||(sg=1,Qh.exports=by()),Qh.exports}var G=vy(),Jh={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function Ey(){if(ag)return We;ag=1;var d=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),b=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),B=Symbol.iterator;function L(q){return q===null||typeof q!="object"?null:(q=B&&q[B]||q["@@iterator"],typeof q=="function"?q:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,J={};function ie(q,ae,ve){this.props=q,this.context=ae,this.refs=J,this.updater=ve||j}ie.prototype.isReactComponent={},ie.prototype.setState=function(q,ae){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ae,"setState")},ie.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function ce(){}ce.prototype=ie.prototype;function Y(q,ae,ve){this.props=q,this.context=ae,this.refs=J,this.updater=ve||j}var me=Y.prototype=new ce;me.constructor=Y,H(me,ie.prototype),me.isPureReactComponent=!0;var Le=Array.isArray;function _e(){}var ee={H:null,A:null,T:null,S:null},Te=Object.prototype.hasOwnProperty;function fe(q,ae,ve){var Ee=ve.ref;return{$$typeof:d,type:q,key:ae,ref:Ee!==void 0?Ee:null,props:ve}}function Tn(q,ae){return fe(q.type,ae,q.props)}function xt(q){return typeof q=="object"&&q!==null&&q.$$typeof===d}function Ae(q){var ae={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ve){return ae[ve]})}var Ye=/\/+/g;function Ke(q,ae){return typeof q=="object"&&q!==null&&q.key!=null?Ae(""+q.key):ae.toString(36)}function te(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(_e,_e):(q.status="pending",q.then(function(ae){q.status==="pending"&&(q.status="fulfilled",q.value=ae)},function(ae){q.status==="pending"&&(q.status="rejected",q.reason=ae)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function W(q,ae,ve,Ee,He){var be=typeof q;(be==="undefined"||be==="boolean")&&(q=null);var rt=!1;if(q===null)rt=!0;else switch(be){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(q.$$typeof){case d:case a:rt=!0;break;case R:return rt=q._init,W(rt(q._payload),ae,ve,Ee,He)}}if(rt)return He=He(q),rt=Ee===""?"."+Ke(q,0):Ee,Le(He)?(ve="",rt!=null&&(ve=rt.replace(Ye,"$&/")+"/"),W(He,ae,ve,"",function(Wn){return Wn})):He!=null&&(xt(He)&&(He=Tn(He,ve+(He.key==null||q&&q.key===He.key?"":(""+He.key).replace(Ye,"$&/")+"/")+rt)),ae.push(He)),1;rt=0;var ot=Ee===""?".":Ee+":";if(Le(q))for(var Tt=0;Tt<q.length;Tt++)Ee=q[Tt],be=ot+Ke(Ee,Tt),rt+=W(Ee,ae,ve,be,He);else if(Tt=L(q),typeof Tt=="function")for(q=Tt.call(q),Tt=0;!(Ee=q.next()).done;)Ee=Ee.value,be=ot+Ke(Ee,Tt++),rt+=W(Ee,ae,ve,be,He);else if(be==="object"){if(typeof q.then=="function")return W(te(q),ae,ve,Ee,He);throw ae=String(q),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return rt}function oe(q,ae,ve){if(q==null)return q;var Ee=[],He=0;return W(q,Ee,"","",function(be){return ae.call(ve,be,He++)}),Ee}function Ie(q){if(q._status===-1){var ae=q._result;ae=ae(),ae.then(function(ve){(q._status===0||q._status===-1)&&(q._status=1,q._result=ve)},function(ve){(q._status===0||q._status===-1)&&(q._status=2,q._result=ve)}),q._status===-1&&(q._status=0,q._result=ae)}if(q._status===1)return q._result.default;throw q._result}var Ze=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},qe={map:oe,forEach:function(q,ae,ve){oe(q,function(){ae.apply(this,arguments)},ve)},count:function(q){var ae=0;return oe(q,function(){ae++}),ae},toArray:function(q){return oe(q,function(ae){return ae})||[]},only:function(q){if(!xt(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return We.Activity=N,We.Children=qe,We.Component=ie,We.Fragment=l,We.Profiler=x,We.PureComponent=Y,We.StrictMode=f,We.Suspense=_,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,We.__COMPILER_RUNTIME={__proto__:null,c:function(q){return ee.H.useMemoCache(q)}},We.cache=function(q){return function(){return q.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(q,ae,ve){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Ee=H({},q.props),He=q.key;if(ae!=null)for(be in ae.key!==void 0&&(He=""+ae.key),ae)!Te.call(ae,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ae.ref===void 0||(Ee[be]=ae[be]);var be=arguments.length-2;if(be===1)Ee.children=ve;else if(1<be){for(var rt=Array(be),ot=0;ot<be;ot++)rt[ot]=arguments[ot+2];Ee.children=rt}return fe(q.type,He,Ee)},We.createContext=function(q){return q={$$typeof:b,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:g,_context:q},q},We.createElement=function(q,ae,ve){var Ee,He={},be=null;if(ae!=null)for(Ee in ae.key!==void 0&&(be=""+ae.key),ae)Te.call(ae,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(He[Ee]=ae[Ee]);var rt=arguments.length-2;if(rt===1)He.children=ve;else if(1<rt){for(var ot=Array(rt),Tt=0;Tt<rt;Tt++)ot[Tt]=arguments[Tt+2];He.children=ot}if(q&&q.defaultProps)for(Ee in rt=q.defaultProps,rt)He[Ee]===void 0&&(He[Ee]=rt[Ee]);return fe(q,be,He)},We.createRef=function(){return{current:null}},We.forwardRef=function(q){return{$$typeof:A,render:q}},We.isValidElement=xt,We.lazy=function(q){return{$$typeof:R,_payload:{_status:-1,_result:q},_init:Ie}},We.memo=function(q,ae){return{$$typeof:E,type:q,compare:ae===void 0?null:ae}},We.startTransition=function(q){var ae=ee.T,ve={};ee.T=ve;try{var Ee=q(),He=ee.S;He!==null&&He(ve,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(_e,Ze)}catch(be){Ze(be)}finally{ae!==null&&ve.types!==null&&(ae.types=ve.types),ee.T=ae}},We.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},We.use=function(q){return ee.H.use(q)},We.useActionState=function(q,ae,ve){return ee.H.useActionState(q,ae,ve)},We.useCallback=function(q,ae){return ee.H.useCallback(q,ae)},We.useContext=function(q){return ee.H.useContext(q)},We.useDebugValue=function(){},We.useDeferredValue=function(q,ae){return ee.H.useDeferredValue(q,ae)},We.useEffect=function(q,ae){return ee.H.useEffect(q,ae)},We.useEffectEvent=function(q){return ee.H.useEffectEvent(q)},We.useId=function(){return ee.H.useId()},We.useImperativeHandle=function(q,ae,ve){return ee.H.useImperativeHandle(q,ae,ve)},We.useInsertionEffect=function(q,ae){return ee.H.useInsertionEffect(q,ae)},We.useLayoutEffect=function(q,ae){return ee.H.useLayoutEffect(q,ae)},We.useMemo=function(q,ae){return ee.H.useMemo(q,ae)},We.useOptimistic=function(q,ae){return ee.H.useOptimistic(q,ae)},We.useReducer=function(q,ae,ve){return ee.H.useReducer(q,ae,ve)},We.useRef=function(q){return ee.H.useRef(q)},We.useState=function(q){return ee.H.useState(q)},We.useSyncExternalStore=function(q,ae,ve){return ee.H.useSyncExternalStore(q,ae,ve)},We.useTransition=function(){return ee.H.useTransition()},We.version="19.2.1",We}var lg;function ro(){return lg||(lg=1,Jh.exports=Ey()),Jh.exports}var St=ro();const _y=to(St);var $h={exports:{}},Xl={},ef={exports:{}},tf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function Ay(){return og||(og=1,(function(d){function a(W,oe){var Ie=W.length;W.push(oe);e:for(;0<Ie;){var Ze=Ie-1>>>1,qe=W[Ze];if(0<x(qe,oe))W[Ze]=oe,W[Ie]=qe,Ie=Ze;else break e}}function l(W){return W.length===0?null:W[0]}function f(W){if(W.length===0)return null;var oe=W[0],Ie=W.pop();if(Ie!==oe){W[0]=Ie;e:for(var Ze=0,qe=W.length,q=qe>>>1;Ze<q;){var ae=2*(Ze+1)-1,ve=W[ae],Ee=ae+1,He=W[Ee];if(0>x(ve,Ie))Ee<qe&&0>x(He,ve)?(W[Ze]=He,W[Ee]=Ie,Ze=Ee):(W[Ze]=ve,W[ae]=Ie,Ze=ae);else if(Ee<qe&&0>x(He,Ie))W[Ze]=He,W[Ee]=Ie,Ze=Ee;else break e}}return oe}function x(W,oe){var Ie=W.sortIndex-oe.sortIndex;return Ie!==0?Ie:W.id-oe.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;d.unstable_now=function(){return g.now()}}else{var b=Date,A=b.now();d.unstable_now=function(){return b.now()-A}}var _=[],E=[],R=1,N=null,B=3,L=!1,j=!1,H=!1,J=!1,ie=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function me(W){for(var oe=l(E);oe!==null;){if(oe.callback===null)f(E);else if(oe.startTime<=W)f(E),oe.sortIndex=oe.expirationTime,a(_,oe);else break;oe=l(E)}}function Le(W){if(H=!1,me(W),!j)if(l(_)!==null)j=!0,_e||(_e=!0,Ae());else{var oe=l(E);oe!==null&&te(Le,oe.startTime-W)}}var _e=!1,ee=-1,Te=5,fe=-1;function Tn(){return J?!0:!(d.unstable_now()-fe<Te)}function xt(){if(J=!1,_e){var W=d.unstable_now();fe=W;var oe=!0;try{e:{j=!1,H&&(H=!1,ce(ee),ee=-1),L=!0;var Ie=B;try{t:{for(me(W),N=l(_);N!==null&&!(N.expirationTime>W&&Tn());){var Ze=N.callback;if(typeof Ze=="function"){N.callback=null,B=N.priorityLevel;var qe=Ze(N.expirationTime<=W);if(W=d.unstable_now(),typeof qe=="function"){N.callback=qe,me(W),oe=!0;break t}N===l(_)&&f(_),me(W)}else f(_);N=l(_)}if(N!==null)oe=!0;else{var q=l(E);q!==null&&te(Le,q.startTime-W),oe=!1}}break e}finally{N=null,B=Ie,L=!1}oe=void 0}}finally{oe?Ae():_e=!1}}}var Ae;if(typeof Y=="function")Ae=function(){Y(xt)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,Ke=Ye.port2;Ye.port1.onmessage=xt,Ae=function(){Ke.postMessage(null)}}else Ae=function(){ie(xt,0)};function te(W,oe){ee=ie(function(){W(d.unstable_now())},oe)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(W){W.callback=null},d.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<W?Math.floor(1e3/W):5},d.unstable_getCurrentPriorityLevel=function(){return B},d.unstable_next=function(W){switch(B){case 1:case 2:case 3:var oe=3;break;default:oe=B}var Ie=B;B=oe;try{return W()}finally{B=Ie}},d.unstable_requestPaint=function(){J=!0},d.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Ie=B;B=W;try{return oe()}finally{B=Ie}},d.unstable_scheduleCallback=function(W,oe,Ie){var Ze=d.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?Ze+Ie:Ze):Ie=Ze,W){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=Ie+qe,W={id:R++,callback:oe,priorityLevel:W,startTime:Ie,expirationTime:qe,sortIndex:-1},Ie>Ze?(W.sortIndex=Ie,a(E,W),l(_)===null&&W===l(E)&&(H?(ce(ee),ee=-1):H=!0,te(Le,Ie-Ze))):(W.sortIndex=qe,a(_,W),j||L||(j=!0,_e||(_e=!0,Ae()))),W},d.unstable_shouldYield=Tn,d.unstable_wrapCallback=function(W){var oe=B;return function(){var Ie=B;B=oe;try{return W.apply(this,arguments)}finally{B=Ie}}}})(tf)),tf}var ug;function Cy(){return ug||(ug=1,ef.exports=Ay()),ef.exports}var nf={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function Sy(){if(cg)return Fn;cg=1;var d=ro();function a(_){var E="https://react.dev/errors/"+_;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)E+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var f={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},x=Symbol.for("react.portal");function g(_,E,R){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:N==null?null:""+N,children:_,containerInfo:E,implementation:R}}var b=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(_,E){if(_==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,Fn.createPortal=function(_,E){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(a(299));return g(_,E,null,R)},Fn.flushSync=function(_){var E=b.T,R=f.p;try{if(b.T=null,f.p=2,_)return _()}finally{b.T=E,f.p=R,f.d.f()}},Fn.preconnect=function(_,E){typeof _=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,f.d.C(_,E))},Fn.prefetchDNS=function(_){typeof _=="string"&&f.d.D(_)},Fn.preinit=function(_,E){if(typeof _=="string"&&E&&typeof E.as=="string"){var R=E.as,N=A(R,E.crossOrigin),B=typeof E.integrity=="string"?E.integrity:void 0,L=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;R==="style"?f.d.S(_,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:N,integrity:B,fetchPriority:L}):R==="script"&&f.d.X(_,{crossOrigin:N,integrity:B,fetchPriority:L,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Fn.preinitModule=function(_,E){if(typeof _=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var R=A(E.as,E.crossOrigin);f.d.M(_,{crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&f.d.M(_)},Fn.preload=function(_,E){if(typeof _=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var R=E.as,N=A(R,E.crossOrigin);f.d.L(_,R,{crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Fn.preloadModule=function(_,E){if(typeof _=="string")if(E){var R=A(E.as,E.crossOrigin);f.d.m(_,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else f.d.m(_)},Fn.requestFormReset=function(_){f.d.r(_)},Fn.unstable_batchedUpdates=function(_,E){return _(E)},Fn.useFormState=function(_,E,R){return b.H.useFormState(_,E,R)},Fn.useFormStatus=function(){return b.H.useHostTransitionStatus()},Fn.version="19.2.1",Fn}var hg;function Ty(){if(hg)return nf.exports;hg=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(a){console.error(a)}}return d(),nf.exports=Sy(),nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function Oy(){if(fg)return Xl;fg=1;var d=Cy(),a=ro(),l=Ty();function f(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function b(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function A(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(g(e)!==e)throw Error(f(188))}function E(e){var n=e.alternate;if(!n){if(n=g(e),n===null)throw Error(f(188));return n!==e?null:e}for(var s=e,c=n;;){var y=s.return;if(y===null)break;var w=y.alternate;if(w===null){if(c=y.return,c!==null){s=c;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===s)return _(y),e;if(w===c)return _(y),n;w=w.sibling}throw Error(f(188))}if(s.return!==c.return)s=y,c=w;else{for(var S=!1,D=y.child;D;){if(D===s){S=!0,s=y,c=w;break}if(D===c){S=!0,c=y,s=w;break}D=D.sibling}if(!S){for(D=w.child;D;){if(D===s){S=!0,s=w,c=y;break}if(D===c){S=!0,c=w,s=y;break}D=D.sibling}if(!S)throw Error(f(189))}}if(s.alternate!==c)throw Error(f(190))}if(s.tag!==3)throw Error(f(188));return s.stateNode.current===s?e:n}function R(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=R(e),n!==null)return n;e=e.sibling}return null}var N=Object.assign,B=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),Tn=Symbol.for("react.memo_cache_sentinel"),xt=Symbol.iterator;function Ae(e){return e===null||typeof e!="object"?null:(e=xt&&e[xt]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Symbol.for("react.client.reference");function Ke(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case ie:return"Profiler";case J:return"StrictMode";case Le:return"Suspense";case _e:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case Y:return e.displayName||"Context";case ce:return(e._context.displayName||"Context")+".Consumer";case me:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return n=e.displayName||null,n!==null?n:Ke(e.type)||"Memo";case Te:n=e._payload,e=e._init;try{return Ke(e(n))}catch{}}return null}var te=Array.isArray,W=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Ze=[],qe=-1;function q(e){return{current:e}}function ae(e){0>qe||(e.current=Ze[qe],Ze[qe]=null,qe--)}function ve(e,n){qe++,Ze[qe]=e.current,e.current=n}var Ee=q(null),He=q(null),be=q(null),rt=q(null);function ot(e,n){switch(ve(be,n),ve(He,e),ve(Ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?T1(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=T1(n),e=O1(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ae(Ee),ve(Ee,e)}function Tt(){ae(Ee),ae(He),ae(be)}function Wn(e){e.memoizedState!==null&&ve(rt,e);var n=Ee.current,s=O1(n,e.type);n!==s&&(ve(He,e),ve(Ee,s))}function we(e){He.current===e&&(ae(Ee),ae(He)),rt.current===e&&(ae(rt),zl._currentValue=Ie)}var Ht,Ge;function fn(e){if(Ht===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ht=n&&n[1]||"",Ge=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ht+e+Ge}var jn=!1;function Ur(e,n){if(!e||jn)return"";jn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(se){var $=se}Reflect.construct(e,[],he)}else{try{he.call()}catch(se){$=se}e.call(he.prototype)}}else{try{throw Error()}catch(se){$=se}(he=e())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(se){if(se&&$&&typeof se.stack=="string")return[se.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=c.DetermineComponentFrameRoot(),S=w[0],D=w[1];if(S&&D){var U=S.split(`
`),Q=D.split(`
`);for(y=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;y<Q.length&&!Q[y].includes("DetermineComponentFrameRoot");)y++;if(c===U.length||y===Q.length)for(c=U.length-1,y=Q.length-1;1<=c&&0<=y&&U[c]!==Q[y];)y--;for(;1<=c&&0<=y;c--,y--)if(U[c]!==Q[y]){if(c!==1||y!==1)do if(c--,y--,0>y||U[c]!==Q[y]){var le=`
`+U[c].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=c&&0<=y);break}}}finally{jn=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?fn(s):""}function vn(e,n){switch(e.tag){case 26:case 27:case 5:return fn(e.type);case 16:return fn("Lazy");case 13:return e.child!==n&&n!==null?fn("Suspense Fallback"):fn("Suspense");case 19:return fn("SuspenseList");case 0:case 15:return Ur(e.type,!1);case 11:return Ur(e.type.render,!1);case 1:return Ur(e.type,!0);case 31:return fn("Activity");default:return""}}function Ot(e){try{var n="",s=null;do n+=vn(e,s),s=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var it=Object.prototype.hasOwnProperty,ki=d.unstable_scheduleCallback,Re=d.unstable_cancelCallback,$s=d.unstable_shouldYield,ao=d.unstable_requestPaint,Jt=d.unstable_now,Ja=d.unstable_getCurrentPriorityLevel,Zn=d.unstable_ImmediatePriority,$a=d.unstable_UserBlockingPriority,or=d.unstable_NormalPriority,Nn=d.unstable_LowPriority,el=d.unstable_IdlePriority,ea=d.log,nc=d.unstable_setDisableYieldValue,Ft=null,pe=null;function Dt(e){if(typeof ea=="function"&&nc(e),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(Ft,e)}catch{}}var Je=Math.clz32?Math.clz32:tl,Kt=Math.log,bs=Math.LN2;function tl(e){return e>>>=0,e===0?32:31-(Kt(e)/bs|0)|0}var vs=256,ut=262144,Ar=4194304;function Zr(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Es(e,n,s){var c=e.pendingLanes;if(c===0)return 0;var y=0,w=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var D=c&134217727;return D!==0?(c=D&~w,c!==0?y=Zr(c):(S&=D,S!==0?y=Zr(S):s||(s=D&~e,s!==0&&(y=Zr(s))))):(D=c&~w,D!==0?y=Zr(D):S!==0?y=Zr(S):s||(s=c&~e,s!==0&&(y=Zr(s)))),y===0?0:n!==0&&n!==y&&(n&w)===0&&(w=y&-y,s=n&-n,w>=s||w===32&&(s&4194048)!==0)?n:y}function In(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function nl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function En(){var e=Ar;return Ar<<=1,(Ar&62914560)===0&&(Ar=4194304),e}function Qr(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Jr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Cr(e,n,s,c,y,w){var S=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var D=e.entanglements,U=e.expirationTimes,Q=e.hiddenUpdates;for(s=S&~s;0<s;){var le=31-Je(s),he=1<<le;D[le]=0,U[le]=-1;var $=Q[le];if($!==null)for(Q[le]=null,le=0;le<$.length;le++){var se=$[le];se!==null&&(se.lane&=-536870913)}s&=~he}c!==0&&lo(e,c,0),w!==0&&y===0&&e.tag!==0&&(e.suspendedLanes|=w&~(S&~n))}function lo(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Je(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|s&261930}function $r(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var c=31-Je(s),y=1<<c;y&n|e[c]&n&&(e[c]|=n),s&=~y}}function ta(e,n){var s=n&-n;return s=(s&42)!==0?1:On(s),(s&(e.suspendedLanes|n))!==0?0:s}function On(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hn(){var e=oe.p;return e!==0?e:(e=window.event,e===void 0?32:Q1(e.type))}function Ce(e,n){var s=oe.p;try{return oe.p=e,n()}finally{oe.p=s}}var qn=Math.random().toString(36).slice(2),ln="__reactFiber$"+qn,Rt="__reactProps$"+qn,ur="__reactContainer$"+qn,Li="__reactEvents$"+qn,na="__reactListeners$"+qn,Sr="__reactHandles$"+qn,oo="__reactResources$"+qn,_s="__reactMarker$"+qn;function Qn(e){delete e[ln],delete e[Rt],delete e[Li],delete e[na],delete e[Sr]}function $t(e){var n=e[ln];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ur]||s[ln]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=k1(e);e!==null;){if(s=e[ln])return s;e=k1(e)}return n}e=s,s=e.parentNode}return null}function bt(e){if(e=e[ln]||e[ur]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ui(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(f(33))}function Gn(e){var n=e[oo];return n||(n=e[oo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function en(e){e[_s]=!0}var de=new Set,uo={};function _t(e,n){cr(e,n),cr(e+"Capture",n)}function cr(e,n){for(uo[e]=n,e=0;e<n.length;e++)de.add(n[e])}var rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mt={},gt={};function st(e){return it.call(gt,e)?!0:it.call(mt,e)?!1:rc.test(e)?gt[e]=!0:(mt[e]=!0,!1)}function Pi(e,n,s){if(st(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function ji(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function hr(e,n,s,c){if(c===null)e.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+c)}}function yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ic(e,n,s){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return y.call(this)},set:function(S){s=""+S,w.call(this,S)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return s},setValue:function(S){s=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function qt(e){if(!e._valueTracker){var n=jr(e)?"checked":"value";e._valueTracker=ic(e,n,""+e[n])}}function Fr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),c="";return e&&(c=jr(e)?e.checked?"true":"false":e.value),e=c,e!==s?(n.setValue(e),!0):!1}function ra(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Fi=/[\n"\\]/g;function nt(e){return e.replace(Fi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function dn(e,n,s,c,y,w,S,D){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+yt(n)):e.value!==""+yt(n)&&(e.value=""+yt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?M(e,S,yt(n)):s!=null?M(e,S,yt(s)):c!=null&&e.removeAttribute("value"),y==null&&w!=null&&(e.defaultChecked=!!w),y!=null&&(e.checked=y&&typeof y!="function"&&typeof y!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?e.name=""+yt(D):e.removeAttribute("name")}function K(e,n,s,c,y,w,S,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.type=w),n!=null||s!=null){if(!(w!=="submit"&&w!=="reset"||n!=null)){qt(e);return}s=s!=null?""+yt(s):"",n=n!=null?""+yt(n):s,D||n===e.value||(e.value=n),e.defaultValue=n}c=c??y,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=D?e.checked:!!c,e.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),qt(e)}function M(e,n,s){n==="number"&&ra(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function De(e,n,s,c){if(e=e.options,n){n={};for(var y=0;y<s.length;y++)n["$"+s[y]]=!0;for(s=0;s<e.length;s++)y=n.hasOwnProperty("$"+e[s].value),e[s].selected!==y&&(e[s].selected=y),y&&c&&(e[s].defaultSelected=!0)}else{for(s=""+yt(s),n=null,y=0;y<e.length;y++){if(e[y].value===s){e[y].selected=!0,c&&(e[y].defaultSelected=!0);return}n!==null||e[y].disabled||(n=e[y])}n!==null&&(n.selected=!0)}}function on(e,n,s){if(n!=null&&(n=""+yt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+yt(s):""}function Vn(e,n,s,c){if(n==null){if(c!=null){if(s!=null)throw Error(f(92));if(te(c)){if(1<c.length)throw Error(f(93));c=c[0]}s=c}s==null&&(s=""),n=s}s=yt(n),e.defaultValue=s,c=e.textContent,c===s&&c!==""&&c!==null&&(e.value=c),qt(e)}function zi(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var rl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xn(e,n,s){var c=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,s):typeof s!="number"||s===0||rl.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function ke(e,n,s){if(n!=null&&typeof n!="object")throw Error(f(62));if(e=e.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var y in n)c=n[y],n.hasOwnProperty(y)&&s[y]!==c&&Xn(e,y,c)}else for(var w in n)n.hasOwnProperty(w)&&Xn(e,w,n[w])}function Lt(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hi(e){return sc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var As=null;function il(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gt=null,Tr=null;function zr(e){var n=bt(e);if(n&&(e=n.stateNode)){var s=e[Rt]||null;e:switch(e=n.stateNode,n.type){case"input":if(dn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var c=s[n];if(c!==e&&c.form===e.form){var y=c[Rt]||null;if(!y)throw Error(f(90));dn(c,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(n=0;n<s.length;n++)c=s[n],c.form===e.form&&Fr(c)}break e;case"textarea":on(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&De(e,!!s.multiple,n,!1)}}}var Pe=!1;function ho(e,n,s){if(Pe)return e(n,s);Pe=!0;try{var c=e(n);return c}finally{if(Pe=!1,(Gt!==null||Tr!==null)&&(ru(),Gt&&(n=Gt,e=Tr,Tr=Gt=null,zr(n),e)))for(n=0;n<e.length;n++)zr(e[n])}}function Ve(e,n){var s=e.stateNode;if(s===null)return null;var c=s[Rt]||null;if(c===null)return null;s=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(f(231,n,typeof s));return s}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=!1;if(Ut)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){sl=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{sl=!1}var Hr=null,qr=null,ia=null;function qi(){if(ia)return ia;var e,n=qr,s=n.length,c,y="value"in Hr?Hr.value:Hr.textContent,w=y.length;for(e=0;e<s&&n[e]===y[e];e++);var S=s-e;for(c=1;c<=S&&n[s-c]===y[w-c];c++);return ia=y.slice(e,1<c?1-c:void 0)}function ei(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function al(){return!1}function gn(e){function n(s,c,y,w,S){this._reactName=s,this._targetInst=y,this.type=c,this.nativeEvent=w,this.target=S,this.currentTarget=null;for(var D in e)e.hasOwnProperty(D)&&(s=e[D],this[D]=s?s(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ti:al,this.isPropagationStopped=al,this}return N(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),n}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_n=gn(fr),Gi=N({},fr,{view:0,detail:0}),fo=gn(Gi),sa,ll,Cs,aa=N({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cs&&(Cs&&e.type==="mousemove"?(sa=e.screenX-Cs.screenX,ll=e.screenY-Cs.screenY):ll=sa=0,Cs=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:ll}}),vt=gn(aa),go=N({},aa,{dataTransfer:0}),la=gn(go),ni=N({},Gi,{relatedTarget:0}),ol=gn(ni),re=N({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),$e=gn(re),An=N({},fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oa=gn(An),mo=N({},fr,{data:0}),xo=gn(mo),ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ul={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function un(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ul[e])?!!n[e]:!1}function Ss(){return un}var Wt=N({},Gi,{key:function(e){if(e.key){var n=ac[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(e){return e.type==="keypress"?ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ua=gn(Wt),ci=N({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),At=gn(ci),je=N({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),oc=gn(je),Pt=N({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hi=gn(Pt),Vi=N({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uc=gn(Vi),Or=N({},fr,{newState:0,oldState:0}),cl=gn(Or),yo=[9,13,27,32],Ts=Ut&&"CompositionEvent"in window,Xi=null;Ut&&"documentMode"in document&&(Xi=document.documentMode);var po=Ut&&"TextEvent"in window&&!Xi,wo=Ut&&(!Ts||Xi&&8<Xi&&11>=Xi),fi=" ",ca=!1;function bo(e,n){switch(e){case"keyup":return yo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function ri(e,n){switch(e){case"compositionend":return Yi(n);case"keypress":return n.which!==32?null:(ca=!0,fi);case"textInput":return e=n.data,e===fi&&ca?null:e;default:return null}}function ha(e,n){if(Ki)return e==="compositionend"||!Ts&&bo(e,n)?(e=qi(),ia=qr=Hr=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wo&&n.locale!=="ko"?null:n.data;default:return null}}var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$n[e.type]:n==="textarea"}function dr(e,n,s,c){Gt?Tr?Tr.push(c):Tr=[c]:Gt=c,n=cu(n,"onChange"),0<n.length&&(s=new _n("onChange","change",null,s,c),e.push({event:s,listeners:n}))}var Os=null,di=null;function cc(e){v1(e,0)}function Rs(e){var n=Ui(e);if(Fr(n))return e}function gr(e,n){if(e==="change")return n}var vo=!1;if(Ut){var Ns;if(Ut){var gi="oninput"in document;if(!gi){var ct=document.createElement("div");ct.setAttribute("oninput","return;"),gi=typeof ct.oninput=="function"}Ns=gi}else Ns=!1;vo=Ns&&(!document.documentMode||9<document.documentMode)}function Is(){Os&&(Os.detachEvent("onpropertychange",T),di=Os=null)}function T(e){if(e.propertyName==="value"&&Rs(di)){var n=[];dr(n,di,e,il(e)),ho(cc,n)}}function t(e,n,s){e==="focusin"?(Is(),Os=n,di=s,Os.attachEvent("onpropertychange",T)):e==="focusout"&&Is()}function r(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rs(di)}function i(e,n){if(e==="click")return Rs(n)}function o(e,n){if(e==="input"||e==="change")return Rs(n)}function u(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var h=typeof Object.is=="function"?Object.is:u;function m(e,n){if(h(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),c=Object.keys(n);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var y=s[c];if(!it.call(n,y)||!h(e[y],n[y]))return!1}return!0}function p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function v(e,n){var s=p(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=n&&c>=n)return{node:s,offset:n-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=p(s)}}function C(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?C(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function O(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ra(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ra(e.document)}return n}function I(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var k=Ut&&"documentMode"in document&&11>=document.documentMode,P=null,F=null,X=null,ne=!1;function ye(e,n,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ne||P==null||P!==ra(c)||(c=P,"selectionStart"in c&&I(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),X&&m(X,c)||(X=c,c=cu(F,"onSelect"),0<c.length&&(n=new _n("onSelect","select",null,n,s),e.push({event:n,listeners:c}),n.target=P)))}function xe(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ge={animationend:xe("Animation","AnimationEnd"),animationiteration:xe("Animation","AnimationIteration"),animationstart:xe("Animation","AnimationStart"),transitionrun:xe("Transition","TransitionRun"),transitionstart:xe("Transition","TransitionStart"),transitioncancel:xe("Transition","TransitionCancel"),transitionend:xe("Transition","TransitionEnd")},tt={},Xe={};Ut&&(Xe=document.createElement("div").style,"AnimationEvent"in window||(delete ge.animationend.animation,delete ge.animationiteration.animation,delete ge.animationstart.animation),"TransitionEvent"in window||delete ge.transitionend.transition);function tn(e){if(tt[e])return tt[e];if(!ge[e])return e;var n=ge[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Xe)return tt[e]=n[s];return e}var er=tn("animationend"),Dn=tn("animationiteration"),Ct=tn("animationstart"),Cn=tn("transitionrun"),Yn=tn("transitionstart"),Wi=tn("transitioncancel"),mi=tn("transitionend"),Eo=new Map,fl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fl.push("scrollEnd");function Gr(e,n){Eo.set(e,n),_t(n,[e])}var _o=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rr=[],fa=0,hc=0;function Ao(){for(var e=fa,n=hc=fa=0;n<e;){var s=Rr[n];Rr[n++]=null;var c=Rr[n];Rr[n++]=null;var y=Rr[n];Rr[n++]=null;var w=Rr[n];if(Rr[n++]=null,c!==null&&y!==null){var S=c.pending;S===null?y.next=y:(y.next=S.next,S.next=y),c.pending=y}w!==0&&n0(s,y,w)}}function Co(e,n,s,c){Rr[fa++]=e,Rr[fa++]=n,Rr[fa++]=s,Rr[fa++]=c,hc|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function fc(e,n,s,c){return Co(e,n,s,c),So(e)}function Ds(e,n){return Co(e,null,null,n),So(e)}function n0(e,n,s){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s);for(var y=!1,w=e.return;w!==null;)w.childLanes|=s,c=w.alternate,c!==null&&(c.childLanes|=s),w.tag===22&&(e=w.stateNode,e===null||e._visibility&1||(y=!0)),e=w,w=w.return;return e.tag===3?(w=e.stateNode,y&&n!==null&&(y=31-Je(s),e=w.hiddenUpdates,c=e[y],c===null?e[y]=[n]:c.push(n),n.lane=s|536870912),w):null}function So(e){if(50<Bl)throw Bl=0,vh=null,Error(f(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function rx(e,n,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(e,n,s,c){return new rx(e,n,s,c)}function dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var s=e.alternate;return s===null?(s=mr(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function r0(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function To(e,n,s,c,y,w){var S=0;if(c=e,typeof e=="function")dc(e)&&(S=1);else if(typeof e=="string")S=oy(e,s,Ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fe:return e=mr(31,s,n,y),e.elementType=fe,e.lanes=w,e;case H:return Ms(s.children,y,w,n);case J:S=8,y|=24;break;case ie:return e=mr(12,s,n,y|2),e.elementType=ie,e.lanes=w,e;case Le:return e=mr(13,s,n,y),e.elementType=Le,e.lanes=w,e;case _e:return e=mr(19,s,n,y),e.elementType=_e,e.lanes=w,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:S=10;break e;case ce:S=9;break e;case me:S=11;break e;case ee:S=14;break e;case Te:S=16,c=null;break e}S=29,s=Error(f(130,e===null?"null":typeof e,"")),c=null}return n=mr(S,s,n,y),n.elementType=e,n.type=c,n.lanes=w,n}function Ms(e,n,s,c){return e=mr(7,e,c,n),e.lanes=s,e}function gc(e,n,s){return e=mr(6,e,null,n),e.lanes=s,e}function i0(e){var n=mr(18,null,null,0);return n.stateNode=e,n}function mc(e,n,s){return n=mr(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var s0=new WeakMap;function Nr(e,n){if(typeof e=="object"&&e!==null){var s=s0.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Ot(n)},s0.set(e,n),n)}return{value:e,source:n,stack:Ot(n)}}var ga=[],ma=0,Oo=null,dl=0,Ir=[],Dr=0,Zi=null,ii=1,si="";function yi(e,n){ga[ma++]=dl,ga[ma++]=Oo,Oo=e,dl=n}function a0(e,n,s){Ir[Dr++]=ii,Ir[Dr++]=si,Ir[Dr++]=Zi,Zi=e;var c=ii;e=si;var y=32-Je(c)-1;c&=~(1<<y),s+=1;var w=32-Je(n)+y;if(30<w){var S=y-y%5;w=(c&(1<<S)-1).toString(32),c>>=S,y-=S,ii=1<<32-Je(n)+y|s<<y|c,si=w+e}else ii=1<<w|s<<y|c,si=e}function xc(e){e.return!==null&&(yi(e,1),a0(e,1,0))}function yc(e){for(;e===Oo;)Oo=ga[--ma],ga[ma]=null,dl=ga[--ma],ga[ma]=null;for(;e===Zi;)Zi=Ir[--Dr],Ir[Dr]=null,si=Ir[--Dr],Ir[Dr]=null,ii=Ir[--Dr],Ir[Dr]=null}function l0(e,n){Ir[Dr++]=ii,Ir[Dr++]=si,Ir[Dr++]=Zi,ii=n.id,si=n.overflow,Zi=e}var Mn=null,Vt=null,dt=!1,Qi=null,Mr=!1,pc=Error(f(519));function Ji(e){var n=Error(f(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(Nr(n,e)),pc}function o0(e){var n=e.stateNode,s=e.type,c=e.memoizedProps;switch(n[ln]=e,n[Rt]=c,s){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(s=0;s<Ll.length;s++)lt(Ll[s],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":lt("invalid",n),K(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":lt("invalid",n);break;case"textarea":lt("invalid",n),Vn(n,c.value,c.defaultValue,c.children)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||c.suppressHydrationWarning===!0||C1(n.textContent,s)?(c.popover!=null&&(lt("beforetoggle",n),lt("toggle",n)),c.onScroll!=null&&lt("scroll",n),c.onScrollEnd!=null&&lt("scrollend",n),c.onClick!=null&&(n.onclick=Jn),n=!0):n=!1,n||Ji(e,!0)}function u0(e){for(Mn=e.return;Mn;)switch(Mn.tag){case 5:case 31:case 13:Mr=!1;return;case 27:case 3:Mr=!0;return;default:Mn=Mn.return}}function xa(e){if(e!==Mn)return!1;if(!dt)return u0(e),dt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Lh(e.type,e.memoizedProps)),s=!s),s&&Vt&&Ji(e),u0(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));Vt=B1(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));Vt=B1(e)}else n===27?(n=Vt,fs(e.type)?(e=zh,zh=null,Vt=e):Vt=n):Vt=Mn?kr(e.stateNode.nextSibling):null;return!0}function Bs(){Vt=Mn=null,dt=!1}function wc(){var e=Qi;return e!==null&&(ir===null?ir=e:ir.push.apply(ir,e),Qi=null),e}function gl(e){Qi===null?Qi=[e]:Qi.push(e)}var bc=q(null),ks=null,pi=null;function $i(e,n,s){ve(bc,n._currentValue),n._currentValue=s}function wi(e){e._currentValue=bc.current,ae(bc)}function vc(e,n,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===s)break;e=e.return}}function Ec(e,n,s,c){var y=e.child;for(y!==null&&(y.return=e);y!==null;){var w=y.dependencies;if(w!==null){var S=y.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=y;for(var U=0;U<n.length;U++)if(D.context===n[U]){w.lanes|=s,D=w.alternate,D!==null&&(D.lanes|=s),vc(w.return,s,e),c||(S=null);break e}w=D.next}}else if(y.tag===18){if(S=y.return,S===null)throw Error(f(341));S.lanes|=s,w=S.alternate,w!==null&&(w.lanes|=s),vc(S,s,e),S=null}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===e){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}}function ya(e,n,s,c){e=null;for(var y=n,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var S=y.alternate;if(S===null)throw Error(f(387));if(S=S.memoizedProps,S!==null){var D=y.type;h(y.pendingProps.value,S.value)||(e!==null?e.push(D):e=[D])}}else if(y===rt.current){if(S=y.alternate,S===null)throw Error(f(387));S.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(e!==null?e.push(zl):e=[zl])}y=y.return}e!==null&&Ec(n,e,s,c),n.flags|=262144}function Ro(e){for(e=e.firstContext;e!==null;){if(!h(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ls(e){ks=e,pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bn(e){return c0(ks,e)}function No(e,n){return ks===null&&Ls(e),c0(e,n)}function c0(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},pi===null){if(e===null)throw Error(f(308));pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else pi=pi.next=n;return s}var ix=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},sx=d.unstable_scheduleCallback,ax=d.unstable_NormalPriority,mn={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _c(){return{controller:new ix,data:new Map,refCount:0}}function ml(e){e.refCount--,e.refCount===0&&sx(ax,function(){e.controller.abort()})}var xl=null,Ac=0,pa=0,wa=null;function lx(e,n){if(xl===null){var s=xl=[];Ac=0,pa=Th(),wa={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Ac++,n.then(h0,h0),n}function h0(){if(--Ac===0&&xl!==null){wa!==null&&(wa.status="fulfilled");var e=xl;xl=null,pa=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ox(e,n){var s=[],c={status:"pending",value:null,reason:null,then:function(y){s.push(y)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var y=0;y<s.length;y++)(0,s[y])(n)},function(y){for(c.status="rejected",c.reason=y,y=0;y<s.length;y++)(0,s[y])(void 0)}),c}var f0=W.S;W.S=function(e,n){Wd=Jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&lx(e,n),f0!==null&&f0(e,n)};var Us=q(null);function Cc(){var e=Us.current;return e!==null?e:jt.pooledCache}function Io(e,n){n===null?ve(Us,Us.current):ve(Us,n.pool)}function d0(){var e=Cc();return e===null?null:{parent:mn._currentValue,pool:e}}var ba=Error(f(460)),Sc=Error(f(474)),Do=Error(f(542)),Mo={then:function(){}};function g0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function m0(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Jn,Jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,y0(e),e;default:if(typeof n.status=="string")n.then(Jn,Jn);else{if(e=jt,e!==null&&100<e.shellSuspendCounter)throw Error(f(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var y=n;y.status="fulfilled",y.value=c}},function(c){if(n.status==="pending"){var y=n;y.status="rejected",y.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,y0(e),e}throw js=n,ba}}function Ps(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(js=s,ba):s}}var js=null;function x0(){if(js===null)throw Error(f(459));var e=js;return js=null,e}function y0(e){if(e===ba||e===Do)throw Error(f(483))}var va=null,yl=0;function Bo(e){var n=yl;return yl+=1,va===null&&(va=[]),m0(va,e,n)}function pl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ko(e,n){throw n.$$typeof===B?Error(f(525)):(e=Object.prototype.toString.call(n),Error(f(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function p0(e){function n(V,z){if(e){var Z=V.deletions;Z===null?(V.deletions=[z],V.flags|=16):Z.push(z)}}function s(V,z){if(!e)return null;for(;z!==null;)n(V,z),z=z.sibling;return null}function c(V){for(var z=new Map;V!==null;)V.key!==null?z.set(V.key,V):z.set(V.index,V),V=V.sibling;return z}function y(V,z){return V=xi(V,z),V.index=0,V.sibling=null,V}function w(V,z,Z){return V.index=Z,e?(Z=V.alternate,Z!==null?(Z=Z.index,Z<z?(V.flags|=67108866,z):Z):(V.flags|=67108866,z)):(V.flags|=1048576,z)}function S(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function D(V,z,Z,ue){return z===null||z.tag!==6?(z=gc(Z,V.mode,ue),z.return=V,z):(z=y(z,Z),z.return=V,z)}function U(V,z,Z,ue){var Ue=Z.type;return Ue===H?le(V,z,Z.props.children,ue,Z.key):z!==null&&(z.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===Te&&Ps(Ue)===z.type)?(z=y(z,Z.props),pl(z,Z),z.return=V,z):(z=To(Z.type,Z.key,Z.props,null,V.mode,ue),pl(z,Z),z.return=V,z)}function Q(V,z,Z,ue){return z===null||z.tag!==4||z.stateNode.containerInfo!==Z.containerInfo||z.stateNode.implementation!==Z.implementation?(z=mc(Z,V.mode,ue),z.return=V,z):(z=y(z,Z.children||[]),z.return=V,z)}function le(V,z,Z,ue,Ue){return z===null||z.tag!==7?(z=Ms(Z,V.mode,ue,Ue),z.return=V,z):(z=y(z,Z),z.return=V,z)}function he(V,z,Z){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=gc(""+z,V.mode,Z),z.return=V,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case L:return Z=To(z.type,z.key,z.props,null,V.mode,Z),pl(Z,z),Z.return=V,Z;case j:return z=mc(z,V.mode,Z),z.return=V,z;case Te:return z=Ps(z),he(V,z,Z)}if(te(z)||Ae(z))return z=Ms(z,V.mode,Z,null),z.return=V,z;if(typeof z.then=="function")return he(V,Bo(z),Z);if(z.$$typeof===Y)return he(V,No(V,z),Z);ko(V,z)}return null}function $(V,z,Z,ue){var Ue=z!==null?z.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ue!==null?null:D(V,z,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:return Z.key===Ue?U(V,z,Z,ue):null;case j:return Z.key===Ue?Q(V,z,Z,ue):null;case Te:return Z=Ps(Z),$(V,z,Z,ue)}if(te(Z)||Ae(Z))return Ue!==null?null:le(V,z,Z,ue,null);if(typeof Z.then=="function")return $(V,z,Bo(Z),ue);if(Z.$$typeof===Y)return $(V,z,No(V,Z),ue);ko(V,Z)}return null}function se(V,z,Z,ue,Ue){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return V=V.get(Z)||null,D(z,V,""+ue,Ue);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:return V=V.get(ue.key===null?Z:ue.key)||null,U(z,V,ue,Ue);case j:return V=V.get(ue.key===null?Z:ue.key)||null,Q(z,V,ue,Ue);case Te:return ue=Ps(ue),se(V,z,Z,ue,Ue)}if(te(ue)||Ae(ue))return V=V.get(Z)||null,le(z,V,ue,Ue,null);if(typeof ue.then=="function")return se(V,z,Z,Bo(ue),Ue);if(ue.$$typeof===Y)return se(V,z,Z,No(z,ue),Ue);ko(z,ue)}return null}function Ne(V,z,Z,ue){for(var Ue=null,pt=null,Me=z,et=z=0,ft=null;Me!==null&&et<Z.length;et++){Me.index>et?(ft=Me,Me=null):ft=Me.sibling;var wt=$(V,Me,Z[et],ue);if(wt===null){Me===null&&(Me=ft);break}e&&Me&&wt.alternate===null&&n(V,Me),z=w(wt,z,et),pt===null?Ue=wt:pt.sibling=wt,pt=wt,Me=ft}if(et===Z.length)return s(V,Me),dt&&yi(V,et),Ue;if(Me===null){for(;et<Z.length;et++)Me=he(V,Z[et],ue),Me!==null&&(z=w(Me,z,et),pt===null?Ue=Me:pt.sibling=Me,pt=Me);return dt&&yi(V,et),Ue}for(Me=c(Me);et<Z.length;et++)ft=se(Me,V,et,Z[et],ue),ft!==null&&(e&&ft.alternate!==null&&Me.delete(ft.key===null?et:ft.key),z=w(ft,z,et),pt===null?Ue=ft:pt.sibling=ft,pt=ft);return e&&Me.forEach(function(ys){return n(V,ys)}),dt&&yi(V,et),Ue}function Fe(V,z,Z,ue){if(Z==null)throw Error(f(151));for(var Ue=null,pt=null,Me=z,et=z=0,ft=null,wt=Z.next();Me!==null&&!wt.done;et++,wt=Z.next()){Me.index>et?(ft=Me,Me=null):ft=Me.sibling;var ys=$(V,Me,wt.value,ue);if(ys===null){Me===null&&(Me=ft);break}e&&Me&&ys.alternate===null&&n(V,Me),z=w(ys,z,et),pt===null?Ue=ys:pt.sibling=ys,pt=ys,Me=ft}if(wt.done)return s(V,Me),dt&&yi(V,et),Ue;if(Me===null){for(;!wt.done;et++,wt=Z.next())wt=he(V,wt.value,ue),wt!==null&&(z=w(wt,z,et),pt===null?Ue=wt:pt.sibling=wt,pt=wt);return dt&&yi(V,et),Ue}for(Me=c(Me);!wt.done;et++,wt=Z.next())wt=se(Me,V,et,wt.value,ue),wt!==null&&(e&&wt.alternate!==null&&Me.delete(wt.key===null?et:wt.key),z=w(wt,z,et),pt===null?Ue=wt:pt.sibling=wt,pt=wt);return e&&Me.forEach(function(wy){return n(V,wy)}),dt&&yi(V,et),Ue}function kt(V,z,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===H&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:e:{for(var Ue=Z.key;z!==null;){if(z.key===Ue){if(Ue=Z.type,Ue===H){if(z.tag===7){s(V,z.sibling),ue=y(z,Z.props.children),ue.return=V,V=ue;break e}}else if(z.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===Te&&Ps(Ue)===z.type){s(V,z.sibling),ue=y(z,Z.props),pl(ue,Z),ue.return=V,V=ue;break e}s(V,z);break}else n(V,z);z=z.sibling}Z.type===H?(ue=Ms(Z.props.children,V.mode,ue,Z.key),ue.return=V,V=ue):(ue=To(Z.type,Z.key,Z.props,null,V.mode,ue),pl(ue,Z),ue.return=V,V=ue)}return S(V);case j:e:{for(Ue=Z.key;z!==null;){if(z.key===Ue)if(z.tag===4&&z.stateNode.containerInfo===Z.containerInfo&&z.stateNode.implementation===Z.implementation){s(V,z.sibling),ue=y(z,Z.children||[]),ue.return=V,V=ue;break e}else{s(V,z);break}else n(V,z);z=z.sibling}ue=mc(Z,V.mode,ue),ue.return=V,V=ue}return S(V);case Te:return Z=Ps(Z),kt(V,z,Z,ue)}if(te(Z))return Ne(V,z,Z,ue);if(Ae(Z)){if(Ue=Ae(Z),typeof Ue!="function")throw Error(f(150));return Z=Ue.call(Z),Fe(V,z,Z,ue)}if(typeof Z.then=="function")return kt(V,z,Bo(Z),ue);if(Z.$$typeof===Y)return kt(V,z,No(V,Z),ue);ko(V,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,z!==null&&z.tag===6?(s(V,z.sibling),ue=y(z,Z),ue.return=V,V=ue):(s(V,z),ue=gc(Z,V.mode,ue),ue.return=V,V=ue),S(V)):s(V,z)}return function(V,z,Z,ue){try{yl=0;var Ue=kt(V,z,Z,ue);return va=null,Ue}catch(Me){if(Me===ba||Me===Do)throw Me;var pt=mr(29,Me,null,V.mode);return pt.lanes=ue,pt.return=V,pt}finally{}}}var Fs=p0(!0),w0=p0(!1),es=!1;function Tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ns(e,n,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Et&2)!==0){var y=c.pending;return y===null?n.next=n:(n.next=y.next,y.next=n),c.pending=n,n=So(e),n0(e,null,s),n}return Co(e,c,n,s),So(e)}function wl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,$r(e,s)}}function Rc(e,n){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var y=null,w=null;if(s=s.firstBaseUpdate,s!==null){do{var S={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};w===null?y=w=S:w=w.next=S,s=s.next}while(s!==null);w===null?y=w=n:w=w.next=n}else y=w=n;s={baseState:c.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:c.shared,callbacks:c.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Nc=!1;function bl(){if(Nc){var e=wa;if(e!==null)throw e}}function vl(e,n,s,c){Nc=!1;var y=e.updateQueue;es=!1;var w=y.firstBaseUpdate,S=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var U=D,Q=U.next;U.next=null,S===null?w=Q:S.next=Q,S=U;var le=e.alternate;le!==null&&(le=le.updateQueue,D=le.lastBaseUpdate,D!==S&&(D===null?le.firstBaseUpdate=Q:D.next=Q,le.lastBaseUpdate=U))}if(w!==null){var he=y.baseState;S=0,le=Q=U=null,D=w;do{var $=D.lane&-536870913,se=$!==D.lane;if(se?(ht&$)===$:(c&$)===$){$!==0&&$===pa&&(Nc=!0),le!==null&&(le=le.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ne=e,Fe=D;$=n;var kt=s;switch(Fe.tag){case 1:if(Ne=Fe.payload,typeof Ne=="function"){he=Ne.call(kt,he,$);break e}he=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Fe.payload,$=typeof Ne=="function"?Ne.call(kt,he,$):Ne,$==null)break e;he=N({},he,$);break e;case 2:es=!0}}$=D.callback,$!==null&&(e.flags|=64,se&&(e.flags|=8192),se=y.callbacks,se===null?y.callbacks=[$]:se.push($))}else se={lane:$,tag:D.tag,payload:D.payload,callback:D.callback,next:null},le===null?(Q=le=se,U=he):le=le.next=se,S|=$;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;se=D,D=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);le===null&&(U=he),y.baseState=U,y.firstBaseUpdate=Q,y.lastBaseUpdate=le,w===null&&(y.shared.lanes=0),ls|=S,e.lanes=S,e.memoizedState=he}}function b0(e,n){if(typeof e!="function")throw Error(f(191,e));e.call(n)}function v0(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)b0(s[e],n)}var Ea=q(null),Lo=q(0);function E0(e,n){e=Oi,ve(Lo,e),ve(Ea,n),Oi=e|n.baseLanes}function Ic(){ve(Lo,Oi),ve(Ea,Ea.current)}function Dc(){Oi=Lo.current,ae(Ea),ae(Lo)}var xr=q(null),Br=null;function rs(e){var n=e.alternate;ve(cn,cn.current&1),ve(xr,e),Br===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(Br=e)}function Mc(e){ve(cn,cn.current),ve(xr,e),Br===null&&(Br=e)}function _0(e){e.tag===22?(ve(cn,cn.current),ve(xr,e),Br===null&&(Br=e)):is()}function is(){ve(cn,cn.current),ve(xr,xr.current)}function yr(e){ae(xr),Br===e&&(Br=null),ae(cn)}var cn=q(0);function Uo(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||jh(s)||Fh(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var bi=0,Qe=null,Mt=null,xn=null,Po=!1,_a=!1,zs=!1,jo=0,El=0,Aa=null,ux=0;function nn(){throw Error(f(321))}function Bc(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!h(e[s],n[s]))return!1;return!0}function kc(e,n,s,c,y,w){return bi=w,Qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,W.H=e===null||e.memoizedState===null?ad:Zc,zs=!1,w=s(c,y),zs=!1,_a&&(w=C0(n,s,c,y)),A0(e),w}function A0(e){W.H=Cl;var n=Mt!==null&&Mt.next!==null;if(bi=0,xn=Mt=Qe=null,Po=!1,El=0,Aa=null,n)throw Error(f(300));e===null||yn||(e=e.dependencies,e!==null&&Ro(e)&&(yn=!0))}function C0(e,n,s,c){Qe=e;var y=0;do{if(_a&&(Aa=null),El=0,_a=!1,25<=y)throw Error(f(301));if(y+=1,xn=Mt=null,e.updateQueue!=null){var w=e.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}W.H=ld,w=n(s,c)}while(_a);return w}function cx(){var e=W.H,n=e.useState()[0];return n=typeof n.then=="function"?_l(n):n,e=e.useState()[0],(Mt!==null?Mt.memoizedState:null)!==e&&(Qe.flags|=1024),n}function Lc(){var e=jo!==0;return jo=0,e}function Uc(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Pc(e){if(Po){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Po=!1}bi=0,xn=Mt=Qe=null,_a=!1,El=jo=0,Aa=null}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Qe.memoizedState=xn=e:xn=xn.next=e,xn}function hn(){if(Mt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var n=xn===null?Qe.memoizedState:xn.next;if(n!==null)xn=n,Mt=e;else{if(e===null)throw Qe.alternate===null?Error(f(467)):Error(f(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},xn===null?Qe.memoizedState=xn=e:xn=xn.next=e}return xn}function Fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(e){var n=El;return El+=1,Aa===null&&(Aa=[]),e=m0(Aa,e,n),n=Qe,(xn===null?n.memoizedState:xn.next)===null&&(n=n.alternate,W.H=n===null||n.memoizedState===null?ad:Zc),e}function zo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _l(e);if(e.$$typeof===Y)return Bn(e)}throw Error(f(438,String(e)))}function jc(e){var n=null,s=Qe.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var c=Qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(y){return y.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Fo(),Qe.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),c=0;c<e;c++)s[c]=Tn;return n.index++,s}function vi(e,n){return typeof n=="function"?n(e):n}function Ho(e){var n=hn();return Fc(n,Mt,e)}function Fc(e,n,s){var c=e.queue;if(c===null)throw Error(f(311));c.lastRenderedReducer=s;var y=e.baseQueue,w=c.pending;if(w!==null){if(y!==null){var S=y.next;y.next=w.next,w.next=S}n.baseQueue=y=w,c.pending=null}if(w=e.baseState,y===null)e.memoizedState=w;else{n=y.next;var D=S=null,U=null,Q=n,le=!1;do{var he=Q.lane&-536870913;if(he!==Q.lane?(ht&he)===he:(bi&he)===he){var $=Q.revertLane;if($===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),he===pa&&(le=!0);else if((bi&$)===$){Q=Q.next,$===pa&&(le=!0);continue}else he={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(D=U=he,S=w):U=U.next=he,Qe.lanes|=$,ls|=$;he=Q.action,zs&&s(w,he),w=Q.hasEagerState?Q.eagerState:s(w,he)}else $={lane:he,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(D=U=$,S=w):U=U.next=$,Qe.lanes|=he,ls|=he;Q=Q.next}while(Q!==null&&Q!==n);if(U===null?S=w:U.next=D,!h(w,e.memoizedState)&&(yn=!0,le&&(s=wa,s!==null)))throw s;e.memoizedState=w,e.baseState=S,e.baseQueue=U,c.lastRenderedState=w}return y===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function zc(e){var n=hn(),s=n.queue;if(s===null)throw Error(f(311));s.lastRenderedReducer=e;var c=s.dispatch,y=s.pending,w=n.memoizedState;if(y!==null){s.pending=null;var S=y=y.next;do w=e(w,S.action),S=S.next;while(S!==y);h(w,n.memoizedState)||(yn=!0),n.memoizedState=w,n.baseQueue===null&&(n.baseState=w),s.lastRenderedState=w}return[w,c]}function S0(e,n,s){var c=Qe,y=hn(),w=dt;if(w){if(s===void 0)throw Error(f(407));s=s()}else s=n();var S=!h((Mt||y).memoizedState,s);if(S&&(y.memoizedState=s,yn=!0),y=y.queue,Gc(R0.bind(null,c,y,e),[e]),y.getSnapshot!==n||S||xn!==null&&xn.memoizedState.tag&1){if(c.flags|=2048,Ca(9,{destroy:void 0},O0.bind(null,c,y,s,n),null),jt===null)throw Error(f(349));w||(bi&127)!==0||T0(c,n,s)}return s}function T0(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Qe.updateQueue,n===null?(n=Fo(),Qe.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function O0(e,n,s,c){n.value=s,n.getSnapshot=c,N0(n)&&I0(e)}function R0(e,n,s){return s(function(){N0(n)&&I0(e)})}function N0(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!h(e,s)}catch{return!0}}function I0(e){var n=Ds(e,2);n!==null&&sr(n,e,2)}function Hc(e){var n=Kn();if(typeof e=="function"){var s=e;if(e=s(),zs){Dt(!0);try{s()}finally{Dt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},n}function D0(e,n,s,c){return e.baseState=s,Fc(e,Mt,typeof c=="function"?c:vi)}function hx(e,n,s,c,y){if(Vo(e))throw Error(f(485));if(e=n.action,e!==null){var w={payload:y,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){w.listeners.push(S)}};W.T!==null?s(!0):w.isTransition=!1,c(w),s=n.pending,s===null?(w.next=n.pending=w,M0(n,w)):(w.next=s.next,n.pending=s.next=w)}}function M0(e,n){var s=n.action,c=n.payload,y=e.state;if(n.isTransition){var w=W.T,S={};W.T=S;try{var D=s(y,c),U=W.S;U!==null&&U(S,D),B0(e,n,D)}catch(Q){qc(e,n,Q)}finally{w!==null&&S.types!==null&&(w.types=S.types),W.T=w}}else try{w=s(y,c),B0(e,n,w)}catch(Q){qc(e,n,Q)}}function B0(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){k0(e,n,c)},function(c){return qc(e,n,c)}):k0(e,n,s)}function k0(e,n,s){n.status="fulfilled",n.value=s,L0(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,M0(e,s)))}function qc(e,n,s){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=s,L0(n),n=n.next;while(n!==c)}e.action=null}function L0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function U0(e,n){return n}function P0(e,n){if(dt){var s=jt.formState;if(s!==null){e:{var c=Qe;if(dt){if(Vt){t:{for(var y=Vt,w=Mr;y.nodeType!==8;){if(!w){y=null;break t}if(y=kr(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Vt=kr(y.nextSibling),c=y.data==="F!";break e}}Ji(c)}c=!1}c&&(n=s[0])}}return s=Kn(),s.memoizedState=s.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U0,lastRenderedState:n},s.queue=c,s=rd.bind(null,Qe,c),c.dispatch=s,c=Hc(!1),w=Wc.bind(null,Qe,!1,c.queue),c=Kn(),y={state:n,dispatch:null,action:e,pending:null},c.queue=y,s=hx.bind(null,Qe,y,w,s),y.dispatch=s,c.memoizedState=e,[n,s,!1]}function j0(e){var n=hn();return F0(n,Mt,e)}function F0(e,n,s){if(n=Fc(e,n,U0)[0],e=Ho(vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=_l(n)}catch(S){throw S===ba?Do:S}else c=n;n=hn();var y=n.queue,w=y.dispatch;return s!==n.memoizedState&&(Qe.flags|=2048,Ca(9,{destroy:void 0},fx.bind(null,y,s),null)),[c,w,e]}function fx(e,n){e.action=n}function z0(e){var n=hn(),s=Mt;if(s!==null)return F0(n,s,e);hn(),n=n.memoizedState,s=hn();var c=s.queue.dispatch;return s.memoizedState=e,[n,c,!1]}function Ca(e,n,s,c){return e={tag:e,create:s,deps:c,inst:n,next:null},n=Qe.updateQueue,n===null&&(n=Fo(),Qe.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,n.lastEffect=e),e}function H0(){return hn().memoizedState}function qo(e,n,s,c){var y=Kn();Qe.flags|=e,y.memoizedState=Ca(1|n,{destroy:void 0},s,c===void 0?null:c)}function Go(e,n,s,c){var y=hn();c=c===void 0?null:c;var w=y.memoizedState.inst;Mt!==null&&c!==null&&Bc(c,Mt.memoizedState.deps)?y.memoizedState=Ca(n,w,s,c):(Qe.flags|=e,y.memoizedState=Ca(1|n,w,s,c))}function q0(e,n){qo(8390656,8,e,n)}function Gc(e,n){Go(2048,8,e,n)}function dx(e){Qe.flags|=4;var n=Qe.updateQueue;if(n===null)n=Fo(),Qe.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function G0(e){var n=hn().memoizedState;return dx({ref:n,nextImpl:e}),function(){if((Et&2)!==0)throw Error(f(440));return n.impl.apply(void 0,arguments)}}function V0(e,n){return Go(4,2,e,n)}function X0(e,n){return Go(4,4,e,n)}function Y0(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function K0(e,n,s){s=s!=null?s.concat([e]):null,Go(4,4,Y0.bind(null,n,e),s)}function Vc(){}function W0(e,n){var s=hn();n=n===void 0?null:n;var c=s.memoizedState;return n!==null&&Bc(n,c[1])?c[0]:(s.memoizedState=[e,n],e)}function Z0(e,n){var s=hn();n=n===void 0?null:n;var c=s.memoizedState;if(n!==null&&Bc(n,c[1]))return c[0];if(c=e(),zs){Dt(!0);try{e()}finally{Dt(!1)}}return s.memoizedState=[c,n],c}function Xc(e,n,s){return s===void 0||(bi&1073741824)!==0&&(ht&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Qd(),Qe.lanes|=e,ls|=e,s)}function Q0(e,n,s,c){return h(s,n)?s:Ea.current!==null?(e=Xc(e,s,c),h(e,n)||(yn=!0),e):(bi&42)===0||(bi&1073741824)!==0&&(ht&261930)===0?(yn=!0,e.memoizedState=s):(e=Qd(),Qe.lanes|=e,ls|=e,n)}function J0(e,n,s,c,y){var w=oe.p;oe.p=w!==0&&8>w?w:8;var S=W.T,D={};W.T=D,Wc(e,!1,n,s);try{var U=y(),Q=W.S;if(Q!==null&&Q(D,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var le=ox(U,c);Al(e,n,le,br(e))}else Al(e,n,c,br(e))}catch(he){Al(e,n,{then:function(){},status:"rejected",reason:he},br())}finally{oe.p=w,S!==null&&D.types!==null&&(S.types=D.types),W.T=S}}function gx(){}function Yc(e,n,s,c){if(e.tag!==5)throw Error(f(476));var y=$0(e).queue;J0(e,y,n,Ie,s===null?gx:function(){return ed(e),s(c)})}function $0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:Ie},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ed(e){var n=$0(e);n.next===null&&(n=e.alternate.memoizedState),Al(e,n.next.queue,{},br())}function Kc(){return Bn(zl)}function td(){return hn().memoizedState}function nd(){return hn().memoizedState}function mx(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=br();e=ts(s);var c=ns(n,e,s);c!==null&&(sr(c,n,s),wl(c,n,s)),n={cache:_c()},e.payload=n;return}n=n.return}}function xx(e,n,s){var c=br();s={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Vo(e)?id(n,s):(s=fc(e,n,s,c),s!==null&&(sr(s,e,c),sd(s,n,c)))}function rd(e,n,s){var c=br();Al(e,n,s,c)}function Al(e,n,s,c){var y={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Vo(e))id(n,y);else{var w=e.alternate;if(e.lanes===0&&(w===null||w.lanes===0)&&(w=n.lastRenderedReducer,w!==null))try{var S=n.lastRenderedState,D=w(S,s);if(y.hasEagerState=!0,y.eagerState=D,h(D,S))return Co(e,n,y,0),jt===null&&Ao(),!1}catch{}finally{}if(s=fc(e,n,y,c),s!==null)return sr(s,e,c),sd(s,n,c),!0}return!1}function Wc(e,n,s,c){if(c={lane:2,revertLane:Th(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Vo(e)){if(n)throw Error(f(479))}else n=fc(e,s,c,2),n!==null&&sr(n,e,2)}function Vo(e){var n=e.alternate;return e===Qe||n!==null&&n===Qe}function id(e,n){_a=Po=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function sd(e,n,s){if((s&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,$r(e,s)}}var Cl={readContext:Bn,use:zo,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};Cl.useEffectEvent=nn;var ad={readContext:Bn,use:zo,useCallback:function(e,n){return Kn().memoizedState=[e,n===void 0?null:n],e},useContext:Bn,useEffect:q0,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,qo(4194308,4,Y0.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qo(4194308,4,e,n)},useInsertionEffect:function(e,n){qo(4,2,e,n)},useMemo:function(e,n){var s=Kn();n=n===void 0?null:n;var c=e();if(zs){Dt(!0);try{e()}finally{Dt(!1)}}return s.memoizedState=[c,n],c},useReducer:function(e,n,s){var c=Kn();if(s!==void 0){var y=s(n);if(zs){Dt(!0);try{s(n)}finally{Dt(!1)}}}else y=n;return c.memoizedState=c.baseState=y,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:y},c.queue=e,e=e.dispatch=xx.bind(null,Qe,e),[c.memoizedState,e]},useRef:function(e){var n=Kn();return e={current:e},n.memoizedState=e},useState:function(e){e=Hc(e);var n=e.queue,s=rd.bind(null,Qe,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Vc,useDeferredValue:function(e,n){var s=Kn();return Xc(s,e,n)},useTransition:function(){var e=Hc(!1);return e=J0.bind(null,Qe,e.queue,!0,!1),Kn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var c=Qe,y=Kn();if(dt){if(s===void 0)throw Error(f(407));s=s()}else{if(s=n(),jt===null)throw Error(f(349));(ht&127)!==0||T0(c,n,s)}y.memoizedState=s;var w={value:s,getSnapshot:n};return y.queue=w,q0(R0.bind(null,c,w,e),[e]),c.flags|=2048,Ca(9,{destroy:void 0},O0.bind(null,c,w,s,n),null),s},useId:function(){var e=Kn(),n=jt.identifierPrefix;if(dt){var s=si,c=ii;s=(c&~(1<<32-Je(c)-1)).toString(32)+s,n="_"+n+"R_"+s,s=jo++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=ux++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Kc,useFormState:P0,useActionState:P0,useOptimistic:function(e){var n=Kn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Wc.bind(null,Qe,!0,s),s.dispatch=n,[e,n]},useMemoCache:jc,useCacheRefresh:function(){return Kn().memoizedState=mx.bind(null,Qe)},useEffectEvent:function(e){var n=Kn(),s={impl:e};return n.memoizedState=s,function(){if((Et&2)!==0)throw Error(f(440));return s.impl.apply(void 0,arguments)}}},Zc={readContext:Bn,use:zo,useCallback:W0,useContext:Bn,useEffect:Gc,useImperativeHandle:K0,useInsertionEffect:V0,useLayoutEffect:X0,useMemo:Z0,useReducer:Ho,useRef:H0,useState:function(){return Ho(vi)},useDebugValue:Vc,useDeferredValue:function(e,n){var s=hn();return Q0(s,Mt.memoizedState,e,n)},useTransition:function(){var e=Ho(vi)[0],n=hn().memoizedState;return[typeof e=="boolean"?e:_l(e),n]},useSyncExternalStore:S0,useId:td,useHostTransitionStatus:Kc,useFormState:j0,useActionState:j0,useOptimistic:function(e,n){var s=hn();return D0(s,Mt,e,n)},useMemoCache:jc,useCacheRefresh:nd};Zc.useEffectEvent=G0;var ld={readContext:Bn,use:zo,useCallback:W0,useContext:Bn,useEffect:Gc,useImperativeHandle:K0,useInsertionEffect:V0,useLayoutEffect:X0,useMemo:Z0,useReducer:zc,useRef:H0,useState:function(){return zc(vi)},useDebugValue:Vc,useDeferredValue:function(e,n){var s=hn();return Mt===null?Xc(s,e,n):Q0(s,Mt.memoizedState,e,n)},useTransition:function(){var e=zc(vi)[0],n=hn().memoizedState;return[typeof e=="boolean"?e:_l(e),n]},useSyncExternalStore:S0,useId:td,useHostTransitionStatus:Kc,useFormState:z0,useActionState:z0,useOptimistic:function(e,n){var s=hn();return Mt!==null?D0(s,Mt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:jc,useCacheRefresh:nd};ld.useEffectEvent=G0;function Qc(e,n,s,c){n=e.memoizedState,s=s(c,n),s=s==null?n:N({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Jc={enqueueSetState:function(e,n,s){e=e._reactInternals;var c=br(),y=ts(c);y.payload=n,s!=null&&(y.callback=s),n=ns(e,y,c),n!==null&&(sr(n,e,c),wl(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var c=br(),y=ts(c);y.tag=1,y.payload=n,s!=null&&(y.callback=s),n=ns(e,y,c),n!==null&&(sr(n,e,c),wl(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=br(),c=ts(s);c.tag=2,n!=null&&(c.callback=n),n=ns(e,c,s),n!==null&&(sr(n,e,s),wl(n,e,s))}};function od(e,n,s,c,y,w,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,w,S):n.prototype&&n.prototype.isPureReactComponent?!m(s,c)||!m(y,w):!0}function ud(e,n,s,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,c),n.state!==e&&Jc.enqueueReplaceState(n,n.state,null)}function Hs(e,n){var s=n;if("ref"in n){s={};for(var c in n)c!=="ref"&&(s[c]=n[c])}if(e=e.defaultProps){s===n&&(s=N({},s));for(var y in e)s[y]===void 0&&(s[y]=e[y])}return s}function cd(e){_o(e)}function hd(e){console.error(e)}function fd(e){_o(e)}function Xo(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function dd(e,n,s){try{var c=e.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function $c(e,n,s){return s=ts(s),s.tag=3,s.payload={element:null},s.callback=function(){Xo(e,n)},s}function gd(e){return e=ts(e),e.tag=3,e}function md(e,n,s,c){var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var w=c.value;e.payload=function(){return y(w)},e.callback=function(){dd(n,s,c)}}var S=s.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){dd(n,s,c),typeof y!="function"&&(os===null?os=new Set([this]):os.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function yx(e,n,s,c,y){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=s.alternate,n!==null&&ya(n,s,y,!0),s=xr.current,s!==null){switch(s.tag){case 31:case 13:return Br===null?iu():s.alternate===null&&rn===0&&(rn=3),s.flags&=-257,s.flags|=65536,s.lanes=y,c===Mo?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([c]):n.add(c),Ah(e,c,y)),!1;case 22:return s.flags|=65536,c===Mo?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([c]):s.add(c)),Ah(e,c,y)),!1}throw Error(f(435,s.tag))}return Ah(e,c,y),iu(),!1}if(dt)return n=xr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=y,c!==pc&&(e=Error(f(422),{cause:c}),gl(Nr(e,s)))):(c!==pc&&(n=Error(f(423),{cause:c}),gl(Nr(n,s))),e=e.current.alternate,e.flags|=65536,y&=-y,e.lanes|=y,c=Nr(c,s),y=$c(e.stateNode,c,y),Rc(e,y),rn!==4&&(rn=2)),!1;var w=Error(f(520),{cause:c});if(w=Nr(w,s),Ml===null?Ml=[w]:Ml.push(w),rn!==4&&(rn=2),n===null)return!0;c=Nr(c,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=y&-y,s.lanes|=e,e=$c(s.stateNode,c,e),Rc(s,e),!1;case 1:if(n=s.type,w=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(os===null||!os.has(w))))return s.flags|=65536,y&=-y,s.lanes|=y,y=gd(y),md(y,e,s,c),Rc(s,y),!1}s=s.return}while(s!==null);return!1}var eh=Error(f(461)),yn=!1;function kn(e,n,s,c){n.child=e===null?w0(n,null,s,c):Fs(n,e.child,s,c)}function xd(e,n,s,c,y){s=s.render;var w=n.ref;if("ref"in c){var S={};for(var D in c)D!=="ref"&&(S[D]=c[D])}else S=c;return Ls(n),c=kc(e,n,s,S,w,y),D=Lc(),e!==null&&!yn?(Uc(e,n,y),Ei(e,n,y)):(dt&&D&&xc(n),n.flags|=1,kn(e,n,c,y),n.child)}function yd(e,n,s,c,y){if(e===null){var w=s.type;return typeof w=="function"&&!dc(w)&&w.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=w,pd(e,n,w,c,y)):(e=To(s.type,null,c,n,n.mode,y),e.ref=n.ref,e.return=n,n.child=e)}if(w=e.child,!oh(e,y)){var S=w.memoizedProps;if(s=s.compare,s=s!==null?s:m,s(S,c)&&e.ref===n.ref)return Ei(e,n,y)}return n.flags|=1,e=xi(w,c),e.ref=n.ref,e.return=n,n.child=e}function pd(e,n,s,c,y){if(e!==null){var w=e.memoizedProps;if(m(w,c)&&e.ref===n.ref)if(yn=!1,n.pendingProps=c=w,oh(e,y))(e.flags&131072)!==0&&(yn=!0);else return n.lanes=e.lanes,Ei(e,n,y)}return th(e,n,s,c,y)}function wd(e,n,s,c){var y=c.children,w=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(w=w!==null?w.baseLanes|s:s,e!==null){for(c=n.child=e.child,y=0;c!==null;)y=y|c.lanes|c.childLanes,c=c.sibling;c=y&~w}else c=0,n.child=null;return bd(e,n,w,s,c)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Io(n,w!==null?w.cachePool:null),w!==null?E0(n,w):Ic(),_0(n);else return c=n.lanes=536870912,bd(e,n,w!==null?w.baseLanes|s:s,s,c)}else w!==null?(Io(n,w.cachePool),E0(n,w),is(),n.memoizedState=null):(e!==null&&Io(n,null),Ic(),is());return kn(e,n,y,s),n.child}function Sl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function bd(e,n,s,c,y){var w=Cc();return w=w===null?null:{parent:mn._currentValue,pool:w},n.memoizedState={baseLanes:s,cachePool:w},e!==null&&Io(n,null),Ic(),_0(n),e!==null&&ya(e,n,c,!0),n.childLanes=y,null}function Yo(e,n){return n=Wo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function vd(e,n,s){return Fs(n,e.child,null,s),e=Yo(n,n.pendingProps),e.flags|=2,yr(n),n.memoizedState=null,e}function px(e,n,s){var c=n.pendingProps,y=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(dt){if(c.mode==="hidden")return e=Yo(n,c),n.lanes=536870912,Sl(null,e);if(Mc(n),(e=Vt)?(e=M1(e,Mr),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Zi!==null?{id:ii,overflow:si}:null,retryLane:536870912,hydrationErrors:null},s=i0(e),s.return=n,n.child=s,Mn=n,Vt=null)):e=null,e===null)throw Ji(n);return n.lanes=536870912,null}return Yo(n,c)}var w=e.memoizedState;if(w!==null){var S=w.dehydrated;if(Mc(n),y)if(n.flags&256)n.flags&=-257,n=vd(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(f(558));else if(yn||ya(e,n,s,!1),y=(s&e.childLanes)!==0,yn||y){if(c=jt,c!==null&&(S=ta(c,s),S!==0&&S!==w.retryLane))throw w.retryLane=S,Ds(e,S),sr(c,e,S),eh;iu(),n=vd(e,n,s)}else e=w.treeContext,Vt=kr(S.nextSibling),Mn=n,dt=!0,Qi=null,Mr=!1,e!==null&&l0(n,e),n=Yo(n,c),n.flags|=4096;return n}return e=xi(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ko(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(f(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function th(e,n,s,c,y){return Ls(n),s=kc(e,n,s,c,void 0,y),c=Lc(),e!==null&&!yn?(Uc(e,n,y),Ei(e,n,y)):(dt&&c&&xc(n),n.flags|=1,kn(e,n,s,y),n.child)}function Ed(e,n,s,c,y,w){return Ls(n),n.updateQueue=null,s=C0(n,c,s,y),A0(e),c=Lc(),e!==null&&!yn?(Uc(e,n,w),Ei(e,n,w)):(dt&&c&&xc(n),n.flags|=1,kn(e,n,s,w),n.child)}function _d(e,n,s,c,y){if(Ls(n),n.stateNode===null){var w=da,S=s.contextType;typeof S=="object"&&S!==null&&(w=Bn(S)),w=new s(c,w),n.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Jc,n.stateNode=w,w._reactInternals=n,w=n.stateNode,w.props=c,w.state=n.memoizedState,w.refs={},Tc(n),S=s.contextType,w.context=typeof S=="object"&&S!==null?Bn(S):da,w.state=n.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(Qc(n,s,S,c),w.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(S=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),S!==w.state&&Jc.enqueueReplaceState(w,w.state,null),vl(n,c,w,y),bl(),w.state=n.memoizedState),typeof w.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){w=n.stateNode;var D=n.memoizedProps,U=Hs(s,D);w.props=U;var Q=w.context,le=s.contextType;S=da,typeof le=="object"&&le!==null&&(S=Bn(le));var he=s.getDerivedStateFromProps;le=typeof he=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=n.pendingProps!==D,le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||Q!==S)&&ud(n,w,c,S),es=!1;var $=n.memoizedState;w.state=$,vl(n,c,w,y),bl(),Q=n.memoizedState,D||$!==Q||es?(typeof he=="function"&&(Qc(n,s,he,c),Q=n.memoizedState),(U=es||od(n,s,U,c,$,Q,S))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=Q),w.props=c,w.state=Q,w.context=S,c=U):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{w=n.stateNode,Oc(e,n),S=n.memoizedProps,le=Hs(s,S),w.props=le,he=n.pendingProps,$=w.context,Q=s.contextType,U=da,typeof Q=="object"&&Q!==null&&(U=Bn(Q)),D=s.getDerivedStateFromProps,(Q=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(S!==he||$!==U)&&ud(n,w,c,U),es=!1,$=n.memoizedState,w.state=$,vl(n,c,w,y),bl();var se=n.memoizedState;S!==he||$!==se||es||e!==null&&e.dependencies!==null&&Ro(e.dependencies)?(typeof D=="function"&&(Qc(n,s,D,c),se=n.memoizedState),(le=es||od(n,s,le,c,$,se,U)||e!==null&&e.dependencies!==null&&Ro(e.dependencies))?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,se,U),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,se,U)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||S===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=se),w.props=c,w.state=se,w.context=U,c=le):(typeof w.componentDidUpdate!="function"||S===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),c=!1)}return w=c,Ko(e,n),c=(n.flags&128)!==0,w||c?(w=n.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:w.render(),n.flags|=1,e!==null&&c?(n.child=Fs(n,e.child,null,y),n.child=Fs(n,null,s,y)):kn(e,n,s,y),n.memoizedState=w.state,e=n.child):e=Ei(e,n,y),e}function Ad(e,n,s,c){return Bs(),n.flags|=256,kn(e,n,s,c),n.child}var nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rh(e){return{baseLanes:e,cachePool:d0()}}function ih(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=wr),e}function Cd(e,n,s){var c=n.pendingProps,y=!1,w=(n.flags&128)!==0,S;if((S=w)||(S=e!==null&&e.memoizedState===null?!1:(cn.current&2)!==0),S&&(y=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(dt){if(y?rs(n):is(),(e=Vt)?(e=M1(e,Mr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Zi!==null?{id:ii,overflow:si}:null,retryLane:536870912,hydrationErrors:null},s=i0(e),s.return=n,n.child=s,Mn=n,Vt=null)):e=null,e===null)throw Ji(n);return Fh(e)?n.lanes=32:n.lanes=536870912,null}var D=c.children;return c=c.fallback,y?(is(),y=n.mode,D=Wo({mode:"hidden",children:D},y),c=Ms(c,y,s,null),D.return=n,c.return=n,D.sibling=c,n.child=D,c=n.child,c.memoizedState=rh(s),c.childLanes=ih(e,S,s),n.memoizedState=nh,Sl(null,c)):(rs(n),sh(n,D))}var U=e.memoizedState;if(U!==null&&(D=U.dehydrated,D!==null)){if(w)n.flags&256?(rs(n),n.flags&=-257,n=ah(e,n,s)):n.memoizedState!==null?(is(),n.child=e.child,n.flags|=128,n=null):(is(),D=c.fallback,y=n.mode,c=Wo({mode:"visible",children:c.children},y),D=Ms(D,y,s,null),D.flags|=2,c.return=n,D.return=n,c.sibling=D,n.child=c,Fs(n,e.child,null,s),c=n.child,c.memoizedState=rh(s),c.childLanes=ih(e,S,s),n.memoizedState=nh,n=Sl(null,c));else if(rs(n),Fh(D)){if(S=D.nextSibling&&D.nextSibling.dataset,S)var Q=S.dgst;S=Q,c=Error(f(419)),c.stack="",c.digest=S,gl({value:c,source:null,stack:null}),n=ah(e,n,s)}else if(yn||ya(e,n,s,!1),S=(s&e.childLanes)!==0,yn||S){if(S=jt,S!==null&&(c=ta(S,s),c!==0&&c!==U.retryLane))throw U.retryLane=c,Ds(e,c),sr(S,e,c),eh;jh(D)||iu(),n=ah(e,n,s)}else jh(D)?(n.flags|=192,n.child=e.child,n=null):(e=U.treeContext,Vt=kr(D.nextSibling),Mn=n,dt=!0,Qi=null,Mr=!1,e!==null&&l0(n,e),n=sh(n,c.children),n.flags|=4096);return n}return y?(is(),D=c.fallback,y=n.mode,U=e.child,Q=U.sibling,c=xi(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,Q!==null?D=xi(Q,D):(D=Ms(D,y,s,null),D.flags|=2),D.return=n,c.return=n,c.sibling=D,n.child=c,Sl(null,c),c=n.child,D=e.child.memoizedState,D===null?D=rh(s):(y=D.cachePool,y!==null?(U=mn._currentValue,y=y.parent!==U?{parent:U,pool:U}:y):y=d0(),D={baseLanes:D.baseLanes|s,cachePool:y}),c.memoizedState=D,c.childLanes=ih(e,S,s),n.memoizedState=nh,Sl(e.child,c)):(rs(n),s=e.child,e=s.sibling,s=xi(s,{mode:"visible",children:c.children}),s.return=n,s.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=s,n.memoizedState=null,s)}function sh(e,n){return n=Wo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wo(e,n){return e=mr(22,e,null,n),e.lanes=0,e}function ah(e,n,s){return Fs(n,e.child,null,s),e=sh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Sd(e,n,s){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),vc(e.return,n,s)}function lh(e,n,s,c,y,w){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:y,treeForkCount:w}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=c,S.tail=s,S.tailMode=y,S.treeForkCount=w)}function Td(e,n,s){var c=n.pendingProps,y=c.revealOrder,w=c.tail;c=c.children;var S=cn.current,D=(S&2)!==0;if(D?(S=S&1|2,n.flags|=128):S&=1,ve(cn,S),kn(e,n,c,s),c=dt?dl:0,!D&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sd(e,s,n);else if(e.tag===19)Sd(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(y){case"forwards":for(s=n.child,y=null;s!==null;)e=s.alternate,e!==null&&Uo(e)===null&&(y=s),s=s.sibling;s=y,s===null?(y=n.child,n.child=null):(y=s.sibling,s.sibling=null),lh(n,!1,y,s,w,c);break;case"backwards":case"unstable_legacy-backwards":for(s=null,y=n.child,n.child=null;y!==null;){if(e=y.alternate,e!==null&&Uo(e)===null){n.child=y;break}e=y.sibling,y.sibling=s,s=y,y=e}lh(n,!0,s,null,w,c);break;case"together":lh(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function Ei(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ls|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ya(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(f(153));if(n.child!==null){for(e=n.child,s=xi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=xi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function oh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ro(e)))}function wx(e,n,s){switch(n.tag){case 3:ot(n,n.stateNode.containerInfo),$i(n,mn,e.memoizedState.cache),Bs();break;case 27:case 5:Wn(n);break;case 4:ot(n,n.stateNode.containerInfo);break;case 10:$i(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Mc(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(rs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Cd(e,n,s):(rs(n),e=Ei(e,n,s),e!==null?e.sibling:null);rs(n);break;case 19:var y=(e.flags&128)!==0;if(c=(s&n.childLanes)!==0,c||(ya(e,n,s,!1),c=(s&n.childLanes)!==0),y){if(c)return Td(e,n,s);n.flags|=128}if(y=n.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ve(cn,cn.current),c)break;return null;case 22:return n.lanes=0,wd(e,n,s,n.pendingProps);case 24:$i(n,mn,e.memoizedState.cache)}return Ei(e,n,s)}function Od(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)yn=!0;else{if(!oh(e,s)&&(n.flags&128)===0)return yn=!1,wx(e,n,s);yn=(e.flags&131072)!==0}else yn=!1,dt&&(n.flags&1048576)!==0&&a0(n,dl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=Ps(n.elementType),n.type=e,typeof e=="function")dc(e)?(c=Hs(e,c),n.tag=1,n=_d(null,n,e,c,s)):(n.tag=0,n=th(null,n,e,c,s));else{if(e!=null){var y=e.$$typeof;if(y===me){n.tag=11,n=xd(null,n,e,c,s);break e}else if(y===ee){n.tag=14,n=yd(null,n,e,c,s);break e}}throw n=Ke(e)||e,Error(f(306,n,""))}}return n;case 0:return th(e,n,n.type,n.pendingProps,s);case 1:return c=n.type,y=Hs(c,n.pendingProps),_d(e,n,c,y,s);case 3:e:{if(ot(n,n.stateNode.containerInfo),e===null)throw Error(f(387));c=n.pendingProps;var w=n.memoizedState;y=w.element,Oc(e,n),vl(n,c,null,s);var S=n.memoizedState;if(c=S.cache,$i(n,mn,c),c!==w.cache&&Ec(n,[mn],s,!0),bl(),c=S.element,w.isDehydrated)if(w={element:c,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=w,n.memoizedState=w,n.flags&256){n=Ad(e,n,c,s);break e}else if(c!==y){y=Nr(Error(f(424)),n),gl(y),n=Ad(e,n,c,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Vt=kr(e.firstChild),Mn=n,dt=!0,Qi=null,Mr=!0,s=w0(n,null,c,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Bs(),c===y){n=Ei(e,n,s);break e}kn(e,n,c,s)}n=n.child}return n;case 26:return Ko(e,n),e===null?(s=j1(n.type,null,n.pendingProps,null))?n.memoizedState=s:dt||(s=n.type,e=n.pendingProps,c=hu(be.current).createElement(s),c[ln]=n,c[Rt]=e,Ln(c,s,e),en(c),n.stateNode=c):n.memoizedState=j1(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Wn(n),e===null&&dt&&(c=n.stateNode=L1(n.type,n.pendingProps,be.current),Mn=n,Mr=!0,y=Vt,fs(n.type)?(zh=y,Vt=kr(c.firstChild)):Vt=y),kn(e,n,n.pendingProps.children,s),Ko(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&dt&&((y=c=Vt)&&(c=Wx(c,n.type,n.pendingProps,Mr),c!==null?(n.stateNode=c,Mn=n,Vt=kr(c.firstChild),Mr=!1,y=!0):y=!1),y||Ji(n)),Wn(n),y=n.type,w=n.pendingProps,S=e!==null?e.memoizedProps:null,c=w.children,Lh(y,w)?c=null:S!==null&&Lh(y,S)&&(n.flags|=32),n.memoizedState!==null&&(y=kc(e,n,cx,null,null,s),zl._currentValue=y),Ko(e,n),kn(e,n,c,s),n.child;case 6:return e===null&&dt&&((e=s=Vt)&&(s=Zx(s,n.pendingProps,Mr),s!==null?(n.stateNode=s,Mn=n,Vt=null,e=!0):e=!1),e||Ji(n)),null;case 13:return Cd(e,n,s);case 4:return ot(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=Fs(n,null,c,s):kn(e,n,c,s),n.child;case 11:return xd(e,n,n.type,n.pendingProps,s);case 7:return kn(e,n,n.pendingProps,s),n.child;case 8:return kn(e,n,n.pendingProps.children,s),n.child;case 12:return kn(e,n,n.pendingProps.children,s),n.child;case 10:return c=n.pendingProps,$i(n,n.type,c.value),kn(e,n,c.children,s),n.child;case 9:return y=n.type._context,c=n.pendingProps.children,Ls(n),y=Bn(y),c=c(y),n.flags|=1,kn(e,n,c,s),n.child;case 14:return yd(e,n,n.type,n.pendingProps,s);case 15:return pd(e,n,n.type,n.pendingProps,s);case 19:return Td(e,n,s);case 31:return px(e,n,s);case 22:return wd(e,n,s,n.pendingProps);case 24:return Ls(n),c=Bn(mn),e===null?(y=Cc(),y===null&&(y=jt,w=_c(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=s),y=w),n.memoizedState={parent:c,cache:y},Tc(n),$i(n,mn,y)):((e.lanes&s)!==0&&(Oc(e,n),vl(n,null,null,s),bl()),y=e.memoizedState,w=n.memoizedState,y.parent!==c?(y={parent:c,cache:c},n.memoizedState=y,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=y),$i(n,mn,c)):(c=w.cache,$i(n,mn,c),c!==y.cache&&Ec(n,[mn],s,!0))),kn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(f(156,n.tag))}function _i(e){e.flags|=4}function uh(e,n,s,c,y){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(y&335544128)===y)if(e.stateNode.complete)e.flags|=8192;else if(t1())e.flags|=8192;else throw js=Mo,Sc}else e.flags&=-16777217}function Rd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!G1(n))if(t1())e.flags|=8192;else throw js=Mo,Sc}function Zo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?En():536870912,e.lanes|=n,Ra|=n)}function Tl(e,n){if(!dt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Xt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(n)for(var y=e.child;y!==null;)s|=y.lanes|y.childLanes,c|=y.subtreeFlags&65011712,c|=y.flags&65011712,y.return=e,y=y.sibling;else for(y=e.child;y!==null;)s|=y.lanes|y.childLanes,c|=y.subtreeFlags,c|=y.flags,y.return=e,y=y.sibling;return e.subtreeFlags|=c,e.childLanes=s,n}function bx(e,n,s){var c=n.pendingProps;switch(yc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(n),null;case 1:return Xt(n),null;case 3:return s=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),wi(mn),Tt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(xa(n)?_i(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wc())),Xt(n),null;case 26:var y=n.type,w=n.memoizedState;return e===null?(_i(n),w!==null?(Xt(n),Rd(n,w)):(Xt(n),uh(n,y,null,c,s))):w?w!==e.memoizedState?(_i(n),Xt(n),Rd(n,w)):(Xt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&_i(n),Xt(n),uh(n,y,e,c,s)),null;case 27:if(we(n),s=be.current,y=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&_i(n);else{if(!c){if(n.stateNode===null)throw Error(f(166));return Xt(n),null}e=Ee.current,xa(n)?o0(n):(e=L1(y,c,s),n.stateNode=e,_i(n))}return Xt(n),null;case 5:if(we(n),y=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&_i(n);else{if(!c){if(n.stateNode===null)throw Error(f(166));return Xt(n),null}if(w=Ee.current,xa(n))o0(n);else{var S=hu(be.current);switch(w){case 1:w=S.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=S.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=S.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=S.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=S.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof c.is=="string"?S.createElement("select",{is:c.is}):S.createElement("select"),c.multiple?w.multiple=!0:c.size&&(w.size=c.size);break;default:w=typeof c.is=="string"?S.createElement(y,{is:c.is}):S.createElement(y)}}w[ln]=n,w[Rt]=c;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)w.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=w;e:switch(Ln(w,y,c),y){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&_i(n)}}return Xt(n),uh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&_i(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(f(166));if(e=be.current,xa(n)){if(e=n.stateNode,s=n.memoizedProps,c=null,y=Mn,y!==null)switch(y.tag){case 27:case 5:c=y.memoizedProps}e[ln]=n,e=!!(e.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||C1(e.nodeValue,s)),e||Ji(n,!0)}else e=hu(e).createTextNode(c),e[ln]=n,n.stateNode=e}return Xt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(c=xa(n),s!==null){if(e===null){if(!c)throw Error(f(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(557));e[ln]=n}else Bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xt(n),e=!1}else s=wc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yr(n),n):(yr(n),null);if((n.flags&128)!==0)throw Error(f(558))}return Xt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(y=xa(n),c!==null&&c.dehydrated!==null){if(e===null){if(!y)throw Error(f(318));if(y=n.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(f(317));y[ln]=n}else Bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xt(n),y=!1}else y=wc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=y),y=!0;if(!y)return n.flags&256?(yr(n),n):(yr(n),null)}return yr(n),(n.flags&128)!==0?(n.lanes=s,n):(s=c!==null,e=e!==null&&e.memoizedState!==null,s&&(c=n.child,y=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(y=c.alternate.memoizedState.cachePool.pool),w=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(w=c.memoizedState.cachePool.pool),w!==y&&(c.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Zo(n,n.updateQueue),Xt(n),null);case 4:return Tt(),e===null&&Ih(n.stateNode.containerInfo),Xt(n),null;case 10:return wi(n.type),Xt(n),null;case 19:if(ae(cn),c=n.memoizedState,c===null)return Xt(n),null;if(y=(n.flags&128)!==0,w=c.rendering,w===null)if(y)Tl(c,!1);else{if(rn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=Uo(e),w!==null){for(n.flags|=128,Tl(c,!1),e=w.updateQueue,n.updateQueue=e,Zo(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)r0(s,e),s=s.sibling;return ve(cn,cn.current&1|2),dt&&yi(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&Jt()>tu&&(n.flags|=128,y=!0,Tl(c,!1),n.lanes=4194304)}else{if(!y)if(e=Uo(w),e!==null){if(n.flags|=128,y=!0,e=e.updateQueue,n.updateQueue=e,Zo(n,e),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!w.alternate&&!dt)return Xt(n),null}else 2*Jt()-c.renderingStartTime>tu&&s!==536870912&&(n.flags|=128,y=!0,Tl(c,!1),n.lanes=4194304);c.isBackwards?(w.sibling=n.child,n.child=w):(e=c.last,e!==null?e.sibling=w:n.child=w,c.last=w)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Jt(),e.sibling=null,s=cn.current,ve(cn,y?s&1|2:s&1),dt&&yi(n,c.treeForkCount),e):(Xt(n),null);case 22:case 23:return yr(n),Dc(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(s&536870912)!==0&&(n.flags&128)===0&&(Xt(n),n.subtreeFlags&6&&(n.flags|=8192)):Xt(n),s=n.updateQueue,s!==null&&Zo(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==s&&(n.flags|=2048),e!==null&&ae(Us),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),wi(mn),Xt(n),null;case 25:return null;case 30:return null}throw Error(f(156,n.tag))}function vx(e,n){switch(yc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wi(mn),Tt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return we(n),null;case 31:if(n.memoizedState!==null){if(yr(n),n.alternate===null)throw Error(f(340));Bs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(f(340));Bs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ae(cn),null;case 4:return Tt(),null;case 10:return wi(n.type),null;case 22:case 23:return yr(n),Dc(),e!==null&&ae(Us),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wi(mn),null;case 25:return null;default:return null}}function Nd(e,n){switch(yc(n),n.tag){case 3:wi(mn),Tt();break;case 26:case 27:case 5:we(n);break;case 4:Tt();break;case 31:n.memoizedState!==null&&yr(n);break;case 13:yr(n);break;case 19:ae(cn);break;case 10:wi(n.type);break;case 22:case 23:yr(n),Dc(),e!==null&&ae(Us);break;case 24:wi(mn)}}function Ol(e,n){try{var s=n.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var y=c.next;s=y;do{if((s.tag&e)===e){c=void 0;var w=s.create,S=s.inst;c=w(),S.destroy=c}s=s.next}while(s!==y)}}catch(D){It(n,n.return,D)}}function ss(e,n,s){try{var c=n.updateQueue,y=c!==null?c.lastEffect:null;if(y!==null){var w=y.next;c=w;do{if((c.tag&e)===e){var S=c.inst,D=S.destroy;if(D!==void 0){S.destroy=void 0,y=n;var U=s,Q=D;try{Q()}catch(le){It(y,U,le)}}}c=c.next}while(c!==w)}}catch(le){It(n,n.return,le)}}function Id(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{v0(n,s)}catch(c){It(e,e.return,c)}}}function Dd(e,n,s){s.props=Hs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(c){It(e,n,c)}}function Rl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof s=="function"?e.refCleanup=s(c):s.current=c}}catch(y){It(e,n,y)}}function ai(e,n){var s=e.ref,c=e.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(y){It(e,n,y)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(y){It(e,n,y)}else s.current=null}function Md(e){var n=e.type,s=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(y){It(e,e.return,y)}}function ch(e,n,s){try{var c=e.stateNode;qx(c,e.type,s,n),c[Rt]=n}catch(y){It(e,e.return,y)}}function Bd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fs(e.type)||e.tag===4}function hh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fh(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Jn));else if(c!==4&&(c===27&&fs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(fh(e,n,s),e=e.sibling;e!==null;)fh(e,n,s),e=e.sibling}function Qo(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(c!==4&&(c===27&&fs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Qo(e,n,s),e=e.sibling;e!==null;)Qo(e,n,s),e=e.sibling}function kd(e){var n=e.stateNode,s=e.memoizedProps;try{for(var c=e.type,y=n.attributes;y.length;)n.removeAttributeNode(y[0]);Ln(n,c,s),n[ln]=e,n[Rt]=s}catch(w){It(e,e.return,w)}}var Ai=!1,pn=!1,dh=!1,Ld=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function Ex(e,n){if(e=e.containerInfo,Bh=pu,e=O(e),I(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var y=c.anchorOffset,w=c.focusNode;c=c.focusOffset;try{s.nodeType,w.nodeType}catch{s=null;break e}var S=0,D=-1,U=-1,Q=0,le=0,he=e,$=null;t:for(;;){for(var se;he!==s||y!==0&&he.nodeType!==3||(D=S+y),he!==w||c!==0&&he.nodeType!==3||(U=S+c),he.nodeType===3&&(S+=he.nodeValue.length),(se=he.firstChild)!==null;)$=he,he=se;for(;;){if(he===e)break t;if($===s&&++Q===y&&(D=S),$===w&&++le===c&&(U=S),(se=he.nextSibling)!==null)break;he=$,$=he.parentNode}he=se}s=D===-1||U===-1?null:{start:D,end:U}}else s=null}s=s||{start:0,end:0}}else s=null;for(kh={focusedElem:e,selectionRange:s},pu=!1,Rn=n;Rn!==null;)if(n=Rn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Rn=e;else for(;Rn!==null;){switch(n=Rn,w=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)y=e[s],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&w!==null){e=void 0,s=n,y=w.memoizedProps,w=w.memoizedState,c=s.stateNode;try{var Ne=Hs(s.type,y);e=c.getSnapshotBeforeUpdate(Ne,w),c.__reactInternalSnapshotBeforeUpdate=e}catch(Fe){It(s,s.return,Fe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Ph(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ph(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(f(163))}if(e=n.sibling,e!==null){e.return=n.return,Rn=e;break}Rn=n.return}}function Ud(e,n,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Si(e,s),c&4&&Ol(5,s);break;case 1:if(Si(e,s),c&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(S){It(s,s.return,S)}else{var y=Hs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(y,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){It(s,s.return,S)}}c&64&&Id(s),c&512&&Rl(s,s.return);break;case 3:if(Si(e,s),c&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{v0(e,n)}catch(S){It(s,s.return,S)}}break;case 27:n===null&&c&4&&kd(s);case 26:case 5:Si(e,s),n===null&&c&4&&Md(s),c&512&&Rl(s,s.return);break;case 12:Si(e,s);break;case 31:Si(e,s),c&4&&Fd(e,s);break;case 13:Si(e,s),c&4&&zd(e,s),c&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Ix.bind(null,s),Qx(e,s))));break;case 22:if(c=s.memoizedState!==null||Ai,!c){n=n!==null&&n.memoizedState!==null||pn,y=Ai;var w=pn;Ai=c,(pn=n)&&!w?Ti(e,s,(s.subtreeFlags&8772)!==0):Si(e,s),Ai=y,pn=w}break;case 30:break;default:Si(e,s)}}function Pd(e){var n=e.alternate;n!==null&&(e.alternate=null,Pd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Qn(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Zt=null,tr=!1;function Ci(e,n,s){for(s=s.child;s!==null;)jd(e,n,s),s=s.sibling}function jd(e,n,s){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(Ft,s)}catch{}switch(s.tag){case 26:pn||ai(s,n),Ci(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:pn||ai(s,n);var c=Zt,y=tr;fs(s.type)&&(Zt=s.stateNode,tr=!1),Ci(e,n,s),Pl(s.stateNode),Zt=c,tr=y;break;case 5:pn||ai(s,n);case 6:if(c=Zt,y=tr,Zt=null,Ci(e,n,s),Zt=c,tr=y,Zt!==null)if(tr)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(s.stateNode)}catch(w){It(s,n,w)}else try{Zt.removeChild(s.stateNode)}catch(w){It(s,n,w)}break;case 18:Zt!==null&&(tr?(e=Zt,I1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ua(e)):I1(Zt,s.stateNode));break;case 4:c=Zt,y=tr,Zt=s.stateNode.containerInfo,tr=!0,Ci(e,n,s),Zt=c,tr=y;break;case 0:case 11:case 14:case 15:ss(2,s,n),pn||ss(4,s,n),Ci(e,n,s);break;case 1:pn||(ai(s,n),c=s.stateNode,typeof c.componentWillUnmount=="function"&&Dd(s,n,c)),Ci(e,n,s);break;case 21:Ci(e,n,s);break;case 22:pn=(c=pn)||s.memoizedState!==null,Ci(e,n,s),pn=c;break;default:Ci(e,n,s)}}function Fd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(s){It(n,n.return,s)}}}function zd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(s){It(n,n.return,s)}}function _x(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ld),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ld),n;default:throw Error(f(435,e.tag))}}function Jo(e,n){var s=_x(e);n.forEach(function(c){if(!s.has(c)){s.add(c);var y=Dx.bind(null,e,c);c.then(y,y)}})}function nr(e,n){var s=n.deletions;if(s!==null)for(var c=0;c<s.length;c++){var y=s[c],w=e,S=n,D=S;e:for(;D!==null;){switch(D.tag){case 27:if(fs(D.type)){Zt=D.stateNode,tr=!1;break e}break;case 5:Zt=D.stateNode,tr=!1;break e;case 3:case 4:Zt=D.stateNode.containerInfo,tr=!0;break e}D=D.return}if(Zt===null)throw Error(f(160));jd(w,S,y),Zt=null,tr=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Hd(n,e),n=n.sibling}var Vr=null;function Hd(e,n){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:nr(n,e),rr(e),c&4&&(ss(3,e,e.return),Ol(3,e),ss(5,e,e.return));break;case 1:nr(n,e),rr(e),c&512&&(pn||s===null||ai(s,s.return)),c&64&&Ai&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var y=Vr;if(nr(n,e),rr(e),c&512&&(pn||s===null||ai(s,s.return)),c&4){var w=s!==null?s.memoizedState:null;if(c=e.memoizedState,s===null)if(c===null)if(e.stateNode===null){e:{c=e.type,s=e.memoizedProps,y=y.ownerDocument||y;t:switch(c){case"title":w=y.getElementsByTagName("title")[0],(!w||w[_s]||w[ln]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(c),y.head.insertBefore(w,y.querySelector("head > title"))),Ln(w,c,s),w[ln]=e,en(w),c=w;break e;case"link":var S=H1("link","href",y).get(c+(s.href||""));if(S){for(var D=0;D<S.length;D++)if(w=S[D],w.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&w.getAttribute("rel")===(s.rel==null?null:s.rel)&&w.getAttribute("title")===(s.title==null?null:s.title)&&w.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){S.splice(D,1);break t}}w=y.createElement(c),Ln(w,c,s),y.head.appendChild(w);break;case"meta":if(S=H1("meta","content",y).get(c+(s.content||""))){for(D=0;D<S.length;D++)if(w=S[D],w.getAttribute("content")===(s.content==null?null:""+s.content)&&w.getAttribute("name")===(s.name==null?null:s.name)&&w.getAttribute("property")===(s.property==null?null:s.property)&&w.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&w.getAttribute("charset")===(s.charSet==null?null:s.charSet)){S.splice(D,1);break t}}w=y.createElement(c),Ln(w,c,s),y.head.appendChild(w);break;default:throw Error(f(468,c))}w[ln]=e,en(w),c=w}e.stateNode=c}else q1(y,e.type,e.stateNode);else e.stateNode=z1(y,c,e.memoizedProps);else w!==c?(w===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):w.count--,c===null?q1(y,e.type,e.stateNode):z1(y,c,e.memoizedProps)):c===null&&e.stateNode!==null&&ch(e,e.memoizedProps,s.memoizedProps)}break;case 27:nr(n,e),rr(e),c&512&&(pn||s===null||ai(s,s.return)),s!==null&&c&4&&ch(e,e.memoizedProps,s.memoizedProps);break;case 5:if(nr(n,e),rr(e),c&512&&(pn||s===null||ai(s,s.return)),e.flags&32){y=e.stateNode;try{zi(y,"")}catch(Ne){It(e,e.return,Ne)}}c&4&&e.stateNode!=null&&(y=e.memoizedProps,ch(e,y,s!==null?s.memoizedProps:y)),c&1024&&(dh=!0);break;case 6:if(nr(n,e),rr(e),c&4){if(e.stateNode===null)throw Error(f(162));c=e.memoizedProps,s=e.stateNode;try{s.nodeValue=c}catch(Ne){It(e,e.return,Ne)}}break;case 3:if(gu=null,y=Vr,Vr=fu(n.containerInfo),nr(n,e),Vr=y,rr(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(Ne){It(e,e.return,Ne)}dh&&(dh=!1,qd(e));break;case 4:c=Vr,Vr=fu(e.stateNode.containerInfo),nr(n,e),rr(e),Vr=c;break;case 12:nr(n,e),rr(e);break;case 31:nr(n,e),rr(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Jo(e,c)));break;case 13:nr(n,e),rr(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(eu=Jt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Jo(e,c)));break;case 22:y=e.memoizedState!==null;var U=s!==null&&s.memoizedState!==null,Q=Ai,le=pn;if(Ai=Q||y,pn=le||U,nr(n,e),pn=le,Ai=Q,rr(e),c&8192)e:for(n=e.stateNode,n._visibility=y?n._visibility&-2:n._visibility|1,y&&(s===null||U||Ai||pn||qs(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){U=s=n;try{if(w=U.stateNode,y)S=w.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{D=U.stateNode;var he=U.memoizedProps.style,$=he!=null&&he.hasOwnProperty("display")?he.display:null;D.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Ne){It(U,U.return,Ne)}}}else if(n.tag===6){if(s===null){U=n;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(Ne){It(U,U.return,Ne)}}}else if(n.tag===18){if(s===null){U=n;try{var se=U.stateNode;y?D1(se,!0):D1(U.stateNode,!1)}catch(Ne){It(U,U.return,Ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,Jo(e,s))));break;case 19:nr(n,e),rr(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Jo(e,c)));break;case 30:break;case 21:break;default:nr(n,e),rr(e)}}function rr(e){var n=e.flags;if(n&2){try{for(var s,c=e.return;c!==null;){if(Bd(c)){s=c;break}c=c.return}if(s==null)throw Error(f(160));switch(s.tag){case 27:var y=s.stateNode,w=hh(e);Qo(e,w,y);break;case 5:var S=s.stateNode;s.flags&32&&(zi(S,""),s.flags&=-33);var D=hh(e);Qo(e,D,S);break;case 3:case 4:var U=s.stateNode.containerInfo,Q=hh(e);fh(e,Q,U);break;default:throw Error(f(161))}}catch(le){It(e,e.return,le)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;qd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Si(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ud(e,n.alternate,n),n=n.sibling}function qs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ss(4,n,n.return),qs(n);break;case 1:ai(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Dd(n,n.return,s),qs(n);break;case 27:Pl(n.stateNode);case 26:case 5:ai(n,n.return),qs(n);break;case 22:n.memoizedState===null&&qs(n);break;case 30:qs(n);break;default:qs(n)}e=e.sibling}}function Ti(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,y=e,w=n,S=w.flags;switch(w.tag){case 0:case 11:case 15:Ti(y,w,s),Ol(4,w);break;case 1:if(Ti(y,w,s),c=w,y=c.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Q){It(c,c.return,Q)}if(c=w,y=c.updateQueue,y!==null){var D=c.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)b0(U[y],D)}catch(Q){It(c,c.return,Q)}}s&&S&64&&Id(w),Rl(w,w.return);break;case 27:kd(w);case 26:case 5:Ti(y,w,s),s&&c===null&&S&4&&Md(w),Rl(w,w.return);break;case 12:Ti(y,w,s);break;case 31:Ti(y,w,s),s&&S&4&&Fd(y,w);break;case 13:Ti(y,w,s),s&&S&4&&zd(y,w);break;case 22:w.memoizedState===null&&Ti(y,w,s),Rl(w,w.return);break;case 30:break;default:Ti(y,w,s)}n=n.sibling}}function gh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ml(s))}function mh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ml(e))}function Xr(e,n,s,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gd(e,n,s,c),n=n.sibling}function Gd(e,n,s,c){var y=n.flags;switch(n.tag){case 0:case 11:case 15:Xr(e,n,s,c),y&2048&&Ol(9,n);break;case 1:Xr(e,n,s,c);break;case 3:Xr(e,n,s,c),y&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ml(e)));break;case 12:if(y&2048){Xr(e,n,s,c),e=n.stateNode;try{var w=n.memoizedProps,S=w.id,D=w.onPostCommit;typeof D=="function"&&D(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){It(n,n.return,U)}}else Xr(e,n,s,c);break;case 31:Xr(e,n,s,c);break;case 13:Xr(e,n,s,c);break;case 23:break;case 22:w=n.stateNode,S=n.alternate,n.memoizedState!==null?w._visibility&2?Xr(e,n,s,c):Nl(e,n):w._visibility&2?Xr(e,n,s,c):(w._visibility|=2,Sa(e,n,s,c,(n.subtreeFlags&10256)!==0||!1)),y&2048&&gh(S,n);break;case 24:Xr(e,n,s,c),y&2048&&mh(n.alternate,n);break;default:Xr(e,n,s,c)}}function Sa(e,n,s,c,y){for(y=y&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var w=e,S=n,D=s,U=c,Q=S.flags;switch(S.tag){case 0:case 11:case 15:Sa(w,S,D,U,y),Ol(8,S);break;case 23:break;case 22:var le=S.stateNode;S.memoizedState!==null?le._visibility&2?Sa(w,S,D,U,y):Nl(w,S):(le._visibility|=2,Sa(w,S,D,U,y)),y&&Q&2048&&gh(S.alternate,S);break;case 24:Sa(w,S,D,U,y),y&&Q&2048&&mh(S.alternate,S);break;default:Sa(w,S,D,U,y)}n=n.sibling}}function Nl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,c=n,y=c.flags;switch(c.tag){case 22:Nl(s,c),y&2048&&gh(c.alternate,c);break;case 24:Nl(s,c),y&2048&&mh(c.alternate,c);break;default:Nl(s,c)}n=n.sibling}}var Il=8192;function Ta(e,n,s){if(e.subtreeFlags&Il)for(e=e.child;e!==null;)Vd(e,n,s),e=e.sibling}function Vd(e,n,s){switch(e.tag){case 26:Ta(e,n,s),e.flags&Il&&e.memoizedState!==null&&uy(s,Vr,e.memoizedState,e.memoizedProps);break;case 5:Ta(e,n,s);break;case 3:case 4:var c=Vr;Vr=fu(e.stateNode.containerInfo),Ta(e,n,s),Vr=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Il,Il=16777216,Ta(e,n,s),Il=c):Ta(e,n,s));break;default:Ta(e,n,s)}}function Xd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Dl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var c=n[s];Rn=c,Kd(c,e)}Xd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yd(e),e=e.sibling}function Yd(e){switch(e.tag){case 0:case 11:case 15:Dl(e),e.flags&2048&&ss(9,e,e.return);break;case 3:Dl(e);break;case 12:Dl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$o(e)):Dl(e);break;default:Dl(e)}}function $o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var c=n[s];Rn=c,Kd(c,e)}Xd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ss(8,n,n.return),$o(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,$o(n));break;default:$o(n)}e=e.sibling}}function Kd(e,n){for(;Rn!==null;){var s=Rn;switch(s.tag){case 0:case 11:case 15:ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ml(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,Rn=c;else e:for(s=e;Rn!==null;){c=Rn;var y=c.sibling,w=c.return;if(Pd(c),c===s){Rn=null;break e}if(y!==null){y.return=w,Rn=y;break e}Rn=w}}}var Ax={getCacheForType:function(e){var n=Bn(mn),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Bn(mn).controller.signal}},Cx=typeof WeakMap=="function"?WeakMap:Map,Et=0,jt=null,at=null,ht=0,Nt=0,pr=null,as=!1,Oa=!1,xh=!1,Oi=0,rn=0,ls=0,Gs=0,yh=0,wr=0,Ra=0,Ml=null,ir=null,ph=!1,eu=0,Wd=0,tu=1/0,nu=null,os=null,Sn=0,us=null,Na=null,Ri=0,wh=0,bh=null,Zd=null,Bl=0,vh=null;function br(){return(Et&2)!==0&&ht!==0?ht&-ht:W.T!==null?Th():Hn()}function Qd(){if(wr===0)if((ht&536870912)===0||dt){var e=ut;ut<<=1,(ut&3932160)===0&&(ut=262144),wr=e}else wr=536870912;return e=xr.current,e!==null&&(e.flags|=32),wr}function sr(e,n,s){(e===jt&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),cs(e,ht,wr,!1)),Jr(e,s),((Et&2)===0||e!==jt)&&(e===jt&&((Et&2)===0&&(Gs|=s),rn===4&&cs(e,ht,wr,!1)),li(e))}function Jd(e,n,s){if((Et&6)!==0)throw Error(f(327));var c=!s&&(n&127)===0&&(n&e.expiredLanes)===0||In(e,n),y=c?Ox(e,n):_h(e,n,!0),w=c;do{if(y===0){Oa&&!c&&cs(e,n,0,!1);break}else{if(s=e.current.alternate,w&&!Sx(s)){y=_h(e,n,!1),w=!1;continue}if(y===2){if(w=n,e.errorRecoveryDisabledLanes&w)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var D=e;y=Ml;var U=D.current.memoizedState.isDehydrated;if(U&&(Ia(D,S).flags|=256),S=_h(D,S,!1),S!==2){if(xh&&!U){D.errorRecoveryDisabledLanes|=w,Gs|=w,y=4;break e}w=ir,ir=y,w!==null&&(ir===null?ir=w:ir.push.apply(ir,w))}y=S}if(w=!1,y!==2)continue}}if(y===1){Ia(e,0),cs(e,n,0,!0);break}e:{switch(c=e,w=y,w){case 0:case 1:throw Error(f(345));case 4:if((n&4194048)!==n)break;case 6:cs(c,n,wr,!as);break e;case 2:ir=null;break;case 3:case 5:break;default:throw Error(f(329))}if((n&62914560)===n&&(y=eu+300-Jt(),10<y)){if(cs(c,n,wr,!as),Es(c,0,!0)!==0)break e;Ri=n,c.timeoutHandle=R1($d.bind(null,c,s,ir,nu,ph,n,wr,Gs,Ra,as,w,"Throttled",-0,0),y);break e}$d(c,s,ir,nu,ph,n,wr,Gs,Ra,as,w,null,-0,0)}}break}while(!0);li(e)}function $d(e,n,s,c,y,w,S,D,U,Q,le,he,$,se){if(e.timeoutHandle=-1,he=n.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},Vd(n,w,he);var Ne=(w&62914560)===w?eu-Jt():(w&4194048)===w?Wd-Jt():0;if(Ne=cy(he,Ne),Ne!==null){Ri=w,e.cancelPendingCommit=Ne(l1.bind(null,e,n,w,s,c,y,S,D,U,le,he,null,$,se)),cs(e,w,S,!Q);return}}l1(e,n,w,s,c,y,S,D,U)}function Sx(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var y=s[c],w=y.getSnapshot;y=y.value;try{if(!h(w(),y))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function cs(e,n,s,c){n&=~yh,n&=~Gs,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var y=n;0<y;){var w=31-Je(y),S=1<<w;c[w]=-1,y&=~S}s!==0&&lo(e,s,n)}function ru(){return(Et&6)===0?(kl(0),!1):!0}function Eh(){if(at!==null){if(Nt===0)var e=at.return;else e=at,pi=ks=null,Pc(e),va=null,yl=0,e=at;for(;e!==null;)Nd(e.alternate,e),e=e.return;at=null}}function Ia(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Xx(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ri=0,Eh(),jt=e,at=s=xi(e.current,null),ht=n,Nt=0,pr=null,as=!1,Oa=In(e,n),xh=!1,Ra=wr=yh=Gs=ls=rn=0,ir=Ml=null,ph=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var y=31-Je(c),w=1<<y;n|=e[y],c&=~w}return Oi=n,Ao(),s}function e1(e,n){Qe=null,W.H=Cl,n===ba||n===Do?(n=x0(),Nt=3):n===Sc?(n=x0(),Nt=4):Nt=n===eh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pr=n,at===null&&(rn=1,Xo(e,Nr(n,e.current)))}function t1(){var e=xr.current;return e===null?!0:(ht&4194048)===ht?Br===null:(ht&62914560)===ht||(ht&536870912)!==0?e===Br:!1}function n1(){var e=W.H;return W.H=Cl,e===null?Cl:e}function r1(){var e=W.A;return W.A=Ax,e}function iu(){rn=4,as||(ht&4194048)!==ht&&xr.current!==null||(Oa=!0),(ls&134217727)===0&&(Gs&134217727)===0||jt===null||cs(jt,ht,wr,!1)}function _h(e,n,s){var c=Et;Et|=2;var y=n1(),w=r1();(jt!==e||ht!==n)&&(nu=null,Ia(e,n)),n=!1;var S=rn;e:do try{if(Nt!==0&&at!==null){var D=at,U=pr;switch(Nt){case 8:Eh(),S=6;break e;case 3:case 2:case 9:case 6:xr.current===null&&(n=!0);var Q=Nt;if(Nt=0,pr=null,Da(e,D,U,Q),s&&Oa){S=0;break e}break;default:Q=Nt,Nt=0,pr=null,Da(e,D,U,Q)}}Tx(),S=rn;break}catch(le){e1(e,le)}while(!0);return n&&e.shellSuspendCounter++,pi=ks=null,Et=c,W.H=y,W.A=w,at===null&&(jt=null,ht=0,Ao()),S}function Tx(){for(;at!==null;)i1(at)}function Ox(e,n){var s=Et;Et|=2;var c=n1(),y=r1();jt!==e||ht!==n?(nu=null,tu=Jt()+500,Ia(e,n)):Oa=In(e,n);e:do try{if(Nt!==0&&at!==null){n=at;var w=pr;t:switch(Nt){case 1:Nt=0,pr=null,Da(e,n,w,1);break;case 2:case 9:if(g0(w)){Nt=0,pr=null,s1(n);break}n=function(){Nt!==2&&Nt!==9||jt!==e||(Nt=7),li(e)},w.then(n,n);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:g0(w)?(Nt=0,pr=null,s1(n)):(Nt=0,pr=null,Da(e,n,w,7));break;case 5:var S=null;switch(at.tag){case 26:S=at.memoizedState;case 5:case 27:var D=at;if(S?G1(S):D.stateNode.complete){Nt=0,pr=null;var U=D.sibling;if(U!==null)at=U;else{var Q=D.return;Q!==null?(at=Q,su(Q)):at=null}break t}}Nt=0,pr=null,Da(e,n,w,5);break;case 6:Nt=0,pr=null,Da(e,n,w,6);break;case 8:Eh(),rn=6;break e;default:throw Error(f(462))}}Rx();break}catch(le){e1(e,le)}while(!0);return pi=ks=null,W.H=c,W.A=y,Et=s,at!==null?0:(jt=null,ht=0,Ao(),rn)}function Rx(){for(;at!==null&&!$s();)i1(at)}function i1(e){var n=Od(e.alternate,e,Oi);e.memoizedProps=e.pendingProps,n===null?su(e):at=n}function s1(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Ed(s,n,n.pendingProps,n.type,void 0,ht);break;case 11:n=Ed(s,n,n.pendingProps,n.type.render,n.ref,ht);break;case 5:Pc(n);default:Nd(s,n),n=at=r0(n,Oi),n=Od(s,n,Oi)}e.memoizedProps=e.pendingProps,n===null?su(e):at=n}function Da(e,n,s,c){pi=ks=null,Pc(n),va=null,yl=0;var y=n.return;try{if(yx(e,y,n,s,ht)){rn=1,Xo(e,Nr(s,e.current)),at=null;return}}catch(w){if(y!==null)throw at=y,w;rn=1,Xo(e,Nr(s,e.current)),at=null;return}n.flags&32768?(dt||c===1?e=!0:Oa||(ht&536870912)!==0?e=!1:(as=e=!0,(c===2||c===9||c===3||c===6)&&(c=xr.current,c!==null&&c.tag===13&&(c.flags|=16384))),a1(n,e)):su(n)}function su(e){var n=e;do{if((n.flags&32768)!==0){a1(n,as);return}e=n.return;var s=bx(n.alternate,n,Oi);if(s!==null){at=s;return}if(n=n.sibling,n!==null){at=n;return}at=n=e}while(n!==null);rn===0&&(rn=5)}function a1(e,n){do{var s=vx(e.alternate,e);if(s!==null){s.flags&=32767,at=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){at=e;return}at=e=s}while(e!==null);rn=6,at=null}function l1(e,n,s,c,y,w,S,D,U){e.cancelPendingCommit=null;do au();while(Sn!==0);if((Et&6)!==0)throw Error(f(327));if(n!==null){if(n===e.current)throw Error(f(177));if(w=n.lanes|n.childLanes,w|=hc,Cr(e,s,w,S,D,U),e===jt&&(at=jt=null,ht=0),Na=n,us=e,Ri=s,wh=w,bh=y,Zd=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Mx(or,function(){return f1(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,y=oe.p,oe.p=2,S=Et,Et|=4;try{Ex(e,n,s)}finally{Et=S,oe.p=y,W.T=c}}Sn=1,o1(),u1(),c1()}}function o1(){if(Sn===1){Sn=0;var e=us,n=Na,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var c=oe.p;oe.p=2;var y=Et;Et|=4;try{Hd(n,e);var w=kh,S=O(e.containerInfo),D=w.focusedElem,U=w.selectionRange;if(S!==D&&D&&D.ownerDocument&&C(D.ownerDocument.documentElement,D)){if(U!==null&&I(D)){var Q=U.start,le=U.end;if(le===void 0&&(le=Q),"selectionStart"in D)D.selectionStart=Q,D.selectionEnd=Math.min(le,D.value.length);else{var he=D.ownerDocument||document,$=he&&he.defaultView||window;if($.getSelection){var se=$.getSelection(),Ne=D.textContent.length,Fe=Math.min(U.start,Ne),kt=U.end===void 0?Fe:Math.min(U.end,Ne);!se.extend&&Fe>kt&&(S=kt,kt=Fe,Fe=S);var V=v(D,Fe),z=v(D,kt);if(V&&z&&(se.rangeCount!==1||se.anchorNode!==V.node||se.anchorOffset!==V.offset||se.focusNode!==z.node||se.focusOffset!==z.offset)){var Z=he.createRange();Z.setStart(V.node,V.offset),se.removeAllRanges(),Fe>kt?(se.addRange(Z),se.extend(z.node,z.offset)):(Z.setEnd(z.node,z.offset),se.addRange(Z))}}}}for(he=[],se=D;se=se.parentNode;)se.nodeType===1&&he.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<he.length;D++){var ue=he[D];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}pu=!!Bh,kh=Bh=null}finally{Et=y,oe.p=c,W.T=s}}e.current=n,Sn=2}}function u1(){if(Sn===2){Sn=0;var e=us,n=Na,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var c=oe.p;oe.p=2;var y=Et;Et|=4;try{Ud(e,n.alternate,n)}finally{Et=y,oe.p=c,W.T=s}}Sn=3}}function c1(){if(Sn===4||Sn===3){Sn=0,ao();var e=us,n=Na,s=Ri,c=Zd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Sn=5:(Sn=0,Na=us=null,h1(e,e.pendingLanes));var y=e.pendingLanes;if(y===0&&(os=null),Pr(s),n=n.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(Ft,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=W.T,y=oe.p,oe.p=2,W.T=null;try{for(var w=e.onRecoverableError,S=0;S<c.length;S++){var D=c[S];w(D.value,{componentStack:D.stack})}}finally{W.T=n,oe.p=y}}(Ri&3)!==0&&au(),li(e),y=e.pendingLanes,(s&261930)!==0&&(y&42)!==0?e===vh?Bl++:(Bl=0,vh=e):Bl=0,kl(0)}}function h1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ml(n)))}function au(){return o1(),u1(),c1(),f1()}function f1(){if(Sn!==5)return!1;var e=us,n=wh;wh=0;var s=Pr(Ri),c=W.T,y=oe.p;try{oe.p=32>s?32:s,W.T=null,s=bh,bh=null;var w=us,S=Ri;if(Sn=0,Na=us=null,Ri=0,(Et&6)!==0)throw Error(f(331));var D=Et;if(Et|=4,Yd(w.current),Gd(w,w.current,S,s),Et=D,kl(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(Ft,w)}catch{}return!0}finally{oe.p=y,W.T=c,h1(e,n)}}function d1(e,n,s){n=Nr(s,n),n=$c(e.stateNode,n,2),e=ns(e,n,2),e!==null&&(Jr(e,2),li(e))}function It(e,n,s){if(e.tag===3)d1(e,e,s);else for(;n!==null;){if(n.tag===3){d1(n,e,s);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(os===null||!os.has(c))){e=Nr(s,e),s=gd(2),c=ns(n,s,2),c!==null&&(md(s,c,n,e),Jr(c,2),li(c));break}}n=n.return}}function Ah(e,n,s){var c=e.pingCache;if(c===null){c=e.pingCache=new Cx;var y=new Set;c.set(n,y)}else y=c.get(n),y===void 0&&(y=new Set,c.set(n,y));y.has(s)||(xh=!0,y.add(s),e=Nx.bind(null,e,n,s),n.then(e,e))}function Nx(e,n,s){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,jt===e&&(ht&s)===s&&(rn===4||rn===3&&(ht&62914560)===ht&&300>Jt()-eu?(Et&2)===0&&Ia(e,0):yh|=s,Ra===ht&&(Ra=0)),li(e)}function g1(e,n){n===0&&(n=En()),e=Ds(e,n),e!==null&&(Jr(e,n),li(e))}function Ix(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),g1(e,s)}function Dx(e,n){var s=0;switch(e.tag){case 31:case 13:var c=e.stateNode,y=e.memoizedState;y!==null&&(s=y.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(f(314))}c!==null&&c.delete(n),g1(e,s)}function Mx(e,n){return ki(e,n)}var lu=null,Ma=null,Ch=!1,ou=!1,Sh=!1,hs=0;function li(e){e!==Ma&&e.next===null&&(Ma===null?lu=Ma=e:Ma=Ma.next=e),ou=!0,Ch||(Ch=!0,kx())}function kl(e,n){if(!Sh&&ou){Sh=!0;do for(var s=!1,c=lu;c!==null;){if(e!==0){var y=c.pendingLanes;if(y===0)var w=0;else{var S=c.suspendedLanes,D=c.pingedLanes;w=(1<<31-Je(42|e)+1)-1,w&=y&~(S&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(s=!0,p1(c,w))}else w=ht,w=Es(c,c===jt?w:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(w&3)===0||In(c,w)||(s=!0,p1(c,w));c=c.next}while(s);Sh=!1}}function Bx(){m1()}function m1(){ou=Ch=!1;var e=0;hs!==0&&Vx()&&(e=hs);for(var n=Jt(),s=null,c=lu;c!==null;){var y=c.next,w=x1(c,n);w===0?(c.next=null,s===null?lu=y:s.next=y,y===null&&(Ma=s)):(s=c,(e!==0||(w&3)!==0)&&(ou=!0)),c=y}Sn!==0&&Sn!==5||kl(e),hs!==0&&(hs=0)}function x1(e,n){for(var s=e.suspendedLanes,c=e.pingedLanes,y=e.expirationTimes,w=e.pendingLanes&-62914561;0<w;){var S=31-Je(w),D=1<<S,U=y[S];U===-1?((D&s)===0||(D&c)!==0)&&(y[S]=nl(D,n)):U<=n&&(e.expiredLanes|=D),w&=~D}if(n=jt,s=ht,s=Es(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,s===0||e===n&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Re(c),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||In(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(c!==null&&Re(c),Pr(s)){case 2:case 8:s=$a;break;case 32:s=or;break;case 268435456:s=el;break;default:s=or}return c=y1.bind(null,e),s=ki(s,c),e.callbackPriority=n,e.callbackNode=s,n}return c!==null&&c!==null&&Re(c),e.callbackPriority=2,e.callbackNode=null,2}function y1(e,n){if(Sn!==0&&Sn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(au()&&e.callbackNode!==s)return null;var c=ht;return c=Es(e,e===jt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Jd(e,c,n),x1(e,Jt()),e.callbackNode!=null&&e.callbackNode===s?y1.bind(null,e):null)}function p1(e,n){if(au())return null;Jd(e,n,!0)}function kx(){Yx(function(){(Et&6)!==0?ki(Zn,Bx):m1()})}function Th(){if(hs===0){var e=pa;e===0&&(e=vs,vs<<=1,(vs&261888)===0&&(vs=256)),hs=e}return hs}function w1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hi(""+e)}function b1(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function Lx(e,n,s,c,y){if(n==="submit"&&s&&s.stateNode===y){var w=w1((y[Rt]||null).action),S=c.submitter;S&&(n=(n=S[Rt]||null)?w1(n.formAction):S.getAttribute("formAction"),n!==null&&(w=n,S=null));var D=new _n("action","action",null,c,y);e.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(hs!==0){var U=S?b1(y,S):new FormData(y);Yc(s,{pending:!0,data:U,method:y.method,action:w},null,U)}}else typeof w=="function"&&(D.preventDefault(),U=S?b1(y,S):new FormData(y),Yc(s,{pending:!0,data:U,method:y.method,action:w},w,U))},currentTarget:y}]})}}for(var Oh=0;Oh<fl.length;Oh++){var Rh=fl[Oh],Ux=Rh.toLowerCase(),Px=Rh[0].toUpperCase()+Rh.slice(1);Gr(Ux,"on"+Px)}Gr(er,"onAnimationEnd"),Gr(Dn,"onAnimationIteration"),Gr(Ct,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(Cn,"onTransitionRun"),Gr(Yn,"onTransitionStart"),Gr(Wi,"onTransitionCancel"),Gr(mi,"onTransitionEnd"),cr("onMouseEnter",["mouseout","mouseover"]),cr("onMouseLeave",["mouseout","mouseover"]),cr("onPointerEnter",["pointerout","pointerover"]),cr("onPointerLeave",["pointerout","pointerover"]),_t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_t("onBeforeInput",["compositionend","keypress","textInput","paste"]),_t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function v1(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],y=c.event;c=c.listeners;e:{var w=void 0;if(n)for(var S=c.length-1;0<=S;S--){var D=c[S],U=D.instance,Q=D.currentTarget;if(D=D.listener,U!==w&&y.isPropagationStopped())break e;w=D,y.currentTarget=Q;try{w(y)}catch(le){_o(le)}y.currentTarget=null,w=U}else for(S=0;S<c.length;S++){if(D=c[S],U=D.instance,Q=D.currentTarget,D=D.listener,U!==w&&y.isPropagationStopped())break e;w=D,y.currentTarget=Q;try{w(y)}catch(le){_o(le)}y.currentTarget=null,w=U}}}}function lt(e,n){var s=n[Li];s===void 0&&(s=n[Li]=new Set);var c=e+"__bubble";s.has(c)||(E1(n,e,2,!1),s.add(c))}function Nh(e,n,s){var c=0;n&&(c|=4),E1(s,e,c,n)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Ih(e){if(!e[uu]){e[uu]=!0,de.forEach(function(s){s!=="selectionchange"&&(jx.has(s)||Nh(s,!1,e),Nh(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uu]||(n[uu]=!0,Nh("selectionchange",!1,n))}}function E1(e,n,s,c){switch(Q1(n)){case 2:var y=dy;break;case 8:y=gy;break;default:y=Xh}s=y.bind(null,n,s,e),y=void 0,!sl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(y=!0),c?y!==void 0?e.addEventListener(n,s,{capture:!0,passive:y}):e.addEventListener(n,s,!0):y!==void 0?e.addEventListener(n,s,{passive:y}):e.addEventListener(n,s,!1)}function Dh(e,n,s,c,y){var w=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var D=c.stateNode.containerInfo;if(D===y)break;if(S===4)for(S=c.return;S!==null;){var U=S.tag;if((U===3||U===4)&&S.stateNode.containerInfo===y)return;S=S.return}for(;D!==null;){if(S=$t(D),S===null)return;if(U=S.tag,U===5||U===6||U===26||U===27){c=w=S;continue e}D=D.parentNode}}c=c.return}ho(function(){var Q=w,le=il(s),he=[];e:{var $=Eo.get(e);if($!==void 0){var se=_n,Ne=e;switch(e){case"keypress":if(ei(s)===0)break e;case"keydown":case"keyup":se=ua;break;case"focusin":Ne="focus",se=ol;break;case"focusout":Ne="blur",se=ol;break;case"beforeblur":case"afterblur":se=ol;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=vt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=la;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=oc;break;case er:case Dn:case Ct:se=$e;break;case mi:se=hi;break;case"scroll":case"scrollend":se=fo;break;case"wheel":se=uc;break;case"copy":case"cut":case"paste":se=oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=At;break;case"toggle":case"beforetoggle":se=cl}var Fe=(n&4)!==0,kt=!Fe&&(e==="scroll"||e==="scrollend"),V=Fe?$!==null?$+"Capture":null:$;Fe=[];for(var z=Q,Z;z!==null;){var ue=z;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||V===null||(ue=Ve(z,V),ue!=null&&Fe.push(Ul(z,ue,Z))),kt)break;z=z.return}0<Fe.length&&($=new se($,Ne,null,s,le),he.push({event:$,listeners:Fe}))}}if((n&7)===0){e:{if($=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",$&&s!==As&&(Ne=s.relatedTarget||s.fromElement)&&($t(Ne)||Ne[ur]))break e;if((se||$)&&($=le.window===le?le:($=le.ownerDocument)?$.defaultView||$.parentWindow:window,se?(Ne=s.relatedTarget||s.toElement,se=Q,Ne=Ne?$t(Ne):null,Ne!==null&&(kt=g(Ne),Fe=Ne.tag,Ne!==kt||Fe!==5&&Fe!==27&&Fe!==6)&&(Ne=null)):(se=null,Ne=Q),se!==Ne)){if(Fe=vt,ue="onMouseLeave",V="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=At,ue="onPointerLeave",V="onPointerEnter",z="pointer"),kt=se==null?$:Ui(se),Z=Ne==null?$:Ui(Ne),$=new Fe(ue,z+"leave",se,s,le),$.target=kt,$.relatedTarget=Z,ue=null,$t(le)===Q&&(Fe=new Fe(V,z+"enter",Ne,s,le),Fe.target=Z,Fe.relatedTarget=kt,ue=Fe),kt=ue,se&&Ne)t:{for(Fe=Fx,V=se,z=Ne,Z=0,ue=V;ue;ue=Fe(ue))Z++;ue=0;for(var Ue=z;Ue;Ue=Fe(Ue))ue++;for(;0<Z-ue;)V=Fe(V),Z--;for(;0<ue-Z;)z=Fe(z),ue--;for(;Z--;){if(V===z||z!==null&&V===z.alternate){Fe=V;break t}V=Fe(V),z=Fe(z)}Fe=null}else Fe=null;se!==null&&_1(he,$,se,Fe,!1),Ne!==null&&kt!==null&&_1(he,kt,Ne,Fe,!0)}}e:{if($=Q?Ui(Q):window,se=$.nodeName&&$.nodeName.toLowerCase(),se==="select"||se==="input"&&$.type==="file")var pt=gr;else if(hl($))if(vo)pt=o;else{pt=r;var Me=t}else se=$.nodeName,!se||se.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Q&&Lt(Q.elementType)&&(pt=gr):pt=i;if(pt&&(pt=pt(e,Q))){dr(he,pt,s,le);break e}Me&&Me(e,$,Q),e==="focusout"&&Q&&$.type==="number"&&Q.memoizedProps.value!=null&&M($,"number",$.value)}switch(Me=Q?Ui(Q):window,e){case"focusin":(hl(Me)||Me.contentEditable==="true")&&(P=Me,F=Q,X=null);break;case"focusout":X=F=P=null;break;case"mousedown":ne=!0;break;case"contextmenu":case"mouseup":case"dragend":ne=!1,ye(he,s,le);break;case"selectionchange":if(k)break;case"keydown":case"keyup":ye(he,s,le)}var et;if(Ts)e:{switch(e){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Ki?bo(e,s)&&(ft="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ft="onCompositionStart");ft&&(wo&&s.locale!=="ko"&&(Ki||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Ki&&(et=qi()):(Hr=le,qr="value"in Hr?Hr.value:Hr.textContent,Ki=!0)),Me=cu(Q,ft),0<Me.length&&(ft=new xo(ft,e,null,s,le),he.push({event:ft,listeners:Me}),et?ft.data=et:(et=Yi(s),et!==null&&(ft.data=et)))),(et=po?ri(e,s):ha(e,s))&&(ft=cu(Q,"onBeforeInput"),0<ft.length&&(Me=new xo("onBeforeInput","beforeinput",null,s,le),he.push({event:Me,listeners:ft}),Me.data=et)),Lx(he,e,Q,s,le)}v1(he,n)})}function Ul(e,n,s){return{instance:e,listener:n,currentTarget:s}}function cu(e,n){for(var s=n+"Capture",c=[];e!==null;){var y=e,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Ve(e,s),y!=null&&c.unshift(Ul(e,y,w)),y=Ve(e,n),y!=null&&c.push(Ul(e,y,w))),e.tag===3)return c;e=e.return}return[]}function Fx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _1(e,n,s,c,y){for(var w=n._reactName,S=[];s!==null&&s!==c;){var D=s,U=D.alternate,Q=D.stateNode;if(D=D.tag,U!==null&&U===c)break;D!==5&&D!==26&&D!==27||Q===null||(U=Q,y?(Q=Ve(s,w),Q!=null&&S.unshift(Ul(s,Q,U))):y||(Q=Ve(s,w),Q!=null&&S.push(Ul(s,Q,U)))),s=s.return}S.length!==0&&e.push({event:n,listeners:S})}var zx=/\r\n?/g,Hx=/\u0000|\uFFFD/g;function A1(e){return(typeof e=="string"?e:""+e).replace(zx,`
`).replace(Hx,"")}function C1(e,n){return n=A1(n),A1(e)===n}function Bt(e,n,s,c,y,w){switch(s){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||zi(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&zi(e,""+c);break;case"className":ji(e,"class",c);break;case"tabIndex":ji(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(e,s,c);break;case"style":ke(e,c,w);break;case"data":if(n!=="object"){ji(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=Hi(""+c),e.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(s==="formAction"?(n!=="input"&&Bt(e,n,"name",y.name,y,null),Bt(e,n,"formEncType",y.formEncType,y,null),Bt(e,n,"formMethod",y.formMethod,y,null),Bt(e,n,"formTarget",y.formTarget,y,null)):(Bt(e,n,"encType",y.encType,y,null),Bt(e,n,"method",y.method,y,null),Bt(e,n,"target",y.target,y,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=Hi(""+c),e.setAttribute(s,c);break;case"onClick":c!=null&&(e.onclick=Jn);break;case"onScroll":c!=null&&lt("scroll",e);break;case"onScrollEnd":c!=null&&lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(f(61));if(s=c.__html,s!=null){if(y.children!=null)throw Error(f(60));e.innerHTML=s}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}s=Hi(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""+c):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":c===!0?e.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,c):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(s,c):e.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(s):e.setAttribute(s,c);break;case"popover":lt("beforetoggle",e),lt("toggle",e),Pi(e,"popover",c);break;case"xlinkActuate":hr(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":hr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":hr(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":hr(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":hr(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":hr(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":hr(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":hr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":hr(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Pi(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=co.get(s)||s,Pi(e,s,c))}}function Mh(e,n,s,c,y,w){switch(s){case"style":ke(e,c,w);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(f(61));if(s=c.__html,s!=null){if(y.children!=null)throw Error(f(60));e.innerHTML=s}}break;case"children":typeof c=="string"?zi(e,c):(typeof c=="number"||typeof c=="bigint")&&zi(e,""+c);break;case"onScroll":c!=null&&lt("scroll",e);break;case"onScrollEnd":c!=null&&lt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(y=s.endsWith("Capture"),n=s.slice(2,y?s.length-7:void 0),w=e[Rt]||null,w=w!=null?w[s]:null,typeof w=="function"&&e.removeEventListener(n,w,y),typeof c=="function")){typeof w!="function"&&w!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,c,y);break e}s in e?e[s]=c:c===!0?e.setAttribute(s,""):Pi(e,s,c)}}}function Ln(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",e),lt("load",e);var c=!1,y=!1,w;for(w in s)if(s.hasOwnProperty(w)){var S=s[w];if(S!=null)switch(w){case"src":c=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,n));default:Bt(e,n,w,S,s,null)}}y&&Bt(e,n,"srcSet",s.srcSet,s,null),c&&Bt(e,n,"src",s.src,s,null);return;case"input":lt("invalid",e);var D=w=S=y=null,U=null,Q=null;for(c in s)if(s.hasOwnProperty(c)){var le=s[c];if(le!=null)switch(c){case"name":y=le;break;case"type":S=le;break;case"checked":U=le;break;case"defaultChecked":Q=le;break;case"value":w=le;break;case"defaultValue":D=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(f(137,n));break;default:Bt(e,n,c,le,s,null)}}K(e,w,D,U,Q,S,y,!1);return;case"select":lt("invalid",e),c=S=w=null;for(y in s)if(s.hasOwnProperty(y)&&(D=s[y],D!=null))switch(y){case"value":w=D;break;case"defaultValue":S=D;break;case"multiple":c=D;default:Bt(e,n,y,D,s,null)}n=w,s=S,e.multiple=!!c,n!=null?De(e,!!c,n,!1):s!=null&&De(e,!!c,s,!0);return;case"textarea":lt("invalid",e),w=y=c=null;for(S in s)if(s.hasOwnProperty(S)&&(D=s[S],D!=null))switch(S){case"value":c=D;break;case"defaultValue":y=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(f(91));break;default:Bt(e,n,S,D,s,null)}Vn(e,c,y,w);return;case"option":for(U in s)if(s.hasOwnProperty(U)&&(c=s[U],c!=null))switch(U){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Bt(e,n,U,c,s,null)}return;case"dialog":lt("beforetoggle",e),lt("toggle",e),lt("cancel",e),lt("close",e);break;case"iframe":case"object":lt("load",e);break;case"video":case"audio":for(c=0;c<Ll.length;c++)lt(Ll[c],e);break;case"image":lt("error",e),lt("load",e);break;case"details":lt("toggle",e);break;case"embed":case"source":case"link":lt("error",e),lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in s)if(s.hasOwnProperty(Q)&&(c=s[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,n));default:Bt(e,n,Q,c,s,null)}return;default:if(Lt(n)){for(le in s)s.hasOwnProperty(le)&&(c=s[le],c!==void 0&&Mh(e,n,le,c,s,void 0));return}}for(D in s)s.hasOwnProperty(D)&&(c=s[D],c!=null&&Bt(e,n,D,c,s,null))}function qx(e,n,s,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,S=null,D=null,U=null,Q=null,le=null;for(se in s){var he=s[se];if(s.hasOwnProperty(se)&&he!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":U=he;default:c.hasOwnProperty(se)||Bt(e,n,se,null,c,he)}}for(var $ in c){var se=c[$];if(he=s[$],c.hasOwnProperty($)&&(se!=null||he!=null))switch($){case"type":w=se;break;case"name":y=se;break;case"checked":Q=se;break;case"defaultChecked":le=se;break;case"value":S=se;break;case"defaultValue":D=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(f(137,n));break;default:se!==he&&Bt(e,n,$,se,c,he)}}dn(e,S,D,U,Q,le,w,y);return;case"select":se=S=D=$=null;for(w in s)if(U=s[w],s.hasOwnProperty(w)&&U!=null)switch(w){case"value":break;case"multiple":se=U;default:c.hasOwnProperty(w)||Bt(e,n,w,null,c,U)}for(y in c)if(w=c[y],U=s[y],c.hasOwnProperty(y)&&(w!=null||U!=null))switch(y){case"value":$=w;break;case"defaultValue":D=w;break;case"multiple":S=w;default:w!==U&&Bt(e,n,y,w,c,U)}n=D,s=S,c=se,$!=null?De(e,!!s,$,!1):!!c!=!!s&&(n!=null?De(e,!!s,n,!0):De(e,!!s,s?[]:"",!1));return;case"textarea":se=$=null;for(D in s)if(y=s[D],s.hasOwnProperty(D)&&y!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Bt(e,n,D,null,c,y)}for(S in c)if(y=c[S],w=s[S],c.hasOwnProperty(S)&&(y!=null||w!=null))switch(S){case"value":$=y;break;case"defaultValue":se=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(f(91));break;default:y!==w&&Bt(e,n,S,y,c,w)}on(e,$,se);return;case"option":for(var Ne in s)if($=s[Ne],s.hasOwnProperty(Ne)&&$!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:Bt(e,n,Ne,null,c,$)}for(U in c)if($=c[U],se=s[U],c.hasOwnProperty(U)&&$!==se&&($!=null||se!=null))switch(U){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Bt(e,n,U,$,c,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in s)$=s[Fe],s.hasOwnProperty(Fe)&&$!=null&&!c.hasOwnProperty(Fe)&&Bt(e,n,Fe,null,c,$);for(Q in c)if($=c[Q],se=s[Q],c.hasOwnProperty(Q)&&$!==se&&($!=null||se!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(f(137,n));break;default:Bt(e,n,Q,$,c,se)}return;default:if(Lt(n)){for(var kt in s)$=s[kt],s.hasOwnProperty(kt)&&$!==void 0&&!c.hasOwnProperty(kt)&&Mh(e,n,kt,void 0,c,$);for(le in c)$=c[le],se=s[le],!c.hasOwnProperty(le)||$===se||$===void 0&&se===void 0||Mh(e,n,le,$,c,se);return}}for(var V in s)$=s[V],s.hasOwnProperty(V)&&$!=null&&!c.hasOwnProperty(V)&&Bt(e,n,V,null,c,$);for(he in c)$=c[he],se=s[he],!c.hasOwnProperty(he)||$===se||$==null&&se==null||Bt(e,n,he,$,c,se)}function S1(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),c=0;c<s.length;c++){var y=s[c],w=y.transferSize,S=y.initiatorType,D=y.duration;if(w&&D&&S1(S)){for(S=0,D=y.responseEnd,c+=1;c<s.length;c++){var U=s[c],Q=U.startTime;if(Q>D)break;var le=U.transferSize,he=U.initiatorType;le&&S1(he)&&(U=U.responseEnd,S+=le*(U<D?1:(D-Q)/(U-Q)))}if(--c,n+=8*(w+S)/(y.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bh=null,kh=null;function hu(e){return e.nodeType===9?e:e.ownerDocument}function T1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O1(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Lh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Uh=null;function Vx(){var e=window.event;return e&&e.type==="popstate"?e===Uh?!1:(Uh=e,!0):(Uh=null,!1)}var R1=typeof setTimeout=="function"?setTimeout:void 0,Xx=typeof clearTimeout=="function"?clearTimeout:void 0,N1=typeof Promise=="function"?Promise:void 0,Yx=typeof queueMicrotask=="function"?queueMicrotask:typeof N1<"u"?function(e){return N1.resolve(null).then(e).catch(Kx)}:R1;function Kx(e){setTimeout(function(){throw e})}function fs(e){return e==="head"}function I1(e,n){var s=n,c=0;do{var y=s.nextSibling;if(e.removeChild(s),y&&y.nodeType===8)if(s=y.data,s==="/$"||s==="/&"){if(c===0){e.removeChild(y),Ua(n);return}c--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")c++;else if(s==="html")Pl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Pl(s);for(var w=s.firstChild;w;){var S=w.nextSibling,D=w.nodeName;w[_s]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=S}}else s==="body"&&Pl(e.ownerDocument.body);s=y}while(s);Ua(n)}function D1(e,n){var s=e;e=0;do{var c=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=c}while(s)}function Ph(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ph(s),Qn(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Wx(e,n,s,c){for(;e.nodeType===1;){var y=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[_s])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(w=e.getAttribute("rel"),w==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(w!==y.rel||e.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||e.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||e.getAttribute("title")!==(y.title==null?null:y.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(w=e.getAttribute("src"),(w!==(y.src==null?null:y.src)||e.getAttribute("type")!==(y.type==null?null:y.type)||e.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&e.getAttribute("name")===w)return e}else return e;if(e=kr(e.nextSibling),e===null)break}return null}function Zx(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=kr(e.nextSibling),e===null))return null;return e}function M1(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kr(e.nextSibling),e===null))return null;return e}function jh(e){return e.data==="$?"||e.data==="$~"}function Fh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Qx(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var c=function(){n(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function kr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var zh=null;function B1(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return kr(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function k1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function L1(e,n,s){switch(n=hu(s),e){case"html":if(e=n.documentElement,!e)throw Error(f(452));return e;case"head":if(e=n.head,!e)throw Error(f(453));return e;case"body":if(e=n.body,!e)throw Error(f(454));return e;default:throw Error(f(451))}}function Pl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Qn(e)}var Lr=new Map,U1=new Set;function fu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ni=oe.d;oe.d={f:Jx,r:$x,D:ey,C:ty,L:ny,m:ry,X:sy,S:iy,M:ay};function Jx(){var e=Ni.f(),n=ru();return e||n}function $x(e){var n=bt(e);n!==null&&n.tag===5&&n.type==="form"?ed(n):Ni.r(e)}var Ba=typeof document>"u"?null:document;function P1(e,n,s){var c=Ba;if(c&&typeof n=="string"&&n){var y=nt(n);y='link[rel="'+e+'"][href="'+y+'"]',typeof s=="string"&&(y+='[crossorigin="'+s+'"]'),U1.has(y)||(U1.add(y),e={rel:e,crossOrigin:s,href:n},c.querySelector(y)===null&&(n=c.createElement("link"),Ln(n,"link",e),en(n),c.head.appendChild(n)))}}function ey(e){Ni.D(e),P1("dns-prefetch",e,null)}function ty(e,n){Ni.C(e,n),P1("preconnect",e,n)}function ny(e,n,s){Ni.L(e,n,s);var c=Ba;if(c&&e&&n){var y='link[rel="preload"][as="'+nt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(y+='[imagesrcset="'+nt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(y+='[imagesizes="'+nt(s.imageSizes)+'"]')):y+='[href="'+nt(e)+'"]';var w=y;switch(n){case"style":w=ka(e);break;case"script":w=La(e)}Lr.has(w)||(e=N({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Lr.set(w,e),c.querySelector(y)!==null||n==="style"&&c.querySelector(jl(w))||n==="script"&&c.querySelector(Fl(w))||(n=c.createElement("link"),Ln(n,"link",e),en(n),c.head.appendChild(n)))}}function ry(e,n){Ni.m(e,n);var s=Ba;if(s&&e){var c=n&&typeof n.as=="string"?n.as:"script",y='link[rel="modulepreload"][as="'+nt(c)+'"][href="'+nt(e)+'"]',w=y;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=La(e)}if(!Lr.has(w)&&(e=N({rel:"modulepreload",href:e},n),Lr.set(w,e),s.querySelector(y)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Fl(w)))return}c=s.createElement("link"),Ln(c,"link",e),en(c),s.head.appendChild(c)}}}function iy(e,n,s){Ni.S(e,n,s);var c=Ba;if(c&&e){var y=Gn(c).hoistableStyles,w=ka(e);n=n||"default";var S=y.get(w);if(!S){var D={loading:0,preload:null};if(S=c.querySelector(jl(w)))D.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Lr.get(w))&&Hh(e,s);var U=S=c.createElement("link");en(U),Ln(U,"link",e),U._p=new Promise(function(Q,le){U.onload=Q,U.onerror=le}),U.addEventListener("load",function(){D.loading|=1}),U.addEventListener("error",function(){D.loading|=2}),D.loading|=4,du(S,n,c)}S={type:"stylesheet",instance:S,count:1,state:D},y.set(w,S)}}}function sy(e,n){Ni.X(e,n);var s=Ba;if(s&&e){var c=Gn(s).hoistableScripts,y=La(e),w=c.get(y);w||(w=s.querySelector(Fl(y)),w||(e=N({src:e,async:!0},n),(n=Lr.get(y))&&qh(e,n),w=s.createElement("script"),en(w),Ln(w,"link",e),s.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},c.set(y,w))}}function ay(e,n){Ni.M(e,n);var s=Ba;if(s&&e){var c=Gn(s).hoistableScripts,y=La(e),w=c.get(y);w||(w=s.querySelector(Fl(y)),w||(e=N({src:e,async:!0,type:"module"},n),(n=Lr.get(y))&&qh(e,n),w=s.createElement("script"),en(w),Ln(w,"link",e),s.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},c.set(y,w))}}function j1(e,n,s,c){var y=(y=be.current)?fu(y):null;if(!y)throw Error(f(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ka(s.href),s=Gn(y).hoistableStyles,c=s.get(n),c||(c={type:"style",instance:null,count:0,state:null},s.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ka(s.href);var w=Gn(y).hoistableStyles,S=w.get(e);if(S||(y=y.ownerDocument||y,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(e,S),(w=y.querySelector(jl(e)))&&!w._p&&(S.instance=w,S.state.loading=5),Lr.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Lr.set(e,s),w||ly(y,e,s,S.state))),n&&c===null)throw Error(f(528,""));return S}if(n&&c!==null)throw Error(f(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(s),s=Gn(y).hoistableScripts,c=s.get(n),c||(c={type:"script",instance:null,count:0,state:null},s.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,e))}}function ka(e){return'href="'+nt(e)+'"'}function jl(e){return'link[rel="stylesheet"]['+e+"]"}function F1(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function ly(e,n,s,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Ln(n,"link",s),en(n),e.head.appendChild(n))}function La(e){return'[src="'+nt(e)+'"]'}function Fl(e){return"script[async]"+e}function z1(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+nt(s.href)+'"]');if(c)return n.instance=c,en(c),c;var y=N({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),en(c),Ln(c,"style",y),du(c,s.precedence,e),n.instance=c;case"stylesheet":y=ka(s.href);var w=e.querySelector(jl(y));if(w)return n.state.loading|=4,n.instance=w,en(w),w;c=F1(s),(y=Lr.get(y))&&Hh(c,y),w=(e.ownerDocument||e).createElement("link"),en(w);var S=w;return S._p=new Promise(function(D,U){S.onload=D,S.onerror=U}),Ln(w,"link",c),n.state.loading|=4,du(w,s.precedence,e),n.instance=w;case"script":return w=La(s.src),(y=e.querySelector(Fl(w)))?(n.instance=y,en(y),y):(c=s,(y=Lr.get(w))&&(c=N({},s),qh(c,y)),e=e.ownerDocument||e,y=e.createElement("script"),en(y),Ln(y,"link",c),e.head.appendChild(y),n.instance=y);case"void":return null;default:throw Error(f(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,du(c,s.precedence,e));return n.instance}function du(e,n,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=c.length?c[c.length-1]:null,w=y,S=0;S<c.length;S++){var D=c[S];if(D.dataset.precedence===n)w=D;else if(w!==y)break}w?w.parentNode.insertBefore(e,w.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Hh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function qh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gu=null;function H1(e,n,s){if(gu===null){var c=new Map,y=gu=new Map;y.set(s,c)}else y=gu,c=y.get(s),c||(c=new Map,y.set(s,c));if(c.has(e))return c;for(c.set(e,null),s=s.getElementsByTagName(e),y=0;y<s.length;y++){var w=s[y];if(!(w[_s]||w[ln]||e==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var S=w.getAttribute(n)||"";S=e+S;var D=c.get(S);D?D.push(w):c.set(S,[w])}}return c}function q1(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function oy(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function G1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function uy(e,n,s,c){if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=ka(c.href),w=n.querySelector(jl(y));if(w){n=w._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mu.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=w,en(w);return}w=n.ownerDocument||n,c=F1(c),(y=Lr.get(y))&&Hh(c,y),w=w.createElement("link"),en(w);var S=w;S._p=new Promise(function(D,U){S.onload=D,S.onerror=U}),Ln(w,"link",c),s.instance=w}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=mu.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Gh=0;function cy(e,n){return e.stylesheets&&e.count===0&&yu(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var c=setTimeout(function(){if(e.stylesheets&&yu(e,e.stylesheets),e.unsuspend){var w=e.unsuspend;e.unsuspend=null,w()}},6e4+n);0<e.imgBytes&&Gh===0&&(Gh=62500*Gx());var y=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yu(e,e.stylesheets),e.unsuspend)){var w=e.unsuspend;e.unsuspend=null,w()}},(e.imgBytes>Gh?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(y)}}:null}function mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xu=null;function yu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xu=new Map,n.forEach(hy,e),xu=null,mu.call(e))}function hy(e,n){if(!(n.state.loading&4)){var s=xu.get(e);if(s)var c=s.get(null);else{s=new Map,xu.set(e,s);for(var y=e.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var S=y[w];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(s.set(S.dataset.precedence,S),c=S)}c&&s.set(null,c)}y=n.instance,S=y.getAttribute("data-precedence"),w=s.get(S)||c,w===c&&s.set(null,y),s.set(S,y),this.count++,c=mu.bind(this),y.addEventListener("load",c),y.addEventListener("error",c),w?w.parentNode.insertBefore(y,w.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(y,e.firstChild)),n.state.loading|=4}}var zl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function fy(e,n,s,c,y,w,S,D,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.hiddenUpdates=Qr(null),this.identifierPrefix=c,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function V1(e,n,s,c,y,w,S,D,U,Q,le,he){return e=new fy(e,n,s,S,U,Q,le,he,D),n=1,w===!0&&(n|=24),w=mr(3,null,null,n),e.current=w,w.stateNode=e,n=_c(),n.refCount++,e.pooledCache=n,n.refCount++,w.memoizedState={element:c,isDehydrated:s,cache:n},Tc(w),e}function X1(e){return e?(e=da,e):da}function Y1(e,n,s,c,y,w){y=X1(y),c.context===null?c.context=y:c.pendingContext=y,c=ts(n),c.payload={element:s},w=w===void 0?null:w,w!==null&&(c.callback=w),s=ns(e,c,n),s!==null&&(sr(s,e,n),wl(s,e,n))}function K1(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Vh(e,n){K1(e,n),(e=e.alternate)&&K1(e,n)}function W1(e){if(e.tag===13||e.tag===31){var n=Ds(e,67108864);n!==null&&sr(n,e,67108864),Vh(e,67108864)}}function Z1(e){if(e.tag===13||e.tag===31){var n=br();n=On(n);var s=Ds(e,n);s!==null&&sr(s,e,n),Vh(e,n)}}var pu=!0;function dy(e,n,s,c){var y=W.T;W.T=null;var w=oe.p;try{oe.p=2,Xh(e,n,s,c)}finally{oe.p=w,W.T=y}}function gy(e,n,s,c){var y=W.T;W.T=null;var w=oe.p;try{oe.p=8,Xh(e,n,s,c)}finally{oe.p=w,W.T=y}}function Xh(e,n,s,c){if(pu){var y=Yh(c);if(y===null)Dh(e,n,c,wu,s),J1(e,c);else if(xy(y,e,n,s,c))c.stopPropagation();else if(J1(e,c),n&4&&-1<my.indexOf(e)){for(;y!==null;){var w=bt(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var S=Zr(w.pendingLanes);if(S!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;S;){var U=1<<31-Je(S);D.entanglements[1]|=U,S&=~U}li(w),(Et&6)===0&&(tu=Jt()+500,kl(0))}}break;case 31:case 13:D=Ds(w,2),D!==null&&sr(D,w,2),ru(),Vh(w,2)}if(w=Yh(c),w===null&&Dh(e,n,c,wu,s),w===y)break;y=w}y!==null&&c.stopPropagation()}else Dh(e,n,c,null,s)}}function Yh(e){return e=il(e),Kh(e)}var wu=null;function Kh(e){if(wu=null,e=$t(e),e!==null){var n=g(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=b(n),e!==null)return e;e=null}else if(s===31){if(e=A(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return wu=e,null}function Q1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ja()){case Zn:return 2;case $a:return 8;case or:case Nn:return 32;case el:return 268435456;default:return 32}default:return 32}}var Wh=!1,ds=null,gs=null,ms=null,Hl=new Map,ql=new Map,xs=[],my="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J1(e,n){switch(e){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function Gl(e,n,s,c,y,w){return e===null||e.nativeEvent!==w?(e={blockedOn:n,domEventName:s,eventSystemFlags:c,nativeEvent:w,targetContainers:[y]},n!==null&&(n=bt(n),n!==null&&W1(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,y!==null&&n.indexOf(y)===-1&&n.push(y),e)}function xy(e,n,s,c,y){switch(n){case"focusin":return ds=Gl(ds,e,n,s,c,y),!0;case"dragenter":return gs=Gl(gs,e,n,s,c,y),!0;case"mouseover":return ms=Gl(ms,e,n,s,c,y),!0;case"pointerover":var w=y.pointerId;return Hl.set(w,Gl(Hl.get(w)||null,e,n,s,c,y)),!0;case"gotpointercapture":return w=y.pointerId,ql.set(w,Gl(ql.get(w)||null,e,n,s,c,y)),!0}return!1}function $1(e){var n=$t(e.target);if(n!==null){var s=g(n);if(s!==null){if(n=s.tag,n===13){if(n=b(s),n!==null){e.blockedOn=n,Ce(e.priority,function(){Z1(s)});return}}else if(n===31){if(n=A(s),n!==null){e.blockedOn=n,Ce(e.priority,function(){Z1(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Yh(e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);As=c,s.target.dispatchEvent(c),As=null}else return n=bt(s),n!==null&&W1(n),e.blockedOn=s,!1;n.shift()}return!0}function eg(e,n,s){bu(e)&&s.delete(n)}function yy(){Wh=!1,ds!==null&&bu(ds)&&(ds=null),gs!==null&&bu(gs)&&(gs=null),ms!==null&&bu(ms)&&(ms=null),Hl.forEach(eg),ql.forEach(eg)}function vu(e,n){e.blockedOn===n&&(e.blockedOn=null,Wh||(Wh=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,yy)))}var Eu=null;function tg(e){Eu!==e&&(Eu=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Eu===e&&(Eu=null);for(var n=0;n<e.length;n+=3){var s=e[n],c=e[n+1],y=e[n+2];if(typeof c!="function"){if(Kh(c||s)===null)continue;break}var w=bt(s);w!==null&&(e.splice(n,3),n-=3,Yc(w,{pending:!0,data:y,method:s.method,action:c},c,y))}}))}function Ua(e){function n(U){return vu(U,e)}ds!==null&&vu(ds,e),gs!==null&&vu(gs,e),ms!==null&&vu(ms,e),Hl.forEach(n),ql.forEach(n);for(var s=0;s<xs.length;s++){var c=xs[s];c.blockedOn===e&&(c.blockedOn=null)}for(;0<xs.length&&(s=xs[0],s.blockedOn===null);)$1(s),s.blockedOn===null&&xs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var y=s[c],w=s[c+1],S=y[Rt]||null;if(typeof w=="function")S||tg(s);else if(S){var D=null;if(w&&w.hasAttribute("formAction")){if(y=w,S=w[Rt]||null)D=S.formAction;else if(Kh(y)!==null)continue}else D=S.action;typeof D=="function"?s[c+1]=D:(s.splice(c,3),c-=3),tg(s)}}}function ng(){function e(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(S){return y=S})},focusReset:"manual",scroll:"manual"})}function n(){y!==null&&(y(),y=null),c||setTimeout(s,20)}function s(){if(!c&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,y=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),y!==null&&(y(),y=null)}}}function Zh(e){this._internalRoot=e}_u.prototype.render=Zh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(f(409));var s=n.current,c=br();Y1(s,c,e,n,null,null)},_u.prototype.unmount=Zh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Y1(e.current,2,null,e,null,null),ru(),n[ur]=null}};function _u(e){this._internalRoot=e}_u.prototype.unstable_scheduleHydration=function(e){if(e){var n=Hn();e={blockedOn:null,target:e,priority:n};for(var s=0;s<xs.length&&n!==0&&n<xs[s].priority;s++);xs.splice(s,0,e),s===0&&$1(e)}};var rg=a.version;if(rg!=="19.2.1")throw Error(f(527,rg,"19.2.1"));oe.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(f(188)):(e=Object.keys(e).join(","),Error(f(268,e)));return e=E(n),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var py={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Ft=Au.inject(py),pe=Au}catch{}}return Xl.createRoot=function(e,n){if(!x(e))throw Error(f(299));var s=!1,c="",y=cd,w=hd,S=fd;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(y=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=V1(e,1,!1,null,null,s,c,null,y,w,S,ng),e[ur]=n.current,Ih(e),new Zh(n)},Xl.hydrateRoot=function(e,n,s){if(!x(e))throw Error(f(299));var c=!1,y="",w=cd,S=hd,D=fd,U=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(y=s.identifierPrefix),s.onUncaughtError!==void 0&&(w=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.formState!==void 0&&(U=s.formState)),n=V1(e,1,!0,n,s??null,c,y,U,w,S,D,ng),n.context=X1(null),s=n.current,c=br(),c=On(c),y=ts(c),y.callback=null,ns(s,y,c),s=c,n.current.lanes=s,Jr(n,s),li(n),e[ur]=n.current,Ih(e),new _u(n)},Xl.version="19.2.1",Xl}var dg;function Ry(){if(dg)return $h.exports;dg=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(a){console.error(a)}}return d(),$h.exports=Oy(),$h.exports}var Ny=Ry();const Iy=to(Ny);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=d=>d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),My=d=>d.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,l,f)=>f?f.toUpperCase():l.toLowerCase()),gg=d=>{const a=My(d);return a.charAt(0).toUpperCase()+a.slice(1)},E2=(...d)=>d.filter((a,l,f)=>!!a&&a.trim()!==""&&f.indexOf(a)===l).join(" ").trim(),By=d=>{for(const a in d)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ky={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=St.forwardRef(({color:d="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:f,className:x="",children:g,iconNode:b,...A},_)=>St.createElement("svg",{ref:_,...ky,width:a,height:a,stroke:d,strokeWidth:f?Number(l)*24/Number(a):l,className:E2("lucide",x),...!g&&!By(A)&&{"aria-hidden":"true"},...A},[...b.map(([E,R])=>St.createElement(E,R)),...Array.isArray(g)?g:[g]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=(d,a)=>{const l=St.forwardRef(({className:f,...x},g)=>St.createElement(Ly,{ref:g,iconNode:a,className:E2(`lucide-${Dy(gg(d))}`,`lucide-${d}`,f),...x}));return l.displayName=gg(d),l};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Py=an("arrow-down",Uy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Fy=an("arrow-right",jy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Hy=an("arrow-up",zy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],mg=an("box",qy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Vy=an("camera",Gy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Yy=an("circle-alert",Xy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wy=an("circle-check-big",Ky);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Qy=an("circle-x",Zy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],$y=an("clipboard-list",Jy);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],tp=an("database",ep);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rp=an("file-text",np);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],xg=an("history",ip);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ap=an("info",sp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=[["path",{d:"M5 12h14",key:"1ays0h"}]],yg=an("minus",lp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],pg=an("package",op);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rf=an("plus",up);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],hp=an("printer",cp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],sf=an("qr-code",fp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gp=an("search",dp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xp=an("settings",mp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pp=an("trash-2",yp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_2=an("x",wp);var Ii={},Su={},Sf=function(d,a){return Sf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var x in f)Object.prototype.hasOwnProperty.call(f,x)&&(l[x]=f[x])},Sf(d,a)};function A2(d,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Sf(d,a);function l(){this.constructor=d}d.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}var Fu=function(){return Fu=Object.assign||function(a){for(var l,f=1,x=arguments.length;f<x;f++){l=arguments[f];for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(a[g]=l[g])}return a},Fu.apply(this,arguments)};function Za(d,a){var l={};for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&a.indexOf(f)<0&&(l[f]=d[f]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,f=Object.getOwnPropertySymbols(d);x<f.length;x++)a.indexOf(f[x])<0&&Object.prototype.propertyIsEnumerable.call(d,f[x])&&(l[f[x]]=d[f[x]]);return l}function C2(d,a,l,f){var x=arguments.length,g=x<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(d,a,l,f);else for(var A=d.length-1;A>=0;A--)(b=d[A])&&(g=(x<3?b(g):x>3?b(a,l,g):b(a,l))||g);return x>3&&g&&Object.defineProperty(a,l,g),g}function S2(d,a){return function(l,f){a(l,f,d)}}function T2(d,a,l,f,x,g){function b(ie){if(ie!==void 0&&typeof ie!="function")throw new TypeError("Function expected");return ie}for(var A=f.kind,_=A==="getter"?"get":A==="setter"?"set":"value",E=!a&&d?f.static?d:d.prototype:null,R=a||(E?Object.getOwnPropertyDescriptor(E,f.name):{}),N,B=!1,L=l.length-1;L>=0;L--){var j={};for(var H in f)j[H]=H==="access"?{}:f[H];for(var H in f.access)j.access[H]=f.access[H];j.addInitializer=function(ie){if(B)throw new TypeError("Cannot add initializers after decoration has completed");g.push(b(ie||null))};var J=(0,l[L])(A==="accessor"?{get:R.get,set:R.set}:R[_],j);if(A==="accessor"){if(J===void 0)continue;if(J===null||typeof J!="object")throw new TypeError("Object expected");(N=b(J.get))&&(R.get=N),(N=b(J.set))&&(R.set=N),(N=b(J.init))&&x.unshift(N)}else(N=b(J))&&(A==="field"?x.unshift(N):R[_]=N)}E&&Object.defineProperty(E,f.name,R),B=!0}function O2(d,a,l){for(var f=arguments.length>2,x=0;x<a.length;x++)l=f?a[x].call(d,l):a[x].call(d);return f?l:void 0}function R2(d){return typeof d=="symbol"?d:"".concat(d)}function N2(d,a,l){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(d,"name",{configurable:!0,value:l?"".concat(l," ",a):a})}function I2(d,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,a)}function Oe(d,a,l,f){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(R){try{E(f.next(R))}catch(N){b(N)}}function _(R){try{E(f.throw(R))}catch(N){b(N)}}function E(R){R.done?g(R.value):x(R.value).then(A,_)}E((f=f.apply(d,a||[])).next())})}function D2(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,b=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return b.next=A(0),b.throw=A(1),b.return=A(2),typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(E){return function(R){return _([E,R])}}function _(E){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,E[0]&&(l=0)),l;)try{if(f=1,x&&(g=E[0]&2?x.return:E[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,E[1])).done)return g;switch(x=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,x=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){l.label=E[1];break}if(E[0]===6&&l.label<g[1]){l.label=g[1],g=E;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(E);break}g[2]&&l.ops.pop(),l.trys.pop();continue}E=a.call(d,l)}catch(R){E=[6,R],x=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}}var Ju=Object.create?(function(d,a,l,f){f===void 0&&(f=l);var x=Object.getOwnPropertyDescriptor(a,l);(!x||("get"in x?!a.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(d,f,x)}):(function(d,a,l,f){f===void 0&&(f=l),d[f]=a[l]});function M2(d,a){for(var l in d)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&Ju(a,d,l)}function zu(d){var a=typeof Symbol=="function"&&Symbol.iterator,l=a&&d[a],f=0;if(l)return l.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&f>=d.length&&(d=void 0),{value:d&&d[f++],done:!d}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vf(d,a){var l=typeof Symbol=="function"&&d[Symbol.iterator];if(!l)return d;var f=l.call(d),x,g=[],b;try{for(;(a===void 0||a-- >0)&&!(x=f.next()).done;)g.push(x.value)}catch(A){b={error:A}}finally{try{x&&!x.done&&(l=f.return)&&l.call(f)}finally{if(b)throw b.error}}return g}function B2(){for(var d=[],a=0;a<arguments.length;a++)d=d.concat(Vf(arguments[a]));return d}function k2(){for(var d=0,a=0,l=arguments.length;a<l;a++)d+=arguments[a].length;for(var f=Array(d),x=0,a=0;a<l;a++)for(var g=arguments[a],b=0,A=g.length;b<A;b++,x++)f[x]=g[b];return f}function L2(d,a,l){if(l||arguments.length===2)for(var f=0,x=a.length,g;f<x;f++)(g||!(f in a))&&(g||(g=Array.prototype.slice.call(a,0,f)),g[f]=a[f]);return d.concat(g||Array.prototype.slice.call(a))}function Ka(d){return this instanceof Ka?(this.v=d,this):new Ka(d)}function U2(d,a,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f=l.apply(d,a||[]),x,g=[];return x=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),A("next"),A("throw"),A("return",b),x[Symbol.asyncIterator]=function(){return this},x;function b(L){return function(j){return Promise.resolve(j).then(L,N)}}function A(L,j){f[L]&&(x[L]=function(H){return new Promise(function(J,ie){g.push([L,H,J,ie])>1||_(L,H)})},j&&(x[L]=j(x[L])))}function _(L,j){try{E(f[L](j))}catch(H){B(g[0][3],H)}}function E(L){L.value instanceof Ka?Promise.resolve(L.value.v).then(R,N):B(g[0][2],L)}function R(L){_("next",L)}function N(L){_("throw",L)}function B(L,j){L(j),g.shift(),g.length&&_(g[0][0],g[0][1])}}function P2(d){var a,l;return a={},f("next"),f("throw",function(x){throw x}),f("return"),a[Symbol.iterator]=function(){return this},a;function f(x,g){a[x]=d[x]?function(b){return(l=!l)?{value:Ka(d[x](b)),done:!1}:g?g(b):b}:g}}function j2(d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=d[Symbol.asyncIterator],l;return a?a.call(d):(d=typeof zu=="function"?zu(d):d[Symbol.iterator](),l={},f("next"),f("throw"),f("return"),l[Symbol.asyncIterator]=function(){return this},l);function f(g){l[g]=d[g]&&function(b){return new Promise(function(A,_){b=d[g](b),x(A,_,b.done,b.value)})}}function x(g,b,A,_){Promise.resolve(_).then(function(E){g({value:E,done:A})},b)}}function F2(d,a){return Object.defineProperty?Object.defineProperty(d,"raw",{value:a}):d.raw=a,d}var bp=Object.create?(function(d,a){Object.defineProperty(d,"default",{enumerable:!0,value:a})}):function(d,a){d.default=a},Tf=function(d){return Tf=Object.getOwnPropertyNames||function(a){var l=[];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(l[l.length]=f);return l},Tf(d)};function z2(d){if(d&&d.__esModule)return d;var a={};if(d!=null)for(var l=Tf(d),f=0;f<l.length;f++)l[f]!=="default"&&Ju(a,d,l[f]);return bp(a,d),a}function H2(d){return d&&d.__esModule?d:{default:d}}function q2(d,a,l,f){if(l==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?d!==a||!f:!a.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?f:l==="a"?f.call(d):f?f.value:a.get(d)}function G2(d,a,l,f,x){if(f==="m")throw new TypeError("Private method is not writable");if(f==="a"&&!x)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?d!==a||!x:!a.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f==="a"?x.call(d,l):x?x.value=l:a.set(d,l),l}function V2(d,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof d=="function"?a===d:d.has(a)}function X2(d,a,l){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var f,x;if(l){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");f=a[Symbol.asyncDispose]}if(f===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");f=a[Symbol.dispose],l&&(x=f)}if(typeof f!="function")throw new TypeError("Object not disposable.");x&&(f=function(){try{x.call(this)}catch(g){return Promise.reject(g)}}),d.stack.push({value:a,dispose:f,async:l})}else l&&d.stack.push({async:!0});return a}var vp=typeof SuppressedError=="function"?SuppressedError:function(d,a,l){var f=new Error(l);return f.name="SuppressedError",f.error=d,f.suppressed=a,f};function Y2(d){function a(g){d.error=d.hasError?new vp(g,d.error,"An error was suppressed during disposal."):g,d.hasError=!0}var l,f=0;function x(){for(;l=d.stack.pop();)try{if(!l.async&&f===1)return f=0,d.stack.push(l),Promise.resolve().then(x);if(l.dispose){var g=l.dispose.call(l.value);if(l.async)return f|=2,Promise.resolve(g).then(x,function(b){return a(b),x()})}else f|=1}catch(b){a(b)}if(f===1)return d.hasError?Promise.reject(d.error):Promise.resolve();if(d.hasError)throw d.error}return x()}function K2(d,a){return typeof d=="string"&&/^\.\.?\//.test(d)?d.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(l,f,x,g,b){return f?a?".jsx":".js":x&&(!g||!b)?l:x+g+"."+b.toLowerCase()+"js"}):d}const Ep={__extends:A2,__assign:Fu,__rest:Za,__decorate:C2,__param:S2,__esDecorate:T2,__runInitializers:O2,__propKey:R2,__setFunctionName:N2,__metadata:I2,__awaiter:Oe,__generator:D2,__createBinding:Ju,__exportStar:M2,__values:zu,__read:Vf,__spread:B2,__spreadArrays:k2,__spreadArray:L2,__await:Ka,__asyncGenerator:U2,__asyncDelegator:P2,__asyncValues:j2,__makeTemplateObject:F2,__importStar:z2,__importDefault:H2,__classPrivateFieldGet:q2,__classPrivateFieldSet:G2,__classPrivateFieldIn:V2,__addDisposableResource:X2,__disposeResources:Y2,__rewriteRelativeImportExtension:K2},_p=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:X2,get __assign(){return Fu},__asyncDelegator:P2,__asyncGenerator:U2,__asyncValues:j2,__await:Ka,__awaiter:Oe,__classPrivateFieldGet:q2,__classPrivateFieldIn:V2,__classPrivateFieldSet:G2,__createBinding:Ju,__decorate:C2,__disposeResources:Y2,__esDecorate:T2,__exportStar:M2,__extends:A2,__generator:D2,__importDefault:H2,__importStar:z2,__makeTemplateObject:F2,__metadata:I2,__param:S2,__propKey:R2,__read:Vf,__rest:Za,__rewriteRelativeImportExtension:K2,__runInitializers:O2,__setFunctionName:N2,__spread:B2,__spreadArray:L2,__spreadArrays:k2,__values:zu,default:Ep},Symbol.toStringTag,{value:"Module"})),Ap=d=>d?(...a)=>d(...a):(...a)=>fetch(...a);let $u=class extends Error{constructor(a,l="FunctionsError",f){super(a),this.name=l,this.context=f}},W2=class extends $u{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}},Of=class extends $u{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}},Rf=class extends $u{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}};var Hu;(function(d){d.Any="any",d.ApNortheast1="ap-northeast-1",d.ApNortheast2="ap-northeast-2",d.ApSouth1="ap-south-1",d.ApSoutheast1="ap-southeast-1",d.ApSoutheast2="ap-southeast-2",d.CaCentral1="ca-central-1",d.EuCentral1="eu-central-1",d.EuWest1="eu-west-1",d.EuWest2="eu-west-2",d.EuWest3="eu-west-3",d.SaEast1="sa-east-1",d.UsEast1="us-east-1",d.UsWest1="us-west-1",d.UsWest2="us-west-2"})(Hu||(Hu={}));class Cp{constructor(a,{headers:l={},customFetch:f,region:x=Hu.Any}={}){this.url=a,this.headers=l,this.region=x,this.fetch=Ap(f)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Oe(this,arguments,void 0,function*(l,f={}){var x;let g,b;try{const{headers:A,method:_,body:E,signal:R,timeout:N}=f;let B={},{region:L}=f;L||(L=this.region);const j=new URL(`${this.url}/${l}`);L&&L!=="any"&&(B["x-region"]=L,j.searchParams.set("forceFunctionRegion",L));let H;E&&(A&&!Object.prototype.hasOwnProperty.call(A,"Content-Type")||!A)?typeof Blob<"u"&&E instanceof Blob||E instanceof ArrayBuffer?(B["Content-Type"]="application/octet-stream",H=E):typeof E=="string"?(B["Content-Type"]="text/plain",H=E):typeof FormData<"u"&&E instanceof FormData?H=E:(B["Content-Type"]="application/json",H=JSON.stringify(E)):H=E;let J=R;N&&(b=new AbortController,g=setTimeout(()=>b.abort(),N),R?(J=b.signal,R.addEventListener("abort",()=>b.abort())):J=b.signal);const ie=yield this.fetch(j.toString(),{method:_||"POST",headers:Object.assign(Object.assign(Object.assign({},B),this.headers),A),body:H,signal:J}).catch(Le=>{throw new W2(Le)}),ce=ie.headers.get("x-relay-error");if(ce&&ce==="true")throw new Of(ie);if(!ie.ok)throw new Rf(ie);let Y=((x=ie.headers.get("Content-Type"))!==null&&x!==void 0?x:"text/plain").split(";")[0].trim(),me;return Y==="application/json"?me=yield ie.json():Y==="application/octet-stream"||Y==="application/pdf"?me=yield ie.blob():Y==="text/event-stream"?me=ie:Y==="multipart/form-data"?me=yield ie.formData():me=yield ie.text(),{data:me,error:null,response:ie}}catch(A){return{data:null,error:A,response:A instanceof Rf||A instanceof Of?A.context:void 0}}finally{g&&clearTimeout(g)}})}}const Sp=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Hu},FunctionsClient:Cp,FunctionsError:$u,FunctionsFetchError:W2,FunctionsHttpError:Rf,FunctionsRelayError:Of},Symbol.toStringTag,{value:"Module"})),Z2=no(Sp);var zn={};const Qa=no(_p);var Tu={},Ou={},Ru={},Nu={},Iu={},Du={},wg;function Q2(){if(wg)return Du;wg=1,Object.defineProperty(Du,"__esModule",{value:!0});class d extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return Du.default=d,Du}var bg;function J2(){if(bg)return Iu;bg=1,Object.defineProperty(Iu,"__esModule",{value:!0});const a=Qa.__importDefault(Q2());let l=class{constructor(x){var g,b;this.shouldThrowOnError=!1,this.method=x.method,this.url=x.url,this.headers=new Headers(x.headers),this.schema=x.schema,this.body=x.body,this.shouldThrowOnError=(g=x.shouldThrowOnError)!==null&&g!==void 0?g:!1,this.signal=x.signal,this.isMaybeSingle=(b=x.isMaybeSingle)!==null&&b!==void 0?b:!1,x.fetch?this.fetch=x.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(x,g){return this.headers=new Headers(this.headers),this.headers.set(x,g),this}then(x,g){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const b=this.fetch;let A=b(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async _=>{var E,R,N,B;let L=null,j=null,H=null,J=_.status,ie=_.statusText;if(_.ok){if(this.method!=="HEAD"){const Le=await _.text();Le===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((E=this.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?j=Le:j=JSON.parse(Le))}const Y=(R=this.headers.get("Prefer"))===null||R===void 0?void 0:R.match(/count=(exact|planned|estimated)/),me=(N=_.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");Y&&me&&me.length>1&&(H=parseInt(me[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(L={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,H=null,J=406,ie="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const Y=await _.text();try{L=JSON.parse(Y),Array.isArray(L)&&_.status===404&&(j=[],L=null,J=200,ie="OK")}catch{_.status===404&&Y===""?(J=204,ie="No Content"):L={message:Y}}if(L&&this.isMaybeSingle&&(!((B=L==null?void 0:L.details)===null||B===void 0)&&B.includes("0 rows"))&&(L=null,J=200,ie="OK"),L&&this.shouldThrowOnError)throw new a.default(L)}return{error:L,data:j,count:H,status:J,statusText:ie}});return this.shouldThrowOnError||(A=A.catch(_=>{var E,R,N,B,L,j;let H="";const J=_==null?void 0:_.cause;if(J){const ie=(E=J==null?void 0:J.message)!==null&&E!==void 0?E:"",ce=(R=J==null?void 0:J.code)!==null&&R!==void 0?R:"";H=`${(N=_==null?void 0:_.name)!==null&&N!==void 0?N:"FetchError"}: ${_==null?void 0:_.message}`,H+=`

Caused by: ${(B=J==null?void 0:J.name)!==null&&B!==void 0?B:"Error"}: ${ie}`,ce&&(H+=` (${ce})`),J!=null&&J.stack&&(H+=`
${J.stack}`)}else H=(L=_==null?void 0:_.stack)!==null&&L!==void 0?L:"";return{error:{message:`${(j=_==null?void 0:_.name)!==null&&j!==void 0?j:"FetchError"}: ${_==null?void 0:_.message}`,details:H,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),A.then(x,g)}returns(){return this}overrideTypes(){return this}};return Iu.default=l,Iu}var vg;function $2(){if(vg)return Nu;vg=1,Object.defineProperty(Nu,"__esModule",{value:!0});const a=Qa.__importDefault(J2());let l=class extends a.default{select(x){let g=!1;const b=(x??"*").split("").map(A=>/\s/.test(A)&&!g?"":(A==='"'&&(g=!g),A)).join("");return this.url.searchParams.set("select",b),this.headers.append("Prefer","return=representation"),this}order(x,{ascending:g=!0,nullsFirst:b,foreignTable:A,referencedTable:_=A}={}){const E=_?`${_}.order`:"order",R=this.url.searchParams.get(E);return this.url.searchParams.set(E,`${R?`${R},`:""}${x}.${g?"asc":"desc"}${b===void 0?"":b?".nullsfirst":".nullslast"}`),this}limit(x,{foreignTable:g,referencedTable:b=g}={}){const A=typeof b>"u"?"limit":`${b}.limit`;return this.url.searchParams.set(A,`${x}`),this}range(x,g,{foreignTable:b,referencedTable:A=b}={}){const _=typeof A>"u"?"offset":`${A}.offset`,E=typeof A>"u"?"limit":`${A}.limit`;return this.url.searchParams.set(_,`${x}`),this.url.searchParams.set(E,`${g-x+1}`),this}abortSignal(x){return this.signal=x,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:x=!1,verbose:g=!1,settings:b=!1,buffers:A=!1,wal:_=!1,format:E="text"}={}){var R;const N=[x?"analyze":null,g?"verbose":null,b?"settings":null,A?"buffers":null,_?"wal":null].filter(Boolean).join("|"),B=(R=this.headers.get("Accept"))!==null&&R!==void 0?R:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${E}; for="${B}"; options=${N};`),E==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(x){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${x}`),this}};return Nu.default=l,Nu}var Eg;function Xf(){if(Eg)return Ru;Eg=1,Object.defineProperty(Ru,"__esModule",{value:!0});const a=Qa.__importDefault($2()),l=new RegExp("[,()]");let f=class extends a.default{eq(g,b){return this.url.searchParams.append(g,`eq.${b}`),this}neq(g,b){return this.url.searchParams.append(g,`neq.${b}`),this}gt(g,b){return this.url.searchParams.append(g,`gt.${b}`),this}gte(g,b){return this.url.searchParams.append(g,`gte.${b}`),this}lt(g,b){return this.url.searchParams.append(g,`lt.${b}`),this}lte(g,b){return this.url.searchParams.append(g,`lte.${b}`),this}like(g,b){return this.url.searchParams.append(g,`like.${b}`),this}likeAllOf(g,b){return this.url.searchParams.append(g,`like(all).{${b.join(",")}}`),this}likeAnyOf(g,b){return this.url.searchParams.append(g,`like(any).{${b.join(",")}}`),this}ilike(g,b){return this.url.searchParams.append(g,`ilike.${b}`),this}ilikeAllOf(g,b){return this.url.searchParams.append(g,`ilike(all).{${b.join(",")}}`),this}ilikeAnyOf(g,b){return this.url.searchParams.append(g,`ilike(any).{${b.join(",")}}`),this}regexMatch(g,b){return this.url.searchParams.append(g,`match.${b}`),this}regexIMatch(g,b){return this.url.searchParams.append(g,`imatch.${b}`),this}is(g,b){return this.url.searchParams.append(g,`is.${b}`),this}isDistinct(g,b){return this.url.searchParams.append(g,`isdistinct.${b}`),this}in(g,b){const A=Array.from(new Set(b)).map(_=>typeof _=="string"&&l.test(_)?`"${_}"`:`${_}`).join(",");return this.url.searchParams.append(g,`in.(${A})`),this}contains(g,b){return typeof b=="string"?this.url.searchParams.append(g,`cs.${b}`):Array.isArray(b)?this.url.searchParams.append(g,`cs.{${b.join(",")}}`):this.url.searchParams.append(g,`cs.${JSON.stringify(b)}`),this}containedBy(g,b){return typeof b=="string"?this.url.searchParams.append(g,`cd.${b}`):Array.isArray(b)?this.url.searchParams.append(g,`cd.{${b.join(",")}}`):this.url.searchParams.append(g,`cd.${JSON.stringify(b)}`),this}rangeGt(g,b){return this.url.searchParams.append(g,`sr.${b}`),this}rangeGte(g,b){return this.url.searchParams.append(g,`nxl.${b}`),this}rangeLt(g,b){return this.url.searchParams.append(g,`sl.${b}`),this}rangeLte(g,b){return this.url.searchParams.append(g,`nxr.${b}`),this}rangeAdjacent(g,b){return this.url.searchParams.append(g,`adj.${b}`),this}overlaps(g,b){return typeof b=="string"?this.url.searchParams.append(g,`ov.${b}`):this.url.searchParams.append(g,`ov.{${b.join(",")}}`),this}textSearch(g,b,{config:A,type:_}={}){let E="";_==="plain"?E="pl":_==="phrase"?E="ph":_==="websearch"&&(E="w");const R=A===void 0?"":`(${A})`;return this.url.searchParams.append(g,`${E}fts${R}.${b}`),this}match(g){return Object.entries(g).forEach(([b,A])=>{this.url.searchParams.append(b,`eq.${A}`)}),this}not(g,b,A){return this.url.searchParams.append(g,`not.${b}.${A}`),this}or(g,{foreignTable:b,referencedTable:A=b}={}){const _=A?`${A}.or`:"or";return this.url.searchParams.append(_,`(${g})`),this}filter(g,b,A){return this.url.searchParams.append(g,`${b}.${A}`),this}};return Ru.default=f,Ru}var _g;function em(){if(_g)return Ou;_g=1,Object.defineProperty(Ou,"__esModule",{value:!0});const a=Qa.__importDefault(Xf());let l=class{constructor(x,{headers:g={},schema:b,fetch:A}){this.url=x,this.headers=new Headers(g),this.schema=b,this.fetch=A}select(x,g){const{head:b=!1,count:A}=g??{},_=b?"HEAD":"GET";let E=!1;const R=(x??"*").split("").map(N=>/\s/.test(N)&&!E?"":(N==='"'&&(E=!E),N)).join("");return this.url.searchParams.set("select",R),A&&this.headers.append("Prefer",`count=${A}`),new a.default({method:_,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(x,{count:g,defaultToNull:b=!0}={}){var A;const _="POST";if(g&&this.headers.append("Prefer",`count=${g}`),b||this.headers.append("Prefer","missing=default"),Array.isArray(x)){const E=x.reduce((R,N)=>R.concat(Object.keys(N)),[]);if(E.length>0){const R=[...new Set(E)].map(N=>`"${N}"`);this.url.searchParams.set("columns",R.join(","))}}return new a.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:x,fetch:(A=this.fetch)!==null&&A!==void 0?A:fetch})}upsert(x,{onConflict:g,ignoreDuplicates:b=!1,count:A,defaultToNull:_=!0}={}){var E;const R="POST";if(this.headers.append("Prefer",`resolution=${b?"ignore":"merge"}-duplicates`),g!==void 0&&this.url.searchParams.set("on_conflict",g),A&&this.headers.append("Prefer",`count=${A}`),_||this.headers.append("Prefer","missing=default"),Array.isArray(x)){const N=x.reduce((B,L)=>B.concat(Object.keys(L)),[]);if(N.length>0){const B=[...new Set(N)].map(L=>`"${L}"`);this.url.searchParams.set("columns",B.join(","))}}return new a.default({method:R,url:this.url,headers:this.headers,schema:this.schema,body:x,fetch:(E=this.fetch)!==null&&E!==void 0?E:fetch})}update(x,{count:g}={}){var b;const A="PATCH";return g&&this.headers.append("Prefer",`count=${g}`),new a.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:x,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}delete({count:x}={}){var g;const b="DELETE";return x&&this.headers.append("Prefer",`count=${x}`),new a.default({method:b,url:this.url,headers:this.headers,schema:this.schema,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}};return Ou.default=l,Ou}var Ag;function Tp(){if(Ag)return Tu;Ag=1,Object.defineProperty(Tu,"__esModule",{value:!0});const d=Qa,a=d.__importDefault(em()),l=d.__importDefault(Xf());let f=class tm{constructor(g,{headers:b={},schema:A,fetch:_}={}){this.url=g,this.headers=new Headers(b),this.schemaName=A,this.fetch=_}from(g){if(!g||typeof g!="string"||g.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const b=new URL(`${this.url}/${g}`);return new a.default(b,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(g){return new tm(this.url,{headers:this.headers,schema:g,fetch:this.fetch})}rpc(g,b={},{head:A=!1,get:_=!1,count:E}={}){var R;let N;const B=new URL(`${this.url}/rpc/${g}`);let L;A||_?(N=A?"HEAD":"GET",Object.entries(b).filter(([H,J])=>J!==void 0).map(([H,J])=>[H,Array.isArray(J)?`{${J.join(",")}}`:`${J}`]).forEach(([H,J])=>{B.searchParams.append(H,J)})):(N="POST",L=b);const j=new Headers(this.headers);return E&&j.set("Prefer",`count=${E}`),new l.default({method:N,url:B,headers:j,schema:this.schemaName,body:L,fetch:(R=this.fetch)!==null&&R!==void 0?R:fetch})}};return Tu.default=f,Tu}var Cg;function nm(){if(Cg)return zn;Cg=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.PostgrestError=zn.PostgrestBuilder=zn.PostgrestTransformBuilder=zn.PostgrestFilterBuilder=zn.PostgrestQueryBuilder=zn.PostgrestClient=void 0;const d=Qa,a=d.__importDefault(Tp());zn.PostgrestClient=a.default;const l=d.__importDefault(em());zn.PostgrestQueryBuilder=l.default;const f=d.__importDefault(Xf());zn.PostgrestFilterBuilder=f.default;const x=d.__importDefault($2());zn.PostgrestTransformBuilder=x.default;const g=d.__importDefault(J2());zn.PostgrestBuilder=g.default;const b=d.__importDefault(Q2());return zn.PostgrestError=b.default,zn.default={PostgrestClient:a.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:f.default,PostgrestTransformBuilder:x.default,PostgrestBuilder:g.default,PostgrestError:b.default},zn}class rm{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const f=l.node,x=parseInt(f.replace(/^v/,"").split(".")[0]);return x>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${x} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${x} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let l=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(l+=`

Suggested solution: ${a.workaround}`),new Error(l)}static createWebSocket(a,l){const f=this.getWebSocketConstructor();return new f(a,l)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Op="2.87.1",Rp=`realtime-js/${Op}`,im="1.0.0",Np="2.0.0",Sg=im,Nf=1e4,Ip=1e3,Dp=100;var Zs;(function(d){d[d.connecting=0]="connecting",d[d.open=1]="open",d[d.closing=2]="closing",d[d.closed=3]="closed"})(Zs||(Zs={}));var wn;(function(d){d.closed="closed",d.errored="errored",d.joined="joined",d.joining="joining",d.leaving="leaving"})(wn||(wn={}));var Wr;(function(d){d.close="phx_close",d.error="phx_error",d.join="phx_join",d.reply="phx_reply",d.leave="phx_leave",d.access_token="access_token"})(Wr||(Wr={}));var If;(function(d){d.websocket="websocket"})(If||(If={}));var Qs;(function(d){d.Connecting="connecting",d.Open="open",d.Closing="closing",d.Closed="closed"})(Qs||(Qs={}));class Mp{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,l){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(a));let f=[a.join_ref,a.ref,a.topic,a.event,a.payload];return l(JSON.stringify(f))}_binaryEncodeUserBroadcastPush(a){var l;return this._isArrayBuffer((l=a.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var l,f;const x=(f=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&f!==void 0?f:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,x)}_encodeJsonUserBroadcastPush(a){var l,f;const x=(f=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&f!==void 0?f:{},b=new TextEncoder().encode(JSON.stringify(x)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,b)}_encodeUserBroadcastPush(a,l,f){var x,g;const b=a.topic,A=(x=a.ref)!==null&&x!==void 0?x:"",_=(g=a.join_ref)!==null&&g!==void 0?g:"",E=a.payload.event,R=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},N=Object.keys(R).length===0?"":JSON.stringify(R);if(_.length>255)throw new Error(`joinRef length ${_.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`ref length ${A.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`topic length ${b.length} exceeds maximum of 255`);if(E.length>255)throw new Error(`userEvent length ${E.length} exceeds maximum of 255`);if(N.length>255)throw new Error(`metadata length ${N.length} exceeds maximum of 255`);const B=this.USER_BROADCAST_PUSH_META_LENGTH+_.length+A.length+b.length+E.length+N.length,L=new ArrayBuffer(this.HEADER_LENGTH+B);let j=new DataView(L),H=0;j.setUint8(H++,this.KINDS.userBroadcastPush),j.setUint8(H++,_.length),j.setUint8(H++,A.length),j.setUint8(H++,b.length),j.setUint8(H++,E.length),j.setUint8(H++,N.length),j.setUint8(H++,l),Array.from(_,ie=>j.setUint8(H++,ie.charCodeAt(0))),Array.from(A,ie=>j.setUint8(H++,ie.charCodeAt(0))),Array.from(b,ie=>j.setUint8(H++,ie.charCodeAt(0))),Array.from(E,ie=>j.setUint8(H++,ie.charCodeAt(0))),Array.from(N,ie=>j.setUint8(H++,ie.charCodeAt(0)));var J=new Uint8Array(L.byteLength+f.byteLength);return J.set(new Uint8Array(L),0),J.set(new Uint8Array(f),L.byteLength),J.buffer}decode(a,l){if(this._isArrayBuffer(a)){let f=this._binaryDecode(a);return l(f)}if(typeof a=="string"){const f=JSON.parse(a),[x,g,b,A,_]=f;return l({join_ref:x,ref:g,topic:b,event:A,payload:_})}return l({})}_binaryDecode(a){const l=new DataView(a),f=l.getUint8(0),x=new TextDecoder;switch(f){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,l,x)}}_decodeUserBroadcast(a,l,f){const x=l.getUint8(1),g=l.getUint8(2),b=l.getUint8(3),A=l.getUint8(4);let _=this.HEADER_LENGTH+4;const E=f.decode(a.slice(_,_+x));_=_+x;const R=f.decode(a.slice(_,_+g));_=_+g;const N=f.decode(a.slice(_,_+b));_=_+b;const B=a.slice(_,a.byteLength),L=A===this.JSON_ENCODING?JSON.parse(f.decode(B)):B,j={type:this.BROADCAST_EVENT,event:R,payload:L};return b>0&&(j.meta=JSON.parse(N)),{join_ref:null,ref:null,topic:E,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(a){var l;return a instanceof ArrayBuffer||((l=a==null?void 0:a.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(a,l){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([f])=>l.includes(f)))}}class sm{constructor(a,l){this.callback=a,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(d){d.abstime="abstime",d.bool="bool",d.date="date",d.daterange="daterange",d.float4="float4",d.float8="float8",d.int2="int2",d.int4="int4",d.int4range="int4range",d.int8="int8",d.int8range="int8range",d.json="json",d.jsonb="jsonb",d.money="money",d.numeric="numeric",d.oid="oid",d.reltime="reltime",d.text="text",d.time="time",d.timestamp="timestamp",d.timestamptz="timestamptz",d.timetz="timetz",d.tsrange="tsrange",d.tstzrange="tstzrange"})(zt||(zt={}));const Tg=(d,a,l={})=>{var f;const x=(f=l.skipTypes)!==null&&f!==void 0?f:[];return a?Object.keys(a).reduce((g,b)=>(g[b]=Bp(b,d,a,x),g),{}):{}},Bp=(d,a,l,f)=>{const x=a.find(A=>A.name===d),g=x==null?void 0:x.type,b=l[d];return g&&!f.includes(g)?am(g,b):Df(b)},am=(d,a)=>{if(d.charAt(0)==="_"){const l=d.slice(1,d.length);return Pp(a,l)}switch(d){case zt.bool:return kp(a);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return Lp(a);case zt.json:case zt.jsonb:return Up(a);case zt.timestamp:return jp(a);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return Df(a);default:return Df(a)}},Df=d=>d,kp=d=>{switch(d){case"t":return!0;case"f":return!1;default:return d}},Lp=d=>{if(typeof d=="string"){const a=parseFloat(d);if(!Number.isNaN(a))return a}return d},Up=d=>{if(typeof d=="string")try{return JSON.parse(d)}catch(a){return console.log(`JSON parse error: ${a}`),d}return d},Pp=(d,a)=>{if(typeof d!="string")return d;const l=d.length-1,f=d[l];if(d[0]==="{"&&f==="}"){let g;const b=d.slice(1,l);try{g=JSON.parse("["+b+"]")}catch{g=b?b.split(","):[]}return g.map(A=>am(a,A))}return d},jp=d=>typeof d=="string"?d.replace(" ","T"):d,lm=d=>{const a=new URL(d);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class af{constructor(a,l,f={},x=Nf){this.channel=a,this.event=l,this.payload=f,this.timeout=x,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,l){var f;return this._hasReceived(a)&&l((f=this.receivedResp)===null||f===void 0?void 0:f.response),this.recHooks.push({status:a,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:l}){this.recHooks.filter(f=>f.status===a).forEach(f=>f.callback(l))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Mf;(function(d){d.SYNC="sync",d.JOIN="join",d.LEAVE="leave"})(Mf||(Mf={}));let om=class Lu{constructor(a,l){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const f=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(f.state,{},x=>{const{onJoin:g,onLeave:b,onSync:A}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lu.syncState(this.state,x,g,b),this.pendingDiffs.forEach(_=>{this.state=Lu.syncDiff(this.state,_,g,b)}),this.pendingDiffs=[],A()}),this.channel._on(f.diff,{},x=>{const{onJoin:g,onLeave:b,onSync:A}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(x):(this.state=Lu.syncDiff(this.state,x,g,b),A())}),this.onJoin((x,g,b)=>{this.channel._trigger("presence",{event:"join",key:x,currentPresences:g,newPresences:b})}),this.onLeave((x,g,b)=>{this.channel._trigger("presence",{event:"leave",key:x,currentPresences:g,leftPresences:b})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,l,f,x){const g=this.cloneDeep(a),b=this.transformState(l),A={},_={};return this.map(g,(E,R)=>{b[E]||(_[E]=R)}),this.map(b,(E,R)=>{const N=g[E];if(N){const B=R.map(J=>J.presence_ref),L=N.map(J=>J.presence_ref),j=R.filter(J=>L.indexOf(J.presence_ref)<0),H=N.filter(J=>B.indexOf(J.presence_ref)<0);j.length>0&&(A[E]=j),H.length>0&&(_[E]=H)}else A[E]=R}),this.syncDiff(g,{joins:A,leaves:_},f,x)}static syncDiff(a,l,f,x){const{joins:g,leaves:b}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return f||(f=()=>{}),x||(x=()=>{}),this.map(g,(A,_)=>{var E;const R=(E=a[A])!==null&&E!==void 0?E:[];if(a[A]=this.cloneDeep(_),R.length>0){const N=a[A].map(L=>L.presence_ref),B=R.filter(L=>N.indexOf(L.presence_ref)<0);a[A].unshift(...B)}f(A,R,_)}),this.map(b,(A,_)=>{let E=a[A];if(!E)return;const R=_.map(N=>N.presence_ref);E=E.filter(N=>R.indexOf(N.presence_ref)<0),a[A]=E,x(A,E,_),E.length===0&&delete a[A]}),a}static map(a,l){return Object.getOwnPropertyNames(a).map(f=>l(f,a[f]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((l,f)=>{const x=a[f];return"metas"in x?l[f]=x.metas.map(g=>(g.presence_ref=g.phx_ref,delete g.phx_ref,delete g.phx_ref_prev,g)):l[f]=x,l},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Bf;(function(d){d.ALL="*",d.INSERT="INSERT",d.UPDATE="UPDATE",d.DELETE="DELETE"})(Bf||(Bf={}));var Xa;(function(d){d.BROADCAST="broadcast",d.PRESENCE="presence",d.POSTGRES_CHANGES="postgres_changes",d.SYSTEM="system"})(Xa||(Xa={}));var oi;(function(d){d.SUBSCRIBED="SUBSCRIBED",d.TIMED_OUT="TIMED_OUT",d.CLOSED="CLOSED",d.CHANNEL_ERROR="CHANNEL_ERROR"})(oi||(oi={}));const Fp=wn;let um=class Wl{constructor(a,l={config:{}},f){var x,g;if(this.topic=a,this.params=l,this.socket=f,this.bindings={},this.state=wn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new af(this,Wr.join,this.params,this.timeout),this.rejoinTimer=new sm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(b=>b.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wn.closed,this.socket._remove(this)}),this._onError(b=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,b),this.state=wn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",b=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,b),this.state=wn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wr.reply,{},(b,A)=>{this._trigger(this._replyEventName(A),b)}),this.presence=new om(this),this.broadcastEndpointURL=lm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((g=(x=this.params.config)===null||x===void 0?void 0:x.broadcast)===null||g===void 0)&&g.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,l=this.timeout){var f,x,g;if(this.socket.isConnected()||this.socket.connect(),this.state==wn.closed){const{config:{broadcast:b,presence:A,private:_}}=this.params,E=(x=(f=this.bindings.postgres_changes)===null||f===void 0?void 0:f.map(L=>L.filter))!==null&&x!==void 0?x:[],R=!!this.bindings[Xa.PRESENCE]&&this.bindings[Xa.PRESENCE].length>0||((g=this.params.config.presence)===null||g===void 0?void 0:g.enabled)===!0,N={},B={broadcast:b,presence:Object.assign(Object.assign({},A),{enabled:R}),postgres_changes:E,private:_};this.socket.accessTokenValue&&(N.access_token=this.socket.accessTokenValue),this._onError(L=>a==null?void 0:a(oi.CHANNEL_ERROR,L)),this._onClose(()=>a==null?void 0:a(oi.CLOSED)),this.updateJoinPayload(Object.assign({config:B},N)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:L})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),L===void 0){a==null||a(oi.SUBSCRIBED);return}else{const H=this.bindings.postgres_changes,J=(j=H==null?void 0:H.length)!==null&&j!==void 0?j:0,ie=[];for(let ce=0;ce<J;ce++){const Y=H[ce],{filter:{event:me,schema:Le,table:_e,filter:ee}}=Y,Te=L&&L[ce];if(Te&&Te.event===me&&Wl.isFilterValueEqual(Te.schema,Le)&&Wl.isFilterValueEqual(Te.table,_e)&&Wl.isFilterValueEqual(Te.filter,ee))ie.push(Object.assign(Object.assign({},Y),{id:Te.id}));else{this.unsubscribe(),this.state=wn.errored,a==null||a(oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ie,a&&a(oi.SUBSCRIBED);return}}).receive("error",L=>{this.state=wn.errored,a==null||a(oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(L).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,l={}){return await this.send({type:"presence",event:"track",payload:a},l.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,l,f){return this.state===wn.joined&&a===Xa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,l,f)}async httpSend(a,l,f={}){var x;const g=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(l==null)return Promise.reject("Payload is required for httpSend()");const b={method:"POST",headers:{Authorization:g,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})},A=await this._fetchWithTimeout(this.broadcastEndpointURL,b,(x=f.timeout)!==null&&x!==void 0?x:this.timeout);if(A.status===202)return{success:!0};let _=A.statusText;try{const E=await A.json();_=E.error||E.message||_}catch{}return Promise.reject(new Error(_))}async send(a,l={}){var f,x;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:g,payload:b}=a,_={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:g,payload:b,private:this.private}]})};try{const E=await this._fetchWithTimeout(this.broadcastEndpointURL,_,(f=l.timeout)!==null&&f!==void 0?f:this.timeout);return await((x=E.body)===null||x===void 0?void 0:x.cancel()),E.ok?"ok":"error"}catch(E){return E.name==="AbortError"?"timed out":"error"}}else return new Promise(g=>{var b,A,_;const E=this._push(a.type,a,l.timeout||this.timeout);a.type==="broadcast"&&!(!((_=(A=(b=this.params)===null||b===void 0?void 0:b.config)===null||A===void 0?void 0:A.broadcast)===null||_===void 0)&&_.ack)&&g("ok"),E.receive("ok",()=>g("ok")),E.receive("error",()=>g("error")),E.receive("timeout",()=>g("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=wn.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wr.close,"leave",this._joinRef())};this.joinPush.destroy();let f=null;return new Promise(x=>{f=new af(this,Wr.leave,{},a),f.receive("ok",()=>{l(),x("ok")}).receive("timeout",()=>{l(),x("timed out")}).receive("error",()=>{x("error")}),f.send(),this._canPush()||f.trigger("ok",{})}).finally(()=>{f==null||f.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wn.closed,this.bindings={}}async _fetchWithTimeout(a,l,f){const x=new AbortController,g=setTimeout(()=>x.abort(),f),b=await this.socket.fetch(a,Object.assign(Object.assign({},l),{signal:x.signal}));return clearTimeout(g),b}_push(a,l,f=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let x=new af(this,a,l,f);return this._canPush()?x.send():this._addToPushBuffer(x),x}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Dp){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(a,l,f){return l}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,l,f){var x,g;const b=a.toLocaleLowerCase(),{close:A,error:_,leave:E,join:R}=Wr;if(f&&[A,_,E,R].indexOf(b)>=0&&f!==this._joinRef())return;let B=this._onMessage(b,l,f);if(l&&!B)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(b)?(x=this.bindings.postgres_changes)===null||x===void 0||x.filter(L=>{var j,H,J;return((j=L.filter)===null||j===void 0?void 0:j.event)==="*"||((J=(H=L.filter)===null||H===void 0?void 0:H.event)===null||J===void 0?void 0:J.toLocaleLowerCase())===b}).map(L=>L.callback(B,f)):(g=this.bindings[b])===null||g===void 0||g.filter(L=>{var j,H,J,ie,ce,Y;if(["broadcast","presence","postgres_changes"].includes(b))if("id"in L){const me=L.id,Le=(j=L.filter)===null||j===void 0?void 0:j.event;return me&&((H=l.ids)===null||H===void 0?void 0:H.includes(me))&&(Le==="*"||(Le==null?void 0:Le.toLocaleLowerCase())===((J=l.data)===null||J===void 0?void 0:J.type.toLocaleLowerCase()))}else{const me=(ce=(ie=L==null?void 0:L.filter)===null||ie===void 0?void 0:ie.event)===null||ce===void 0?void 0:ce.toLocaleLowerCase();return me==="*"||me===((Y=l==null?void 0:l.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase())}else return L.type.toLocaleLowerCase()===b}).map(L=>{if(typeof B=="object"&&"ids"in B){const j=B.data,{schema:H,table:J,commit_timestamp:ie,type:ce,errors:Y}=j;B=Object.assign(Object.assign({},{schema:H,table:J,commit_timestamp:ie,eventType:ce,new:{},old:{},errors:Y}),this._getPayloadRecords(j))}L.callback(B,f)})}_isClosed(){return this.state===wn.closed}_isJoined(){return this.state===wn.joined}_isJoining(){return this.state===wn.joining}_isLeaving(){return this.state===wn.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,l,f){const x=a.toLocaleLowerCase(),g={type:x,filter:l,callback:f};return this.bindings[x]?this.bindings[x].push(g):this.bindings[x]=[g],this}_off(a,l){const f=a.toLocaleLowerCase();return this.bindings[f]&&(this.bindings[f]=this.bindings[f].filter(x=>{var g;return!(((g=x.type)===null||g===void 0?void 0:g.toLocaleLowerCase())===f&&Wl.isEqual(x.filter,l))})),this}static isEqual(a,l){if(Object.keys(a).length!==Object.keys(l).length)return!1;for(const f in a)if(a[f]!==l[f])return!1;return!0}static isFilterValueEqual(a,l){return(a??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Wr.close,{},a)}_onError(a){this._on(Wr.error,{},l=>a(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wn.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const l={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(l.new=Tg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(l.old=Tg(a.columns,a.old_record)),l}};const lf=()=>{},Mu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zp=[1e3,2e3,5e3,1e4],Hp=1e4,qp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Gp=class{constructor(a,l){var f;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nf,this.transport=null,this.heartbeatIntervalMs=Mu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lf,this.ref=0,this.reconnectTimer=null,this.vsn=Sg,this.logger=lf,this.conn=null,this.sendBuffer=[],this.serializer=new Mp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=x=>x?(...g)=>x(...g):(...g)=>fetch(...g),!(!((f=l==null?void 0:l.params)===null||f===void 0)&&f.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${a}/${If.websocket}`,this.httpEndpoint=lm(a),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=rm.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const l=a.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const f=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(f),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const l=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const a=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,l,f){this.logger(a,l,f)}connectionState(){switch(this.conn&&this.conn.readyState){case Zs.connecting:return Qs.Connecting;case Zs.open:return Qs.Open;case Zs.closing:return Qs.Closing;default:return Qs.Closed}}isConnected(){return this.connectionState()===Qs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,l={config:{}}){const f=`realtime:${a}`,x=this.getChannels().find(g=>g.topic===f);if(x)return x;{const g=new um(`realtime:${a}`,l,this);return this.channels.push(g),g}}push(a){const{topic:l,event:f,payload:x,ref:g}=a,b=()=>{this.encode(a,A=>{var _;(_=this.conn)===null||_===void 0||_.send(A)})};this.log("push",`${l} ${f} (${g})`,x),this.isConnected()?b():this.sendBuffer.push(b)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Ip,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Mu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let l=this.channels.find(f=>f.topic===a&&(f._isJoined()||f._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${a}"`),l.unsubscribe())}_remove(a){this.channels=this.channels.filter(l=>l.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(E){this.log("error","error in heartbeat callback",E)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:f,event:x,payload:g,ref:b}=l,A=b?`(${b})`:"",_=g.status||"";this.log("receive",`${_} ${f} ${x} ${A}`.trim(),g),this.channels.filter(E=>E._isMember(f)).forEach(E=>E._trigger(x,g,b)),this._triggerStateCallbacks("message",l)})}_clearTimer(a){var l;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zs.open||this.conn.readyState===Zs.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var l;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Wr.error))}_appendParams(a,l){if(Object.keys(l).length===0)return a;const f=a.match(/\?/)?"&":"?",x=new URLSearchParams(l);return`${a}${f}${x}`}_workerObjectUrl(a){let l;if(a)l=a;else{const f=new Blob([qp],{type:"application/javascript"});l=URL.createObjectURL(f)}return l}_setConnectionState(a,l=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(a=null){let l,f=!1;if(a)l=a,f=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(x){this.log("error","Error fetching access token from callback",x),l=this.accessTokenValue}else l=this.accessTokenValue;f?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(x=>{const g={access_token:l,version:Rp};l&&x.updateJoinPayload(g),x.joinedOnce&&x._isJoined()&&x._push(Wr.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${a}`,l)})}_triggerStateCallbacks(a,l){try{this.stateChangeCallbacks[a].forEach(f=>{try{f(l)}catch(x){this.log("error",`error in ${a} callback`,x)}})}catch(f){this.log("error",`error triggering ${a} callbacks`,f)}}_setupReconnectionTimer(){this.reconnectTimer=new sm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var l,f,x,g,b,A,_,E,R,N,B,L;switch(this.transport=(l=a==null?void 0:a.transport)!==null&&l!==void 0?l:null,this.timeout=(f=a==null?void 0:a.timeout)!==null&&f!==void 0?f:Nf,this.heartbeatIntervalMs=(x=a==null?void 0:a.heartbeatIntervalMs)!==null&&x!==void 0?x:Mu.HEARTBEAT_INTERVAL,this.worker=(g=a==null?void 0:a.worker)!==null&&g!==void 0?g:!1,this.accessToken=(b=a==null?void 0:a.accessToken)!==null&&b!==void 0?b:null,this.heartbeatCallback=(A=a==null?void 0:a.heartbeatCallback)!==null&&A!==void 0?A:lf,this.vsn=(_=a==null?void 0:a.vsn)!==null&&_!==void 0?_:Sg,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(E=a==null?void 0:a.reconnectAfterMs)!==null&&E!==void 0?E:(j=>zp[j-1]||Hp),this.vsn){case im:this.encode=(R=a==null?void 0:a.encode)!==null&&R!==void 0?R:((j,H)=>H(JSON.stringify(j))),this.decode=(N=a==null?void 0:a.decode)!==null&&N!==void 0?N:((j,H)=>H(JSON.parse(j)));break;case Np:this.encode=(B=a==null?void 0:a.encode)!==null&&B!==void 0?B:this.serializer.encode.bind(this.serializer),this.decode=(L=a==null?void 0:a.decode)!==null&&L!==void 0?L:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}};const Vp=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Fp,get REALTIME_LISTEN_TYPES(){return Xa},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Bf},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Mf},get REALTIME_SUBSCRIBE_STATES(){return oi},RealtimeChannel:um,RealtimeClient:Gp,RealtimePresence:om,WebSocketFactory:rm},Symbol.toStringTag,{value:"Module"})),cm=no(Vp);class io extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Qt(d){return typeof d=="object"&&d!==null&&"__isStorageError"in d}class hm extends io{constructor(a,l,f){super(a),this.name="StorageApiError",this.status=l,this.statusCode=f}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qu extends io{constructor(a,l){super(a),this.name="StorageUnknownError",this.originalError=l}}const Yf=d=>d?(...a)=>d(...a):(...a)=>fetch(...a),Xp=()=>Response,kf=d=>{if(Array.isArray(d))return d.map(l=>kf(l));if(typeof d=="function"||d!==Object(d))return d;const a={};return Object.entries(d).forEach(([l,f])=>{const x=l.replace(/([-_][a-z])/gi,g=>g.toUpperCase().replace(/[-_]/g,""));a[x]=kf(f)}),a},Yp=d=>{if(typeof d!="object"||d===null)return!1;const a=Object.getPrototypeOf(d);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in d)&&!(Symbol.iterator in d)},Kp=d=>!d||typeof d!="string"||d.length===0||d.length>100||d.trim()!==d||d.includes("/")||d.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(d),of=d=>{var a;return d.msg||d.message||d.error_description||(typeof d.error=="string"?d.error:(a=d.error)===null||a===void 0?void 0:a.message)||JSON.stringify(d)},Wp=(d,a,l)=>Oe(void 0,void 0,void 0,function*(){const f=yield Xp();d instanceof f&&!(l!=null&&l.noResolveJson)?d.json().then(x=>{const g=d.status||500,b=(x==null?void 0:x.statusCode)||g+"";a(new hm(of(x),g,b))}).catch(x=>{a(new qu(of(x),x))}):a(new qu(of(d),d))}),Zp=(d,a,l,f)=>{const x={method:d,headers:(a==null?void 0:a.headers)||{}};return d==="GET"||!f?x:(Yp(f)?(x.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),x.body=JSON.stringify(f)):x.body=f,a!=null&&a.duplex&&(x.duplex=a.duplex),Object.assign(Object.assign({},x),l))};function so(d,a,l,f,x,g){return Oe(this,void 0,void 0,function*(){return new Promise((b,A)=>{d(l,Zp(a,f,x,g)).then(_=>{if(!_.ok)throw _;return f!=null&&f.noResolveJson?_:_.json()}).then(_=>b(_)).catch(_=>Wp(_,A,f))})})}function $l(d,a,l,f){return Oe(this,void 0,void 0,function*(){return so(d,"GET",a,l,f)})}function Kr(d,a,l,f,x){return Oe(this,void 0,void 0,function*(){return so(d,"POST",a,f,x,l)})}function Lf(d,a,l,f,x){return Oe(this,void 0,void 0,function*(){return so(d,"PUT",a,f,x,l)})}function Qp(d,a,l,f){return Oe(this,void 0,void 0,function*(){return so(d,"HEAD",a,Object.assign(Object.assign({},l),{noResolveJson:!0}),f)})}function Kf(d,a,l,f,x){return Oe(this,void 0,void 0,function*(){return so(d,"DELETE",a,f,x,l)})}class Jp{constructor(a,l){this.downloadFn=a,this.shouldThrowOnError=l}then(a,l){return this.execute().then(a,l)}execute(){return Oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}})}}var fm;class $p{constructor(a,l){this.downloadFn=a,this.shouldThrowOnError=l,this[fm]="BlobDownloadBuilder",this.promise=null}asStream(){return new Jp(this.downloadFn,this.shouldThrowOnError)}then(a,l){return this.getPromise().then(a,l)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}})}}fm=Symbol.toStringTag;const ew={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Og={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tw{constructor(a,l={},f,x){this.shouldThrowOnError=!1,this.url=a,this.headers=l,this.bucketId=f,this.fetch=Yf(x)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,l,f,x){return Oe(this,void 0,void 0,function*(){try{let g;const b=Object.assign(Object.assign({},Og),x);let A=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(b.upsert)});const _=b.metadata;typeof Blob<"u"&&f instanceof Blob?(g=new FormData,g.append("cacheControl",b.cacheControl),_&&g.append("metadata",this.encodeMetadata(_)),g.append("",f)):typeof FormData<"u"&&f instanceof FormData?(g=f,g.has("cacheControl")||g.append("cacheControl",b.cacheControl),_&&!g.has("metadata")&&g.append("metadata",this.encodeMetadata(_))):(g=f,A["cache-control"]=`max-age=${b.cacheControl}`,A["content-type"]=b.contentType,_&&(A["x-metadata"]=this.toBase64(this.encodeMetadata(_))),(typeof ReadableStream<"u"&&g instanceof ReadableStream||g&&typeof g=="object"&&"pipe"in g&&typeof g.pipe=="function")&&!b.duplex&&(b.duplex="half")),x!=null&&x.headers&&(A=Object.assign(Object.assign({},A),x.headers));const E=this._removeEmptyFolders(l),R=this._getFinalPath(E),N=yield(a=="PUT"?Lf:Kr)(this.fetch,`${this.url}/object/${R}`,g,Object.assign({headers:A},b!=null&&b.duplex?{duplex:b.duplex}:{}));return{data:{path:E,id:N.Id,fullPath:N.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Qt(g))return{data:null,error:g};throw g}})}upload(a,l,f){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,l,f)})}uploadToSignedUrl(a,l,f,x){return Oe(this,void 0,void 0,function*(){const g=this._removeEmptyFolders(a),b=this._getFinalPath(g),A=new URL(this.url+`/object/upload/sign/${b}`);A.searchParams.set("token",l);try{let _;const E=Object.assign({upsert:Og.upsert},x),R=Object.assign(Object.assign({},this.headers),{"x-upsert":String(E.upsert)});typeof Blob<"u"&&f instanceof Blob?(_=new FormData,_.append("cacheControl",E.cacheControl),_.append("",f)):typeof FormData<"u"&&f instanceof FormData?(_=f,_.append("cacheControl",E.cacheControl)):(_=f,R["cache-control"]=`max-age=${E.cacheControl}`,R["content-type"]=E.contentType);const N=yield Lf(this.fetch,A.toString(),_,{headers:R});return{data:{path:g,fullPath:N.Key},error:null}}catch(_){if(this.shouldThrowOnError)throw _;if(Qt(_))return{data:null,error:_};throw _}})}createSignedUploadUrl(a,l){return Oe(this,void 0,void 0,function*(){try{let f=this._getFinalPath(a);const x=Object.assign({},this.headers);l!=null&&l.upsert&&(x["x-upsert"]="true");const g=yield Kr(this.fetch,`${this.url}/object/upload/sign/${f}`,{},{headers:x}),b=new URL(this.url+g.url),A=b.searchParams.get("token");if(!A)throw new io("No token returned by API");return{data:{signedUrl:b.toString(),path:a,token:A},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Qt(f))return{data:null,error:f};throw f}})}update(a,l,f){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,l,f)})}move(a,l,f){return Oe(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:l,destinationBucket:f==null?void 0:f.destinationBucket},{headers:this.headers}),error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Qt(x))return{data:null,error:x};throw x}})}copy(a,l,f){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Kr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:l,destinationBucket:f==null?void 0:f.destinationBucket},{headers:this.headers})).Key},error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Qt(x))return{data:null,error:x};throw x}})}createSignedUrl(a,l,f){return Oe(this,void 0,void 0,function*(){try{let x=this._getFinalPath(a),g=yield Kr(this.fetch,`${this.url}/object/sign/${x}`,Object.assign({expiresIn:l},f!=null&&f.transform?{transform:f.transform}:{}),{headers:this.headers});const b=f!=null&&f.download?`&download=${f.download===!0?"":f.download}`:"";return g={signedUrl:encodeURI(`${this.url}${g.signedURL}${b}`)},{data:g,error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Qt(x))return{data:null,error:x};throw x}})}createSignedUrls(a,l,f){return Oe(this,void 0,void 0,function*(){try{const x=yield Kr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:a},{headers:this.headers}),g=f!=null&&f.download?`&download=${f.download===!0?"":f.download}`:"";return{data:x.map(b=>Object.assign(Object.assign({},b),{signedUrl:b.signedURL?encodeURI(`${this.url}${b.signedURL}${g}`):null})),error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Qt(x))return{data:null,error:x};throw x}})}download(a,l){const x=typeof(l==null?void 0:l.transform)<"u"?"render/image/authenticated":"object",g=this.transformOptsToQueryString((l==null?void 0:l.transform)||{}),b=g?`?${g}`:"",A=this._getFinalPath(a),_=()=>$l(this.fetch,`${this.url}/${x}/${A}${b}`,{headers:this.headers,noResolveJson:!0});return new $p(_,this.shouldThrowOnError)}info(a){return Oe(this,void 0,void 0,function*(){const l=this._getFinalPath(a);try{const f=yield $l(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:kf(f),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Qt(f))return{data:null,error:f};throw f}})}exists(a){return Oe(this,void 0,void 0,function*(){const l=this._getFinalPath(a);try{return yield Qp(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Qt(f)&&f instanceof qu){const x=f.originalError;if([400,404].includes(x==null?void 0:x.status))return{data:!1,error:f}}throw f}})}getPublicUrl(a,l){const f=this._getFinalPath(a),x=[],g=l!=null&&l.download?`download=${l.download===!0?"":l.download}`:"";g!==""&&x.push(g);const A=typeof(l==null?void 0:l.transform)<"u"?"render/image":"object",_=this.transformOptsToQueryString((l==null?void 0:l.transform)||{});_!==""&&x.push(_);let E=x.join("&");return E!==""&&(E=`?${E}`),{data:{publicUrl:encodeURI(`${this.url}/${A}/public/${f}${E}`)}}}remove(a){return Oe(this,void 0,void 0,function*(){try{return{data:yield Kf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Qt(l))return{data:null,error:l};throw l}})}list(a,l,f){return Oe(this,void 0,void 0,function*(){try{const x=Object.assign(Object.assign(Object.assign({},ew),l),{prefix:a||""});return{data:yield Kr(this.fetch,`${this.url}/object/list/${this.bucketId}`,x,{headers:this.headers},f),error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Qt(x))return{data:null,error:x};throw x}})}listV2(a,l){return Oe(this,void 0,void 0,function*(){try{const f=Object.assign({},a);return{data:yield Kr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,f,{headers:this.headers},l),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Qt(f))return{data:null,error:f};throw f}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const l=[];return a.width&&l.push(`width=${a.width}`),a.height&&l.push(`height=${a.height}`),a.resize&&l.push(`resize=${a.resize}`),a.format&&l.push(`format=${a.format}`),a.quality&&l.push(`quality=${a.quality}`),l.join("&")}}const dm="2.87.1",gm={"X-Client-Info":`storage-js/${dm}`};class nw{constructor(a,l={},f,x){this.shouldThrowOnError=!1;const g=new URL(a);x!=null&&x.useNewHostname&&/supabase\.(co|in|red)$/.test(g.hostname)&&!g.hostname.includes("storage.supabase.")&&(g.hostname=g.hostname.replace("supabase.","storage.supabase.")),this.url=g.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gm),l),this.fetch=Yf(f)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return Oe(this,void 0,void 0,function*(){try{const l=this.listBucketOptionsToQueryString(a);return{data:yield $l(this.fetch,`${this.url}/bucket${l}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Qt(l))return{data:null,error:l};throw l}})}getBucket(a){return Oe(this,void 0,void 0,function*(){try{return{data:yield $l(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Qt(l))return{data:null,error:l};throw l}})}createBucket(a){return Oe(this,arguments,void 0,function*(l,f={public:!1}){try{return{data:yield Kr(this.fetch,`${this.url}/bucket`,{id:l,name:l,type:f.type,public:f.public,file_size_limit:f.fileSizeLimit,allowed_mime_types:f.allowedMimeTypes},{headers:this.headers}),error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Qt(x))return{data:null,error:x};throw x}})}updateBucket(a,l){return Oe(this,void 0,void 0,function*(){try{return{data:yield Lf(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Qt(f))return{data:null,error:f};throw f}})}emptyBucket(a){return Oe(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Qt(l))return{data:null,error:l};throw l}})}deleteBucket(a){return Oe(this,void 0,void 0,function*(){try{return{data:yield Kf(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Qt(l))return{data:null,error:l};throw l}})}listBucketOptionsToQueryString(a){const l={};return a&&("limit"in a&&(l.limit=String(a.limit)),"offset"in a&&(l.offset=String(a.offset)),a.search&&(l.search=a.search),a.sortColumn&&(l.sortColumn=a.sortColumn),a.sortOrder&&(l.sortOrder=a.sortOrder)),Object.keys(l).length>0?"?"+new URLSearchParams(l).toString():""}}var eo=class extends Error{constructor(d,a){var l;super(d),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&((l=a.icebergType)==null?void 0:l.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rw(d,a,l){const f=new URL(a,d);if(l)for(const[x,g]of Object.entries(l))g!==void 0&&f.searchParams.set(x,g);return f.toString()}async function iw(d){return!d||d.type==="none"?{}:d.type==="bearer"?{Authorization:`Bearer ${d.token}`}:d.type==="header"?{[d.name]:d.value}:d.type==="custom"?await d.getHeaders():{}}function sw(d){const a=d.fetchImpl??globalThis.fetch;return{async request({method:l,path:f,query:x,body:g,headers:b}){const A=rw(d.baseUrl,f,x),_=await iw(d.auth),E=await a(A,{method:l,headers:{...g?{"Content-Type":"application/json"}:{},..._,...b},body:g?JSON.stringify(g):void 0}),R=await E.text(),N=(E.headers.get("content-type")||"").includes("application/json"),B=N&&R?JSON.parse(R):R;if(!E.ok){const L=N?B:void 0,j=L==null?void 0:L.error;throw new eo((j==null?void 0:j.message)??`Request failed with status ${E.status}`,{status:E.status,icebergType:j==null?void 0:j.type,icebergCode:j==null?void 0:j.code,details:L})}return{status:E.status,headers:E.headers,data:B}}}}function Bu(d){return d.join("")}var aw=class{constructor(d,a=""){this.client=d,this.prefix=a}async listNamespaces(d){const a=d?{parent:Bu(d.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(f=>({namespace:f}))}async createNamespace(d,a){const l={namespace:d.namespace,properties:a==null?void 0:a.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(d){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bu(d.namespace)}`})}async loadNamespaceMetadata(d){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bu(d.namespace)}`})).data.properties}}async namespaceExists(d){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bu(d.namespace)}`}),!0}catch(a){if(a instanceof eo&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(d,a){try{return await this.createNamespace(d,a)}catch(l){if(l instanceof eo&&l.status===409)return;throw l}}};function Pa(d){return d.join("")}var lw=class{constructor(d,a="",l){this.client=d,this.prefix=a,this.accessDelegation=l}async listTables(d){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pa(d.namespace)}/tables`})).data.identifiers}async createTable(d,a){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pa(d.namespace)}/tables`,body:a,headers:l})).data.metadata}async updateTable(d,a){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pa(d.namespace)}/tables/${d.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(d,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pa(d.namespace)}/tables/${d.name}`,query:{purgeRequested:String((a==null?void 0:a.purge)??!1)}})}async loadTable(d){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pa(d.namespace)}/tables/${d.name}`,headers:a})).data.metadata}async tableExists(d){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pa(d.namespace)}/tables/${d.name}`,headers:a}),!0}catch(l){if(l instanceof eo&&l.status===404)return!1;throw l}}async createTableIfNotExists(d,a){try{return await this.createTable(d,a)}catch(l){if(l instanceof eo&&l.status===409)return await this.loadTable({namespace:d.namespace,name:a.name});throw l}}},ow=class{constructor(d){var f;let a="v1";d.catalogName&&(a+=`/${d.catalogName}`);const l=d.baseUrl.endsWith("/")?d.baseUrl:`${d.baseUrl}/`;this.client=sw({baseUrl:l,auth:d.auth,fetchImpl:d.fetch}),this.accessDelegation=(f=d.accessDelegation)==null?void 0:f.join(","),this.namespaceOps=new aw(this.client,a),this.tableOps=new lw(this.client,a,this.accessDelegation)}async listNamespaces(d){return this.namespaceOps.listNamespaces(d)}async createNamespace(d,a){return this.namespaceOps.createNamespace(d,a)}async dropNamespace(d){await this.namespaceOps.dropNamespace(d)}async loadNamespaceMetadata(d){return this.namespaceOps.loadNamespaceMetadata(d)}async listTables(d){return this.tableOps.listTables(d)}async createTable(d,a){return this.tableOps.createTable(d,a)}async updateTable(d,a){return this.tableOps.updateTable(d,a)}async dropTable(d,a){await this.tableOps.dropTable(d,a)}async loadTable(d){return this.tableOps.loadTable(d)}async namespaceExists(d){return this.namespaceOps.namespaceExists(d)}async tableExists(d){return this.tableOps.tableExists(d)}async createNamespaceIfNotExists(d,a){return this.namespaceOps.createNamespaceIfNotExists(d,a)}async createTableIfNotExists(d,a){return this.tableOps.createTableIfNotExists(d,a)}};class mm{constructor(a,l={},f){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gm),l),this.fetch=Yf(f)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return Oe(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Qt(l))return{data:null,error:l};throw l}})}listBuckets(a){return Oe(this,void 0,void 0,function*(){try{const l=new URLSearchParams;(a==null?void 0:a.limit)!==void 0&&l.set("limit",a.limit.toString()),(a==null?void 0:a.offset)!==void 0&&l.set("offset",a.offset.toString()),a!=null&&a.sortColumn&&l.set("sortColumn",a.sortColumn),a!=null&&a.sortOrder&&l.set("sortOrder",a.sortOrder),a!=null&&a.search&&l.set("search",a.search);const f=l.toString(),x=f?`${this.url}/bucket?${f}`:`${this.url}/bucket`;return{data:yield $l(this.fetch,x,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Qt(l))return{data:null,error:l};throw l}})}deleteBucket(a){return Oe(this,void 0,void 0,function*(){try{return{data:yield Kf(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Qt(l))return{data:null,error:l};throw l}})}from(a){if(!Kp(a))throw new io("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new ow({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>Oe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),f=this.shouldThrowOnError;return new Proxy(l,{get(g,b){const A=g[b];return typeof A!="function"?A:(..._)=>Oe(this,void 0,void 0,function*(){try{return{data:yield A.apply(g,_),error:null}}catch(E){if(f)throw E;return{data:null,error:E}}})}})}}const Wf={"X-Client-Info":`storage-js/${dm}`,"Content-Type":"application/json"};class Zf extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function lr(d){return typeof d=="object"&&d!==null&&"__isStorageVectorsError"in d}class Uu extends Zf{constructor(a,l,f){super(a),this.name="StorageVectorsApiError",this.status=l,this.statusCode=f}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xm extends Zf{constructor(a,l){super(a),this.name="StorageVectorsUnknownError",this.originalError=l}}var Uf;(function(d){d.InternalError="InternalError",d.S3VectorConflictException="S3VectorConflictException",d.S3VectorNotFoundException="S3VectorNotFoundException",d.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",d.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",d.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Uf||(Uf={}));const ec=d=>d?(...a)=>d(...a):(...a)=>fetch(...a),uw=()=>Response,ym=d=>{if(typeof d!="object"||d===null)return!1;const a=Object.getPrototypeOf(d);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in d)&&!(Symbol.iterator in d)},cw=d=>Array.from(new Float32Array(d)),hw=(d,a)=>{if(a!==void 0&&d.float32.length!==a)throw new Error(`Vector dimension mismatch: expected ${a}, got ${d.float32.length}`)},Rg=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),fw=(d,a,l)=>Oe(void 0,void 0,void 0,function*(){if(d&&typeof d=="object"&&"status"in d&&"ok"in d&&typeof d.status=="number"&&!(l!=null&&l.noResolveJson)){const x=d.status||500,g=d;if(typeof g.json=="function")g.json().then(b=>{const A=(b==null?void 0:b.statusCode)||(b==null?void 0:b.code)||x+"";a(new Uu(Rg(b),x,A))}).catch(()=>{const b=x+"",A=g.statusText||`HTTP ${x} error`;a(new Uu(A,x,b))});else{const b=x+"",A=g.statusText||`HTTP ${x} error`;a(new Uu(A,x,b))}}else a(new xm(Rg(d),d))}),dw=(d,a,l,f)=>{const x={method:d,headers:(a==null?void 0:a.headers)||{}};return f?(ym(f)?(x.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),x.body=JSON.stringify(f)):x.body=f,Object.assign(Object.assign({},x),l)):x};function gw(d,a,l,f,x,g){return Oe(this,void 0,void 0,function*(){return new Promise((b,A)=>{d(l,dw(a,f,x,g)).then(_=>{if(!_.ok)throw _;if(f!=null&&f.noResolveJson)return _;const E=_.headers.get("content-type");return!E||!E.includes("application/json")?{}:_.json()}).then(_=>b(_)).catch(_=>fw(_,A,f))})})}function Er(d,a,l,f,x){return Oe(this,void 0,void 0,function*(){return gw(d,"POST",a,f,x,l)})}class pm{constructor(a,l={},f){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wf),l),this.fetch=ec(f)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Er(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}getIndex(a,l){return Oe(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:l},{headers:this.headers}),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(lr(f))return{data:null,error:f};throw f}})}listIndexes(a){return Oe(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}deleteIndex(a,l){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Er(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:l},{headers:this.headers}))||{},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(lr(f))return{data:null,error:f};throw f}})}}class wm{constructor(a,l={},f){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wf),l),this.fetch=ec(f)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return Oe(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Er(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}getVectors(a){return Oe(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}listVectors(a){return Oe(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield Er(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}queryVectors(a){return Oe(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}deleteVectors(a){return Oe(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Er(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}}class bm{constructor(a,l={},f){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wf),l),this.fetch=ec(f)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Er(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}getBucket(a){return Oe(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}listBuckets(){return Oe(this,arguments,void 0,function*(a={}){try{return{data:yield Er(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}deleteBucket(a){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Er(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}}class vm extends bm{constructor(a,l={}){super(a,l.headers||{},l.fetch)}from(a){return new Em(this.url,this.headers,a,this.fetch)}createBucket(a){const l=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Oe(this,void 0,void 0,function*(){return l.createBucket.call(this,a)})}getBucket(a){const l=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Oe(this,void 0,void 0,function*(){return l.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Oe(this,arguments,void 0,function*(l={}){return a.listBuckets.call(this,l)})}deleteBucket(a){const l=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Oe(this,void 0,void 0,function*(){return l.deleteBucket.call(this,a)})}}class Em extends pm{constructor(a,l,f,x){super(a,l,x),this.vectorBucketName=f}createIndex(a){const l=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Oe(this,void 0,void 0,function*(){return l.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Oe(this,arguments,void 0,function*(l={}){return a.listIndexes.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const l=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Oe(this,void 0,void 0,function*(){return l.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const l=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Oe(this,void 0,void 0,function*(){return l.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new _m(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class _m extends wm{constructor(a,l,f,x,g){super(a,l,g),this.vectorBucketName=f,this.indexName=x}putVectors(a){const l=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Oe(this,void 0,void 0,function*(){return l.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const l=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Oe(this,void 0,void 0,function*(){return l.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Oe(this,arguments,void 0,function*(l={}){return a.listVectors.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const l=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Oe(this,void 0,void 0,function*(){return l.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const l=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Oe(this,void 0,void 0,function*(){return l.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class mw extends nw{constructor(a,l={},f,x){super(a,l,f,x)}from(a){return new tw(this.url,this.headers,a,this.fetch)}get vectors(){return new vm(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mm(this.url+"/iceberg",this.headers,this.fetch)}}const xw=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:mm,StorageApiError:hm,StorageClient:mw,StorageError:io,StorageUnknownError:qu,StorageVectorsApiError:Uu,StorageVectorsClient:vm,StorageVectorsError:Zf,get StorageVectorsErrorCode(){return Uf},StorageVectorsUnknownError:xm,VectorBucketApi:bm,VectorBucketScope:Em,VectorDataApi:wm,VectorIndexApi:pm,VectorIndexScope:_m,isPlainObject:ym,isStorageError:Qt,isStorageVectorsError:lr,normalizeToFloat32:cw,resolveFetch:ec,resolveResponse:uw,validateVectorDimension:hw},Symbol.toStringTag,{value:"Module"})),yw=no(xw);var uf={},Yl={},Ng;function pw(){return Ng||(Ng=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.version=void 0,Yl.version="2.87.1"),Yl}var Ig;function ww(){return Ig||(Ig=1,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.DEFAULT_REALTIME_OPTIONS=d.DEFAULT_AUTH_OPTIONS=d.DEFAULT_DB_OPTIONS=d.DEFAULT_GLOBAL_OPTIONS=d.DEFAULT_HEADERS=void 0;const a=pw();let l="";typeof Deno<"u"?l="deno":typeof document<"u"?l="web":typeof navigator<"u"&&navigator.product==="ReactNative"?l="react-native":l="node",d.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${l}/${a.version}`},d.DEFAULT_GLOBAL_OPTIONS={headers:d.DEFAULT_HEADERS},d.DEFAULT_DB_OPTIONS={schema:"public"},d.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d.DEFAULT_REALTIME_OPTIONS={}})(uf)),uf}var cf={},Dg;function bw(){return Dg||(Dg=1,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.fetchWithAuth=d.resolveHeadersConstructor=d.resolveFetch=void 0;const a=x=>x?(...g)=>x(...g):(...g)=>fetch(...g);d.resolveFetch=a;const l=()=>Headers;d.resolveHeadersConstructor=l;const f=(x,g,b)=>{const A=(0,d.resolveFetch)(b),_=(0,d.resolveHeadersConstructor)();return async(E,R)=>{var N;const B=(N=await g())!==null&&N!==void 0?N:x;let L=new _(R==null?void 0:R.headers);return L.has("apikey")||L.set("apikey",x),L.has("Authorization")||L.set("Authorization",`Bearer ${B}`),A(E,Object.assign(Object.assign({},R),{headers:L}))}};d.fetchWithAuth=f})(cf)),cf}var Di={},Mg;function vw(){if(Mg)return Di;Mg=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.isBrowser=void 0,Di.uuid=d,Di.ensureTrailingSlash=a,Di.applySettingDefaults=f,Di.validateSupabaseUrl=x;function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(g){var b=Math.random()*16|0,A=g=="x"?b:b&3|8;return A.toString(16)})}function a(g){return g.endsWith("/")?g:g+"/"}const l=()=>typeof window<"u";Di.isBrowser=l;function f(g,b){var A,_;const{db:E,auth:R,realtime:N,global:B}=g,{db:L,auth:j,realtime:H,global:J}=b,ie={db:Object.assign(Object.assign({},L),E),auth:Object.assign(Object.assign({},j),R),realtime:Object.assign(Object.assign({},H),N),storage:{},global:Object.assign(Object.assign(Object.assign({},J),B),{headers:Object.assign(Object.assign({},(A=J==null?void 0:J.headers)!==null&&A!==void 0?A:{}),(_=B==null?void 0:B.headers)!==null&&_!==void 0?_:{})}),accessToken:async()=>""};return g.accessToken?ie.accessToken=g.accessToken:delete ie.accessToken,ie}function x(g){const b=g==null?void 0:g.trim();if(!b)throw new Error("supabaseUrl is required.");if(!b.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a(b))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Di}var Kl={};const Am="2.87.1",qa=30*1e3,Pf=3,hf=Pf*qa,Ew="http://localhost:9999",_w="supabase.auth.token",Aw={"X-Client-Info":`gotrue-js/${Am}`},jf="X-Supabase-Api-Version",Cm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Cw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Sw=600*1e3;let Wa=class extends Error{constructor(a,l,f){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=f}};function Be(d){return typeof d=="object"&&d!==null&&"__isAuthError"in d}let Sm=class extends Wa{constructor(a,l,f){super(a,l,f),this.name="AuthApiError",this.status=l,this.code=f}};function Tm(d){return Be(d)&&d.name==="AuthApiError"}let ps=class extends Wa{constructor(a,l){super(a),this.name="AuthUnknownError",this.originalError=l}},Bi=class extends Wa{constructor(a,l,f,x){super(a,f,x),this.name=l,this.status=f}},ar=class extends Bi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Om(d){return Be(d)&&d.name==="AuthSessionMissingError"}let Ys=class extends Bi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Zl=class extends Bi{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}},Ql=class extends Bi{constructor(a,l=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Rm(d){return Be(d)&&d.name==="AuthImplicitGrantRedirectError"}let Ff=class extends Bi{constructor(a,l=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Gu=class extends Bi{constructor(a,l){super(a,"AuthRetryableFetchError",l,void 0)}};function Pu(d){return Be(d)&&d.name==="AuthRetryableFetchError"}let zf=class extends Bi{constructor(a,l,f){super(a,"AuthWeakPasswordError",l,"weak_password"),this.reasons=f}};function Tw(d){return Be(d)&&d.name==="AuthWeakPasswordError"}let Vu=class extends Bi{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}};const Xu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bg=` 	
\r=`.split(""),Ow=(()=>{const d=new Array(128);for(let a=0;a<d.length;a+=1)d[a]=-1;for(let a=0;a<Bg.length;a+=1)d[Bg[a].charCodeAt(0)]=-2;for(let a=0;a<Xu.length;a+=1)d[Xu[a].charCodeAt(0)]=a;return d})();function kg(d,a,l){if(d!==null)for(a.queue=a.queue<<8|d,a.queuedBits+=8;a.queuedBits>=6;){const f=a.queue>>a.queuedBits-6&63;l(Xu[f]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const f=a.queue>>a.queuedBits-6&63;l(Xu[f]),a.queuedBits-=6}}function Nm(d,a,l){const f=Ow[d];if(f>-1)for(a.queue=a.queue<<6|f,a.queuedBits+=6;a.queuedBits>=8;)l(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(f===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(d)}"`)}}function Lg(d){const a=[],l=b=>{a.push(String.fromCodePoint(b))},f={utf8seq:0,codepoint:0},x={queue:0,queuedBits:0},g=b=>{Iw(b,f,l)};for(let b=0;b<d.length;b+=1)Nm(d.charCodeAt(b),x,g);return a.join("")}function Rw(d,a){if(d<=127){a(d);return}else if(d<=2047){a(192|d>>6),a(128|d&63);return}else if(d<=65535){a(224|d>>12),a(128|d>>6&63),a(128|d&63);return}else if(d<=1114111){a(240|d>>18),a(128|d>>12&63),a(128|d>>6&63),a(128|d&63);return}throw new Error(`Unrecognized Unicode codepoint: ${d.toString(16)}`)}function Nw(d,a){for(let l=0;l<d.length;l+=1){let f=d.charCodeAt(l);if(f>55295&&f<=56319){const x=(f-55296)*1024&65535;f=(d.charCodeAt(l+1)-56320&65535|x)+65536,l+=1}Rw(f,a)}}function Iw(d,a,l){if(a.utf8seq===0){if(d<=127){l(d);return}for(let f=1;f<6;f+=1)if((d>>7-f&1)===0){a.utf8seq=f;break}if(a.utf8seq===2)a.codepoint=d&31;else if(a.utf8seq===3)a.codepoint=d&15;else if(a.utf8seq===4)a.codepoint=d&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(d<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|d&63,a.utf8seq-=1,a.utf8seq===0&&l(a.codepoint)}}function Ya(d){const a=[],l={queue:0,queuedBits:0},f=x=>{a.push(x)};for(let x=0;x<d.length;x+=1)Nm(d.charCodeAt(x),l,f);return new Uint8Array(a)}function Dw(d){const a=[];return Nw(d,l=>a.push(l)),new Uint8Array(a)}function Js(d){const a=[],l={queue:0,queuedBits:0},f=x=>{a.push(x)};return d.forEach(x=>kg(x,l,f)),kg(null,l,f),a.join("")}function Mw(d){return Math.round(Date.now()/1e3)+d}function Bw(){return Symbol("auth-callback")}const Pn=()=>typeof window<"u"&&typeof document<"u",Vs={tested:!1,writable:!1},Im=()=>{if(!Pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vs.tested)return Vs.writable;const d=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(d,d),globalThis.localStorage.removeItem(d),Vs.tested=!0,Vs.writable=!0}catch{Vs.tested=!0,Vs.writable=!1}return Vs.writable};function kw(d){const a={},l=new URL(d);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((x,g)=>{a[g]=x})}catch{}return l.searchParams.forEach((f,x)=>{a[x]=f}),a}const Dm=d=>d?(...a)=>d(...a):(...a)=>fetch(...a),Lw=d=>typeof d=="object"&&d!==null&&"status"in d&&"ok"in d&&"json"in d&&typeof d.json=="function",Ga=async(d,a,l)=>{await d.setItem(a,JSON.stringify(l))},Xs=async(d,a)=>{const l=await d.getItem(a);if(!l)return null;try{return JSON.parse(l)}catch{return l}},Un=async(d,a)=>{await d.removeItem(a)};class tc{constructor(){this.promise=new tc.promiseConstructor((a,l)=>{this.resolve=a,this.reject=l})}}tc.promiseConstructor=Promise;function ff(d){const a=d.split(".");if(a.length!==3)throw new Vu("Invalid JWT structure");for(let f=0;f<a.length;f++)if(!Cw.test(a[f]))throw new Vu("JWT not in base64url format");return{header:JSON.parse(Lg(a[0])),payload:JSON.parse(Lg(a[1])),signature:Ya(a[2]),raw:{header:a[0],payload:a[1]}}}async function Uw(d){return await new Promise(a=>{setTimeout(()=>a(null),d)})}function Pw(d,a){return new Promise((f,x)=>{(async()=>{for(let g=0;g<1/0;g++)try{const b=await d(g);if(!a(g,null,b)){f(b);return}}catch(b){if(!a(g,b)){x(b);return}}})()})}function jw(d){return("0"+d.toString(16)).substr(-2)}function Fw(){const a=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",f=l.length;let x="";for(let g=0;g<56;g++)x+=l.charAt(Math.floor(Math.random()*f));return x}return crypto.getRandomValues(a),Array.from(a,jw).join("")}async function zw(d){const l=new TextEncoder().encode(d),f=await crypto.subtle.digest("SHA-256",l),x=new Uint8Array(f);return Array.from(x).map(g=>String.fromCharCode(g)).join("")}async function Hw(d){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),d;const l=await zw(d);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ja(d,a,l=!1){const f=Fw();let x=f;l&&(x+="/PASSWORD_RECOVERY"),await Ga(d,`${a}-code-verifier`,x);const g=await Hw(f);return[g,f===g?"plain":"s256"]}const qw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gw(d){const a=d.headers.get(jf);if(!a||!a.match(qw))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function Vw(d){if(!d)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(d<=a)throw new Error("JWT has expired")}function Xw(d){switch(d){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Yw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fa(d){if(!Yw.test(d))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function df(){const d={};return new Proxy(d,{get:(a,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const f=l.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kw(d,a){return new Proxy(d,{get:(l,f,x)=>{if(f==="__isInsecureUserWarningProxy")return!0;if(typeof f=="symbol"){const g=f.toString();if(g==="Symbol(Symbol.toPrimitive)"||g==="Symbol(Symbol.toStringTag)"||g==="Symbol(util.inspect.custom)"||g==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,f,x)}return!a.value&&typeof f=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(l,f,x)}})}function Ug(d){return JSON.parse(JSON.stringify(d))}const Ks=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),Ww=[502,503,504];async function Pg(d){var a;if(!Lw(d))throw new Gu(Ks(d),0);if(Ww.includes(d.status))throw new Gu(Ks(d),d.status);let l;try{l=await d.json()}catch(g){throw new ps(Ks(g),g)}let f;const x=Gw(d);if(x&&x.getTime()>=Cm["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?f=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(f=l.error_code),f){if(f==="weak_password")throw new zf(Ks(l),d.status,((a=l.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(f==="session_not_found")throw new ar}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((g,b)=>g&&typeof b=="string",!0))throw new zf(Ks(l),d.status,l.weak_password.reasons);throw new Sm(Ks(l),d.status||500,f)}const Zw=(d,a,l,f)=>{const x={method:d,headers:(a==null?void 0:a.headers)||{}};return d==="GET"?x:(x.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),x.body=JSON.stringify(f),Object.assign(Object.assign({},x),l))};async function ze(d,a,l,f){var x;const g=Object.assign({},f==null?void 0:f.headers);g[jf]||(g[jf]=Cm["2024-01-01"].name),f!=null&&f.jwt&&(g.Authorization=`Bearer ${f.jwt}`);const b=(x=f==null?void 0:f.query)!==null&&x!==void 0?x:{};f!=null&&f.redirectTo&&(b.redirect_to=f.redirectTo);const A=Object.keys(b).length?"?"+new URLSearchParams(b).toString():"",_=await Qw(d,a,l+A,{headers:g,noResolveJson:f==null?void 0:f.noResolveJson},{},f==null?void 0:f.body);return f!=null&&f.xform?f==null?void 0:f.xform(_):{data:Object.assign({},_),error:null}}async function Qw(d,a,l,f,x,g){const b=Zw(a,f,x,g);let A;try{A=await d(l,Object.assign({},b))}catch(_){throw console.error(_),new Gu(Ks(_),0)}if(A.ok||await Pg(A),f!=null&&f.noResolveJson)return A;try{return await A.json()}catch(_){await Pg(_)}}function Yr(d){var a;let l=null;eb(d)&&(l=Object.assign({},d),d.expires_at||(l.expires_at=Mw(d.expires_in)));const f=(a=d.user)!==null&&a!==void 0?a:d;return{data:{session:l,user:f},error:null}}function jg(d){const a=Yr(d);return!a.error&&d.weak_password&&typeof d.weak_password=="object"&&Array.isArray(d.weak_password.reasons)&&d.weak_password.reasons.length&&d.weak_password.message&&typeof d.weak_password.message=="string"&&d.weak_password.reasons.reduce((l,f)=>l&&typeof f=="string",!0)&&(a.data.weak_password=d.weak_password),a}function ws(d){var a;return{data:{user:(a=d.user)!==null&&a!==void 0?a:d},error:null}}function Jw(d){return{data:d,error:null}}function $w(d){const{action_link:a,email_otp:l,hashed_token:f,redirect_to:x,verification_type:g}=d,b=Za(d,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),A={action_link:a,email_otp:l,hashed_token:f,redirect_to:x,verification_type:g},_=Object.assign({},b);return{data:{properties:A,user:_},error:null}}function Fg(d){return d}function eb(d){return d.access_token&&d.refresh_token&&d.expires_in}const ju=["global","local","others"];let Qf=class{constructor({url:a="",headers:l={},fetch:f}){this.url=a,this.headers=l,this.fetch=Dm(f),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,l=ju[0]){if(ju.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ju.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(f){if(Be(f))return{data:null,error:f};throw f}}async inviteUserByEmail(a,l={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:ws})}catch(f){if(Be(f))return{data:{user:null},error:f};throw f}}async generateLink(a){try{const{options:l}=a,f=Za(a,["options"]),x=Object.assign(Object.assign({},f),l);return"newEmail"in f&&(x.new_email=f==null?void 0:f.newEmail,delete x.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:x,headers:this.headers,xform:$w,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(Be(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(a){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:ws})}catch(l){if(Be(l))return{data:{user:null},error:l};throw l}}async listUsers(a){var l,f,x,g,b,A,_;try{const E={nextPage:null,lastPage:0,total:0},R=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(f=(l=a==null?void 0:a.page)===null||l===void 0?void 0:l.toString())!==null&&f!==void 0?f:"",per_page:(g=(x=a==null?void 0:a.perPage)===null||x===void 0?void 0:x.toString())!==null&&g!==void 0?g:""},xform:Fg});if(R.error)throw R.error;const N=await R.json(),B=(b=R.headers.get("x-total-count"))!==null&&b!==void 0?b:0,L=(_=(A=R.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&_!==void 0?_:[];return L.length>0&&(L.forEach(j=>{const H=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),J=JSON.parse(j.split(";")[1].split("=")[1]);E[`${J}Page`]=H}),E.total=parseInt(B)),{data:Object.assign(Object.assign({},N),E),error:null}}catch(E){if(Be(E))return{data:{users:[]},error:E};throw E}}async getUserById(a){Fa(a);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:ws})}catch(l){if(Be(l))return{data:{user:null},error:l};throw l}}async updateUserById(a,l){Fa(a);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:l,headers:this.headers,xform:ws})}catch(f){if(Be(f))return{data:{user:null},error:f};throw f}}async deleteUser(a,l=!1){Fa(a);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:l},xform:ws})}catch(f){if(Be(f))return{data:{user:null},error:f};throw f}}async _listFactors(a){Fa(a.userId);try{const{data:l,error:f}=await ze(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:x=>({data:{factors:x},error:null})});return{data:l,error:f}}catch(l){if(Be(l))return{data:null,error:l};throw l}}async _deleteFactor(a){Fa(a.userId),Fa(a.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(l){if(Be(l))return{data:null,error:l};throw l}}async _listOAuthClients(a){var l,f,x,g,b,A,_;try{const E={nextPage:null,lastPage:0,total:0},R=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(f=(l=a==null?void 0:a.page)===null||l===void 0?void 0:l.toString())!==null&&f!==void 0?f:"",per_page:(g=(x=a==null?void 0:a.perPage)===null||x===void 0?void 0:x.toString())!==null&&g!==void 0?g:""},xform:Fg});if(R.error)throw R.error;const N=await R.json(),B=(b=R.headers.get("x-total-count"))!==null&&b!==void 0?b:0,L=(_=(A=R.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&_!==void 0?_:[];return L.length>0&&(L.forEach(j=>{const H=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),J=JSON.parse(j.split(";")[1].split("=")[1]);E[`${J}Page`]=H}),E.total=parseInt(B)),{data:Object.assign(Object.assign({},N),E),error:null}}catch(E){if(Be(E))return{data:{clients:[]},error:E};throw E}}async _createOAuthClient(a){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Be(l))return{data:null,error:l};throw l}}async _getOAuthClient(a){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Be(l))return{data:null,error:l};throw l}}async _updateOAuthClient(a,l){try{return await ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:l,headers:this.headers,xform:f=>({data:f,error:null})})}catch(f){if(Be(f))return{data:null,error:f};throw f}}async _deleteOAuthClient(a){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Be(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(a){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Be(l))return{data:null,error:l};throw l}}};function zg(d={}){return{getItem:a=>d[a]||null,setItem:(a,l)=>{d[a]=l},removeItem:a=>{delete d[a]}}}const Ws={debug:!!(globalThis&&Im()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jf extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}let Mm=class extends Jf{};class tb extends Jf{}async function Bm(d,a,l){Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",d,a);const f=new globalThis.AbortController;return a>0&&setTimeout(()=>{f.abort(),Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",d)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(d,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:f.signal},async x=>{if(x){Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",d,x.name);try{return await l()}finally{Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",d,x.name)}}else{if(a===0)throw Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",d),new Mm(`Acquiring an exclusive Navigator LockManager lock "${d}" immediately failed`);if(Ws.debug)try{const g=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(g,null,"  "))}catch(g){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",g)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}const Hg={};async function nb(d,a,l){var f;const x=(f=Hg[d])!==null&&f!==void 0?f:Promise.resolve(),g=Promise.race([x.catch(()=>null),a>=0?new Promise((b,A)=>{setTimeout(()=>{A(new tb(`Acquring process lock with name "${d}" timed out`))},a)}):null].filter(b=>b)).catch(b=>{if(b&&b.isAcquireTimeout)throw b;return null}).then(async()=>await l());return Hg[d]=g.catch(async b=>{if(b&&b.isAcquireTimeout)return await x,null;throw b}),await g}function rb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function km(d){if(!/^0x[a-fA-F0-9]{40}$/.test(d))throw new Error(`@supabase/auth-js: Address "${d}" is invalid.`);return d.toLowerCase()}function ib(d){return parseInt(d,16)}function sb(d){const a=new TextEncoder().encode(d);return"0x"+Array.from(a,f=>f.toString(16).padStart(2,"0")).join("")}function ab(d){var a;const{chainId:l,domain:f,expirationTime:x,issuedAt:g=new Date,nonce:b,notBefore:A,requestId:_,resources:E,scheme:R,uri:N,version:B}=d;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(b&&b.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${b}`);if(!N)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(B!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${B}`);if(!((a=d.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${d.statement}`)}const L=km(d.address),j=R?`${R}://${f}`:f,H=d.statement?`${d.statement}
`:"",J=`${j} wants you to sign in with your Ethereum account:
${L}

${H}`;let ie=`URI: ${N}
Version: ${B}
Chain ID: ${l}${b?`
Nonce: ${b}`:""}
Issued At: ${g.toISOString()}`;if(x&&(ie+=`
Expiration Time: ${x.toISOString()}`),A&&(ie+=`
Not Before: ${A.toISOString()}`),_&&(ie+=`
Request ID: ${_}`),E){let ce=`
Resources:`;for(const Y of E){if(!Y||typeof Y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Y}`);ce+=`
- ${Y}`}ie+=ce}return`${J}
${ie}`}class bn extends Error{constructor({message:a,code:l,cause:f,name:x}){var g;super(a,{cause:f}),this.__isWebAuthnError=!0,this.name=(g=x??(f instanceof Error?f.name:void 0))!==null&&g!==void 0?g:"Unknown Error",this.code=l}}class Yu extends bn{constructor(a,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:a}),this.name="WebAuthnUnknownError",this.originalError=l}}function lb({error:d,options:a}){var l,f,x;const{publicKey:g}=a;if(!g)throw Error("options was missing required publicKey property");if(d.name==="AbortError"){if(a.signal instanceof AbortSignal)return new bn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:d})}else if(d.name==="ConstraintError"){if(((l=g.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new bn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:d});if(a.mediation==="conditional"&&((f=g.authenticatorSelection)===null||f===void 0?void 0:f.userVerification)==="required")return new bn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:d});if(((x=g.authenticatorSelection)===null||x===void 0?void 0:x.userVerification)==="required")return new bn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:d})}else{if(d.name==="InvalidStateError")return new bn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:d});if(d.name==="NotAllowedError")return new bn({message:d.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d});if(d.name==="NotSupportedError")return g.pubKeyCredParams.filter(A=>A.type==="public-key").length===0?new bn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:d}):new bn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:d});if(d.name==="SecurityError"){const b=window.location.hostname;if(Lm(b)){if(g.rp.id!==b)return new bn({message:`The RP ID "${g.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:d})}else return new bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:d})}else if(d.name==="TypeError"){if(g.user.id.byteLength<1||g.user.id.byteLength>64)return new bn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:d})}else if(d.name==="UnknownError")return new bn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:d})}return new bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d})}function ob({error:d,options:a}){const{publicKey:l}=a;if(!l)throw Error("options was missing required publicKey property");if(d.name==="AbortError"){if(a.signal instanceof AbortSignal)return new bn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:d})}else{if(d.name==="NotAllowedError")return new bn({message:d.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d});if(d.name==="SecurityError"){const f=window.location.hostname;if(Lm(f)){if(l.rpId!==f)return new bn({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:d})}else return new bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:d})}else if(d.name==="UnknownError")return new bn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:d})}return new bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d})}class ub{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const cb=new ub;function hb(d){if(!d)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(d);const{challenge:a,user:l,excludeCredentials:f}=d,x=Za(d,["challenge","user","excludeCredentials"]),g=Ya(a).buffer,b=Object.assign(Object.assign({},l),{id:Ya(l.id).buffer}),A=Object.assign(Object.assign({},x),{challenge:g,user:b});if(f&&f.length>0){A.excludeCredentials=new Array(f.length);for(let _=0;_<f.length;_++){const E=f[_];A.excludeCredentials[_]=Object.assign(Object.assign({},E),{id:Ya(E.id).buffer,type:E.type||"public-key",transports:E.transports})}}return A}function fb(d){if(!d)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(d);const{challenge:a,allowCredentials:l}=d,f=Za(d,["challenge","allowCredentials"]),x=Ya(a).buffer,g=Object.assign(Object.assign({},f),{challenge:x});if(l&&l.length>0){g.allowCredentials=new Array(l.length);for(let b=0;b<l.length;b++){const A=l[b];g.allowCredentials[b]=Object.assign(Object.assign({},A),{id:Ya(A.id).buffer,type:A.type||"public-key",transports:A.transports})}}return g}function db(d){var a;if("toJSON"in d&&typeof d.toJSON=="function")return d.toJSON();const l=d;return{id:d.id,rawId:d.id,response:{attestationObject:Js(new Uint8Array(d.response.attestationObject)),clientDataJSON:Js(new Uint8Array(d.response.clientDataJSON))},type:"public-key",clientExtensionResults:d.getClientExtensionResults(),authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function gb(d){var a;if("toJSON"in d&&typeof d.toJSON=="function")return d.toJSON();const l=d,f=d.getClientExtensionResults(),x=d.response;return{id:d.id,rawId:d.id,response:{authenticatorData:Js(new Uint8Array(x.authenticatorData)),clientDataJSON:Js(new Uint8Array(x.clientDataJSON)),signature:Js(new Uint8Array(x.signature)),userHandle:x.userHandle?Js(new Uint8Array(x.userHandle)):void 0},type:"public-key",clientExtensionResults:f,authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Lm(d){return d==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(d)}function qg(){var d,a;return!!(Pn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((d=navigator==null?void 0:navigator.credentials)===null||d===void 0?void 0:d.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function mb(d){try{const a=await navigator.credentials.create(d);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Yu("Browser returned unexpected credential type",a)}:{data:null,error:new Yu("Empty credential response",a)}}catch(a){return{data:null,error:lb({error:a,options:d})}}}async function xb(d){try{const a=await navigator.credentials.get(d);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Yu("Browser returned unexpected credential type",a)}:{data:null,error:new Yu("Empty credential response",a)}}catch(a){return{data:null,error:ob({error:a,options:d})}}}const yb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},pb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ku(...d){const a=x=>x!==null&&typeof x=="object"&&!Array.isArray(x),l=x=>x instanceof ArrayBuffer||ArrayBuffer.isView(x),f={};for(const x of d)if(x)for(const g in x){const b=x[g];if(b!==void 0)if(Array.isArray(b))f[g]=b;else if(l(b))f[g]=b;else if(a(b)){const A=f[g];a(A)?f[g]=Ku(A,b):f[g]=Ku(b)}else f[g]=b}return f}function wb(d,a){return Ku(yb,d,a||{})}function bb(d,a){return Ku(pb,d,a||{})}class vb{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:l,friendlyName:f,signal:x},g){try{const{data:b,error:A}=await this.client.mfa.challenge({factorId:a,webauthn:l});if(!b)return{data:null,error:A};const _=x??cb.createNewAbortSignal();if(b.webauthn.type==="create"){const{user:E}=b.webauthn.credential_options.publicKey;E.name||(E.name=`${E.id}:${f}`),E.displayName||(E.displayName=E.name)}switch(b.webauthn.type){case"create":{const E=wb(b.webauthn.credential_options.publicKey,g==null?void 0:g.create),{data:R,error:N}=await mb({publicKey:E,signal:_});return R?{data:{factorId:a,challengeId:b.id,webauthn:{type:b.webauthn.type,credential_response:R}},error:null}:{data:null,error:N}}case"request":{const E=bb(b.webauthn.credential_options.publicKey,g==null?void 0:g.request),{data:R,error:N}=await xb(Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:E,signal:_}));return R?{data:{factorId:a,challengeId:b.id,webauthn:{type:b.webauthn.type,credential_response:R}},error:null}:{data:null,error:N}}}}catch(b){return Be(b)?{data:null,error:b}:{data:null,error:new ps("Unexpected error in challenge",b)}}}async _verify({challengeId:a,factorId:l,webauthn:f}){return this.client.mfa.verify({factorId:l,challengeId:a,webauthn:f})}async _authenticate({factorId:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:f=typeof window<"u"?[window.location.origin]:void 0,signal:x}={}},g){if(!l)return{data:null,error:new Wa("rpId is required for WebAuthn authentication")};try{if(!qg())return{data:null,error:new ps("Browser does not support WebAuthn",null)};const{data:b,error:A}=await this.challenge({factorId:a,webauthn:{rpId:l,rpOrigins:f},signal:x},{request:g});if(!b)return{data:null,error:A};const{webauthn:_}=b;return this._verify({factorId:a,challengeId:b.challengeId,webauthn:{type:_.type,rpId:l,rpOrigins:f,credential_response:_.credential_response}})}catch(b){return Be(b)?{data:null,error:b}:{data:null,error:new ps("Unexpected error in authenticate",b)}}}async _register({friendlyName:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:f=typeof window<"u"?[window.location.origin]:void 0,signal:x}={}},g){if(!l)return{data:null,error:new Wa("rpId is required for WebAuthn registration")};try{if(!qg())return{data:null,error:new ps("Browser does not support WebAuthn",null)};const{data:b,error:A}=await this._enroll({friendlyName:a});if(!b)return await this.client.mfa.listFactors().then(R=>{var N;return(N=R.data)===null||N===void 0?void 0:N.all.find(B=>B.factor_type==="webauthn"&&B.friendly_name===a&&B.status!=="unverified")}).then(R=>R?this.client.mfa.unenroll({factorId:R==null?void 0:R.id}):void 0),{data:null,error:A};const{data:_,error:E}=await this._challenge({factorId:b.id,friendlyName:b.friendly_name,webauthn:{rpId:l,rpOrigins:f},signal:x},{create:g});return _?this._verify({factorId:b.id,challengeId:_.challengeId,webauthn:{rpId:l,rpOrigins:f,type:_.webauthn.type,credential_response:_.webauthn.credential_response}}):{data:null,error:E}}catch(b){return Be(b)?{data:null,error:b}:{data:null,error:new ps("Unexpected error in register",b)}}}}rb();const Eb={url:Ew,storageKey:_w,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Aw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Gg(d,a,l){return await l()}const za={};let $f=class Hf{get jwks(){var a,l;return(l=(a=za[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(a){za[this.storageKey]=Object.assign(Object.assign({},za[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,l;return(l=(a=za[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){za[this.storageKey]=Object.assign(Object.assign({},za[this.storageKey]),{cachedAt:a})}constructor(a){var l,f,x;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const g=Object.assign(Object.assign({},Eb),a);if(this.storageKey=g.storageKey,this.instanceID=(l=Hf.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,Hf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!g.debug,typeof g.debug=="function"&&(this.logger=g.debug),this.instanceID>0&&Pn()){const b=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(b),this.logDebugMessages&&console.trace(b)}if(this.persistSession=g.persistSession,this.autoRefreshToken=g.autoRefreshToken,this.admin=new Qf({url:g.url,headers:g.headers,fetch:g.fetch}),this.url=g.url,this.headers=g.headers,this.fetch=Dm(g.fetch),this.lock=g.lock||Gg,this.detectSessionInUrl=g.detectSessionInUrl,this.flowType=g.flowType,this.hasCustomAuthorizationHeader=g.hasCustomAuthorizationHeader,this.throwOnError=g.throwOnError,g.lock?this.lock=g.lock:this.persistSession&&Pn()&&(!((f=globalThis==null?void 0:globalThis.navigator)===null||f===void 0)&&f.locks)?this.lock=Bm:this.lock=Gg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(g.storage?this.storage=g.storage:Im()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zg(this.memoryStorage)),g.userStorage&&(this.userStorage=g.userStorage)):(this.memoryStorage={},this.storage=zg(this.memoryStorage)),Pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(b){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",b)}(x=this.broadcastChannel)===null||x===void 0||x.addEventListener("message",async b=>{this._debug("received broadcast notification from other tab or client",b),await this._notifyAllSubscribers(b.data.event,b.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Am}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let l={},f="none";if(Pn()&&(l=kw(window.location.href),this._isImplicitGrantCallback(l)?f="implicit":await this._isPKCECallback(l)&&(f="pkce")),Pn()&&this.detectSessionInUrl&&f!=="none"){const{data:x,error:g}=await this._getSessionFromURL(l,f);if(g){if(this._debug("#_initialize()","error detecting session from URL",g),Rm(g)){const _=(a=g.details)===null||a===void 0?void 0:a.code;if(_==="identity_already_exists"||_==="identity_not_found"||_==="single_identity_not_deletable")return{error:g}}return await this._removeSession(),{error:g}}const{session:b,redirectType:A}=x;return this._debug("#_initialize()","detected session in URL",b,"redirect type",A),await this._saveSession(b),setTimeout(async()=>{A==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",b):await this._notifyAllSubscribers("SIGNED_IN",b)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return Be(l)?this._returnResult({error:l}):this._returnResult({error:new ps("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var l,f,x;try{const g=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(f=(l=a==null?void 0:a.options)===null||l===void 0?void 0:l.data)!==null&&f!==void 0?f:{},gotrue_meta_security:{captcha_token:(x=a==null?void 0:a.options)===null||x===void 0?void 0:x.captchaToken}},xform:Yr}),{data:b,error:A}=g;if(A||!b)return this._returnResult({data:{user:null,session:null},error:A});const _=b.session,E=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",_)),this._returnResult({data:{user:E,session:_},error:null})}catch(g){if(Be(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signUp(a){var l,f,x;try{let g;if("email"in a){const{email:R,password:N,options:B}=a;let L=null,j=null;this.flowType==="pkce"&&([L,j]=await ja(this.storage,this.storageKey)),g=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:B==null?void 0:B.emailRedirectTo,body:{email:R,password:N,data:(l=B==null?void 0:B.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:B==null?void 0:B.captchaToken},code_challenge:L,code_challenge_method:j},xform:Yr})}else if("phone"in a){const{phone:R,password:N,options:B}=a;g=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:R,password:N,data:(f=B==null?void 0:B.data)!==null&&f!==void 0?f:{},channel:(x=B==null?void 0:B.channel)!==null&&x!==void 0?x:"sms",gotrue_meta_security:{captcha_token:B==null?void 0:B.captchaToken}},xform:Yr})}else throw new Zl("You must provide either an email or phone number and a password");const{data:b,error:A}=g;if(A||!b)return await Un(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:A});const _=b.session,E=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",_)),this._returnResult({data:{user:E,session:_},error:null})}catch(g){if(await Un(this.storage,`${this.storageKey}-code-verifier`),Be(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithPassword(a){try{let l;if("email"in a){const{email:g,password:b,options:A}=a;l=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:g,password:b,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:jg})}else if("phone"in a){const{phone:g,password:b,options:A}=a;l=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:g,password:b,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:jg})}else throw new Zl("You must provide either an email or phone number and a password");const{data:f,error:x}=l;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!f||!f.session||!f.user){const g=new Ys;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign({user:f.user,session:f.session},f.weak_password?{weakPassword:f.weak_password}:null),error:x})}catch(l){if(Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(a){var l,f,x,g;return await this._handleProviderSignIn(a.provider,{redirectTo:(l=a.options)===null||l===void 0?void 0:l.redirectTo,scopes:(f=a.options)===null||f===void 0?void 0:f.scopes,queryParams:(x=a.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:(g=a.options)===null||g===void 0?void 0:g.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:l}=a;switch(l){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(a){var l,f,x,g,b,A,_,E,R,N,B;let L,j;if("message"in a)L=a.message,j=a.signature;else{const{chain:H,wallet:J,statement:ie,options:ce}=a;let Y;if(Pn())if(typeof J=="object")Y=J;else{const fe=window;if("ethereum"in fe&&typeof fe.ethereum=="object"&&"request"in fe.ethereum&&typeof fe.ethereum.request=="function")Y=fe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof J!="object"||!(ce!=null&&ce.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=J}const me=new URL((l=ce==null?void 0:ce.url)!==null&&l!==void 0?l:window.location.href),Le=await Y.request({method:"eth_requestAccounts"}).then(fe=>fe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Le||Le.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _e=km(Le[0]);let ee=(f=ce==null?void 0:ce.signInWithEthereum)===null||f===void 0?void 0:f.chainId;if(!ee){const fe=await Y.request({method:"eth_chainId"});ee=ib(fe)}const Te={domain:me.host,address:_e,statement:ie,uri:me.href,version:"1",chainId:ee,nonce:(x=ce==null?void 0:ce.signInWithEthereum)===null||x===void 0?void 0:x.nonce,issuedAt:(b=(g=ce==null?void 0:ce.signInWithEthereum)===null||g===void 0?void 0:g.issuedAt)!==null&&b!==void 0?b:new Date,expirationTime:(A=ce==null?void 0:ce.signInWithEthereum)===null||A===void 0?void 0:A.expirationTime,notBefore:(_=ce==null?void 0:ce.signInWithEthereum)===null||_===void 0?void 0:_.notBefore,requestId:(E=ce==null?void 0:ce.signInWithEthereum)===null||E===void 0?void 0:E.requestId,resources:(R=ce==null?void 0:ce.signInWithEthereum)===null||R===void 0?void 0:R.resources};L=ab(Te),j=await Y.request({method:"personal_sign",params:[sb(L),_e]})}try{const{data:H,error:J}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:L,signature:j},!((N=a.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(B=a.options)===null||B===void 0?void 0:B.captchaToken}}:null),xform:Yr});if(J)throw J;if(!H||!H.session||!H.user){const ie=new Ys;return this._returnResult({data:{user:null,session:null},error:ie})}return H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),this._returnResult({data:Object.assign({},H),error:J})}catch(H){if(Be(H))return this._returnResult({data:{user:null,session:null},error:H});throw H}}async signInWithSolana(a){var l,f,x,g,b,A,_,E,R,N,B,L;let j,H;if("message"in a)j=a.message,H=a.signature;else{const{chain:J,wallet:ie,statement:ce,options:Y}=a;let me;if(Pn())if(typeof ie=="object")me=ie;else{const _e=window;if("solana"in _e&&typeof _e.solana=="object"&&("signIn"in _e.solana&&typeof _e.solana.signIn=="function"||"signMessage"in _e.solana&&typeof _e.solana.signMessage=="function"))me=_e.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ie!="object"||!(Y!=null&&Y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");me=ie}const Le=new URL((l=Y==null?void 0:Y.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in me&&me.signIn){const _e=await me.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Y==null?void 0:Y.signInWithSolana),{version:"1",domain:Le.host,uri:Le.href}),ce?{statement:ce}:null));let ee;if(Array.isArray(_e)&&_e[0]&&typeof _e[0]=="object")ee=_e[0];else if(_e&&typeof _e=="object"&&"signedMessage"in _e&&"signature"in _e)ee=_e;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ee&&"signature"in ee&&(typeof ee.signedMessage=="string"||ee.signedMessage instanceof Uint8Array)&&ee.signature instanceof Uint8Array)j=typeof ee.signedMessage=="string"?ee.signedMessage:new TextDecoder().decode(ee.signedMessage),H=ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in me)||typeof me.signMessage!="function"||!("publicKey"in me)||typeof me!="object"||!me.publicKey||!("toBase58"in me.publicKey)||typeof me.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${Le.host} wants you to sign in with your Solana account:`,me.publicKey.toBase58(),...ce?["",ce,""]:[""],"Version: 1",`URI: ${Le.href}`,`Issued At: ${(x=(f=Y==null?void 0:Y.signInWithSolana)===null||f===void 0?void 0:f.issuedAt)!==null&&x!==void 0?x:new Date().toISOString()}`,...!((g=Y==null?void 0:Y.signInWithSolana)===null||g===void 0)&&g.notBefore?[`Not Before: ${Y.signInWithSolana.notBefore}`]:[],...!((b=Y==null?void 0:Y.signInWithSolana)===null||b===void 0)&&b.expirationTime?[`Expiration Time: ${Y.signInWithSolana.expirationTime}`]:[],...!((A=Y==null?void 0:Y.signInWithSolana)===null||A===void 0)&&A.chainId?[`Chain ID: ${Y.signInWithSolana.chainId}`]:[],...!((_=Y==null?void 0:Y.signInWithSolana)===null||_===void 0)&&_.nonce?[`Nonce: ${Y.signInWithSolana.nonce}`]:[],...!((E=Y==null?void 0:Y.signInWithSolana)===null||E===void 0)&&E.requestId?[`Request ID: ${Y.signInWithSolana.requestId}`]:[],...!((N=(R=Y==null?void 0:Y.signInWithSolana)===null||R===void 0?void 0:R.resources)===null||N===void 0)&&N.length?["Resources",...Y.signInWithSolana.resources.map(ee=>`- ${ee}`)]:[]].join(`
`);const _e=await me.signMessage(new TextEncoder().encode(j),"utf8");if(!_e||!(_e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");H=_e}}try{const{data:J,error:ie}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Js(H)},!((B=a.options)===null||B===void 0)&&B.captchaToken?{gotrue_meta_security:{captcha_token:(L=a.options)===null||L===void 0?void 0:L.captchaToken}}:null),xform:Yr});if(ie)throw ie;if(!J||!J.session||!J.user){const ce=new Ys;return this._returnResult({data:{user:null,session:null},error:ce})}return J.session&&(await this._saveSession(J.session),await this._notifyAllSubscribers("SIGNED_IN",J.session)),this._returnResult({data:Object.assign({},J),error:ie})}catch(J){if(Be(J))return this._returnResult({data:{user:null,session:null},error:J});throw J}}async _exchangeCodeForSession(a){const l=await Xs(this.storage,`${this.storageKey}-code-verifier`),[f,x]=(l??"").split("/");try{const{data:g,error:b}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:f},xform:Yr});if(await Un(this.storage,`${this.storageKey}-code-verifier`),b)throw b;if(!g||!g.session||!g.user){const A=new Ys;return this._returnResult({data:{user:null,session:null,redirectType:null},error:A})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign(Object.assign({},g),{redirectType:x??null}),error:b})}catch(g){if(await Un(this.storage,`${this.storageKey}-code-verifier`),Be(g))return this._returnResult({data:{user:null,session:null,redirectType:null},error:g});throw g}}async signInWithIdToken(a){try{const{options:l,provider:f,token:x,access_token:g,nonce:b}=a,A=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:f,id_token:x,access_token:g,nonce:b,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Yr}),{data:_,error:E}=A;if(E)return this._returnResult({data:{user:null,session:null},error:E});if(!_||!_.session||!_.user){const R=new Ys;return this._returnResult({data:{user:null,session:null},error:R})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:_,error:E})}catch(l){if(Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(a){var l,f,x,g,b;try{if("email"in a){const{email:A,options:_}=a;let E=null,R=null;this.flowType==="pkce"&&([E,R]=await ja(this.storage,this.storageKey));const{error:N}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:A,data:(l=_==null?void 0:_.data)!==null&&l!==void 0?l:{},create_user:(f=_==null?void 0:_.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:E,code_challenge_method:R},redirectTo:_==null?void 0:_.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:N})}if("phone"in a){const{phone:A,options:_}=a,{data:E,error:R}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:A,data:(x=_==null?void 0:_.data)!==null&&x!==void 0?x:{},create_user:(g=_==null?void 0:_.shouldCreateUser)!==null&&g!==void 0?g:!0,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},channel:(b=_==null?void 0:_.channel)!==null&&b!==void 0?b:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:E==null?void 0:E.message_id},error:R})}throw new Zl("You must provide either an email or phone number.")}catch(A){if(await Un(this.storage,`${this.storageKey}-code-verifier`),Be(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async verifyOtp(a){var l,f;try{let x,g;"options"in a&&(x=(l=a.options)===null||l===void 0?void 0:l.redirectTo,g=(f=a.options)===null||f===void 0?void 0:f.captchaToken);const{data:b,error:A}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:g}}),redirectTo:x,xform:Yr});if(A)throw A;if(!b)throw new Error("An error occurred on token verification.");const _=b.session,E=b.user;return _!=null&&_.access_token&&(await this._saveSession(_),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",_)),this._returnResult({data:{user:E,session:_},error:null})}catch(x){if(Be(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSSO(a){var l,f,x,g,b;try{let A=null,_=null;this.flowType==="pkce"&&([A,_]=await ja(this.storage,this.storageKey));const E=await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(f=(l=a.options)===null||l===void 0?void 0:l.redirectTo)!==null&&f!==void 0?f:void 0}),!((x=a==null?void 0:a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:A,code_challenge_method:_}),headers:this.headers,xform:Jw});return!((g=E.data)===null||g===void 0)&&g.url&&Pn()&&!(!((b=a.options)===null||b===void 0)&&b.skipBrowserRedirect)&&window.location.assign(E.data.url),this._returnResult(E)}catch(A){if(await Un(this.storage,`${this.storageKey}-code-verifier`),Be(A))return this._returnResult({data:null,error:A});throw A}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:l},error:f}=a;if(f)throw f;if(!l)throw new ar;const{error:x}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:x})})}catch(a){if(Be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const l=`${this.url}/resend`;if("email"in a){const{email:f,type:x,options:g}=a,{error:b}=await ze(this.fetch,"POST",l,{headers:this.headers,body:{email:f,type:x,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}else if("phone"in a){const{phone:f,type:x,options:g}=a,{data:b,error:A}=await ze(this.fetch,"POST",l,{headers:this.headers,body:{phone:f,type:x,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:A})}throw new Zl("You must provide either an email or phone number and a type")}catch(l){if(Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(a,l){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const f=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),x=(async()=>(await f,await l()))();return this.pendingInLock.push((async()=>{try{await x}catch{}})()),x}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const f=l();for(this.pendingInLock.push((async()=>{try{await f}catch{}})()),await f;this.pendingInLock.length;){const x=[...this.pendingInLock];await Promise.all(x),this.pendingInLock.splice(0,x.length)}return await f}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await a(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const l=await Xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?a=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const f=a.expires_at?a.expires_at*1e3-Date.now()<hf:!1;if(this._debug("#__loadSession()",`session has${f?"":" not"} expired`,"expires_at",a.expires_at),!f){if(this.userStorage){const b=await Xs(this.userStorage,this.storageKey+"-user");b!=null&&b.user?a.user=b.user:a.user=df()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const b={value:this.suppressGetSessionWarning};a.user=Kw(a.user,b),b.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:x,error:g}=await this._callRefreshToken(a.refresh_token);return g?this._returnResult({data:{session:null},error:g}):this._returnResult({data:{session:x},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const l=await this._acquireLock(-1,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(a){try{return a?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:ws}):await this._useSession(async l=>{var f,x,g;const{data:b,error:A}=l;if(A)throw A;return!(!((f=b.session)===null||f===void 0)&&f.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ar}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(g=(x=b.session)===null||x===void 0?void 0:x.access_token)!==null&&g!==void 0?g:void 0,xform:ws})})}catch(l){if(Be(l))return Om(l)&&(await this._removeSession(),await Un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(a,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,l))}async _updateUser(a,l={}){try{return await this._useSession(async f=>{const{data:x,error:g}=f;if(g)throw g;if(!x.session)throw new ar;const b=x.session;let A=null,_=null;this.flowType==="pkce"&&a.email!=null&&([A,_]=await ja(this.storage,this.storageKey));const{data:E,error:R}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:A,code_challenge_method:_}),jwt:b.access_token,xform:ws});if(R)throw R;return b.user=E.user,await this._saveSession(b),await this._notifyAllSubscribers("USER_UPDATED",b),this._returnResult({data:{user:b.user},error:null})})}catch(f){if(await Un(this.storage,`${this.storageKey}-code-verifier`),Be(f))return this._returnResult({data:{user:null},error:f});throw f}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new ar;const l=Date.now()/1e3;let f=l,x=!0,g=null;const{payload:b}=ff(a.access_token);if(b.exp&&(f=b.exp,x=f<=l),x){const{data:A,error:_}=await this._callRefreshToken(a.refresh_token);if(_)return this._returnResult({data:{user:null,session:null},error:_});if(!A)return{data:{user:null,session:null},error:null};g=A}else{const{data:A,error:_}=await this._getUser(a.access_token);if(_)throw _;g={access_token:a.access_token,refresh_token:a.refresh_token,user:A.user,token_type:"bearer",expires_in:f-l,expires_at:f},await this._saveSession(g),await this._notifyAllSubscribers("SIGNED_IN",g)}return this._returnResult({data:{user:g.user,session:g},error:null})}catch(l){if(Be(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async l=>{var f;if(!a){const{data:b,error:A}=l;if(A)throw A;a=(f=b.session)!==null&&f!==void 0?f:void 0}if(!(a!=null&&a.refresh_token))throw new ar;const{data:x,error:g}=await this._callRefreshToken(a.refresh_token);return g?this._returnResult({data:{user:null,session:null},error:g}):x?this._returnResult({data:{user:x.user,session:x},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(a,l){try{if(!Pn())throw new Ql("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Ql(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Ff("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ql("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Ff("No code detected.");const{data:ce,error:Y}=await this._exchangeCodeForSession(a.code);if(Y)throw Y;const me=new URL(window.location.href);return me.searchParams.delete("code"),window.history.replaceState(window.history.state,"",me.toString()),{data:{session:ce.session,redirectType:null},error:null}}const{provider_token:f,provider_refresh_token:x,access_token:g,refresh_token:b,expires_in:A,expires_at:_,token_type:E}=a;if(!g||!A||!b||!E)throw new Ql("No session defined in URL");const R=Math.round(Date.now()/1e3),N=parseInt(A);let B=R+N;_&&(B=parseInt(_));const L=B-R;L*1e3<=qa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${L}s, should have been closer to ${N}s`);const j=B-N;R-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,B,R):R-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,B,R);const{data:H,error:J}=await this._getUser(g);if(J)throw J;const ie={provider_token:f,provider_refresh_token:x,access_token:g,expires_in:N,expires_at:B,refresh_token:b,token_type:E,user:H.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:ie,redirectType:a.type},error:null})}catch(f){if(Be(f))return this._returnResult({data:{session:null,redirectType:null},error:f});throw f}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const l=await Xs(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&l)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async l=>{var f;const{data:x,error:g}=l;if(g)return this._returnResult({error:g});const b=(f=x.session)===null||f===void 0?void 0:f.access_token;if(b){const{error:A}=await this.admin.signOut(b,a);if(A&&!(Tm(A)&&(A.status===404||A.status===401||A.status===403)))return this._returnResult({error:A})}return a!=="others"&&(await this._removeSession(),await Un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const l=Bw(),f={id:l,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,f),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:f}}}async _emitInitialSession(a){return await this._useSession(async l=>{var f,x;try{const{data:{session:g},error:b}=l;if(b)throw b;await((f=this.stateChangeEmitters.get(a))===null||f===void 0?void 0:f.callback("INITIAL_SESSION",g)),this._debug("INITIAL_SESSION","callback id",a,"session",g)}catch(g){await((x=this.stateChangeEmitters.get(a))===null||x===void 0?void 0:x.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",g),console.error(g)}})}async resetPasswordForEmail(a,l={}){let f=null,x=null;this.flowType==="pkce"&&([f,x]=await ja(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:f,code_challenge_method:x,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(g){if(await Un(this.storage,`${this.storageKey}-code-verifier`),Be(g))return this._returnResult({data:null,error:g});throw g}}async getUserIdentities(){var a;try{const{data:l,error:f}=await this.getUser();if(f)throw f;return this._returnResult({data:{identities:(a=l.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var l;try{const{data:f,error:x}=await this._useSession(async g=>{var b,A,_,E,R;const{data:N,error:B}=g;if(B)throw B;const L=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(b=a.options)===null||b===void 0?void 0:b.redirectTo,scopes:(A=a.options)===null||A===void 0?void 0:A.scopes,queryParams:(_=a.options)===null||_===void 0?void 0:_.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",L,{headers:this.headers,jwt:(R=(E=N.session)===null||E===void 0?void 0:E.access_token)!==null&&R!==void 0?R:void 0})});if(x)throw x;return Pn()&&!(!((l=a.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f==null?void 0:f.url),this._returnResult({data:{provider:a.provider,url:f==null?void 0:f.url},error:null})}catch(f){if(Be(f))return this._returnResult({data:{provider:a.provider,url:null},error:f});throw f}}async linkIdentityIdToken(a){return await this._useSession(async l=>{var f;try{const{error:x,data:{session:g}}=l;if(x)throw x;const{options:b,provider:A,token:_,access_token:E,nonce:R}=a,N=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(f=g==null?void 0:g.access_token)!==null&&f!==void 0?f:void 0,body:{provider:A,id_token:_,access_token:E,nonce:R,link_identity:!0,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Yr}),{data:B,error:L}=N;return L?this._returnResult({data:{user:null,session:null},error:L}):!B||!B.session||!B.user?this._returnResult({data:{user:null,session:null},error:new Ys}):(B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("USER_UPDATED",B.session)),this._returnResult({data:B,error:L}))}catch(x){if(await Un(this.storage,`${this.storageKey}-code-verifier`),Be(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}})}async unlinkIdentity(a){try{return await this._useSession(async l=>{var f,x;const{data:g,error:b}=l;if(b)throw b;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(x=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&x!==void 0?x:void 0})})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(a){const l=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(l,"begin");try{const f=Date.now();return await Pw(async x=>(x>0&&await Uw(200*Math.pow(2,x-1)),this._debug(l,"refreshing attempt",x),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Yr})),(x,g)=>{const b=200*Math.pow(2,x);return g&&Pu(g)&&Date.now()+b-f<qa})}catch(f){if(this._debug(l,"error",f),Be(f))return this._returnResult({data:{session:null,user:null},error:f});throw f}finally{this._debug(l,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,l){const f=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",l,"url",f),Pn()&&!l.skipBrowserRedirect&&window.location.assign(f),{data:{provider:a,url:f},error:null}}async _recoverAndRefresh(){var a,l;const f="#_recoverAndRefresh()";this._debug(f,"begin");try{const x=await Xs(this.storage,this.storageKey);if(x&&this.userStorage){let b=await Xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!b&&(b={user:x.user},await Ga(this.userStorage,this.storageKey+"-user",b)),x.user=(a=b==null?void 0:b.user)!==null&&a!==void 0?a:df()}else if(x&&!x.user&&!x.user){const b=await Xs(this.storage,this.storageKey+"-user");b&&(b!=null&&b.user)?(x.user=b.user,await Un(this.storage,this.storageKey+"-user"),await Ga(this.storage,this.storageKey,x)):x.user=df()}if(this._debug(f,"session from storage",x),!this._isValidSession(x)){this._debug(f,"session is not valid"),x!==null&&await this._removeSession();return}const g=((l=x.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<hf;if(this._debug(f,`session has${g?"":" not"} expired with margin of ${hf}s`),g){if(this.autoRefreshToken&&x.refresh_token){const{error:b}=await this._callRefreshToken(x.refresh_token);b&&(console.error(b),Pu(b)||(this._debug(f,"refresh failed with a non-retryable error, removing the session",b),await this._removeSession()))}}else if(x.user&&x.user.__isUserNotAvailableProxy===!0)try{const{data:b,error:A}=await this._getUser(x.access_token);!A&&(b!=null&&b.user)?(x.user=b.user,await this._saveSession(x),await this._notifyAllSubscribers("SIGNED_IN",x)):this._debug(f,"could not get user data, skipping SIGNED_IN notification")}catch(b){console.error("Error getting user data:",b),this._debug(f,"error getting user data, skipping SIGNED_IN notification",b)}else await this._notifyAllSubscribers("SIGNED_IN",x)}catch(x){this._debug(f,"error",x),console.error(x);return}finally{this._debug(f,"end")}}async _callRefreshToken(a){var l,f;if(!a)throw new ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const x=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(x,"begin");try{this.refreshingDeferred=new tc;const{data:g,error:b}=await this._refreshAccessToken(a);if(b)throw b;if(!g.session)throw new ar;await this._saveSession(g.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",g.session);const A={data:g.session,error:null};return this.refreshingDeferred.resolve(A),A}catch(g){if(this._debug(x,"error",g),Be(g)){const b={data:null,error:g};return Pu(g)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(b),b}throw(f=this.refreshingDeferred)===null||f===void 0||f.reject(g),g}finally{this.refreshingDeferred=null,this._debug(x,"end")}}async _notifyAllSubscribers(a,l,f=!0){const x=`#_notifyAllSubscribers(${a})`;this._debug(x,"begin",l,`broadcast = ${f}`);try{this.broadcastChannel&&f&&this.broadcastChannel.postMessage({event:a,session:l});const g=[],b=Array.from(this.stateChangeEmitters.values()).map(async A=>{try{await A.callback(a,l)}catch(_){g.push(_)}});if(await Promise.all(b),g.length>0){for(let A=0;A<g.length;A+=1)console.error(g[A]);throw g[0]}}finally{this._debug(x,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await Un(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},a),f=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!f&&l.user&&await Ga(this.userStorage,this.storageKey+"-user",{user:l.user});const x=Object.assign({},l);delete x.user;const g=Ug(x);await Ga(this.storage,this.storageKey,g)}else{const x=Ug(l);await Ga(this.storage,this.storageKey,x)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Un(this.storage,this.storageKey),await Un(this.storage,this.storageKey+"-code-verifier"),await Un(this.storage,this.storageKey+"-user"),this.userStorage&&await Un(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&Pn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),qa);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async l=>{const{data:{session:f}}=l;if(!f||!f.refresh_token||!f.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const x=Math.floor((f.expires_at*1e3-a)/qa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${x} ticks, a tick lasts ${qa}ms, refresh threshold is ${Pf} ticks`),x<=Pf&&await this._callRefreshToken(f.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Jf)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const l=`#_onVisibilityChanged(${a})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,l,f){const x=[`provider=${encodeURIComponent(l)}`];if(f!=null&&f.redirectTo&&x.push(`redirect_to=${encodeURIComponent(f.redirectTo)}`),f!=null&&f.scopes&&x.push(`scopes=${encodeURIComponent(f.scopes)}`),this.flowType==="pkce"){const[g,b]=await ja(this.storage,this.storageKey),A=new URLSearchParams({code_challenge:`${encodeURIComponent(g)}`,code_challenge_method:`${encodeURIComponent(b)}`});x.push(A.toString())}if(f!=null&&f.queryParams){const g=new URLSearchParams(f.queryParams);x.push(g.toString())}return f!=null&&f.skipBrowserRedirect&&x.push(`skip_http_redirect=${f.skipBrowserRedirect}`),`${a}?${x.join("&")}`}async _unenroll(a){try{return await this._useSession(async l=>{var f;const{data:x,error:g}=l;return g?this._returnResult({data:null,error:g}):await ze(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(f=x==null?void 0:x.session)===null||f===void 0?void 0:f.access_token})})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(a){try{return await this._useSession(async l=>{var f,x;const{data:g,error:b}=l;if(b)return this._returnResult({data:null,error:b});const A=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:_,error:E}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:A,headers:this.headers,jwt:(f=g==null?void 0:g.session)===null||f===void 0?void 0:f.access_token});return E?this._returnResult({data:null,error:E}):(a.factorType==="totp"&&_.type==="totp"&&(!((x=_==null?void 0:_.totp)===null||x===void 0)&&x.qr_code)&&(_.totp.qr_code=`data:image/svg+xml;utf-8,${_.totp.qr_code}`),this._returnResult({data:_,error:null}))})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var f;const{data:x,error:g}=l;if(g)return this._returnResult({data:null,error:g});const b=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?db(a.webauthn.credential_response):gb(a.webauthn.credential_response)})}:{code:a.code}),{data:A,error:_}=await ze(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:b,headers:this.headers,jwt:(f=x==null?void 0:x.session)===null||f===void 0?void 0:f.access_token});return _?this._returnResult({data:null,error:_}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+A.expires_in},A)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",A),this._returnResult({data:A,error:_}))})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var f;const{data:x,error:g}=l;if(g)return this._returnResult({data:null,error:g});const b=await ze(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(f=x==null?void 0:x.session)===null||f===void 0?void 0:f.access_token});if(b.error)return b;const{data:A}=b;if(A.type!=="webauthn")return{data:A,error:null};switch(A.webauthn.type){case"create":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:hb(A.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:fb(A.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(a){const{data:l,error:f}=await this._challenge({factorId:a.factorId});return f?this._returnResult({data:null,error:f}):await this._verify({factorId:a.factorId,challengeId:l.id,code:a.code})}async _listFactors(){var a;const{data:{user:l},error:f}=await this.getUser();if(f)return{data:null,error:f};const x={all:[],phone:[],totp:[],webauthn:[]};for(const g of(a=l==null?void 0:l.factors)!==null&&a!==void 0?a:[])x.all.push(g),g.status==="verified"&&x[g.factor_type].push(g);return{data:x,error:null}}async _getAuthenticatorAssuranceLevel(){var a,l;const{data:{session:f},error:x}=await this.getSession();if(x)return this._returnResult({data:null,error:x});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=ff(f.access_token);let b=null;g.aal&&(b=g.aal);let A=b;((l=(a=f.user.factors)===null||a===void 0?void 0:a.filter(R=>R.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(A="aal2");const E=g.amr||[];return{data:{currentLevel:b,nextLevel:A,currentAuthenticationMethods:E},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async l=>{const{data:{session:f},error:x}=l;return x?this._returnResult({data:null,error:x}):f?await ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:f.access_token,xform:g=>({data:g,error:null})}):this._returnResult({data:null,error:new ar})})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(a,l){try{return await this._useSession(async f=>{const{data:{session:x},error:g}=f;if(g)return this._returnResult({data:null,error:g});if(!x)return this._returnResult({data:null,error:new ar});const b=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:x.access_token,body:{action:"approve"},xform:A=>({data:A,error:null})});return b.data&&b.data.redirect_url&&Pn()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(b.data.redirect_url),b})}catch(f){if(Be(f))return this._returnResult({data:null,error:f});throw f}}async _denyAuthorization(a,l){try{return await this._useSession(async f=>{const{data:{session:x},error:g}=f;if(g)return this._returnResult({data:null,error:g});if(!x)return this._returnResult({data:null,error:new ar});const b=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:x.access_token,body:{action:"deny"},xform:A=>({data:A,error:null})});return b.data&&b.data.redirect_url&&Pn()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(b.data.redirect_url),b})}catch(f){if(Be(f))return this._returnResult({data:null,error:f});throw f}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:l},error:f}=a;return f?this._returnResult({data:null,error:f}):l?await ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:x=>({data:x,error:null})}):this._returnResult({data:null,error:new ar})})}catch(a){if(Be(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async l=>{const{data:{session:f},error:x}=l;return x?this._returnResult({data:null,error:x}):f?(await ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:f.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ar})})}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(a,l={keys:[]}){let f=l.keys.find(A=>A.kid===a);if(f)return f;const x=Date.now();if(f=this.jwks.keys.find(A=>A.kid===a),f&&this.jwks_cached_at+Sw>x)return f;const{data:g,error:b}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(b)throw b;return!g.keys||g.keys.length===0||(this.jwks=g,this.jwks_cached_at=x,f=g.keys.find(A=>A.kid===a),!f)?null:f}async getClaims(a,l={}){try{let f=a;if(!f){const{data:L,error:j}=await this.getSession();if(j||!L.session)return this._returnResult({data:null,error:j});f=L.session.access_token}const{header:x,payload:g,signature:b,raw:{header:A,payload:_}}=ff(f);l!=null&&l.allowExpired||Vw(g.exp);const E=!x.alg||x.alg.startsWith("HS")||!x.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(x.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!E){const{error:L}=await this.getUser(f);if(L)throw L;return{data:{claims:g,header:x,signature:b},error:null}}const R=Xw(x.alg),N=await crypto.subtle.importKey("jwk",E,R,!0,["verify"]);if(!await crypto.subtle.verify(R,N,b,Dw(`${A}.${_}`)))throw new Vu("Invalid JWT signature");return{data:{claims:g,header:x,signature:b},error:null}}catch(f){if(Be(f))return this._returnResult({data:null,error:f});throw f}}};$f.nextInstanceID={};const _b=Qf,Ab=$f,Cb=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:_b,AuthApiError:Sm,AuthClient:Ab,AuthError:Wa,AuthImplicitGrantRedirectError:Ql,AuthInvalidCredentialsError:Zl,AuthInvalidJwtError:Vu,AuthInvalidTokenResponseError:Ys,AuthPKCEGrantCodeExchangeError:Ff,AuthRetryableFetchError:Gu,AuthSessionMissingError:ar,AuthUnknownError:ps,AuthWeakPasswordError:zf,CustomAuthError:Bi,GoTrueAdminApi:Qf,GoTrueClient:$f,NavigatorLockAcquireTimeoutError:Mm,SIGN_OUT_SCOPES:ju,isAuthApiError:Tm,isAuthError:Be,isAuthImplicitGrantRedirectError:Rm,isAuthRetryableFetchError:Pu,isAuthSessionMissingError:Om,isAuthWeakPasswordError:Tw,lockInternals:Ws,navigatorLock:Bm,processLock:nb},Symbol.toStringTag,{value:"Module"})),Um=no(Cb);var Vg;function Sb(){if(Vg)return Kl;Vg=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.SupabaseAuthClient=void 0;const d=Um;let a=class extends d.AuthClient{constructor(f){super(f)}};return Kl.SupabaseAuthClient=a,Kl}var Xg;function Yg(){if(Xg)return Su;Xg=1,Object.defineProperty(Su,"__esModule",{value:!0});const d=Z2,a=nm(),l=cm,f=yw,x=ww(),g=bw(),b=vw(),A=Sb();class _{constructor(R,N,B){var L,j,H;this.supabaseUrl=R,this.supabaseKey=N;const J=(0,b.validateSupabaseUrl)(R);if(!N)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",J),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",J),this.storageUrl=new URL("storage/v1",J),this.functionsUrl=new URL("functions/v1",J);const ie=`sb-${J.hostname.split(".")[0]}-auth-token`,ce={db:x.DEFAULT_DB_OPTIONS,realtime:x.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},x.DEFAULT_AUTH_OPTIONS),{storageKey:ie}),global:x.DEFAULT_GLOBAL_OPTIONS},Y=(0,b.applySettingDefaults)(B??{},ce);this.storageKey=(L=Y.auth.storageKey)!==null&&L!==void 0?L:"",this.headers=(j=Y.global.headers)!==null&&j!==void 0?j:{},Y.accessToken?(this.accessToken=Y.accessToken,this.auth=new Proxy({},{get:(me,Le)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Le)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((H=Y.auth)!==null&&H!==void 0?H:{},this.headers,Y.global.fetch),this.fetch=(0,g.fetchWithAuth)(N,this._getAccessToken.bind(this),Y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},Y.realtime)),this.accessToken&&this.accessToken().then(me=>this.realtime.setAuth(me)).catch(me=>console.warn("Failed to set initial Realtime auth token:",me)),this.rest=new a.PostgrestClient(new URL("rest/v1",J).href,{headers:this.headers,schema:Y.db.schema,fetch:this.fetch}),this.storage=new f.StorageClient(this.storageUrl.href,this.headers,this.fetch,B==null?void 0:B.storage),Y.accessToken||this._listenForAuthEvents()}get functions(){return new d.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(R){return this.rest.from(R)}schema(R){return this.rest.schema(R)}rpc(R,N={},B={head:!1,get:!1,count:void 0}){return this.rest.rpc(R,N,B)}channel(R,N={config:{}}){return this.realtime.channel(R,N)}getChannels(){return this.realtime.getChannels()}removeChannel(R){return this.realtime.removeChannel(R)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var R,N;if(this.accessToken)return await this.accessToken();const{data:B}=await this.auth.getSession();return(N=(R=B.session)===null||R===void 0?void 0:R.access_token)!==null&&N!==void 0?N:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:R,persistSession:N,detectSessionInUrl:B,storage:L,userStorage:j,storageKey:H,flowType:J,lock:ie,debug:ce,throwOnError:Y},me,Le){const _e={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new A.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},_e),me),storageKey:H,autoRefreshToken:R,persistSession:N,detectSessionInUrl:B,storage:L,userStorage:j,flowType:J,lock:ie,debug:ce,throwOnError:Y,fetch:Le,hasCustomAuthorizationHeader:Object.keys(this.headers).some(ee=>ee.toLowerCase()==="authorization")})}_initRealtimeClient(R){return new l.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},R),{params:Object.assign({apikey:this.supabaseKey},R==null?void 0:R.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((N,B)=>{this._handleTokenChanged(N,"CLIENT",B==null?void 0:B.access_token)})}_handleTokenChanged(R,N,B){(R==="TOKEN_REFRESHED"||R==="SIGNED_IN")&&this.changedAccessToken!==B?(this.changedAccessToken=B,this.realtime.setAuth(B)):R==="SIGNED_OUT"&&(this.realtime.setAuth(),N=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Su.default=_,Su}var Kg;function Tb(){return Kg||(Kg=1,(function(d){var a=Ii&&Ii.__createBinding||(Object.create?(function(R,N,B,L){L===void 0&&(L=B);var j=Object.getOwnPropertyDescriptor(N,B);(!j||("get"in j?!N.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return N[B]}}),Object.defineProperty(R,L,j)}):(function(R,N,B,L){L===void 0&&(L=B),R[L]=N[B]})),l=Ii&&Ii.__exportStar||function(R,N){for(var B in R)B!=="default"&&!Object.prototype.hasOwnProperty.call(N,B)&&a(N,R,B)},f=Ii&&Ii.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(d,"__esModule",{value:!0}),d.createClient=d.SupabaseClient=d.FunctionRegion=d.FunctionsError=d.FunctionsRelayError=d.FunctionsFetchError=d.FunctionsHttpError=d.PostgrestError=void 0;const x=f(Yg());l(Um,d);var g=nm();Object.defineProperty(d,"PostgrestError",{enumerable:!0,get:function(){return g.PostgrestError}});var b=Z2;Object.defineProperty(d,"FunctionsHttpError",{enumerable:!0,get:function(){return b.FunctionsHttpError}}),Object.defineProperty(d,"FunctionsFetchError",{enumerable:!0,get:function(){return b.FunctionsFetchError}}),Object.defineProperty(d,"FunctionsRelayError",{enumerable:!0,get:function(){return b.FunctionsRelayError}}),Object.defineProperty(d,"FunctionsError",{enumerable:!0,get:function(){return b.FunctionsError}}),Object.defineProperty(d,"FunctionRegion",{enumerable:!0,get:function(){return b.FunctionRegion}}),l(cm,d);var A=Yg();Object.defineProperty(d,"SupabaseClient",{enumerable:!0,get:function(){return f(A).default}});const _=(R,N,B)=>new x.default(R,N,B);d.createClient=_;function E(){if(typeof window<"u"||typeof process>"u")return!1;const R=process.version;if(R==null)return!1;const N=R.match(/^v(\d+)\./);return N?parseInt(N[1],10)<=18:!1}E()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Ii)),Ii}var Pm=Tb();const jm=to(Pm),Ob=v2({__proto__:null,default:jm},[Pm]),{PostgrestError:Z3,FunctionsHttpError:Q3,FunctionsFetchError:J3,FunctionsRelayError:$3,FunctionsError:ev,FunctionRegion:tv,SupabaseClient:nv,createClient:Rb,GoTrueAdminApi:rv,GoTrueClient:iv,AuthAdminApi:sv,AuthClient:av,navigatorLock:lv,NavigatorLockAcquireTimeoutError:ov,lockInternals:uv,processLock:cv,SIGN_OUT_SCOPES:hv,AuthError:fv,AuthApiError:dv,AuthUnknownError:gv,CustomAuthError:mv,AuthSessionMissingError:xv,AuthInvalidTokenResponseError:yv,AuthInvalidCredentialsError:pv,AuthImplicitGrantRedirectError:wv,AuthPKCEGrantCodeExchangeError:bv,AuthRetryableFetchError:vv,AuthWeakPasswordError:Ev,AuthInvalidJwtError:_v,isAuthError:Av,isAuthApiError:Cv,isAuthSessionMissingError:Sv,isAuthImplicitGrantRedirectError:Tv,isAuthRetryableFetchError:Ov,isAuthWeakPasswordError:Rv,RealtimePresence:Nv,RealtimeChannel:Iv,RealtimeClient:Dv,REALTIME_LISTEN_TYPES:Mv,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Bv,REALTIME_PRESENCE_LISTEN_EVENTS:kv,REALTIME_SUBSCRIBE_STATES:Lv,REALTIME_CHANNEL_STATES:Uv}=jm||Ob,Fm="stock_products",e0="stock_movements",zm="qq_sb_url",Hm="qq_sb_key",qm="https://fnhapvoxgqkzokravccd.supabase.co",Gm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZuaGFwdm94Z3Frem9rcmF2Y2NkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyMjU5ODksImV4cCI6MjA4MDgwMTk4OX0.xmZ4F4Zwc4azBr5niczcD9ct37CnTsPb1IFCTKhZ-Bw";let _r=null;const qf=()=>{const d=qm,a=Gm;try{return _r=Rb(d,a),!0}catch(l){return console.error("Failed to init supabase",l),!1}return!1},Nb=()=>({url:qm,key:Gm}),Ib=d=>{localStorage.setItem(zm,d.url),localStorage.setItem(Hm,d.key),qf()},Db=()=>{localStorage.removeItem(zm),localStorage.removeItem(Hm),_r=null},Vm=async()=>{if(_r){const{data:a,error:l}=await _r.from("products").select("*").order("name");if(!l&&a)return a.map(f=>({...f,id:Array.isArray(f.id)?f.id[0]:f.id}))}const d=localStorage.getItem(Fm);return d?JSON.parse(d):[]},Wg=async(d,a)=>{if(_r)if(a){let{error:l}=await _r.from("products").insert([d]);if(l&&l.message&&l.message.includes("malformed array literal")){const f={...d,id:[d.id]},x=await _r.from("products").insert([f]);if(x.error)throw new Error(x.error.message)}else if(l)throw new Error(l.message)}else{const{error:l}=await _r.from("products").update({qty:d.qty}).eq("id",d.id);if(l)throw new Error(l.message)}else{const l=await Vm();let f=[...l];if(a){if(l.find(x=>x.id===d.id))throw new Error("Produto j existe!");f.unshift(d)}else f=l.map(x=>x.id===d.id?d:x);localStorage.setItem(Fm,JSON.stringify(f))}},Xm=async()=>{if(_r){const{data:a,error:l}=await _r.from("movements").select("*").order("created_at",{ascending:!1}).limit(50);if(!l&&a)return a.map(f=>{let x=f.matricula,g=f.obs;const b=f.prod_id,A=Array.isArray(b)?b[0]||"":b;if(!x&&g&&typeof g=="string"&&g.startsWith("[Mat:")){const _=g.match(/^\[Mat: (.+?)\]\s*(.*)$/);_&&(x=_[1],g=_[2])}return{id:f.id,date:f.created_at,prodId:A,prodName:f.prod_name,qty:f.qty,obs:g,matricula:x}})}const d=localStorage.getItem(e0);return d?JSON.parse(d):[]},Mb=async d=>{if(_r){const a=d.matricula?`[Mat: ${d.matricula}] ${d.obs||""}`.trim():d.obs,l={prod_id:d.prodId,prod_name:d.prodName,qty:d.qty,obs:a,created_at:d.date};let{error:f}=await _r.from("movements").insert([l]);if(f&&f.message&&f.message.includes("malformed array literal")){console.warn("Retrying insert with array prod_id due to schema mismatch.");const x={...l,prod_id:[d.prodId]},g=await _r.from("movements").insert([x]);if(g.error)throw new Error(g.error.message)}else if(f)throw new Error(f.message)}else{const a=await Xm();a.unshift(d),localStorage.setItem(e0,JSON.stringify(a))}},Bb=()=>{localStorage.removeItem(e0)},Ym=(d,a)=>{const l=new Blob(["\uFEFF"+d],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a");if(f.download!==void 0){const x=URL.createObjectURL(l);f.setAttribute("href",x),f.setAttribute("download",a),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f)}},kb=d=>{const a=`Codigo;Produto;Qtd
`,l=d.map(f=>`${f.id};${f.name};${f.qty}`).join(`
`);Ym(a+l,`estoque_${new Date().toISOString().slice(0,10)}.csv`)},Lb=d=>{const a=`Data;Produto;Qtd;Obs
`,l=d.map(f=>`${new Date(f.date).toLocaleDateString()};${f.prodName};${f.qty};${f.obs||""}`).join(`
`);Ym(a+l,`historico_${new Date().toISOString().slice(0,10)}.csv`)};var Se;(function(d){d[d.QR_CODE=0]="QR_CODE",d[d.AZTEC=1]="AZTEC",d[d.CODABAR=2]="CODABAR",d[d.CODE_39=3]="CODE_39",d[d.CODE_93=4]="CODE_93",d[d.CODE_128=5]="CODE_128",d[d.DATA_MATRIX=6]="DATA_MATRIX",d[d.MAXICODE=7]="MAXICODE",d[d.ITF=8]="ITF",d[d.EAN_13=9]="EAN_13",d[d.EAN_8=10]="EAN_8",d[d.PDF_417=11]="PDF_417",d[d.RSS_14=12]="RSS_14",d[d.RSS_EXPANDED=13]="RSS_EXPANDED",d[d.UPC_A=14]="UPC_A",d[d.UPC_E=15]="UPC_E",d[d.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Se||(Se={}));var Zg=new Map([[Se.QR_CODE,"QR_CODE"],[Se.AZTEC,"AZTEC"],[Se.CODABAR,"CODABAR"],[Se.CODE_39,"CODE_39"],[Se.CODE_93,"CODE_93"],[Se.CODE_128,"CODE_128"],[Se.DATA_MATRIX,"DATA_MATRIX"],[Se.MAXICODE,"MAXICODE"],[Se.ITF,"ITF"],[Se.EAN_13,"EAN_13"],[Se.EAN_8,"EAN_8"],[Se.PDF_417,"PDF_417"],[Se.RSS_14,"RSS_14"],[Se.RSS_EXPANDED,"RSS_EXPANDED"],[Se.UPC_A,"UPC_A"],[Se.UPC_E,"UPC_E"],[Se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Qg;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.URL=1]="URL"})(Qg||(Qg={}));function Ub(d){return Object.values(Se).includes(d)}var Wu;(function(d){d[d.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",d[d.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Wu||(Wu={}));var Pb=(function(){function d(){}return d.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",d.SCAN_DEFAULT_FPS=2,d.DEFAULT_DISABLE_FLIP=!1,d.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,d.DEFAULT_SUPPORTED_SCAN_TYPE=[Wu.SCAN_TYPE_CAMERA,Wu.SCAN_TYPE_FILE],d})(),Km=(function(){function d(a,l){this.format=a,this.formatName=l}return d.prototype.toString=function(){return this.formatName},d.create=function(a){if(!Zg.has(a))throw"".concat(a," not in html5QrcodeSupportedFormatsTextMap");return new d(a,Zg.get(a))},d})(),Jg=(function(){function d(){}return d.createFromText=function(a){var l={text:a};return{decodedText:a,result:l}},d.createFromQrcodeResult=function(a){return{decodedText:a.text,result:a}},d})(),Gf;(function(d){d[d.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",d[d.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",d[d.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Gf||(Gf={}));var jb=(function(){function d(){}return d.createFrom=function(a){return{errorMessage:a,type:Gf.UNKWOWN_ERROR}},d})(),Fb=(function(){function d(a){this.verbose=a}return d.prototype.log=function(a){this.verbose&&console.log(a)},d.prototype.warn=function(a){this.verbose&&console.warn(a)},d.prototype.logError=function(a,l){(this.verbose||l===!0)&&console.error(a)},d.prototype.logErrors=function(a){if(a.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(a)},d})();function Mi(d){return typeof d>"u"||d===null}var Va=(function(){function d(){}return d.codeParseError=function(a){return"QR code parse error, error = ".concat(a)},d.errorGettingUserMedia=function(a){return"Error getting userMedia, error = ".concat(a)},d.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},d.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},d.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},d.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},d.scannerPaused=function(){return"Scanner paused"},d})(),Wm=(function(){function d(){}return d.isMediaStreamConstraintsValid=function(a,l){if(typeof a!="object"){var f=typeof a;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(f,"."),!0),!1}for(var x=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],g=new Set(x),b=Object.keys(a),A=0,_=b;A<_.length;A++){var E=_[A];if(g.has(E))return l.logError("".concat(E," is not supported videoConstaints."),!0),!1}return!0},d})(),Jl={exports:{}},zb=Jl.exports,$g;function Hb(){return $g||($g=1,(function(d,a){(function(l,f){f(a)})(zb,(function(l){function f(T){return T==null}var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,t){T.__proto__=t}||function(T,t){for(var r in t)t.hasOwnProperty(r)&&(T[r]=t[r])};function g(T,t){x(T,t);function r(){this.constructor=T}T.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function b(T,t){var r=Object.setPrototypeOf;r?r(T,t):T.__proto__=t}function A(T,t){t===void 0&&(t=T.constructor);var r=Error.captureStackTrace;r&&r(T,t)}var _=(function(T){g(t,T);function t(r){var i=this.constructor,o=T.call(this,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),b(o,i.prototype),A(o),o}return t})(Error);class E extends _{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}E.kind="Exception";class R extends E{}R.kind="ArgumentException";class N extends E{}N.kind="IllegalArgumentException";class B{constructor(t){if(this.binarizer=t,t===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,i,o){const u=this.binarizer.getLuminanceSource().crop(t,r,i,o);return new B(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new B(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new B(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends E{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class j{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class H{static arraycopy(t,r,i,o,u){for(;u--;)i[o++]=t[r++]}static currentTimeMillis(){return Date.now()}}class J extends E{}J.kind="IndexOutOfBoundsException";class ie extends J{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}ie.kind="ArrayIndexOutOfBoundsException";class ce{static fill(t,r){for(let i=0,o=t.length;i<o;i++)t[i]=r}static fillWithin(t,r,i,o){ce.rangeCheck(t.length,r,i);for(let u=r;u<i;u++)t[u]=o}static rangeCheck(t,r,i){if(r>i)throw new N("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new ie(r);if(i>t)throw new ie(i)}static asList(...t){return t}static create(t,r,i){return Array.from({length:t}).map(u=>Array.from({length:r}).fill(i))}static createInt32Array(t,r,i){return Array.from({length:t}).map(u=>Int32Array.from({length:r}).fill(i))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let i=0,o=t.length;i<o;i++)if(t[i]!==r[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const i of t)r=31*r+i;return r}static fillUint8Array(t,r){for(let i=0;i!==t.length;i++)t[i]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const i=new Uint8Array(r);return i.set(t),i}return t.slice(0,r)}static copyOfRange(t,r,i){const o=i-r,u=new Int32Array(o);return H.arraycopy(t,r,u,0,o),u}static binarySearch(t,r,i){i===void 0&&(i=ce.numberComparator);let o=0,u=t.length-1;for(;o<=u;){const h=u+o>>1,m=i(r,t[h]);if(m>0)o=h+1;else if(m<0)u=h-1;else return h}return-o-1}static numberComparator(t,r){return t-r}}class Y{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let i=31;return r=t<<16,r!==0&&(i-=16,t=r),r=t<<8,r!==0&&(i-=8,t=r),r=t<<4,r!==0&&(i-=4,t=r),r=t<<2,r!==0&&(i-=2,t=r),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}Y.MIN_VALUE_32_BITS=-2147483648,Y.MAX_VALUE=Number.MAX_SAFE_INTEGER;class me{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=me.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=me.makeArray(t);H.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const i=this.bits;let o=Math.floor(t/32),u=i[o];u&=~((1<<(t&31))-1);const h=i.length;for(;u===0;){if(++o===h)return r;u=i[o]}const m=o*32+Y.numberOfTrailingZeros(u);return m>r?r:m}getNextUnset(t){const r=this.size;if(t>=r)return r;const i=this.bits;let o=Math.floor(t/32),u=~i[o];u&=~((1<<(t&31))-1);const h=i.length;for(;u===0;){if(++o===h)return r;u=~i[o]}const m=o*32+Y.numberOfTrailingZeros(u);return m>r?r:m}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new N;if(r===t)return;r--;const i=Math.floor(t/32),o=Math.floor(r/32),u=this.bits;for(let h=i;h<=o;h++){const m=h>i?0:t&31,v=(2<<(h<o?31:r&31))-(1<<m);u[h]|=v}}clear(){const t=this.bits.length,r=this.bits;for(let i=0;i<t;i++)r[i]=0}isRange(t,r,i){if(r<t||t<0||r>this.size)throw new N;if(r===t)return!0;r--;const o=Math.floor(t/32),u=Math.floor(r/32),h=this.bits;for(let m=o;m<=u;m++){const p=m>o?0:t&31,C=(2<<(m<u?31:r&31))-(1<<p)&4294967295;if((h[m]&C)!==(i?C:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new N("Sizes don't match");const r=this.bits;for(let i=0,o=r.length;i<o;i++)r[i]^=t.bits[i]}toBytes(t,r,i,o){for(let u=0;u<o;u++){let h=0;for(let m=0;m<8;m++)this.get(t)&&(h|=1<<7-m),t++;r[i+u]=h}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,o=this.bits;for(let u=0;u<i;u++){let h=o[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,t[r-u]=h}if(this.size!==i*32){const u=i*32-this.size;let h=t[0]>>>u;for(let m=1;m<i;m++){const p=t[m];h|=p<<32-u,t[m-1]=h,h=p>>>u}t[i-1]=h}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof me))return!1;const r=t;return this.size===r.size&&ce.equals(this.bits,r.bits)}hashCode(){return 31*this.size+ce.hashCode(this.bits)}toString(){let t="";for(let r=0,i=this.size;r<i;r++)(r&7)===0&&(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new me(this.size,this.bits.slice())}}var Le;(function(T){T[T.OTHER=0]="OTHER",T[T.PURE_BARCODE=1]="PURE_BARCODE",T[T.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",T[T.TRY_HARDER=3]="TRY_HARDER",T[T.CHARACTER_SET=4]="CHARACTER_SET",T[T.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",T[T.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",T[T.ASSUME_GS1=7]="ASSUME_GS1",T[T.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",T[T.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",T[T.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Le||(Le={}));var _e=Le;class ee extends E{static getFormatInstance(){return new ee}}ee.kind="FormatException";var Te;(function(T){T[T.Cp437=0]="Cp437",T[T.ISO8859_1=1]="ISO8859_1",T[T.ISO8859_2=2]="ISO8859_2",T[T.ISO8859_3=3]="ISO8859_3",T[T.ISO8859_4=4]="ISO8859_4",T[T.ISO8859_5=5]="ISO8859_5",T[T.ISO8859_6=6]="ISO8859_6",T[T.ISO8859_7=7]="ISO8859_7",T[T.ISO8859_8=8]="ISO8859_8",T[T.ISO8859_9=9]="ISO8859_9",T[T.ISO8859_10=10]="ISO8859_10",T[T.ISO8859_11=11]="ISO8859_11",T[T.ISO8859_13=12]="ISO8859_13",T[T.ISO8859_14=13]="ISO8859_14",T[T.ISO8859_15=14]="ISO8859_15",T[T.ISO8859_16=15]="ISO8859_16",T[T.SJIS=16]="SJIS",T[T.Cp1250=17]="Cp1250",T[T.Cp1251=18]="Cp1251",T[T.Cp1252=19]="Cp1252",T[T.Cp1256=20]="Cp1256",T[T.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",T[T.UTF8=22]="UTF8",T[T.ASCII=23]="ASCII",T[T.Big5=24]="Big5",T[T.GB18030=25]="GB18030",T[T.EUC_KR=26]="EUC_KR"})(Te||(Te={}));class fe{constructor(t,r,i,...o){this.valueIdentifier=t,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,fe.VALUE_IDENTIFIER_TO_ECI.set(t,this),fe.NAME_TO_ECI.set(i,this);const u=this.values;for(let h=0,m=u.length;h!==m;h++){const p=u[h];fe.VALUES_TO_ECI.set(p,this)}for(const h of o)fe.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new ee("incorect value");const r=fe.VALUES_TO_ECI.get(t);if(r===void 0)throw new ee("incorect value");return r}static getCharacterSetECIByName(t){const r=fe.NAME_TO_ECI.get(t);if(r===void 0)throw new ee("incorect value");return r}equals(t){if(!(t instanceof fe))return!1;const r=t;return this.getName()===r.getName()}}fe.VALUE_IDENTIFIER_TO_ECI=new Map,fe.VALUES_TO_ECI=new Map,fe.NAME_TO_ECI=new Map,fe.Cp437=new fe(Te.Cp437,Int32Array.from([0,2]),"Cp437"),fe.ISO8859_1=new fe(Te.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),fe.ISO8859_2=new fe(Te.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),fe.ISO8859_3=new fe(Te.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),fe.ISO8859_4=new fe(Te.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),fe.ISO8859_5=new fe(Te.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),fe.ISO8859_6=new fe(Te.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),fe.ISO8859_7=new fe(Te.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),fe.ISO8859_8=new fe(Te.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),fe.ISO8859_9=new fe(Te.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),fe.ISO8859_10=new fe(Te.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),fe.ISO8859_11=new fe(Te.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),fe.ISO8859_13=new fe(Te.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),fe.ISO8859_14=new fe(Te.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),fe.ISO8859_15=new fe(Te.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),fe.ISO8859_16=new fe(Te.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),fe.SJIS=new fe(Te.SJIS,20,"SJIS","Shift_JIS"),fe.Cp1250=new fe(Te.Cp1250,21,"Cp1250","windows-1250"),fe.Cp1251=new fe(Te.Cp1251,22,"Cp1251","windows-1251"),fe.Cp1252=new fe(Te.Cp1252,23,"Cp1252","windows-1252"),fe.Cp1256=new fe(Te.Cp1256,24,"Cp1256","windows-1256"),fe.UnicodeBigUnmarked=new fe(Te.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),fe.UTF8=new fe(Te.UTF8,26,"UTF8","UTF-8"),fe.ASCII=new fe(Te.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),fe.Big5=new fe(Te.Big5,28,"Big5"),fe.GB18030=new fe(Te.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),fe.EUC_KR=new fe(Te.EUC_KR,30,"EUC_KR","EUC-KR");class Tn extends E{}Tn.kind="UnsupportedOperationException";class xt{static decode(t,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!xt.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof fe?t:fe.getCharacterSetECIByName(t)}static decodeFallback(t,r){const i=this.encodingCharacterSet(r);if(xt.isDecodeFallbackSupported(i)){let o="";for(let u=0,h=t.length;u<h;u++){let m=t[u].toString(16);m.length<2&&(m="0"+m),o+="%"+m}return decodeURIComponent(o)}if(i.equals(fe.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Tn(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(fe.UTF8)||t.equals(fe.ISO8859_1)||t.equals(fe.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let u=0;u<i.length;u++)o.push(i[u].charCodeAt(0));return new Uint8Array(o)}}class Ae{static castAsNonUtf8Char(t,r=null){const i=r?r.getName():this.ISO88591;return xt.decode(new Uint8Array([t]),i)}static guessEncoding(t,r){if(r!=null&&r.get(_e.CHARACTER_SET)!==void 0)return r.get(_e.CHARACTER_SET).toString();const i=t.length;let o=!0,u=!0,h=!0,m=0,p=0,v=0,C=0,O=0,I=0,k=0,P=0,F=0,X=0,ne=0;const ye=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let xe=0;xe<i&&(o||u||h);xe++){const ge=t[xe]&255;h&&(m>0?(ge&128)===0?h=!1:m--:(ge&128)!==0&&((ge&64)===0?h=!1:(m++,(ge&32)===0?p++:(m++,(ge&16)===0?v++:(m++,(ge&8)===0?C++:h=!1))))),o&&(ge>127&&ge<160?o=!1:ge>159&&(ge<192||ge===215||ge===247)&&ne++),u&&(O>0?ge<64||ge===127||ge>252?u=!1:O--:ge===128||ge===160||ge>239?u=!1:ge>160&&ge<224?(I++,P=0,k++,k>F&&(F=k)):ge>127?(O++,k=0,P++,P>X&&(X=P)):(k=0,P=0))}return h&&m>0&&(h=!1),u&&O>0&&(u=!1),h&&(ye||p+v+C>0)?Ae.UTF8:u&&(Ae.ASSUME_SHIFT_JIS||F>=3||X>=3)?Ae.SHIFT_JIS:o&&u?F===2&&I===2||ne*10>=i?Ae.SHIFT_JIS:Ae.ISO88591:o?Ae.ISO88591:u?Ae.SHIFT_JIS:h?Ae.UTF8:Ae.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let i=-1;function o(h,m,p,v,C,O){if(h==="%%")return"%";if(r[++i]===void 0)return;h=v?parseInt(v.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,k;switch(O){case"s":k=r[i];break;case"c":k=r[i][0];break;case"f":k=parseFloat(r[i]).toFixed(h);break;case"p":k=parseFloat(r[i]).toPrecision(h);break;case"e":k=parseFloat(r[i]).toExponential(h);break;case"x":k=parseInt(r[i]).toString(I||16);break;case"d":k=parseFloat(parseInt(r[i],I||10).toPrecision(h)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(I);let P=parseInt(p),F=p&&p[0]+""=="0"?"0":" ";for(;k.length<P;)k=m!==void 0?k+F:F+k;return k}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,o)}static getBytes(t,r){return xt.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}Ae.SHIFT_JIS=fe.SJIS.getName(),Ae.GB2312="GB2312",Ae.ISO88591=fe.ISO8859_1.getName(),Ae.EUC_JP="EUC_JP",Ae.UTF8=fe.UTF8.getName(),Ae.PLATFORM_DEFAULT_ENCODING=Ae.UTF8,Ae.ASSUME_SHIFT_JIS=!1;class Ye{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Ae.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,i){for(let o=r;r<r+i;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class Ke{constructor(t,r,i,o){if(this.width=t,this.height=r,this.rowSize=i,this.bits=o,r==null&&(r=t),this.height=r,t<1||r<1)throw new N("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,i=t[0].length,o=new Ke(i,r);for(let u=0;u<r;u++){const h=t[u];for(let m=0;m<i;m++)h[m]&&o.set(m,u)}return o}static parseFromString(t,r,i){if(t===null)throw new N("stringRepresentation cannot be null");const o=new Array(t.length);let u=0,h=0,m=-1,p=0,v=0;for(;v<t.length;)if(t.charAt(v)===`
`||t.charAt(v)==="\r"){if(u>h){if(m===-1)m=u-h;else if(u-h!==m)throw new N("row lengths do not match");h=u,p++}v++}else if(t.substring(v,v+r.length)===r)v+=r.length,o[u]=!0,u++;else if(t.substring(v,v+i.length)===i)v+=i.length,o[u]=!1,u++;else throw new N("illegal character encountered: "+t.substring(v));if(u>h){if(m===-1)m=u-h;else if(u-h!==m)throw new N("row lengths do not match");p++}const C=new Ke(m,p);for(let O=0;O<u;O++)o[O]&&C.set(Math.floor(O%m),Math.floor(O/m));return C}get(t,r){const i=r*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new N("input matrix dimensions do not match");const r=new me(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let u=0,h=this.height;u<h;u++){const m=u*i,p=t.getRow(u,r).getBitArray();for(let v=0;v<i;v++)o[m+v]^=p[v]}}clear(){const t=this.bits,r=t.length;for(let i=0;i<r;i++)t[i]=0}setRegion(t,r,i,o){if(r<0||t<0)throw new N("Left and top must be nonnegative");if(o<1||i<1)throw new N("Height and width must be at least 1");const u=t+i,h=r+o;if(h>this.height||u>this.width)throw new N("The region must fit inside the matrix");const m=this.rowSize,p=this.bits;for(let v=r;v<h;v++){const C=v*m;for(let O=t;O<u;O++)p[C+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new me(this.width):r.clear();const i=this.rowSize,o=this.bits,u=t*i;for(let h=0;h<i;h++)r.setBulk(h*32,o[u+h]);return r}setRow(t,r){H.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let i=new me(t),o=new me(t);for(let u=0,h=Math.floor((r+1)/2);u<h;u++)i=this.getRow(u,i),o=this.getRow(r-1-u,o),i.reverse(),o.reverse(),this.setRow(u,o),this.setRow(r-1-u,i)}getEnclosingRectangle(){const t=this.width,r=this.height,i=this.rowSize,o=this.bits;let u=t,h=r,m=-1,p=-1;for(let v=0;v<r;v++)for(let C=0;C<i;C++){const O=o[v*i+C];if(O!==0){if(v<h&&(h=v),v>p&&(p=v),C*32<u){let I=0;for(;(O<<31-I&4294967295)===0;)I++;C*32+I<u&&(u=C*32+I)}if(C*32+31>m){let I=31;for(;!(O>>>I);)I--;C*32+I>m&&(m=C*32+I)}}}return m<u||p<h?null:Int32Array.from([u,h,m-u+1,p-h+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const o=i/t;let u=i%t*32;const h=r[i];let m=0;for(;(h<<31-m&4294967295)===0;)m++;return u+=m,Int32Array.from([u,o])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/t);let u=Math.floor(i%t)*32;const h=r[i];let m=31;for(;!(h>>>m);)m--;return u+=m,Int32Array.from([u,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Ke))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&ce.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+ce.hashCode(this.bits),t}toString(t="X ",r="  ",i=`
`){return this.buildToString(t,r,i)}buildToString(t,r,i){let o=new Ye;for(let u=0,h=this.height;u<h;u++){for(let m=0,p=this.width;m<p;m++)o.append(this.get(m,u)?t:r);o.append(i)}return o.toString()}clone(){return new Ke(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends E{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class W extends j{constructor(t){super(t),this.luminances=W.EMPTY,this.buckets=new Int32Array(W.LUMINANCE_BUCKETS)}getBlackRow(t,r){const i=this.getLuminanceSource(),o=i.getWidth();r==null||r.getSize()<o?r=new me(o):r.clear(),this.initArrays(o);const u=i.getRow(t,this.luminances),h=this.buckets;for(let p=0;p<o;p++)h[(u[p]&255)>>W.LUMINANCE_SHIFT]++;const m=W.estimateBlackPoint(h);if(o<3)for(let p=0;p<o;p++)(u[p]&255)<m&&r.set(p);else{let p=u[0]&255,v=u[1]&255;for(let C=1;C<o-1;C++){const O=u[C+1]&255;(v*4-p-O)/2<m&&r.set(C),p=v,v=O}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),o=new Ke(r,i);this.initArrays(r);const u=this.buckets;for(let p=1;p<5;p++){const v=Math.floor(i*p/5),C=t.getRow(v,this.luminances),O=Math.floor(r*4/5);for(let I=Math.floor(r/5);I<O;I++){const k=C[I]&255;u[k>>W.LUMINANCE_SHIFT]++}}const h=W.estimateBlackPoint(u),m=t.getMatrix();for(let p=0;p<i;p++){const v=p*r;for(let C=0;C<r;C++)(m[v+C]&255)<h&&o.set(C,p)}return o}createBinarizer(t){return new W(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let i=0;i<W.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(t){const r=t.length;let i=0,o=0,u=0;for(let C=0;C<r;C++)t[C]>u&&(o=C,u=t[C]),t[C]>i&&(i=t[C]);let h=0,m=0;for(let C=0;C<r;C++){const O=C-o,I=t[C]*O*O;I>m&&(h=C,m=I)}if(o>h){const C=o;o=h,h=C}if(h-o<=r/16)throw new te;let p=h-1,v=-1;for(let C=h-1;C>o;C--){const O=C-o,I=O*O*(h-C)*(i-t[C]);I>v&&(p=C,v=I)}return p<<W.LUMINANCE_SHIFT}}W.LUMINANCE_BITS=5,W.LUMINANCE_SHIFT=8-W.LUMINANCE_BITS,W.LUMINANCE_BUCKETS=1<<W.LUMINANCE_BITS,W.EMPTY=Uint8ClampedArray.from([0]);class oe extends W{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=oe.MINIMUM_DIMENSION&&i>=oe.MINIMUM_DIMENSION){const o=t.getMatrix();let u=r>>oe.BLOCK_SIZE_POWER;(r&oe.BLOCK_SIZE_MASK)!==0&&u++;let h=i>>oe.BLOCK_SIZE_POWER;(i&oe.BLOCK_SIZE_MASK)!==0&&h++;const m=oe.calculateBlackPoints(o,u,h,r,i),p=new Ke(r,i);oe.calculateThresholdForBlock(o,u,h,r,i,m,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new oe(t)}static calculateThresholdForBlock(t,r,i,o,u,h,m){const p=u-oe.BLOCK_SIZE,v=o-oe.BLOCK_SIZE;for(let C=0;C<i;C++){let O=C<<oe.BLOCK_SIZE_POWER;O>p&&(O=p);const I=oe.cap(C,2,i-3);for(let k=0;k<r;k++){let P=k<<oe.BLOCK_SIZE_POWER;P>v&&(P=v);const F=oe.cap(k,2,r-3);let X=0;for(let ye=-2;ye<=2;ye++){const xe=h[I+ye];X+=xe[F-2]+xe[F-1]+xe[F]+xe[F+1]+xe[F+2]}const ne=X/25;oe.thresholdBlock(t,P,O,ne,o,m)}}}static cap(t,r,i){return t<r?r:t>i?i:t}static thresholdBlock(t,r,i,o,u,h){for(let m=0,p=i*u+r;m<oe.BLOCK_SIZE;m++,p+=u)for(let v=0;v<oe.BLOCK_SIZE;v++)(t[p+v]&255)<=o&&h.set(r+v,i+m)}static calculateBlackPoints(t,r,i,o,u){const h=u-oe.BLOCK_SIZE,m=o-oe.BLOCK_SIZE,p=new Array(i);for(let v=0;v<i;v++){p[v]=new Int32Array(r);let C=v<<oe.BLOCK_SIZE_POWER;C>h&&(C=h);for(let O=0;O<r;O++){let I=O<<oe.BLOCK_SIZE_POWER;I>m&&(I=m);let k=0,P=255,F=0;for(let ne=0,ye=C*o+I;ne<oe.BLOCK_SIZE;ne++,ye+=o){for(let xe=0;xe<oe.BLOCK_SIZE;xe++){const ge=t[ye+xe]&255;k+=ge,ge<P&&(P=ge),ge>F&&(F=ge)}if(F-P>oe.MIN_DYNAMIC_RANGE)for(ne++,ye+=o;ne<oe.BLOCK_SIZE;ne++,ye+=o)for(let xe=0;xe<oe.BLOCK_SIZE;xe++)k+=t[ye+xe]&255}let X=k>>oe.BLOCK_SIZE_POWER*2;if(F-P<=oe.MIN_DYNAMIC_RANGE&&(X=P/2,v>0&&O>0)){const ne=(p[v-1][O]+2*p[v][O-1]+p[v-1][O-1])/4;P<ne&&(X=ne)}p[v][O]=X}}return p}}oe.BLOCK_SIZE_POWER=3,oe.BLOCK_SIZE=1<<oe.BLOCK_SIZE_POWER,oe.BLOCK_SIZE_MASK=oe.BLOCK_SIZE-1,oe.MINIMUM_DIMENSION=oe.BLOCK_SIZE*5,oe.MIN_DYNAMIC_RANGE=24;class Ie{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,i,o){throw new Tn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Tn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Tn("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new Ye;for(let i=0;i<this.height;i++){const o=this.getRow(i,t);for(let u=0;u<this.width;u++){const h=o[u]&255;let m;h<64?m="#":h<128?m="+":h<192?m=".":m=" ",r.append(m)}r.append(`
`)}return r.toString()}}class Ze extends Ie{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const i=this.delegate.getRow(t,r),o=this.getWidth();for(let u=0;u<o;u++)i[u]=255-(i[u]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let o=0;o<r;o++)i[o]=255-(t[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,i,o){return new Ze(this.delegate.crop(t,r,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ze(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ze(this.delegate.rotateCounterClockwise45())}}class qe extends Ie{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=qe.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return qe.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,i){const o=new Uint8ClampedArray(r*i);for(let u=0,h=0,m=t.length;u<m;u+=4,h++){let p;if(t[u+3]===0)p=255;else{const C=t[u],O=t[u+1],I=t[u+2];p=306*C+601*O+117*I+512>>10}o[h]=p}return o}getRow(t,r){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const i=this.getWidth(),o=t*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,i,o){return super.crop(t,r,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),i=r.getContext("2d"),o=t*qe.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(o))*u+Math.abs(Math.sin(o))*h),p=Math.ceil(Math.abs(Math.sin(o))*u+Math.abs(Math.cos(o))*h);return r.width=m,r.height=p,i.translate(m/2,p/2),i.rotate(o),i.drawImage(this.canvas,u/-2,h/-2),this.buffer=qe.makeBufferFromCanvasImageData(r),this}invert(){return new Ze(this)}}qe.DEGREE_TO_RADIANS=Math.PI/180;class q{constructor(t,r,i){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ae=(globalThis||Cu||self||window||void 0)&&(globalThis||Cu||self||window||void 0).__awaiter||function(T,t,r,i){function o(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function m(C){try{v(i.next(C))}catch(O){h(O)}}function p(C){try{v(i.throw(C))}catch(O){h(O)}}function v(C){C.done?u(C.value):o(C.value).then(m,p)}v((i=i.apply(T,t||[])).next())})};class ve{constructor(t,r=500,i){this.reader=t,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of t){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const u=i.deviceId||i.id,h=i.label||`Video device ${r.length+1}`,m=i.groupId,p={deviceId:u,label:h,kind:o,groupId:m};r.push(p)}return r})}getVideoInputDevices(){return ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new q(r.deviceId,r.label))})}findDeviceById(t){return ae(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return ae(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(t,r){return ae(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(t,r){return ae(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,r,i){return ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,i)})}decodeFromVideoDevice(t,r,i){return ae(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const u={video:o};return yield this.decodeFromConstraints(u,r,i)})}decodeFromConstraints(t,r,i){return ae(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,r,i)})}decodeFromStream(t,r,i){return ae(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return ae(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((r,i)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ae(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const i=document.getElementById(t);if(!i)throw new R(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new R(`element with id '${t}' must be an ${r} element`);return i}decodeFromImage(t,r){if(!t&&!r)throw new R("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new R("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,i){if(t===void 0&&r===void 0)throw new R("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new R("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(t){if(!t)throw new R("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new R("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=t,i}decodeFromVideoUrl(t){if(!t)throw new R("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=t,i}decodeFromVideoUrlContinuously(t,r){if(!t)throw new R("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,r);return i.src=t,o}_decodeOnLoadImage(t){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,i=!0){this._stopAsyncDecode=!1;const o=(u,h)=>{if(this._stopAsyncDecode){h(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(t);u(m)}catch(m){const p=r&&m instanceof te,C=(m instanceof L||m instanceof ee)&&i;if(p||C)return setTimeout(o,this._timeBetweenDecodingAttempts,u,h);h(m)}};return new Promise((u,h)=>o(u,h))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);r(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){r(null,o);const u=o instanceof L||o instanceof ee,h=o instanceof te;(u||h)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,i){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,i=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),i=new qe(r),o=new oe(i);return new B(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Ee{constructor(t,r,i=r==null?0:8*r.length,o,u,h=H.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=i,this.resultPoints=o,this.format=u,this.timestamp=h,this.text=t,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=o,this.format=u,this.resultMetadata=null,h==null?this.timestamp=H.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(r.length+t.length);H.arraycopy(r,0,i,0,r.length),H.arraycopy(t,0,i,r.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var He;(function(T){T[T.AZTEC=0]="AZTEC",T[T.CODABAR=1]="CODABAR",T[T.CODE_39=2]="CODE_39",T[T.CODE_93=3]="CODE_93",T[T.CODE_128=4]="CODE_128",T[T.DATA_MATRIX=5]="DATA_MATRIX",T[T.EAN_8=6]="EAN_8",T[T.EAN_13=7]="EAN_13",T[T.ITF=8]="ITF",T[T.MAXICODE=9]="MAXICODE",T[T.PDF_417=10]="PDF_417",T[T.QR_CODE=11]="QR_CODE",T[T.RSS_14=12]="RSS_14",T[T.RSS_EXPANDED=13]="RSS_EXPANDED",T[T.UPC_A=14]="UPC_A",T[T.UPC_E=15]="UPC_E",T[T.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(He||(He={}));var be=He,rt;(function(T){T[T.OTHER=0]="OTHER",T[T.ORIENTATION=1]="ORIENTATION",T[T.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",T[T.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",T[T.ISSUE_NUMBER=4]="ISSUE_NUMBER",T[T.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",T[T.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",T[T.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",T[T.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",T[T.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",T[T.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(rt||(rt={}));var ot=rt;class Tt{constructor(t,r,i,o,u=-1,h=-1){this.rawBytes=t,this.text=r,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Wn{exp(t){return this.expTable[t]}log(t){if(t===0)throw new N;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class we{constructor(t,r){if(r.length===0)throw new N;this.field=t;const i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),H.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(t===1){i=0;for(let h=0,m=r.length;h!==m;h++){const p=r[h];i=Wn.addOrSubtract(i,p)}return i}i=r[0];const o=r.length,u=this.field;for(let h=1;h<o;h++)i=Wn.addOrSubtract(u.multiply(t,i),r[h]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){const h=r;r=i,i=h}let o=new Int32Array(i.length);const u=i.length-r.length;H.arraycopy(i,0,o,0,u);for(let h=u;h<i.length;h++)o[h]=Wn.addOrSubtract(r[h-u],i[h]);return new we(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,o=t.coefficients,u=o.length,h=new Int32Array(i+u-1),m=this.field;for(let p=0;p<i;p++){const v=r[p];for(let C=0;C<u;C++)h[p+C]=Wn.addOrSubtract(h[p+C],m.multiply(v,o[C]))}return new we(m,h)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,i=this.field,o=new Int32Array(r),u=this.coefficients;for(let h=0;h<r;h++)o[h]=i.multiply(u[h],t);return new we(i,o)}multiplyByMonomial(t,r){if(t<0)throw new N;if(r===0)return this.field.getZero();const i=this.coefficients,o=i.length,u=new Int32Array(o+t),h=this.field;for(let m=0;m<o;m++)u[m]=h.multiply(i[m],r);return new we(h,u)}divide(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new N("Divide by 0");const r=this.field;let i=r.getZero(),o=this;const u=t.getCoefficient(t.getDegree()),h=r.inverse(u);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const m=o.getDegree()-t.getDegree(),p=r.multiply(o.getCoefficient(o.getDegree()),h),v=t.multiplyByMonomial(m,p),C=r.buildMonomial(m,p);i=i.addOrSubtract(C),o=o.addOrSubtract(v)}return[i,o]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),r===0||i!==1){const o=this.field.log(i);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class Ht extends E{}Ht.kind="ArithmeticException";class Ge extends Wn{constructor(t,r,i){super(),this.primitive=t,this.size=r,this.generatorBase=i;const o=new Int32Array(r);let u=1;for(let m=0;m<r;m++)o[m]=u,u*=2,u>=r&&(u^=t,u&=r-1);this.expTable=o;const h=new Int32Array(r);for(let m=0;m<r-1;m++)h[o[m]]=m;this.logTable=h,this.zero=new we(this,Int32Array.from([0])),this.one=new we(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new N;if(r===0)return this.zero;const i=new Int32Array(t+1);return i[0]=r,new we(this,i)}inverse(t){if(t===0)throw new Ht;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Y.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Ge.AZTEC_DATA_12=new Ge(4201,4096,1),Ge.AZTEC_DATA_10=new Ge(1033,1024,1),Ge.AZTEC_DATA_6=new Ge(67,64,1),Ge.AZTEC_PARAM=new Ge(19,16,1),Ge.QR_CODE_FIELD_256=new Ge(285,256,0),Ge.DATA_MATRIX_FIELD_256=new Ge(301,256,1),Ge.AZTEC_DATA_8=Ge.DATA_MATRIX_FIELD_256,Ge.MAXICODE_FIELD_64=Ge.AZTEC_DATA_6;class fn extends E{}fn.kind="ReedSolomonException";class jn extends E{}jn.kind="IllegalStateException";class Ur{constructor(t){this.field=t}decode(t,r){const i=this.field,o=new we(i,t),u=new Int32Array(r);let h=!0;for(let k=0;k<r;k++){const P=o.evaluateAt(i.exp(k+i.getGeneratorBase()));u[u.length-1-k]=P,P!==0&&(h=!1)}if(h)return;const m=new we(i,u),p=this.runEuclideanAlgorithm(i.buildMonomial(r,1),m,r),v=p[0],C=p[1],O=this.findErrorLocations(v),I=this.findErrorMagnitudes(C,O);for(let k=0;k<O.length;k++){const P=t.length-1-i.log(O[k]);if(P<0)throw new fn("Bad error location");t[P]=Ge.addOrSubtract(t[P],I[k])}}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){const k=t;t=r,r=k}const o=this.field;let u=t,h=r,m=o.getZero(),p=o.getOne();for(;h.getDegree()>=(i/2|0);){let k=u,P=m;if(u=h,m=p,u.isZero())throw new fn("r_{i-1} was zero");h=k;let F=o.getZero();const X=u.getCoefficient(u.getDegree()),ne=o.inverse(X);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const ye=h.getDegree()-u.getDegree(),xe=o.multiply(h.getCoefficient(h.getDegree()),ne);F=F.addOrSubtract(o.buildMonomial(ye,xe)),h=h.addOrSubtract(u.multiplyByMonomial(ye,xe))}if(p=F.multiply(m).addOrSubtract(P),h.getDegree()>=u.getDegree())throw new jn("Division algorithm failed to reduce polynomial?")}const v=p.getCoefficient(0);if(v===0)throw new fn("sigmaTilde(0) was zero");const C=o.inverse(v),O=p.multiplyScalar(C),I=h.multiplyScalar(C);return[O,I]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(r);let o=0;const u=this.field;for(let h=1;h<u.getSize()&&o<r;h++)t.evaluateAt(h)===0&&(i[o]=u.inverse(h),o++);if(o!==r)throw new fn("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,r){const i=r.length,o=new Int32Array(i),u=this.field;for(let h=0;h<i;h++){const m=u.inverse(r[h]);let p=1;for(let v=0;v<i;v++)if(h!==v){const C=u.multiply(r[v],m),O=(C&1)===0?C|1:C&-2;p=u.multiply(p,O)}o[h]=u.multiply(t.evaluateAt(m),u.inverse(p)),u.getGeneratorBase()!==0&&(o[h]=u.multiply(o[h],m))}return o}}var vn;(function(T){T[T.UPPER=0]="UPPER",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.DIGIT=3]="DIGIT",T[T.PUNCT=4]="PUNCT",T[T.BINARY=5]="BINARY"})(vn||(vn={}));class Ot{decode(t){this.ddata=t;let r=t.getBits(),i=this.extractBits(r),o=this.correctBits(i),u=Ot.convertBoolArrayToByteArray(o),h=Ot.getEncodedData(o),m=new Tt(u,h,null,null);return m.setNumBits(o.length),m}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,i=vn.UPPER,o=vn.UPPER,u="",h=0;for(;h<r;)if(o===vn.BINARY){if(r-h<5)break;let m=Ot.readCode(t,h,5);if(h+=5,m===0){if(r-h<11)break;m=Ot.readCode(t,h,11)+31,h+=11}for(let p=0;p<m;p++){if(r-h<8){h=r;break}const v=Ot.readCode(t,h,8);u+=Ae.castAsNonUtf8Char(v),h+=8}o=i}else{let m=o===vn.DIGIT?4:5;if(r-h<m)break;let p=Ot.readCode(t,h,m);h+=m;let v=Ot.getCharacter(o,p);v.startsWith("CTRL_")?(i=o,o=Ot.getTable(v.charAt(5)),v.charAt(6)==="L"&&(i=o)):(u+=v,o=i)}return u}static getTable(t){switch(t){case"L":return vn.LOWER;case"P":return vn.PUNCT;case"M":return vn.MIXED;case"D":return vn.DIGIT;case"B":return vn.BINARY;case"U":default:return vn.UPPER}}static getCharacter(t,r){switch(t){case vn.UPPER:return Ot.UPPER_TABLE[r];case vn.LOWER:return Ot.LOWER_TABLE[r];case vn.MIXED:return Ot.MIXED_TABLE[r];case vn.PUNCT:return Ot.PUNCT_TABLE[r];case vn.DIGIT:return Ot.DIGIT_TABLE[r];default:throw new jn("Bad table")}}correctBits(t){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=Ge.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=Ge.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=Ge.AZTEC_DATA_10):(i=12,r=Ge.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),u=t.length/i;if(u<o)throw new ee;let h=t.length%i,m=new Int32Array(u);for(let I=0;I<u;I++,h+=i)m[I]=Ot.readCode(t,h,i);try{new Ur(r).decode(m,u-o)}catch(I){throw new ee(I)}let p=(1<<i)-1,v=0;for(let I=0;I<o;I++){let k=m[I];if(k===0||k===p)throw new ee;(k===1||k===p-1)&&v++}let C=new Array(o*i-v),O=0;for(let I=0;I<o;I++){let k=m[I];if(k===1||k===p-1)C.fill(k>1,O,O+i-1),O+=i-1;else for(let P=i-1;P>=0;--P)C[O++]=(k&1<<P)!==0}return C}extractBits(t){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(r?11:14)+i*4,u=new Int32Array(o),h=new Array(this.totalBitsInLayer(i,r));if(r)for(let m=0;m<u.length;m++)u[m]=m;else{let m=o+1+2*Y.truncDivision(Y.truncDivision(o,2)-1,15),p=o/2,v=Y.truncDivision(m,2);for(let C=0;C<p;C++){let O=C+Y.truncDivision(C,15);u[p-C-1]=v-O-1,u[p+C]=v+O+1}}for(let m=0,p=0;m<i;m++){let v=(i-m)*4+(r?9:12),C=m*2,O=o-1-C;for(let I=0;I<v;I++){let k=I*2;for(let P=0;P<2;P++)h[p+k+P]=t.get(u[C+P],u[C+I]),h[p+2*v+k+P]=t.get(u[C+I],u[O-P]),h[p+4*v+k+P]=t.get(u[O-P],u[O-I]),h[p+6*v+k+P]=t.get(u[O-I],u[C+P])}p+=v*8}return h}static readCode(t,r,i){let o=0;for(let u=r;u<r+i;u++)o<<=1,t[u]&&(o|=1);return o}static readByte(t,r){let i=t.length-r;return i>=8?Ot.readCode(t,r,8):Ot.readCode(t,r,i)<<8-i}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let i=0;i<r.length;i++)r[i]=Ot.readByte(t,8*i);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Ot.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ot.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ot.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ot.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ot.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,i,o){const u=t-i,h=r-o;return Math.sqrt(u*u+h*h)}static sum(t){let r=0;for(let i=0,o=t.length;i!==o;i++){const u=t[i];r+=u}return r}}class ki{static floatToIntBits(t){return t}}ki.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Re{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Re){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*ki.floatToIntBits(this.x)+ki.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let u,h,m;if(i>=r&&i>=o?(h=t[0],u=t[1],m=t[2]):o>=i&&o>=r?(h=t[1],u=t[0],m=t[2]):(h=t[2],u=t[0],m=t[1]),this.crossProductZ(u,h,m)<0){const p=u;u=m,m=p}t[0]=u,t[1]=h,t[2]=m}static distance(t,r){return it.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,i){const o=r.x,u=r.y;return(i.x-o)*(t.y-u)-(i.y-u)*(t.x-o)}}class $s{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class ao extends $s{constructor(t,r,i,o,u){super(t,r),this.compact=i,this.nbDatablocks=o,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Jt{constructor(t,r,i,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Jt.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const u=r/2|0;if(this.leftInit=i-u,this.rightInit=i+u,this.upInit=o-u,this.downInit=o+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let t=this.leftInit,r=this.rightInit,i=this.upInit,o=this.downInit,u=!1,h=!0,m=!1,p=!1,v=!1,C=!1,O=!1;const I=this.width,k=this.height;for(;h;){h=!1;let P=!0;for(;(P||!p)&&r<I;)P=this.containsBlackPoint(i,o,r,!1),P?(r++,h=!0,p=!0):p||r++;if(r>=I){u=!0;break}let F=!0;for(;(F||!v)&&o<k;)F=this.containsBlackPoint(t,r,o,!0),F?(o++,h=!0,v=!0):v||o++;if(o>=k){u=!0;break}let X=!0;for(;(X||!C)&&t>=0;)X=this.containsBlackPoint(i,o,t,!1),X?(t--,h=!0,C=!0):C||t--;if(t<0){u=!0;break}let ne=!0;for(;(ne||!O)&&i>=0;)ne=this.containsBlackPoint(t,r,i,!0),ne?(i--,h=!0,O=!0):O||i--;if(i<0){u=!0;break}h&&(m=!0)}if(!u&&m){const P=r-t;let F=null;for(let xe=1;F===null&&xe<P;xe++)F=this.getBlackPointOnSegment(t,o-xe,t+xe,o);if(F==null)throw new te;let X=null;for(let xe=1;X===null&&xe<P;xe++)X=this.getBlackPointOnSegment(t,i+xe,t+xe,i);if(X==null)throw new te;let ne=null;for(let xe=1;ne===null&&xe<P;xe++)ne=this.getBlackPointOnSegment(r,i+xe,r-xe,i);if(ne==null)throw new te;let ye=null;for(let xe=1;ye===null&&xe<P;xe++)ye=this.getBlackPointOnSegment(r,o-xe,r-xe,o);if(ye==null)throw new te;return this.centerEdges(ye,F,ne,X)}else throw new te}getBlackPointOnSegment(t,r,i,o){const u=it.round(it.distance(t,r,i,o)),h=(i-t)/u,m=(o-r)/u,p=this.image;for(let v=0;v<u;v++){const C=it.round(t+v*h),O=it.round(r+v*m);if(p.get(C,O))return new Re(C,O)}return null}centerEdges(t,r,i,o){const u=t.getX(),h=t.getY(),m=r.getX(),p=r.getY(),v=i.getX(),C=i.getY(),O=o.getX(),I=o.getY(),k=Jt.CORR;return u<this.width/2?[new Re(O-k,I+k),new Re(m+k,p+k),new Re(v-k,C-k),new Re(u+k,h-k)]:[new Re(O+k,I+k),new Re(m+k,p-k),new Re(v-k,C+k),new Re(u-k,h-k)]}containsBlackPoint(t,r,i,o){const u=this.image;if(o){for(let h=t;h<=r;h++)if(u.get(h,i))return!0}else for(let h=t;h<=r;h++)if(u.get(i,h))return!0;return!1}}Jt.INIT_SIZE=10,Jt.CORR=1;class Ja{static checkAndNudgePoints(t,r){const i=t.getWidth(),o=t.getHeight();let u=!0;for(let h=0;h<r.length&&u;h+=2){const m=Math.floor(r[h]),p=Math.floor(r[h+1]);if(m<-1||m>i||p<-1||p>o)throw new te;u=!1,m===-1?(r[h]=0,u=!0):m===i&&(r[h]=i-1,u=!0),p===-1?(r[h+1]=0,u=!0):p===o&&(r[h+1]=o-1,u=!0)}u=!0;for(let h=r.length-2;h>=0&&u;h-=2){const m=Math.floor(r[h]),p=Math.floor(r[h+1]);if(m<-1||m>i||p<-1||p>o)throw new te;u=!1,m===-1?(r[h]=0,u=!0):m===i&&(r[h]=i-1,u=!0),p===-1?(r[h+1]=0,u=!0):p===o&&(r[h+1]=o-1,u=!0)}}}class Zn{constructor(t,r,i,o,u,h,m,p,v){this.a11=t,this.a21=r,this.a31=i,this.a12=o,this.a22=u,this.a32=h,this.a13=m,this.a23=p,this.a33=v}static quadrilateralToQuadrilateral(t,r,i,o,u,h,m,p,v,C,O,I,k,P,F,X){const ne=Zn.quadrilateralToSquare(t,r,i,o,u,h,m,p);return Zn.squareToQuadrilateral(v,C,O,I,k,P,F,X).times(ne)}transformPoints(t){const r=t.length,i=this.a11,o=this.a12,u=this.a13,h=this.a21,m=this.a22,p=this.a23,v=this.a31,C=this.a32,O=this.a33;for(let I=0;I<r;I+=2){const k=t[I],P=t[I+1],F=u*k+p*P+O;t[I]=(i*k+h*P+v)/F,t[I+1]=(o*k+m*P+C)/F}}transformPointsWithValues(t,r){const i=this.a11,o=this.a12,u=this.a13,h=this.a21,m=this.a22,p=this.a23,v=this.a31,C=this.a32,O=this.a33,I=t.length;for(let k=0;k<I;k++){const P=t[k],F=r[k],X=u*P+p*F+O;t[k]=(i*P+h*F+v)/X,r[k]=(o*P+m*F+C)/X}}static squareToQuadrilateral(t,r,i,o,u,h,m,p){const v=t-i+u-m,C=r-o+h-p;if(v===0&&C===0)return new Zn(i-t,u-i,t,o-r,h-o,r,0,0,1);{const O=i-u,I=m-u,k=o-h,P=p-h,F=O*P-I*k,X=(v*P-I*C)/F,ne=(O*C-v*k)/F;return new Zn(i-t+X*i,m-t+ne*m,t,o-r+X*o,p-r+ne*p,r,X,ne,1)}}static quadrilateralToSquare(t,r,i,o,u,h,m,p){return Zn.squareToQuadrilateral(t,r,i,o,u,h,m,p).buildAdjoint()}buildAdjoint(){return new Zn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Zn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class $a extends Ja{sampleGrid(t,r,i,o,u,h,m,p,v,C,O,I,k,P,F,X,ne,ye,xe){const ge=Zn.quadrilateralToQuadrilateral(o,u,h,m,p,v,C,O,I,k,P,F,X,ne,ye,xe);return this.sampleGridWithTransform(t,r,i,ge)}sampleGridWithTransform(t,r,i,o){if(r<=0||i<=0)throw new te;const u=new Ke(r,i),h=new Float32Array(2*r);for(let m=0;m<i;m++){const p=h.length,v=m+.5;for(let C=0;C<p;C+=2)h[C]=C/2+.5,h[C+1]=v;o.transformPoints(h),Ja.checkAndNudgePoints(t,h);try{for(let C=0;C<p;C+=2)t.get(Math.floor(h[C]),Math.floor(h[C+1]))&&u.set(C/2,m)}catch{throw new te}}return u}}class or{static setGridSampler(t){or.gridSampler=t}static getInstance(){return or.gridSampler}}or.gridSampler=new $a;class Nn{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new Re(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class el{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(t){let h=i[0];i[0]=i[2],i[2]=h}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),u=this.getMatrixCornerPoints(i);return new ao(o,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new te;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(i,r);let o=0;for(let h=0;h<4;h++){let m=i[(this.shift+h)%4];this.compact?(o<<=7,o+=m>>1&127):(o<<=10,o+=(m>>2&992)+(m>>1&31))}let u=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(t,r){let i=0;t.forEach((o,u,h)=>{let m=(o>>r-2<<1)+(o&1);i=(i<<3)+m}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(Y.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new te}getCorrectedParameterData(t,r){let i,o;r?(i=7,o=2):(i=10,o=4);let u=i-o,h=new Int32Array(i);for(let p=i-1;p>=0;--p)h[p]=t&15,t>>=4;try{new Ur(Ge.AZTEC_PARAM).decode(h,u)}catch{throw new te}let m=0;for(let p=0;p<o;p++)m=(m<<4)+h[p];return m}getBullsEyeCorners(t){let r=t,i=t,o=t,u=t,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(r,h,1,-1),I=this.getFirstDifferent(i,h,1,1),k=this.getFirstDifferent(o,h,-1,1),P=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(P,O)*this.nbCenterLayers/(this.distancePoint(u,r)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(O,I,k,P))break}r=O,i=I,o=k,u=P,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let m=new Re(r.getX()+.5,r.getY()-.5),p=new Re(i.getX()+.5,i.getY()+.5),v=new Re(o.getX()-.5,o.getY()+.5),C=new Re(u.getX()-.5,u.getY()-.5);return this.expandSquare([m,p,v,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,i,o;try{let m=new Jt(this.image).detect();t=m[0],r=m[1],i=m[2],o=m[3]}catch{let p=this.image.getWidth()/2,v=this.image.getHeight()/2;t=this.getFirstDifferent(new Nn(p+7,v-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Nn(p+7,v+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Nn(p-7,v+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Nn(p-7,v-7),!1,-1,-1).toResultPoint()}let u=it.round((t.getX()+o.getX()+r.getX()+i.getX())/4),h=it.round((t.getY()+o.getY()+r.getY()+i.getY())/4);try{let m=new Jt(this.image,15,u,h).detect();t=m[0],r=m[1],i=m[2],o=m[3]}catch{t=this.getFirstDifferent(new Nn(u+7,h-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Nn(u+7,h+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Nn(u-7,h+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Nn(u-7,h-7),!1,-1,-1).toResultPoint()}return u=it.round((t.getX()+o.getX()+r.getX()+i.getX())/4),h=it.round((t.getY()+o.getY()+r.getY()+i.getY())/4),new Nn(u,h)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,i,o,u){let h=or.getInstance(),m=this.getDimension(),p=m/2-this.nbCenterLayers,v=m/2+this.nbCenterLayers;return h.sampleGrid(t,m,m,p,p,v,p,v,v,p,v,r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY(),u.getX(),u.getY())}sampleLine(t,r,i){let o=0,u=this.distanceResultPoint(t,r),h=u/i,m=t.getX(),p=t.getY(),v=h*(r.getX()-t.getX())/u,C=h*(r.getY()-t.getY())/u;for(let O=0;O<i;O++)this.image.get(it.round(m+O*v),it.round(p+O*C))&&(o|=1<<i-O-1);return o}isWhiteOrBlackRectangle(t,r,i,o){let u=3;t=new Nn(t.getX()-u,t.getY()+u),r=new Nn(r.getX()-u,r.getY()-u),i=new Nn(i.getX()+u,i.getY()-u),o=new Nn(o.getX()+u,o.getY()+u);let h=this.getColor(o,t);if(h===0)return!1;let m=this.getColor(t,r);return m!==h||(m=this.getColor(r,i),m!==h)?!1:(m=this.getColor(i,o),m===h)}getColor(t,r){let i=this.distancePoint(t,r),o=(r.getX()-t.getX())/i,u=(r.getY()-t.getY())/i,h=0,m=t.getX(),p=t.getY(),v=this.image.get(t.getX(),t.getY()),C=Math.ceil(i);for(let I=0;I<C;I++)m+=o,p+=u,this.image.get(it.round(m),it.round(p))!==v&&h++;let O=h/i;return O>.1&&O<.9?0:O<=.1===v?1:-1}getFirstDifferent(t,r,i,o){let u=t.getX()+i,h=t.getY()+o;for(;this.isValid(u,h)&&this.image.get(u,h)===r;)u+=i,h+=o;for(u-=i,h-=o;this.isValid(u,h)&&this.image.get(u,h)===r;)u+=i;for(u-=i;this.isValid(u,h)&&this.image.get(u,h)===r;)h+=o;return h-=o,new Nn(u,h)}expandSquare(t,r,i){let o=i/(2*r),u=t[0].getX()-t[2].getX(),h=t[0].getY()-t[2].getY(),m=(t[0].getX()+t[2].getX())/2,p=(t[0].getY()+t[2].getY())/2,v=new Re(m+o*u,p+o*h),C=new Re(m-o*u,p-o*h);u=t[1].getX()-t[3].getX(),h=t[1].getY()-t[3].getY(),m=(t[1].getX()+t[3].getX())/2,p=(t[1].getY()+t[3].getY())/2;let O=new Re(m+o*u,p+o*h),I=new Re(m-o*u,p-o*h);return[v,O,C,I]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=it.round(t.getX()),i=it.round(t.getY());return this.isValid(r,i)}distancePoint(t,r){return it.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return it.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Y.truncDivision(this.nbLayers-4,8)+1)+15}}class ea{decode(t,r=null){let i=null,o=new el(t.getBlackMatrix()),u=null,h=null;try{let C=o.detectMirror(!1);u=C.getPoints(),this.reportFoundResultPoints(r,u),h=new Ot().decode(C)}catch(C){i=C}if(h==null)try{let C=o.detectMirror(!0);u=C.getPoints(),this.reportFoundResultPoints(r,u),h=new Ot().decode(C)}catch(C){throw i??C}let m=new Ee(h.getText(),h.getRawBytes(),h.getNumBits(),u,be.AZTEC,H.currentTimeMillis()),p=h.getByteSegments();p!=null&&m.putMetadata(ot.BYTE_SEGMENTS,p);let v=h.getECLevel();return v!=null&&m.putMetadata(ot.ERROR_CORRECTION_LEVEL,v),m}reportFoundResultPoints(t,r){if(t!=null){let i=t.get(_e.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((o,u,h)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class nc extends ve{constructor(t=500){super(new ea,t)}}class Ft{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(_e.TRY_HARDER)===!0&&t.isRotateSupported()){const u=t.rotateCounterClockwise(),h=this.doDecode(u,r),m=h.getResultMetadata();let p=270;m!==null&&m.get(ot.ORIENTATION)===!0&&(p=p+m.get(ot.ORIENTATION)%360),h.putMetadata(ot.ORIENTATION,p);const v=h.getResultPoints();if(v!==null){const C=u.getHeight();for(let O=0;O<v.length;O++)v[O]=new Re(C-v[O].getY()-1,v[O].getX())}return h}else throw new te}}reset(){}doDecode(t,r){const i=t.getWidth(),o=t.getHeight();let u=new me(i);const h=r&&r.get(_e.TRY_HARDER)===!0,m=Math.max(1,o>>(h?8:5));let p;h?p=o:p=15;const v=Math.trunc(o/2);for(let C=0;C<p;C++){const O=Math.trunc((C+1)/2),I=(C&1)===0,k=v+m*(I?O:-O);if(k<0||k>=o)break;try{u=t.getBlackRow(k,u)}catch{continue}for(let P=0;P<2;P++){if(P===1&&(u.reverse(),r&&r.get(_e.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;r.forEach((X,ne)=>F.set(ne,X)),F.delete(_e.NEED_RESULT_POINT_CALLBACK),r=F}try{const F=this.decodeRow(k,u,r);if(P===1){F.putMetadata(ot.ORIENTATION,180);const X=F.getResultPoints();X!==null&&(X[0]=new Re(i-X[0].getX()-1,X[0].getY()),X[1]=new Re(i-X[1].getX()-1,X[1].getY()))}return F}catch{}}}throw new te}static recordPattern(t,r,i){const o=i.length;for(let v=0;v<o;v++)i[v]=0;const u=t.getSize();if(r>=u)throw new te;let h=!t.get(r),m=0,p=r;for(;p<u;){if(t.get(p)!==h)i[m]++;else{if(++m===o)break;i[m]=1,h=!h}p++}if(!(m===o||m===o-1&&p===u))throw new te}static recordPatternInReverse(t,r,i){let o=i.length,u=t.get(r);for(;r>0&&o>=0;)t.get(--r)!==u&&(o--,u=!u);if(o>=0)throw new te;Ft.recordPattern(t,r+1,i)}static patternMatchVariance(t,r,i){const o=t.length;let u=0,h=0;for(let v=0;v<o;v++)u+=t[v],h+=r[v];if(u<h)return Number.POSITIVE_INFINITY;const m=u/h;i*=m;let p=0;for(let v=0;v<o;v++){const C=t[v],O=r[v]*m,I=C>O?C-O:O-C;if(I>i)return Number.POSITIVE_INFINITY;p+=I}return p/u}}class pe extends Ft{static findStartPattern(t){const r=t.getSize(),i=t.getNextSet(0);let o=0,u=Int32Array.from([0,0,0,0,0,0]),h=i,m=!1;const p=6;for(let v=i;v<r;v++)if(t.get(v)!==m)u[o]++;else{if(o===p-1){let C=pe.MAX_AVG_VARIANCE,O=-1;for(let I=pe.CODE_START_A;I<=pe.CODE_START_C;I++){const k=Ft.patternMatchVariance(u,pe.CODE_PATTERNS[I],pe.MAX_INDIVIDUAL_VARIANCE);k<C&&(C=k,O=I)}if(O>=0&&t.isRange(Math.max(0,h-(v-h)/2),h,!1))return Int32Array.from([h,v,O]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[o-1]=0,u[o]=0,o--}else o++;u[o]=1,m=!m}throw new te}static decodeCode(t,r,i){Ft.recordPattern(t,i,r);let o=pe.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<pe.CODE_PATTERNS.length;h++){const m=pe.CODE_PATTERNS[h],p=this.patternMatchVariance(r,m,pe.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,u=h)}if(u>=0)return u;throw new te}decodeRow(t,r,i){const o=i&&i.get(_e.ASSUME_GS1)===!0,u=pe.findStartPattern(r),h=u[2];let m=0;const p=new Uint8Array(20);p[m++]=h;let v;switch(h){case pe.CODE_START_A:v=pe.CODE_CODE_A;break;case pe.CODE_START_B:v=pe.CODE_CODE_B;break;case pe.CODE_START_C:v=pe.CODE_CODE_C;break;default:throw new ee}let C=!1,O=!1,I="",k=u[0],P=u[1];const F=Int32Array.from([0,0,0,0,0,0]);let X=0,ne=0,ye=h,xe=0,ge=!0,tt=!1,Xe=!1;for(;!C;){const mi=O;switch(O=!1,X=ne,ne=pe.decodeCode(r,F,P),p[m++]=ne,ne!==pe.CODE_STOP&&(ge=!0),ne!==pe.CODE_STOP&&(xe++,ye+=xe*ne),k=P,P+=F.reduce((Eo,fl)=>Eo+fl,0),ne){case pe.CODE_START_A:case pe.CODE_START_B:case pe.CODE_START_C:throw new ee}switch(v){case pe.CODE_CODE_A:if(ne<64)Xe===tt?I+=String.fromCharCode(32+ne):I+=String.fromCharCode(32+ne+128),Xe=!1;else if(ne<96)Xe===tt?I+=String.fromCharCode(ne-64):I+=String.fromCharCode(ne+64),Xe=!1;else switch(ne!==pe.CODE_STOP&&(ge=!1),ne){case pe.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_A:!tt&&Xe?(tt=!0,Xe=!1):tt&&Xe?(tt=!1,Xe=!1):Xe=!0;break;case pe.CODE_SHIFT:O=!0,v=pe.CODE_CODE_B;break;case pe.CODE_CODE_B:v=pe.CODE_CODE_B;break;case pe.CODE_CODE_C:v=pe.CODE_CODE_C;break;case pe.CODE_STOP:C=!0;break}break;case pe.CODE_CODE_B:if(ne<96)Xe===tt?I+=String.fromCharCode(32+ne):I+=String.fromCharCode(32+ne+128),Xe=!1;else switch(ne!==pe.CODE_STOP&&(ge=!1),ne){case pe.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_B:!tt&&Xe?(tt=!0,Xe=!1):tt&&Xe?(tt=!1,Xe=!1):Xe=!0;break;case pe.CODE_SHIFT:O=!0,v=pe.CODE_CODE_A;break;case pe.CODE_CODE_A:v=pe.CODE_CODE_A;break;case pe.CODE_CODE_C:v=pe.CODE_CODE_C;break;case pe.CODE_STOP:C=!0;break}break;case pe.CODE_CODE_C:if(ne<100)ne<10&&(I+="0"),I+=ne;else switch(ne!==pe.CODE_STOP&&(ge=!1),ne){case pe.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case pe.CODE_CODE_A:v=pe.CODE_CODE_A;break;case pe.CODE_CODE_B:v=pe.CODE_CODE_B;break;case pe.CODE_STOP:C=!0;break}break}mi&&(v=v===pe.CODE_CODE_A?pe.CODE_CODE_B:pe.CODE_CODE_A)}const tn=P-k;if(P=r.getNextUnset(P),!r.isRange(P,Math.min(r.getSize(),P+(P-k)/2),!1))throw new te;if(ye-=xe*X,ye%103!==X)throw new L;const er=I.length;if(er===0)throw new te;er>0&&ge&&(v===pe.CODE_CODE_C?I=I.substring(0,er-2):I=I.substring(0,er-1));const Dn=(u[1]+u[0])/2,Ct=k+tn/2,Cn=p.length,Yn=new Uint8Array(Cn);for(let mi=0;mi<Cn;mi++)Yn[mi]=p[mi];const Wi=[new Re(Dn,t),new Re(Ct,t)];return new Ee(I,Yn,0,Wi,be.CODE_128,new Date().getTime())}}pe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],pe.MAX_AVG_VARIANCE=.25,pe.MAX_INDIVIDUAL_VARIANCE=.7,pe.CODE_SHIFT=98,pe.CODE_CODE_C=99,pe.CODE_CODE_B=100,pe.CODE_CODE_A=101,pe.CODE_FNC_1=102,pe.CODE_FNC_2=97,pe.CODE_FNC_3=96,pe.CODE_FNC_4_A=101,pe.CODE_FNC_4_B=100,pe.CODE_START_A=103,pe.CODE_START_B=104,pe.CODE_START_C=105,pe.CODE_STOP=106;class Dt extends Ft{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let u=Dt.findAsteriskPattern(r,o),h=r.getNextSet(u[1]),m=r.getSize(),p,v;do{Dt.recordPattern(r,h,o);let F=Dt.toNarrowWidePattern(o);if(F<0)throw new te;p=Dt.patternToChar(F),this.decodeRowResult+=p,v=h;for(let X of o)h+=X;h=r.getNextSet(h)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let F of o)C+=F;let O=h-v-C;if(h!==m&&O*2<C)throw new te;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,X=0;for(let ne=0;ne<F;ne++)X+=Dt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ne));if(this.decodeRowResult.charAt(F)!==Dt.ALPHABET_STRING.charAt(X%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new te;let I;this.extendedMode?I=Dt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let k=(u[1]+u[0])/2,P=v+C/2;return new Ee(I,null,0,[new Re(k,t),new Re(P,t)],be.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let i=t.getSize(),o=t.getNextSet(0),u=0,h=o,m=!1,p=r.length;for(let v=o;v<i;v++)if(t.get(v)!==m)r[u]++;else{if(u===p-1){if(this.toNarrowWidePattern(r)===Dt.ASTERISK_ENCODING&&t.isRange(Math.max(0,h-Math.floor((v-h)/2)),h,!1))return[h,v];h+=r[0]+r[1],r.copyWithin(0,2,2+u-1),r[u-1]=0,r[u]=0,u--}else u++;r[u]=1,m=!m}throw new te}static toNarrowWidePattern(t){let r=t.length,i=0,o;do{let u=2147483647;for(let p of t)p<u&&p>i&&(u=p);i=u,o=0;let h=0,m=0;for(let p=0;p<r;p++){let v=t[p];v>i&&(m|=1<<r-1-p,o++,h+=v)}if(o===3){for(let p=0;p<r&&o>0;p++){let v=t[p];if(v>i&&(o--,v*2>=h))return-1}return m}}while(o>3);return-1}static patternToChar(t){for(let r=0;r<Dt.CHARACTER_ENCODINGS.length;r++)if(Dt.CHARACTER_ENCODINGS[r]===t)return Dt.ALPHABET_STRING.charAt(r);if(t===Dt.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(t){let r=t.length,i="";for(let o=0;o<r;o++){let u=t.charAt(o);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=t.charAt(o+1),m="\0";switch(u){case"+":if(h>="A"&&h<="Z")m=String.fromCharCode(h.charCodeAt(0)+32);else throw new ee;break;case"$":if(h>="A"&&h<="Z")m=String.fromCharCode(h.charCodeAt(0)-64);else throw new ee;break;case"%":if(h>="A"&&h<="E")m=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")m=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")m=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")m=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")m="\0";else if(h==="V")m="@";else if(h==="W")m="`";else if(h==="X"||h==="Y"||h==="Z")m="";else throw new ee;break;case"/":if(h>="A"&&h<="O")m=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")m=":";else throw new ee;break}i+=m,o++}else i+=u}return i}}Dt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Dt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Dt.ASTERISK_ENCODING=148;class Je extends Ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,i){let o=this.decodeStart(r),u=this.decodeEnd(r),h=new Ye;Je.decodeMiddle(r,o[1],u[0],h);let m=h.toString(),p=null;i!=null&&(p=i.get(_e.ALLOWED_LENGTHS)),p==null&&(p=Je.DEFAULT_ALLOWED_LENGTHS);let v=m.length,C=!1,O=0;for(let P of p){if(v===P){C=!0;break}P>O&&(O=P)}if(!C&&v>O&&(C=!0),!C)throw new ee;const I=[new Re(o[1],t),new Re(u[0],t)];return new Ee(m,null,0,I,be.ITF,new Date().getTime())}static decodeMiddle(t,r,i,o){let u=new Int32Array(10),h=new Int32Array(5),m=new Int32Array(5);for(u.fill(0),h.fill(0),m.fill(0);r<i;){Ft.recordPattern(t,r,u);for(let v=0;v<5;v++){let C=2*v;h[v]=u[C],m[v]=u[C+1]}let p=Je.decodeDigit(h);o.append(p.toString()),p=this.decodeDigit(m),o.append(p.toString()),u.forEach(function(v){r+=v})}}decodeStart(t){let r=Je.skipWhiteSpace(t),i=Je.findGuardPattern(t,r,Je.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let o=r-1;i>0&&o>=0&&!t.get(o);o--)i--;if(i!==0)throw new te}static skipWhiteSpace(t){const r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new te;return i}decodeEnd(t){t.reverse();try{let r=Je.skipWhiteSpace(t),i;try{i=Je.findGuardPattern(t,r,Je.END_PATTERN_REVERSED[0])}catch(u){u instanceof te&&(i=Je.findGuardPattern(t,r,Je.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let o=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-o,i}finally{t.reverse()}}static findGuardPattern(t,r,i){let o=i.length,u=new Int32Array(o),h=t.getSize(),m=!1,p=0,v=r;u.fill(0);for(let C=r;C<h;C++)if(t.get(C)!==m)u[p]++;else{if(p===o-1){if(Ft.patternMatchVariance(u,i,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE)return[v,C];v+=u[0]+u[1],H.arraycopy(u,2,u,0,p-1),u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,m=!m}throw new te}static decodeDigit(t){let r=Je.MAX_AVG_VARIANCE,i=-1,o=Je.PATTERNS.length;for(let u=0;u<o;u++){let h=Je.PATTERNS[u],m=Ft.patternMatchVariance(t,h,Je.MAX_INDIVIDUAL_VARIANCE);m<r?(r=m,i=u):m===r&&(i=-1)}if(i>=0)return i%10;throw new te}}Je.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Je.MAX_AVG_VARIANCE=.38,Je.MAX_INDIVIDUAL_VARIANCE=.5,Je.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Je.START_PATTERN=Int32Array.from([1,1,1,1]),Je.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Kt extends Ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,i,o=0,u=Int32Array.from([0,0,0]);for(;!r;){u=Int32Array.from([0,0,0]),i=Kt.findGuardPattern(t,o,!1,this.START_END_PATTERN,u);let h=i[0];o=i[1];let m=h-(o-h);m>=0&&(r=t.isRange(m,h,!1))}return i}static checkChecksum(t){return Kt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return Kt.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let o=r-1;o>=0;o-=2){let u=t.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new ee;i+=u}i*=3;for(let o=r-2;o>=0;o-=2){let u=t.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new ee;i+=u}return(1e3-i)%10}static decodeEnd(t,r){return Kt.findGuardPattern(t,r,!1,Kt.START_END_PATTERN,new Int32Array(Kt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,i,o){return this.findGuardPattern(t,r,i,o,new Int32Array(o.length))}static findGuardPattern(t,r,i,o,u){let h=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);let m=0,p=r,v=o.length,C=i;for(let O=r;O<h;O++)if(t.get(O)!==C)u[m]++;else{if(m===v-1){if(Ft.patternMatchVariance(u,o,Kt.MAX_INDIVIDUAL_VARIANCE)<Kt.MAX_AVG_VARIANCE)return Int32Array.from([p,O]);p+=u[0]+u[1];let I=u.slice(2,u.length-1);for(let k=0;k<m-1;k++)u[k]=I[k];u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,C=!C}throw new te}static decodeDigit(t,r,i,o){this.recordPattern(t,i,r);let u=this.MAX_AVG_VARIANCE,h=-1,m=o.length;for(let p=0;p<m;p++){let v=o[p],C=Ft.patternMatchVariance(r,v,Kt.MAX_INDIVIDUAL_VARIANCE);C<u&&(u=C,h=p)}if(h>=0)return h;throw new te}}Kt.MAX_AVG_VARIANCE=.48,Kt.MAX_INDIVIDUAL_VARIANCE=.7,Kt.START_END_PATTERN=Int32Array.from([1,1,1]),Kt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Kt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class bs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let o=this.decodeRowStringBuffer,u=this.decodeMiddle(r,i,o),h=o.toString(),m=bs.parseExtensionString(h),p=[new Re((i[0]+i[1])/2,t),new Re(u,t)],v=new Ee(h,null,0,p,be.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=t.getSize(),h=r[1],m=0;for(let v=0;v<5&&h<u;v++){let C=Kt.decodeDigit(t,o,h,Kt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+C%10);for(let O of o)h+=O;C>=10&&(m|=1<<4-v),v!==4&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(i.length!==5)throw new te;let p=this.determineCheckDigit(m);if(bs.extensionChecksum(i.toString())!==p)throw new te;return h}static extensionChecksum(t){let r=t.length,i=0;for(let o=r-2;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;i*=3;for(let o=r-1;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new te}static parseExtensionString(t){if(t.length!==5)return null;let r=bs.parseExtension5String(t);return r==null?null:new Map([[ot.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(t.substring(1)),o=(i/100).toString(),u=i%100,h=u<10?"0"+u:u.toString();return r+o+"."+h}}class tl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let o=this.decodeRowStringBuffer,u=this.decodeMiddle(r,i,o),h=o.toString(),m=tl.parseExtensionString(h),p=[new Re((i[0]+i[1])/2,t),new Re(u,t)],v=new Ee(h,null,0,p,be.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=t.getSize(),h=r[1],m=0;for(let p=0;p<2&&h<u;p++){let v=Kt.decodeDigit(t,o,h,Kt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);for(let C of o)h+=C;v>=10&&(m|=1<<1-p),p!==1&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(i.length!==2)throw new te;if(parseInt(i.toString())%4!==m)throw new te;return h}static parseExtensionString(t){return t.length!==2?null:new Map([[ot.ISSUE_NUMBER,parseInt(t)]])}}class vs{static decodeRow(t,r,i){let o=Kt.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new bs().decodeRow(t,r,o)}catch{return new tl().decodeRow(t,r,o)}}}vs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ut extends Kt{constructor(){super(),this.decodeRowStringBuffer="",ut.L_AND_G_PATTERNS=ut.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=ut.L_PATTERNS[t-10],i=new Int32Array(r.length);for(let o=0;o<r.length;o++)i[o]=r[r.length-o-1];ut.L_AND_G_PATTERNS[t]=i}}decodeRow(t,r,i){let o=ut.findStartGuardPattern(r),u=i==null?null:i.get(_e.NEED_RESULT_POINT_CALLBACK);if(u!=null){const ge=new Re((o[0]+o[1])/2,t);u.foundPossibleResultPoint(ge)}let h=this.decodeMiddle(r,o,this.decodeRowStringBuffer),m=h.rowOffset,p=h.resultString;if(u!=null){const ge=new Re(m,t);u.foundPossibleResultPoint(ge)}let v=this.decodeEnd(r,m);if(u!=null){const ge=new Re((v[0]+v[1])/2,t);u.foundPossibleResultPoint(ge)}let C=v[1],O=C+(C-v[0]);if(O>=r.getSize()||!r.isRange(C,O,!1))throw new te;let I=p.toString();if(I.length<8)throw new ee;if(!ut.checkChecksum(I))throw new L;let k=(o[1]+o[0])/2,P=(v[1]+v[0])/2,F=this.getBarcodeFormat(),X=[new Re(k,t),new Re(P,t)],ne=new Ee(I,null,0,X,F,new Date().getTime()),ye=0;try{let ge=vs.decodeRow(t,r,v[1]);ne.putMetadata(ot.UPC_EAN_EXTENSION,ge.getText()),ne.putAllMetadata(ge.getResultMetadata()),ne.addResultPoints(ge.getResultPoints()),ye=ge.getText().length}catch{}let xe=i==null?null:i.get(_e.ALLOWED_EAN_EXTENSIONS);if(xe!=null){let ge=!1;for(let tt in xe)if(ye.toString()===tt){ge=!0;break}if(!ge)throw new te}return ne}decodeEnd(t,r){return ut.findGuardPattern(t,r,!1,ut.START_END_PATTERN,new Int32Array(ut.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return ut.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return ut.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let o=r-1;o>=0;o-=2){let u=t.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new ee;i+=u}i*=3;for(let o=r-2;o>=0;o-=2){let u=t.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new ee;i+=u}return(1e3-i)%10}}class Ar extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=t.getSize(),h=r[1],m=0;for(let v=0;v<6&&h<u;v++){let C=ut.decodeDigit(t,o,h,ut.L_AND_G_PATTERNS);i+=String.fromCharCode(48+C%10);for(let O of o)h+=O;C>=10&&(m|=1<<5-v)}i=Ar.determineFirstDigit(i,m),h=ut.findGuardPattern(t,h,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&h<u;v++){let C=ut.decodeDigit(t,o,h,ut.L_PATTERNS);i+=String.fromCharCode(48+C);for(let O of o)h+=O}return{rowOffset:h,resultString:i}}getBarcodeFormat(){return be.EAN_13}static determineFirstDigit(t,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new te}}Ar.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Zr extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=t.getSize(),h=r[1];for(let p=0;p<4&&h<u;p++){let v=ut.decodeDigit(t,o,h,ut.L_PATTERNS);i+=String.fromCharCode(48+v);for(let C of o)h+=C}h=ut.findGuardPattern(t,h,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&h<u;p++){let v=ut.decodeDigit(t,o,h,ut.L_PATTERNS);i+=String.fromCharCode(48+v);for(let C of o)h+=C}return{rowOffset:h,resultString:i}}getBarcodeFormat(){return be.EAN_8}}class Es extends ut{constructor(){super(...arguments),this.ean13Reader=new Ar}getBarcodeFormat(){return be.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))}decodeMiddle(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let i=new Ee(r.substring(1),null,null,t.getResultPoints(),be.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new te}reset(){this.ean13Reader.reset()}}class In extends ut{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,i){const o=this.decodeMiddleCounters.map(v=>v);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const u=t.getSize();let h=r[1],m=0;for(let v=0;v<6&&h<u;v++){const C=In.decodeDigit(t,o,h,In.L_AND_G_PATTERNS);i+=String.fromCharCode(48+C%10);for(let O of o)h+=O;C>=10&&(m|=1<<5-v)}let p=In.determineNumSysAndCheckDigit(i,m);return{rowOffset:h,resultString:p}}decodeEnd(t,r){return In.findGuardPatternWithoutCounters(t,r,!0,In.MIDDLE_END_PATTERN)}checkChecksum(t){return ut.checkChecksum(In.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let u=String.fromCharCode(48+i),h=String.fromCharCode(48+o);return u+t+h}throw te.getNotFoundInstance()}getBarcodeFormat(){return be.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(u=>u.charCodeAt(0)),i=new Ye;i.append(t.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}In.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),In.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class nl extends Ft{constructor(t){super();let r=t==null?null:t.get(_e.POSSIBLE_FORMATS),i=[];f(r)?(i.push(new Ar),i.push(new Es),i.push(new Zr),i.push(new In)):(r.indexOf(be.EAN_13)>-1&&i.push(new Ar),r.indexOf(be.UPC_A)>-1&&i.push(new Es),r.indexOf(be.EAN_8)>-1&&i.push(new Zr),r.indexOf(be.UPC_E)>-1&&i.push(new In)),this.readers=i}decodeRow(t,r,i){for(let o of this.readers)try{const u=o.decodeRow(t,r,i),h=u.getBarcodeFormat()===be.EAN_13&&u.getText().charAt(0)==="0",m=i==null?null:i.get(_e.POSSIBLE_FORMATS),p=m==null||m.includes(be.UPC_A);if(h&&p){const v=u.getRawBytes(),C=new Ee(u.getText().substring(1),v,v?v.length:null,u.getResultPoints(),be.UPC_A);return C.putAllMetadata(u.getResultMetadata()),C}return u}catch{}throw new te}reset(){for(let t of this.readers)t.reset()}}class En extends Ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let i=0;i<r.length;i++)if(Ft.patternMatchVariance(t,r[i],En.MAX_INDIVIDUAL_VARIANCE)<En.MAX_AVG_VARIANCE)return i;throw new te}static count(t){return it.sum(new Int32Array(t))}static increment(t,r){let i=0,o=r[0];for(let u=1;u<t.length;u++)r[u]>o&&(o=r[u],i=u);t[i]++}static decrement(t,r){let i=0,o=r[0];for(let u=1;u<t.length;u++)r[u]<o&&(o=r[u],i=u);t[i]--}static isFinderPattern(t){let r=t[0]+t[1],i=r+t[2]+t[3],o=r/i;if(o>=En.MIN_FINDER_PATTERN_RATIO&&o<=En.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let m of t)m>h&&(h=m),m<u&&(u=m);return h<10*u}return!1}}En.MAX_AVG_VARIANCE=.2,En.MAX_INDIVIDUAL_VARIANCE=.45,En.MIN_FINDER_PATTERN_RATIO=9.5/12,En.MAX_FINDER_PATTERN_RATIO=12.5/14;class Qr{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Qr))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Jr{constructor(t,r,i,o,u){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Re(i,u)),this.resultPoints.push(new Re(o,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Jr))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Cr{constructor(){}static getRSSvalue(t,r,i){let o=0;for(let p of t)o+=p;let u=0,h=0,m=t.length;for(let p=0;p<m-1;p++){let v;for(v=1,h|=1<<p;v<t[p];v++,h&=~(1<<p)){let C=Cr.combins(o-v-1,m-p-2);if(i&&h===0&&o-v-(m-p-1)>=m-p-1&&(C-=Cr.combins(o-v-(m-p),m-p-2)),m-p-1>1){let O=0;for(let I=o-v-(m-p-2);I>r;I--)O+=Cr.combins(o-v-I-1,m-p-3);C-=O*(m-1-p)}else o-v>r&&C--;u+=C}o-=v}return u}static combins(t,r){let i,o;t-r>r?(o=r,i=t-r):(o=t-r,i=r);let u=1,h=1;for(let m=t;m>i;m--)u*=m,h<=o&&(u/=h,h++);for(;h<=o;)u/=h,h++;return u}}class lo{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let i=12*r,o=new me(i),u=0,m=t[0].getRightChar().getValue();for(let p=11;p>=0;--p)(m&1<<p)!=0&&o.set(u),u++;for(let p=1;p<t.length;++p){let v=t[p],C=v.getLeftChar().getValue();for(let O=11;O>=0;--O)(C&1<<O)!=0&&o.set(u),u++;if(v.getRightChar()!=null){let O=v.getRightChar().getValue();for(let I=11;I>=0;--I)(O&1<<I)!=0&&o.set(u),u++}}return o}}class $r{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ta{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class On extends ta{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===On.FNC1}}On.FNC1="$";class Pr extends ta{constructor(t,r,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Hn extends ta{constructor(t,r,i){if(super(t),r<0||r>10||i<0||i>10)throw new ee;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Hn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Hn.FNC1}isAnyFNC1(){return this.firstDigit===Hn.FNC1||this.secondDigit===Hn.FNC1}}Hn.FNC1=10;class Ce{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new te;let r=t.substring(0,2);for(let u of Ce.TWO_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(2,u[2],t):Ce.processFixedAI(2,u[1],t);if(t.length<3)throw new te;let i=t.substring(0,3);for(let u of Ce.THREE_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(3,u[2],t):Ce.processFixedAI(3,u[1],t);for(let u of Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,u[2],t):Ce.processFixedAI(4,u[1],t);if(t.length<4)throw new te;let o=t.substring(0,4);for(let u of Ce.FOUR_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,u[2],t):Ce.processFixedAI(4,u[1],t);throw new te}static processFixedAI(t,r,i){if(i.length<t)throw new te;let o=i.substring(0,t);if(i.length<t+r)throw new te;let u=i.substring(t,t+r),h=i.substring(t+r),m="("+o+")"+u,p=Ce.parseFieldsInGeneralPurpose(h);return p==null?m:m+p}static processVariableAI(t,r,i){let o=i.substring(0,t),u;i.length<t+r?u=i.length:u=t+r;let h=i.substring(t,u),m=i.substring(u),p="("+o+")"+h,v=Ce.parseFieldsInGeneralPurpose(m);return v==null?p:p+v}}Ce.VARIABLE_LENGTH=[],Ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ce.VARIABLE_LENGTH,20],["22",Ce.VARIABLE_LENGTH,29],["30",Ce.VARIABLE_LENGTH,8],["37",Ce.VARIABLE_LENGTH,8],["90",Ce.VARIABLE_LENGTH,30],["91",Ce.VARIABLE_LENGTH,30],["92",Ce.VARIABLE_LENGTH,30],["93",Ce.VARIABLE_LENGTH,30],["94",Ce.VARIABLE_LENGTH,30],["95",Ce.VARIABLE_LENGTH,30],["96",Ce.VARIABLE_LENGTH,30],["97",Ce.VARIABLE_LENGTH,3],["98",Ce.VARIABLE_LENGTH,30],["99",Ce.VARIABLE_LENGTH,30]],Ce.THREE_DIGIT_DATA_LENGTH=[["240",Ce.VARIABLE_LENGTH,30],["241",Ce.VARIABLE_LENGTH,30],["242",Ce.VARIABLE_LENGTH,6],["250",Ce.VARIABLE_LENGTH,30],["251",Ce.VARIABLE_LENGTH,30],["253",Ce.VARIABLE_LENGTH,17],["254",Ce.VARIABLE_LENGTH,20],["400",Ce.VARIABLE_LENGTH,30],["401",Ce.VARIABLE_LENGTH,30],["402",17],["403",Ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ce.VARIABLE_LENGTH,20],["421",Ce.VARIABLE_LENGTH,15],["422",3],["423",Ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ce.VARIABLE_LENGTH,15],["391",Ce.VARIABLE_LENGTH,18],["392",Ce.VARIABLE_LENGTH,15],["393",Ce.VARIABLE_LENGTH,18],["703",Ce.VARIABLE_LENGTH,30]],Ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ce.VARIABLE_LENGTH,20],["8003",Ce.VARIABLE_LENGTH,30],["8004",Ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ce.VARIABLE_LENGTH,30],["8008",Ce.VARIABLE_LENGTH,12],["8018",18],["8020",Ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ce.VARIABLE_LENGTH,70],["8200",Ce.VARIABLE_LENGTH,70]];class qn{constructor(t){this.buffer=new Ye,this.information=t}decodeAllCodes(t,r){let i=r,o=null;do{let u=this.decodeGeneralPurposeField(i,o),h=Ce.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&t.append(h),u.isRemaining()?o=""+u.getRemainingValue():o=null,i===u.getNewPosition())break;i=u.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(t,4);return u===0?new Hn(this.information.getSize(),Hn.FNC1,Hn.FNC1):new Hn(this.information.getSize(),u-1,Hn.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),i=(r-8)/11,o=(r-8)%11;return new Hn(t+7,i,o)}extractNumericValueFromBitArray(t,r){return qn.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,i){let o=0;for(let u=0;u<i;++u)t.get(r+u)&&(o|=1<<i-u-1);return o}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new Pr(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new Pr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Pr(this.current.getPosition(),this.buffer.toString()):r=new Pr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new $r(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Pr(this.current.getPosition(),this.buffer.toString());return new $r(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new $r(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Pr(this.current.getPosition(),this.buffer.toString());return new $r(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new $r(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Pr(this.current.getPosition(),this.buffer.toString());return new $r(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new $r(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new On(t+5,On.FNC1);if(r>=5&&r<15)return new On(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new On(t+7,""+(i+1));if(i>=90&&i<116)return new On(t+7,""+(i+7));let o=this.extractNumericValueFromBitArray(t,8),u;switch(o){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new ee}return new On(t+8,u)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new On(t+5,On.FNC1);if(r>=5&&r<15)return new On(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new On(t+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new jn("Decoding invalid alphanumeric value: "+i)}return new On(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class ln{constructor(t){this.information=t,this.generalDecoder=new qn(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Rt extends ln{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)}encodeCompressedGtinWithoutAI(t,r,i){for(let o=0;o<4;++o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);u/100===0&&t.append("0"),u/10===0&&t.append("0"),t.append(u)}Rt.appendCheckDigit(t,i)}static appendCheckDigit(t,r){let i=0;for(let o=0;o<13;o++){let u=t.charAt(o+r).charCodeAt(0)-48;i+=(o&1)===0?3*u:u}i=10-i%10,i===10&&(i=0),t.append(i)}}Rt.GTIN_SIZE=40;class ur extends Rt{constructor(t){super(t)}parseInformation(){let t=new Ye;t.append("(01)");let r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(ur.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,ur.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,ur.HEADER_SIZE+44)}}ur.HEADER_SIZE=4;class Li extends ln{constructor(t){super(t)}parseInformation(){let t=new Ye;return this.getGeneralDecoder().decodeAllCodes(t,Li.HEADER_SIZE)}}Li.HEADER_SIZE=5;class na extends Rt{constructor(t){super(t)}encodeCompressedWeight(t,r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,o);let u=this.checkWeight(o),h=1e5;for(let m=0;m<5;++m)u/h===0&&t.append("0"),h/=10;t.append(u)}}class Sr extends na{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Sr.HEADER_SIZE+na.GTIN_SIZE+Sr.WEIGHT_SIZE)throw new te;let t=new Ye;return this.encodeCompressedGtin(t,Sr.HEADER_SIZE),this.encodeCompressedWeight(t,Sr.HEADER_SIZE+na.GTIN_SIZE,Sr.WEIGHT_SIZE),t.toString()}}Sr.HEADER_SIZE=5,Sr.WEIGHT_SIZE=15;class oo extends Sr{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class _s extends Sr{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Qn extends Rt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Qn.HEADER_SIZE+Rt.GTIN_SIZE)throw new te;let t=new Ye;this.encodeCompressedGtin(t,Qn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Qn.HEADER_SIZE+Rt.GTIN_SIZE,Qn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Qn.HEADER_SIZE+Rt.GTIN_SIZE+Qn.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}Qn.HEADER_SIZE=8,Qn.LAST_DIGIT_SIZE=2;class $t extends Rt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<$t.HEADER_SIZE+Rt.GTIN_SIZE)throw new te;let t=new Ye;this.encodeCompressedGtin(t,$t.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray($t.HEADER_SIZE+Rt.GTIN_SIZE,$t.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray($t.HEADER_SIZE+Rt.GTIN_SIZE+$t.LAST_DIGIT_SIZE,$t.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField($t.HEADER_SIZE+Rt.GTIN_SIZE+$t.LAST_DIGIT_SIZE+$t.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}$t.HEADER_SIZE=8,$t.LAST_DIGIT_SIZE=2,$t.FIRST_THREE_DIGITS_SIZE=10;class bt extends na{constructor(t,r,i){super(t),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=bt.HEADER_SIZE+bt.GTIN_SIZE+bt.WEIGHT_SIZE+bt.DATE_SIZE)throw new te;let t=new Ye;return this.encodeCompressedGtin(t,bt.HEADER_SIZE),this.encodeCompressedWeight(t,bt.HEADER_SIZE+bt.GTIN_SIZE,bt.WEIGHT_SIZE),this.encodeCompressedDate(t,bt.HEADER_SIZE+bt.GTIN_SIZE+bt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,bt.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=i%32;i/=32;let u=i%12+1;i/=12;let h=i;h/10==0&&t.append("0"),t.append(h),u/10==0&&t.append("0"),t.append(u),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}bt.HEADER_SIZE=8,bt.WEIGHT_SIZE=20,bt.DATE_SIZE=16;function Ui(T){try{if(T.get(1))return new ur(T);if(!T.get(2))return new Li(T);switch(qn.extractNumericValueFromBitArray(T,1,4)){case 4:return new oo(T);case 5:return new _s(T)}switch(qn.extractNumericValueFromBitArray(T,1,5)){case 12:return new Qn(T);case 13:return new $t(T)}switch(qn.extractNumericValueFromBitArray(T,1,7)){case 56:return new bt(T,"310","11");case 57:return new bt(T,"320","11");case 58:return new bt(T,"310","13");case 59:return new bt(T,"320","13");case 60:return new bt(T,"310","15");case 61:return new bt(T,"320","15");case 62:return new bt(T,"310","17");case 63:return new bt(T,"320","17")}}catch(t){throw console.log(t),new jn("unknown decoder: "+T)}}class Gn{constructor(t,r,i,o){this.leftchar=t,this.rightchar=r,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof Gn?Gn.equalsOrNull(t.leftchar,r.leftchar)&&Gn.equalsOrNull(t.rightchar,r.rightchar)&&Gn.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:Gn.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class en{constructor(t,r,i){this.pairs=t,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof en?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let i;return t.forEach((o,u)=>{r.forEach(h=>{o.getLeftChar().getValue()===h.getLeftChar().getValue()&&o.getRightChar().getValue()===h.getRightChar().getValue()&&o.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(i=!0)})}),i}}class de extends En{constructor(t){super(...arguments),this.pairs=new Array(de.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return de.constructResult(this.decodeRow2pairs(t,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,de.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(u){if(u instanceof te){if(!this.pairs.length)throw new te;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new te}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let i=r;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let h of t)this.pairs.push(h.getPairs());if(this.pairs.push(o.getPairs()),!de.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(t);u.push(o);try{return this.checkRows(u,i+1)}catch(h){this.verbose&&console.log(h)}}throw new te}static isValidSequence(t){for(let r of de.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let i=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=r[o]){i=!1;break}if(i)return!0}return!1}storeRow(t,r){let i=0,o=!1,u=!1;for(;i<this.rows.length;){let h=this.rows[i];if(h.getRowNumber()>t){u=h.isEquivalent(this.pairs);break}o=h.isEquivalent(this.pairs),i++}u||o||de.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new en(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let i of r)if(i.getPairs().length!==t.length){for(let o of i.getPairs())for(let u of t)if(Gn.equals(o,u))break}}static isPartialRow(t,r){for(let i of r){let o=!0;for(let u of t){let h=!1;for(let m of i.getPairs())if(u.equals(m)){h=!0;break}if(!h){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=lo.buildBitArray(t),o=Ui(r).parseInformation(),u=t[0].getFinderPattern().getResultPoints(),h=t[t.length-1].getFinderPattern().getResultPoints(),m=[u[0],u[1],h[0],h[1]];return new Ee(o,null,null,m,be.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),u=2;for(let m=1;m<this.pairs.size();++m){let p=this.pairs.get(m);o+=p.getLeftChar().getChecksumPortion(),u++;let v=p.getRightChar();v!=null&&(o+=v.getChecksumPortion(),u++)}return o%=211,211*(u-4)+o==r.getValue()}static getNextSecondBar(t,r){let i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i}retrieveNextPair(t,r,i){let o=r.length%2==0;this.startFromEven&&(o=!o);let u,h=!0,m=-1;do this.findNextPair(t,r,m),u=this.parseFoundFinderPattern(t,i,o),u==null?m=de.getNextSecondBar(t,this.startEnd[0]):h=!1;while(h);let p=this.decodeDataCharacter(t,u,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new te;let v;try{v=this.decodeDataCharacter(t,u,o,!1)}catch(C){v=null,this.verbose&&console.log(C)}return new Gn(p,v,u,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=t.getSize(),h;i>=0?h=i:this.isEmptyPair(r)?h=0:h=r[r.length-1].getFinderPattern().getStartEnd()[1];let m=r.length%2!=0;this.startFromEven&&(m=!m);let p=!1;for(;h<u&&(p=!t.get(h),!!p);)h++;let v=0,C=h;for(let O=h;O<u;O++)if(t.get(O)!=p)o[v]++;else{if(v==3){if(m&&de.reverseCounters(o),de.isFinderPattern(o)){this.startEnd[0]=C,this.startEnd[1]=O;return}m&&de.reverseCounters(o),C+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,v--}else v++;o[v]=1,p=!p}throw new te}static reverseCounters(t){let r=t.length;for(let i=0;i<r/2;++i){let o=t[i];t[i]=t[r-i-1],t[r-i-1]=o}}parseFoundFinderPattern(t,r,i){let o,u,h;if(i){let v=this.startEnd[0]-1;for(;v>=0&&!t.get(v);)v--;v++,o=this.startEnd[0]-v,u=v,h=this.startEnd[1]}else u=this.startEnd[0],h=t.getNextUnset(this.startEnd[1]+1),o=h-this.startEnd[1];let m=this.getDecodeFinderCounters();H.arraycopy(m,0,m,1,m.length-1),m[0]=o;let p;try{p=this.parseFinderValue(m,de.FINDER_PATTERNS)}catch{return null}return new Jr(p,[u,h],u,h,r)}decodeDataCharacter(t,r,i,o){let u=this.getDataCharacterCounters();for(let Ct=0;Ct<u.length;Ct++)u[Ct]=0;if(o)de.recordPatternInReverse(t,r.getStartEnd()[0],u);else{de.recordPattern(t,r.getStartEnd()[1],u);for(let Ct=0,Cn=u.length-1;Ct<Cn;Ct++,Cn--){let Yn=u[Ct];u[Ct]=u[Cn],u[Cn]=Yn}}let h=17,m=it.sum(new Int32Array(u))/h,p=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(m-p)/p>.3)throw new te;let v=this.getOddCounts(),C=this.getEvenCounts(),O=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Ct=0;Ct<u.length;Ct++){let Cn=1*u[Ct]/m,Yn=Cn+.5;if(Yn<1){if(Cn<.3)throw new te;Yn=1}else if(Yn>8){if(Cn>8.7)throw new te;Yn=8}let Wi=Ct/2;(Ct&1)==0?(v[Wi]=Yn,O[Wi]=Cn-Yn):(C[Wi]=Yn,I[Wi]=Cn-Yn)}this.adjustOddEvenCounts(h);let k=4*r.getValue()+(i?0:2)+(o?0:1)-1,P=0,F=0;for(let Ct=v.length-1;Ct>=0;Ct--){if(de.isNotA1left(r,i,o)){let Cn=de.WEIGHTS[k][2*Ct];F+=v[Ct]*Cn}P+=v[Ct]}let X=0;for(let Ct=C.length-1;Ct>=0;Ct--)if(de.isNotA1left(r,i,o)){let Cn=de.WEIGHTS[k][2*Ct+1];X+=C[Ct]*Cn}let ne=F+X;if((P&1)!=0||P>13||P<4)throw new te;let ye=(13-P)/2,xe=de.SYMBOL_WIDEST[ye],ge=9-xe,tt=Cr.getRSSvalue(v,xe,!0),Xe=Cr.getRSSvalue(C,ge,!1),tn=de.EVEN_TOTAL_SUBSET[ye],er=de.GSUM[ye],Dn=tt*tn+Xe+er;return new Qr(Dn,ne)}static isNotA1left(t,r,i){return!(t.getValue()==0&&r&&i)}adjustOddEvenCounts(t){let r=it.sum(new Int32Array(this.getOddCounts())),i=it.sum(new Int32Array(this.getEvenCounts())),o=!1,u=!1;r>13?u=!0:r<4&&(o=!0);let h=!1,m=!1;i>13?m=!0:i<4&&(h=!0);let p=r+i-t,v=(r&1)==1,C=(i&1)==0;if(p==1)if(v){if(C)throw new te;u=!0}else{if(!C)throw new te;m=!0}else if(p==-1)if(v){if(C)throw new te;o=!0}else{if(!C)throw new te;h=!0}else if(p==0){if(v){if(!C)throw new te;r<i?(o=!0,m=!0):(u=!0,h=!0)}else if(C)throw new te}else throw new te;if(o){if(u)throw new te;de.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&de.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(m)throw new te;de.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&de.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}de.SYMBOL_WIDEST=[7,5,4,3,1],de.EVEN_TOTAL_SUBSET=[4,20,52,104,204],de.GSUM=[0,348,1388,2948,3988],de.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],de.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],de.FINDER_PAT_A=0,de.FINDER_PAT_B=1,de.FINDER_PAT_C=2,de.FINDER_PAT_D=3,de.FINDER_PAT_E=4,de.FINDER_PAT_F=5,de.FINDER_PATTERN_SEQUENCES=[[de.FINDER_PAT_A,de.FINDER_PAT_A],[de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B],[de.FINDER_PAT_A,de.FINDER_PAT_C,de.FINDER_PAT_B,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_C],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F]],de.MAX_PAIRS=11;class uo extends Qr{constructor(t,r,i){super(t,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class _t extends En{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,i){const o=this.decodePair(r,!1,t,i);_t.addOrTally(this.possibleLeftPairs,o),r.reverse();let u=this.decodePair(r,!0,t,i);_t.addOrTally(this.possibleRightPairs,u),r.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&_t.checkChecksum(h,m))return _t.constructResult(h,m)}throw new te}static addOrTally(t,r){if(r==null)return;let i=!1;for(let o of t)if(o.getValue()===r.getValue()){o.incrementCount(),i=!0;break}i||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let i=4537077*t.getValue()+r.getValue(),o=new String(i).toString(),u=new Ye;for(let v=13-o.length;v>0;v--)u.append("0");u.append(o);let h=0;for(let v=0;v<13;v++){let C=u.charAt(v).charCodeAt(0)-48;h+=(v&1)===0?3*C:C}h=10-h%10,h===10&&(h=0),u.append(h.toString());let m=t.getFinderPattern().getResultPoints(),p=r.getFinderPattern().getResultPoints();return new Ee(u.toString(),null,0,[m[0],m[1],p[0],p[1]],be.RSS_14,new Date().getTime())}static checkChecksum(t,r){let i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(t,r,i,o){try{let u=this.findFinderPattern(t,r),h=this.parseFoundFinderPattern(t,i,r,u),m=o==null?null:o.get(_e.NEED_RESULT_POINT_CALLBACK);if(m!=null){let C=(u[0]+u[1])/2;r&&(C=t.getSize()-1-C),m.foundPossibleResultPoint(new Re(C,i))}let p=this.decodeDataCharacter(t,h,!0),v=this.decodeDataCharacter(t,h,!1);return new uo(1597*p.getValue()+v.getValue(),p.getChecksumPortion()+4*v.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(t,r,i){let o=this.getDataCharacterCounters();for(let X=0;X<o.length;X++)o[X]=0;if(i)Ft.recordPatternInReverse(t,r.getStartEnd()[0],o);else{Ft.recordPattern(t,r.getStartEnd()[1]+1,o);for(let X=0,ne=o.length-1;X<ne;X++,ne--){let ye=o[X];o[X]=o[ne],o[ne]=ye}}let u=i?16:15,h=it.sum(new Int32Array(o))/u,m=this.getOddCounts(),p=this.getEvenCounts(),v=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let X=0;X<o.length;X++){let ne=o[X]/h,ye=Math.floor(ne+.5);ye<1?ye=1:ye>8&&(ye=8);let xe=Math.floor(X/2);(X&1)===0?(m[xe]=ye,v[xe]=ne-ye):(p[xe]=ye,C[xe]=ne-ye)}this.adjustOddEvenCounts(i,u);let O=0,I=0;for(let X=m.length-1;X>=0;X--)I*=9,I+=m[X],O+=m[X];let k=0,P=0;for(let X=p.length-1;X>=0;X--)k*=9,k+=p[X],P+=p[X];let F=I+3*k;if(i){if((O&1)!==0||O>12||O<4)throw new te;let X=(12-O)/2,ne=_t.OUTSIDE_ODD_WIDEST[X],ye=9-ne,xe=Cr.getRSSvalue(m,ne,!1),ge=Cr.getRSSvalue(p,ye,!0),tt=_t.OUTSIDE_EVEN_TOTAL_SUBSET[X],Xe=_t.OUTSIDE_GSUM[X];return new Qr(xe*tt+ge+Xe,F)}else{if((P&1)!==0||P>10||P<4)throw new te;let X=(10-P)/2,ne=_t.INSIDE_ODD_WIDEST[X],ye=9-ne,xe=Cr.getRSSvalue(m,ne,!0),ge=Cr.getRSSvalue(p,ye,!1),tt=_t.INSIDE_ODD_TOTAL_SUBSET[X],Xe=_t.INSIDE_GSUM[X];return new Qr(ge*tt+xe+Xe,F)}}findFinderPattern(t,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=t.getSize(),u=!1,h=0;for(;h<o&&(u=!t.get(h),r!==u);)h++;let m=0,p=h;for(let v=h;v<o;v++)if(t.get(v)!==u)i[m]++;else{if(m===3){if(En.isFinderPattern(i))return[p,v];p+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,m--}else m++;i[m]=1,u=!u}throw new te}parseFoundFinderPattern(t,r,i,o){let u=t.get(o[0]),h=o[0]-1;for(;h>=0&&u!==t.get(h);)h--;h++;const m=o[0]-h,p=this.getDecodeFinderCounters(),v=new Int32Array(p.length);H.arraycopy(p,0,v,1,p.length-1),v[0]=m;const C=this.parseFinderValue(v,_t.FINDER_PATTERNS);let O=h,I=o[1];return i&&(O=t.getSize()-1-O,I=t.getSize()-1-I),new Jr(C,[h,o[1]],O,I,r)}adjustOddEvenCounts(t,r){let i=it.sum(new Int32Array(this.getOddCounts())),o=it.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,m=!1,p=!1;t?(i>12?h=!0:i<4&&(u=!0),o>12?p=!0:o<4&&(m=!0)):(i>11?h=!0:i<5&&(u=!0),o>10?p=!0:o<4&&(m=!0));let v=i+o-r,C=(i&1)===(t?1:0),O=(o&1)===1;if(v===1)if(C){if(O)throw new te;h=!0}else{if(!O)throw new te;p=!0}else if(v===-1)if(C){if(O)throw new te;u=!0}else{if(!O)throw new te;m=!0}else if(v===0){if(C){if(!O)throw new te;i<o?(u=!0,p=!0):(h=!0,m=!0)}else if(O)throw new te}else throw new te;if(u){if(h)throw new te;En.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&En.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(p)throw new te;En.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&En.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}_t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],_t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],_t.OUTSIDE_GSUM=[0,161,961,2015,2715],_t.INSIDE_GSUM=[0,336,1036,1516],_t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],_t.INSIDE_ODD_WIDEST=[2,4,6,8],_t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class cr extends Ft{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const i=t?t.get(_e.POSSIBLE_FORMATS):null,o=t&&t.get(_e.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(be.EAN_13)||i.includes(be.UPC_A)||i.includes(be.EAN_8)||i.includes(be.UPC_E))&&this.readers.push(new nl(t)),i.includes(be.CODE_39)&&this.readers.push(new Dt(o)),i.includes(be.CODE_128)&&this.readers.push(new pe),i.includes(be.ITF)&&this.readers.push(new Je),i.includes(be.RSS_14)&&this.readers.push(new _t),i.includes(be.RSS_EXPANDED)&&this.readers.push(new de(this.verbose))):(this.readers.push(new nl(t)),this.readers.push(new Dt),this.readers.push(new nl(t)),this.readers.push(new pe),this.readers.push(new Je),this.readers.push(new _t),this.readers.push(new de(this.verbose)))}decodeRow(t,r,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,i)}catch{}throw new te}reset(){this.readers.forEach(t=>t.reset())}}class rc extends ve{constructor(t=500,r){super(new cr(r),t,r)}}class mt{constructor(t,r,i){this.ecCodewords=t,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class gt{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class st{constructor(t,r,i,o,u,h){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=u,this.ecBlocks=h;let m=0;const p=h.getECCodewords(),v=h.getECBlocks();for(let C of v)m+=C.getCount()*(C.getDataCodewords()+p);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if((t&1)!==0||(r&1)!==0)throw new ee;for(let i of st.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===r)return i;throw new ee}toString(){return""+this.versionNumber}static buildVersions(){return[new st(1,10,10,8,8,new mt(5,new gt(1,3))),new st(2,12,12,10,10,new mt(7,new gt(1,5))),new st(3,14,14,12,12,new mt(10,new gt(1,8))),new st(4,16,16,14,14,new mt(12,new gt(1,12))),new st(5,18,18,16,16,new mt(14,new gt(1,18))),new st(6,20,20,18,18,new mt(18,new gt(1,22))),new st(7,22,22,20,20,new mt(20,new gt(1,30))),new st(8,24,24,22,22,new mt(24,new gt(1,36))),new st(9,26,26,24,24,new mt(28,new gt(1,44))),new st(10,32,32,14,14,new mt(36,new gt(1,62))),new st(11,36,36,16,16,new mt(42,new gt(1,86))),new st(12,40,40,18,18,new mt(48,new gt(1,114))),new st(13,44,44,20,20,new mt(56,new gt(1,144))),new st(14,48,48,22,22,new mt(68,new gt(1,174))),new st(15,52,52,24,24,new mt(42,new gt(2,102))),new st(16,64,64,14,14,new mt(56,new gt(2,140))),new st(17,72,72,16,16,new mt(36,new gt(4,92))),new st(18,80,80,18,18,new mt(48,new gt(4,114))),new st(19,88,88,20,20,new mt(56,new gt(4,144))),new st(20,96,96,22,22,new mt(68,new gt(4,174))),new st(21,104,104,24,24,new mt(56,new gt(6,136))),new st(22,120,120,18,18,new mt(68,new gt(6,175))),new st(23,132,132,20,20,new mt(62,new gt(8,163))),new st(24,144,144,22,22,new mt(62,new gt(8,156),new gt(2,155))),new st(25,8,18,6,16,new mt(7,new gt(1,5))),new st(26,8,32,6,14,new mt(11,new gt(1,10))),new st(27,12,26,10,24,new mt(14,new gt(1,16))),new st(28,12,36,10,16,new mt(18,new gt(1,22))),new st(29,16,36,14,16,new mt(24,new gt(1,32))),new st(30,16,48,14,22,new mt(28,new gt(1,49)))]}}st.VERSIONS=st.buildVersions();class Pi{constructor(t){const r=t.getHeight();if(r<8||r>144||(r&1)!==0)throw new ee;this.version=Pi.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Ke(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),i=t.getWidth();return st.getVersionForDimensions(r,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,o=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let m=!1,p=!1,v=!1,C=!1;do if(i===u&&o===0&&!m)t[r++]=this.readCorner1(u,h)&255,i-=2,o+=2,m=!0;else if(i===u-2&&o===0&&(h&3)!==0&&!p)t[r++]=this.readCorner2(u,h)&255,i-=2,o+=2,p=!0;else if(i===u+4&&o===2&&(h&7)===0&&!v)t[r++]=this.readCorner3(u,h)&255,i-=2,o+=2,v=!0;else if(i===u-2&&o===0&&(h&7)===4&&!C)t[r++]=this.readCorner4(u,h)&255,i-=2,o+=2,C=!0;else{do i<u&&o>=0&&!this.readMappingMatrix.get(o,i)&&(t[r++]=this.readUtah(i,o,u,h)&255),i-=2,o+=2;while(i>=0&&o<h);i+=1,o+=3;do i>=0&&o<h&&!this.readMappingMatrix.get(o,i)&&(t[r++]=this.readUtah(i,o,u,h)&255),i+=2,o-=2;while(i<u&&o>=0);i+=3,o+=1}while(i<u||o<h);if(r!==this.version.getTotalCodewords())throw new ee;return t}readModule(t,r,i,o){return t<0&&(t+=i,r+=4-(i+4&7)),r<0&&(r+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,i,o){let u=0;return this.readModule(t-2,r-2,i,o)&&(u|=1),u<<=1,this.readModule(t-2,r-1,i,o)&&(u|=1),u<<=1,this.readModule(t-1,r-2,i,o)&&(u|=1),u<<=1,this.readModule(t-1,r-1,i,o)&&(u|=1),u<<=1,this.readModule(t-1,r,i,o)&&(u|=1),u<<=1,this.readModule(t,r-2,i,o)&&(u|=1),u<<=1,this.readModule(t,r-1,i,o)&&(u|=1),u<<=1,this.readModule(t,r,i,o)&&(u|=1),u}readCorner1(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,1,t,r)&&(i|=1),i<<=1,this.readModule(t-1,2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}readCorner2(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-4,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner3(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-3,t,r)&&(i|=1),i<<=1,this.readModule(1,r-2,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner4(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new N("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=r/o|0,m=i/u|0,p=h*o,v=m*u,C=new Ke(v,p);for(let O=0;O<h;++O){const I=O*o;for(let k=0;k<m;++k){const P=k*u;for(let F=0;F<o;++F){const X=O*(o+2)+1+F,ne=I+F;for(let ye=0;ye<u;++ye){const xe=k*(u+2)+1+ye;if(t.get(xe,X)){const ge=P+ye;C.set(ge,ne)}}}}}return C}}class ji{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const i=r.getECBlocks();let o=0;const u=i.getECBlocks();for(let F of u)o+=F.getCount();const h=new Array(o);let m=0;for(let F of u)for(let X=0;X<F.getCount();X++){const ne=F.getDataCodewords(),ye=i.getECCodewords()+ne;h[m++]=new ji(ne,new Uint8Array(ye))}const v=h[0].codewords.length-i.getECCodewords(),C=v-1;let O=0;for(let F=0;F<C;F++)for(let X=0;X<m;X++)h[X].codewords[F]=t[O++];const I=r.getVersionNumber()===24,k=I?8:m;for(let F=0;F<k;F++)h[F].codewords[v-1]=t[O++];const P=h[0].codewords.length;for(let F=v;F<P;F++)for(let X=0;X<m;X++){const ne=I?(X+8)%m:X,ye=I&&ne>7?F-1:F;h[ne].codewords[ye]=t[O++]}if(O!==t.length)throw new N;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class hr{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new N(""+t);let r=0,i=this.bitOffset,o=this.byteOffset;const u=this.bytes;if(i>0){const h=8-i,m=t<h?t:h,p=h-m,v=255>>8-m<<p;r=(u[o]&v)>>p,t-=m,i+=m,i===8&&(i=0,o++)}if(t>0){for(;t>=8;)r=r<<8|u[o]&255,o++,t-=8;if(t>0){const h=8-t,m=255>>h<<h;r=r<<t|(u[o]&m)>>h,i+=t}}return this.bitOffset=i,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var yt;(function(T){T[T.PAD_ENCODE=0]="PAD_ENCODE",T[T.ASCII_ENCODE=1]="ASCII_ENCODE",T[T.C40_ENCODE=2]="C40_ENCODE",T[T.TEXT_ENCODE=3]="TEXT_ENCODE",T[T.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",T[T.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",T[T.BASE256_ENCODE=6]="BASE256_ENCODE"})(yt||(yt={}));class jr{static decode(t){const r=new hr(t),i=new Ye,o=new Ye,u=new Array;let h=yt.ASCII_ENCODE;do if(h===yt.ASCII_ENCODE)h=this.decodeAsciiSegment(r,i,o);else{switch(h){case yt.C40_ENCODE:this.decodeC40Segment(r,i);break;case yt.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case yt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case yt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case yt.BASE256_ENCODE:this.decodeBase256Segment(r,i,u);break;default:throw new ee}h=yt.ASCII_ENCODE}while(h!==yt.PAD_ENCODE&&r.available()>0);return o.length()>0&&i.append(o.toString()),new Tt(t,i.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(t,r,i){let o=!1;do{let u=t.readBits(8);if(u===0)throw new ee;if(u<=128)return o&&(u+=128),r.append(String.fromCharCode(u-1)),yt.ASCII_ENCODE;if(u===129)return yt.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&r.append("0"),r.append(""+h)}else switch(u){case 230:return yt.C40_ENCODE;case 231:return yt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return yt.ANSIX12_ENCODE;case 239:return yt.TEXT_ENCODE;case 240:return yt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||t.available()!==0)throw new ee;break}}while(t.available()>0);return yt.ASCII_ENCODE}static decodeC40Segment(t,r){let i=!1;const o=[];let u=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),o);for(let m=0;m<3;m++){const p=o[m];switch(u){case 0:if(p<3)u=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[p];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v)}else throw new ee;break;case 1:i?(r.append(String.fromCharCode(p+128)),i=!1):r.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[p];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v)}else switch(p){case 27:r.append("");break;case 30:i=!0;break;default:throw new ee}u=0;break;case 3:i?(r.append(String.fromCharCode(p+224)),i=!1):r.append(String.fromCharCode(p+96)),u=0;break;default:throw new ee}}}while(t.available()>0)}static decodeTextSegment(t,r){let i=!1,o=[],u=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),o);for(let m=0;m<3;m++){const p=o[m];switch(u){case 0:if(p<3)u=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[p];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v)}else throw new ee;break;case 1:i?(r.append(String.fromCharCode(p+128)),i=!1):r.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[p];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v)}else switch(p){case 27:r.append("");break;case 30:i=!0;break;default:throw new ee}u=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[p];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v),u=0}else throw new ee;break;default:throw new ee}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const i=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),i);for(let u=0;u<3;u++){const h=i[u];switch(h){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(h<14)r.append(String.fromCharCode(h+44));else if(h<40)r.append(String.fromCharCode(h+51));else throw new ee;break}}}while(t.available()>0)}static parseTwoBytes(t,r,i){let o=(t<<8)+r-1,u=Math.floor(o/1600);i[0]=u,o-=u*1600,u=Math.floor(o/40),i[1]=u,i[2]=o-u*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let o=t.readBits(6);if(o===31){const u=8-t.getBitOffset();u!==8&&t.readBits(u);return}(o&32)===0&&(o|=64),r.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,r,i){let o=1+t.getByteOffset();const u=this.unrandomize255State(t.readBits(8),o++);let h;if(u===0?h=t.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(t.readBits(8),o++),h<0)throw new ee;const m=new Uint8Array(h);for(let p=0;p<h;p++){if(t.available()<8)throw new ee;m[p]=this.unrandomize255State(t.readBits(8),o++)}i.push(m);try{r.append(xt.decode(m,Ae.ISO88591))}catch(p){throw new jn("Platform does not support required encoding: "+p.message)}}static unrandomize255State(t,r){const i=149*r%255+1,o=t-i;return o>=0?o:o+256}}jr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],jr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],jr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],jr.TEXT_SHIFT2_SET_CHARS=jr.C40_SHIFT2_SET_CHARS,jr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ic{constructor(){this.rsDecoder=new Ur(Ge.DATA_MATRIX_FIELD_256)}decode(t){const r=new Pi(t),i=r.getVersion(),o=r.readCodewords(),u=ji.getDataBlocks(o,i);let h=0;for(let v of u)h+=v.getNumDataCodewords();const m=new Uint8Array(h),p=u.length;for(let v=0;v<p;v++){const C=u[v],O=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(O,I);for(let k=0;k<I;k++)m[k*p+v]=O[k]}return jr.decode(m)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new L}for(let o=0;o<r;o++)t[o]=i[o]}}class qt{constructor(t){this.image=t,this.rectangleDetector=new Jt(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new te;r=this.shiftToModuleCenter(r);const i=r[0],o=r[1],u=r[2],h=r[3];let m=this.transitionsBetween(i,h)+1,p=this.transitionsBetween(u,h)+1;(m&1)===1&&(m+=1),(p&1)===1&&(p+=1),4*m<7*p&&4*p<7*m&&(m=p=Math.max(m,p));let v=qt.sampleGrid(this.image,i,o,u,h,m,p);return new $s(v,[i,o,u,h])}static shiftPoint(t,r,i){let o=(r.getX()-t.getX())/(i+1),u=(r.getY()-t.getY())/(i+1);return new Re(t.getX()+o,t.getY()+u)}static moveAway(t,r,i){let o=t.getX(),u=t.getY();return o<r?o-=1:o+=1,u<i?u-=1:u+=1,new Re(o,u)}detectSolid1(t){let r=t[0],i=t[1],o=t[3],u=t[2],h=this.transitionsBetween(r,i),m=this.transitionsBetween(i,o),p=this.transitionsBetween(o,u),v=this.transitionsBetween(u,r),C=h,O=[u,r,i,o];return C>m&&(C=m,O[0]=r,O[1]=i,O[2]=o,O[3]=u),C>p&&(C=p,O[0]=i,O[1]=o,O[2]=u,O[3]=r),C>v&&(O[0]=o,O[1]=u,O[2]=r,O[3]=i),O}detectSolid2(t){let r=t[0],i=t[1],o=t[2],u=t[3],h=this.transitionsBetween(r,u),m=qt.shiftPoint(i,o,(h+1)*4),p=qt.shiftPoint(o,i,(h+1)*4),v=this.transitionsBetween(m,r),C=this.transitionsBetween(p,u);return v<C?(t[0]=r,t[1]=i,t[2]=o,t[3]=u):(t[0]=i,t[1]=o,t[2]=u,t[3]=r),t}correctTopRight(t){let r=t[0],i=t[1],o=t[2],u=t[3],h=this.transitionsBetween(r,u),m=this.transitionsBetween(i,u),p=qt.shiftPoint(r,i,(m+1)*4),v=qt.shiftPoint(o,i,(h+1)*4);h=this.transitionsBetween(p,u),m=this.transitionsBetween(v,u);let C=new Re(u.getX()+(o.getX()-i.getX())/(h+1),u.getY()+(o.getY()-i.getY())/(h+1)),O=new Re(u.getX()+(r.getX()-i.getX())/(m+1),u.getY()+(r.getY()-i.getY())/(m+1));if(!this.isValid(C))return this.isValid(O)?O:null;if(!this.isValid(O))return C;let I=this.transitionsBetween(p,C)+this.transitionsBetween(v,C),k=this.transitionsBetween(p,O)+this.transitionsBetween(v,O);return I>k?C:O}shiftToModuleCenter(t){let r=t[0],i=t[1],o=t[2],u=t[3],h=this.transitionsBetween(r,u)+1,m=this.transitionsBetween(o,u)+1,p=qt.shiftPoint(r,i,m*4),v=qt.shiftPoint(o,i,h*4);h=this.transitionsBetween(p,u)+1,m=this.transitionsBetween(v,u)+1,(h&1)===1&&(h+=1),(m&1)===1&&(m+=1);let C=(r.getX()+i.getX()+o.getX()+u.getX())/4,O=(r.getY()+i.getY()+o.getY()+u.getY())/4;r=qt.moveAway(r,C,O),i=qt.moveAway(i,C,O),o=qt.moveAway(o,C,O),u=qt.moveAway(u,C,O);let I,k;return p=qt.shiftPoint(r,i,m*4),p=qt.shiftPoint(p,u,h*4),I=qt.shiftPoint(i,r,m*4),I=qt.shiftPoint(I,o,h*4),v=qt.shiftPoint(o,u,m*4),v=qt.shiftPoint(v,i,h*4),k=qt.shiftPoint(u,o,m*4),k=qt.shiftPoint(k,r,h*4),[p,I,v,k]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,i,o,u,h,m){return or.getInstance().sampleGrid(t,h,m,.5,.5,h-.5,.5,h-.5,m-.5,.5,m-.5,r.getX(),r.getY(),u.getX(),u.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(t,r){let i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),u=Math.trunc(r.getX()),h=Math.trunc(r.getY()),m=Math.abs(h-o)>Math.abs(u-i);if(m){let F=i;i=o,o=F,F=u,u=h,h=F}let p=Math.abs(u-i),v=Math.abs(h-o),C=-p/2,O=o<h?1:-1,I=i<u?1:-1,k=0,P=this.image.get(m?o:i,m?i:o);for(let F=i,X=o;F!==u;F+=I){let ne=this.image.get(m?X:F,m?F:X);if(ne!==P&&(k++,P=ne),C+=v,C>0){if(X===h)break;X+=O,C-=p}}return k}}class Fr{constructor(){this.decoder=new ic}decode(t,r=null){let i,o;if(r!=null&&r.has(_e.PURE_BARCODE)){const v=Fr.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(v),o=Fr.NO_POINTS}else{const v=new qt(t.getBlackMatrix()).detect();i=this.decoder.decode(v.getBits()),o=v.getPoints()}const u=i.getRawBytes(),h=new Ee(i.getText(),u,8*u.length,o,be.DATA_MATRIX,H.currentTimeMillis()),m=i.getByteSegments();m!=null&&h.putMetadata(ot.BYTE_SEGMENTS,m);const p=i.getECLevel();return p!=null&&h.putMetadata(ot.ERROR_CORRECTION_LEVEL,p),h}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r==null||i==null)throw new te;const o=this.moduleSize(r,t);let u=r[1];const h=i[1];let m=r[0];const v=(i[0]-m+1)/o,C=(h-u+1)/o;if(v<=0||C<=0)throw new te;const O=o/2;u+=O,m+=O;const I=new Ke(v,C);for(let k=0;k<C;k++){const P=u+k*o;for(let F=0;F<v;F++)t.get(m+F*o,P)&&I.set(F,k)}return I}static moduleSize(t,r){const i=r.getWidth();let o=t[0];const u=t[1];for(;o<i&&r.get(o,u);)o++;if(o===i)throw new te;const h=o-t[0];if(h===0)throw new te;return h}}Fr.NO_POINTS=[];class ra extends ve{constructor(t=500){super(new Fr,t)}}var Fi;(function(T){T[T.L=0]="L",T[T.M=1]="M",T[T.Q=2]="Q",T[T.H=3]="H"})(Fi||(Fi={}));class nt{constructor(t,r,i){this.value=t,this.stringValue=r,this.bits=i,nt.FOR_BITS.set(i,this),nt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return nt.L;case"M":return nt.M;case"Q":return nt.Q;case"H":return nt.H;default:throw new R(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof nt))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=nt.FOR_BITS.size)throw new N;return nt.FOR_BITS.get(t)}}nt.FOR_BITS=new Map,nt.FOR_VALUE=new Map,nt.L=new nt(Fi.L,"L",1),nt.M=new nt(Fi.M,"M",0),nt.Q=new nt(Fi.Q,"Q",3),nt.H=new nt(Fi.H,"H",2);class dn{constructor(t){this.errorCorrectionLevel=nt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return Y.bitCount(t^r)}static decodeFormatInformation(t,r){const i=dn.doDecodeFormatInformation(t,r);return i!==null?i:dn.doDecodeFormatInformation(t^dn.FORMAT_INFO_MASK_QR,r^dn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let i=Number.MAX_SAFE_INTEGER,o=0;for(const u of dn.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===t||h===r)return new dn(u[1]);let m=dn.numBitsDiffering(t,h);m<i&&(o=u[1],i=m),t!==r&&(m=dn.numBitsDiffering(r,h),m<i&&(o=u[1],i=m))}return i<=3?new dn(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof dn))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}dn.FORMAT_INFO_MASK_QR=21522,dn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const i of r)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class De{constructor(t,r,...i){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=i;let o=0;const u=i[0].getECCodewordsPerBlock(),h=i[0].getECBlocks();for(const m of h)o+=m.getCount()*(m.getDataCodewords()+u);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new ee;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ee}}static getVersionForNumber(t){if(t<1||t>40)throw new N;return De.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<De.VERSION_DECODE_INFO.length;o++){const u=De.VERSION_DECODE_INFO[o];if(u===t)return De.getVersionForNumber(o+7);const h=dn.numBitsDiffering(t,u);h<r&&(i=o+7,r=h)}return r<=3?De.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new Ke(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const u=this.alignmentPatternCenters[o]-2;for(let h=0;h<i;h++)o===0&&(h===0||h===i-1)||o===i-1&&h===0||r.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}De.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),De.VERSIONS=[new De(1,new Int32Array(0),new K(7,new M(1,19)),new K(10,new M(1,16)),new K(13,new M(1,13)),new K(17,new M(1,9))),new De(2,Int32Array.from([6,18]),new K(10,new M(1,34)),new K(16,new M(1,28)),new K(22,new M(1,22)),new K(28,new M(1,16))),new De(3,Int32Array.from([6,22]),new K(15,new M(1,55)),new K(26,new M(1,44)),new K(18,new M(2,17)),new K(22,new M(2,13))),new De(4,Int32Array.from([6,26]),new K(20,new M(1,80)),new K(18,new M(2,32)),new K(26,new M(2,24)),new K(16,new M(4,9))),new De(5,Int32Array.from([6,30]),new K(26,new M(1,108)),new K(24,new M(2,43)),new K(18,new M(2,15),new M(2,16)),new K(22,new M(2,11),new M(2,12))),new De(6,Int32Array.from([6,34]),new K(18,new M(2,68)),new K(16,new M(4,27)),new K(24,new M(4,19)),new K(28,new M(4,15))),new De(7,Int32Array.from([6,22,38]),new K(20,new M(2,78)),new K(18,new M(4,31)),new K(18,new M(2,14),new M(4,15)),new K(26,new M(4,13),new M(1,14))),new De(8,Int32Array.from([6,24,42]),new K(24,new M(2,97)),new K(22,new M(2,38),new M(2,39)),new K(22,new M(4,18),new M(2,19)),new K(26,new M(4,14),new M(2,15))),new De(9,Int32Array.from([6,26,46]),new K(30,new M(2,116)),new K(22,new M(3,36),new M(2,37)),new K(20,new M(4,16),new M(4,17)),new K(24,new M(4,12),new M(4,13))),new De(10,Int32Array.from([6,28,50]),new K(18,new M(2,68),new M(2,69)),new K(26,new M(4,43),new M(1,44)),new K(24,new M(6,19),new M(2,20)),new K(28,new M(6,15),new M(2,16))),new De(11,Int32Array.from([6,30,54]),new K(20,new M(4,81)),new K(30,new M(1,50),new M(4,51)),new K(28,new M(4,22),new M(4,23)),new K(24,new M(3,12),new M(8,13))),new De(12,Int32Array.from([6,32,58]),new K(24,new M(2,92),new M(2,93)),new K(22,new M(6,36),new M(2,37)),new K(26,new M(4,20),new M(6,21)),new K(28,new M(7,14),new M(4,15))),new De(13,Int32Array.from([6,34,62]),new K(26,new M(4,107)),new K(22,new M(8,37),new M(1,38)),new K(24,new M(8,20),new M(4,21)),new K(22,new M(12,11),new M(4,12))),new De(14,Int32Array.from([6,26,46,66]),new K(30,new M(3,115),new M(1,116)),new K(24,new M(4,40),new M(5,41)),new K(20,new M(11,16),new M(5,17)),new K(24,new M(11,12),new M(5,13))),new De(15,Int32Array.from([6,26,48,70]),new K(22,new M(5,87),new M(1,88)),new K(24,new M(5,41),new M(5,42)),new K(30,new M(5,24),new M(7,25)),new K(24,new M(11,12),new M(7,13))),new De(16,Int32Array.from([6,26,50,74]),new K(24,new M(5,98),new M(1,99)),new K(28,new M(7,45),new M(3,46)),new K(24,new M(15,19),new M(2,20)),new K(30,new M(3,15),new M(13,16))),new De(17,Int32Array.from([6,30,54,78]),new K(28,new M(1,107),new M(5,108)),new K(28,new M(10,46),new M(1,47)),new K(28,new M(1,22),new M(15,23)),new K(28,new M(2,14),new M(17,15))),new De(18,Int32Array.from([6,30,56,82]),new K(30,new M(5,120),new M(1,121)),new K(26,new M(9,43),new M(4,44)),new K(28,new M(17,22),new M(1,23)),new K(28,new M(2,14),new M(19,15))),new De(19,Int32Array.from([6,30,58,86]),new K(28,new M(3,113),new M(4,114)),new K(26,new M(3,44),new M(11,45)),new K(26,new M(17,21),new M(4,22)),new K(26,new M(9,13),new M(16,14))),new De(20,Int32Array.from([6,34,62,90]),new K(28,new M(3,107),new M(5,108)),new K(26,new M(3,41),new M(13,42)),new K(30,new M(15,24),new M(5,25)),new K(28,new M(15,15),new M(10,16))),new De(21,Int32Array.from([6,28,50,72,94]),new K(28,new M(4,116),new M(4,117)),new K(26,new M(17,42)),new K(28,new M(17,22),new M(6,23)),new K(30,new M(19,16),new M(6,17))),new De(22,Int32Array.from([6,26,50,74,98]),new K(28,new M(2,111),new M(7,112)),new K(28,new M(17,46)),new K(30,new M(7,24),new M(16,25)),new K(24,new M(34,13))),new De(23,Int32Array.from([6,30,54,78,102]),new K(30,new M(4,121),new M(5,122)),new K(28,new M(4,47),new M(14,48)),new K(30,new M(11,24),new M(14,25)),new K(30,new M(16,15),new M(14,16))),new De(24,Int32Array.from([6,28,54,80,106]),new K(30,new M(6,117),new M(4,118)),new K(28,new M(6,45),new M(14,46)),new K(30,new M(11,24),new M(16,25)),new K(30,new M(30,16),new M(2,17))),new De(25,Int32Array.from([6,32,58,84,110]),new K(26,new M(8,106),new M(4,107)),new K(28,new M(8,47),new M(13,48)),new K(30,new M(7,24),new M(22,25)),new K(30,new M(22,15),new M(13,16))),new De(26,Int32Array.from([6,30,58,86,114]),new K(28,new M(10,114),new M(2,115)),new K(28,new M(19,46),new M(4,47)),new K(28,new M(28,22),new M(6,23)),new K(30,new M(33,16),new M(4,17))),new De(27,Int32Array.from([6,34,62,90,118]),new K(30,new M(8,122),new M(4,123)),new K(28,new M(22,45),new M(3,46)),new K(30,new M(8,23),new M(26,24)),new K(30,new M(12,15),new M(28,16))),new De(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new M(3,117),new M(10,118)),new K(28,new M(3,45),new M(23,46)),new K(30,new M(4,24),new M(31,25)),new K(30,new M(11,15),new M(31,16))),new De(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new M(7,116),new M(7,117)),new K(28,new M(21,45),new M(7,46)),new K(30,new M(1,23),new M(37,24)),new K(30,new M(19,15),new M(26,16))),new De(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new M(5,115),new M(10,116)),new K(28,new M(19,47),new M(10,48)),new K(30,new M(15,24),new M(25,25)),new K(30,new M(23,15),new M(25,16))),new De(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new M(13,115),new M(3,116)),new K(28,new M(2,46),new M(29,47)),new K(30,new M(42,24),new M(1,25)),new K(30,new M(23,15),new M(28,16))),new De(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new M(17,115)),new K(28,new M(10,46),new M(23,47)),new K(30,new M(10,24),new M(35,25)),new K(30,new M(19,15),new M(35,16))),new De(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new M(17,115),new M(1,116)),new K(28,new M(14,46),new M(21,47)),new K(30,new M(29,24),new M(19,25)),new K(30,new M(11,15),new M(46,16))),new De(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new M(13,115),new M(6,116)),new K(28,new M(14,46),new M(23,47)),new K(30,new M(44,24),new M(7,25)),new K(30,new M(59,16),new M(1,17))),new De(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new M(12,121),new M(7,122)),new K(28,new M(12,47),new M(26,48)),new K(30,new M(39,24),new M(14,25)),new K(30,new M(22,15),new M(41,16))),new De(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new M(6,121),new M(14,122)),new K(28,new M(6,47),new M(34,48)),new K(30,new M(46,24),new M(10,25)),new K(30,new M(2,15),new M(64,16))),new De(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new M(17,122),new M(4,123)),new K(28,new M(29,46),new M(14,47)),new K(30,new M(49,24),new M(10,25)),new K(30,new M(24,15),new M(46,16))),new De(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new M(4,122),new M(18,123)),new K(28,new M(13,46),new M(32,47)),new K(30,new M(48,24),new M(14,25)),new K(30,new M(42,15),new M(32,16))),new De(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new M(20,117),new M(4,118)),new K(28,new M(40,47),new M(7,48)),new K(30,new M(43,24),new M(22,25)),new K(30,new M(10,15),new M(67,16))),new De(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new M(19,118),new M(6,119)),new K(28,new M(18,47),new M(31,48)),new K(30,new M(34,24),new M(34,25)),new K(30,new M(20,15),new M(61,16)))];var on;(function(T){T[T.DATA_MASK_000=0]="DATA_MASK_000",T[T.DATA_MASK_001=1]="DATA_MASK_001",T[T.DATA_MASK_010=2]="DATA_MASK_010",T[T.DATA_MASK_011=3]="DATA_MASK_011",T[T.DATA_MASK_100=4]="DATA_MASK_100",T[T.DATA_MASK_101=5]="DATA_MASK_101",T[T.DATA_MASK_110=6]="DATA_MASK_110",T[T.DATA_MASK_111=7]="DATA_MASK_111"})(on||(on={}));class Vn{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let i=0;i<r;i++)for(let o=0;o<r;o++)this.isMasked(i,o)&&t.flip(o,i)}}Vn.values=new Map([[on.DATA_MASK_000,new Vn(on.DATA_MASK_000,(T,t)=>(T+t&1)===0)],[on.DATA_MASK_001,new Vn(on.DATA_MASK_001,(T,t)=>(T&1)===0)],[on.DATA_MASK_010,new Vn(on.DATA_MASK_010,(T,t)=>t%3===0)],[on.DATA_MASK_011,new Vn(on.DATA_MASK_011,(T,t)=>(T+t)%3===0)],[on.DATA_MASK_100,new Vn(on.DATA_MASK_100,(T,t)=>(Math.floor(T/2)+Math.floor(t/3)&1)===0)],[on.DATA_MASK_101,new Vn(on.DATA_MASK_101,(T,t)=>T*t%6===0)],[on.DATA_MASK_110,new Vn(on.DATA_MASK_110,(T,t)=>T*t%6<3)],[on.DATA_MASK_111,new Vn(on.DATA_MASK_111,(T,t)=>(T+t+T*t%3&1)===0)]]);class zi{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new ee;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let u=0;u<6;u++)t=this.copyBit(u,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let u=5;u>=0;u--)t=this.copyBit(8,u,t);const r=this.bitMatrix.getHeight();let i=0;const o=r-7;for(let u=r-1;u>=o;u--)i=this.copyBit(8,u,i);for(let u=r-8;u<r;u++)i=this.copyBit(u,8,i);if(this.parsedFormatInfo=dn.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ee}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return De.getVersionForNumber(r);let i=0;const o=t-11;for(let h=5;h>=0;h--)for(let m=t-9;m>=o;m--)i=this.copyBit(m,h,i);let u=De.decodeVersionInformation(i);if(u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;i=0;for(let h=5;h>=0;h--)for(let m=t-9;m>=o;m--)i=this.copyBit(h,m,i);if(u=De.decodeVersionInformation(i),u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;throw new ee}copyBit(t,r,i){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),i=Vn.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const u=r.buildFunctionPattern();let h=!0;const m=new Uint8Array(r.getTotalCodewords());let p=0,v=0,C=0;for(let O=o-1;O>0;O-=2){O===6&&O--;for(let I=0;I<o;I++){const k=h?o-1-I:I;for(let P=0;P<2;P++)u.get(O-P,k)||(C++,v<<=1,this.bitMatrix.get(O-P,k)&&(v|=1),C===8&&(m[p++]=v,C=0,v=0))}h=!h}if(p!==r.getTotalCodewords())throw new ee;return m}remask(){if(this.parsedFormatInfo===null)return;const t=Vn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,i=t.getWidth();r<i;r++)for(let o=r+1,u=t.getHeight();o<u;o++)t.get(r,o)!==t.get(o,r)&&(t.flip(o,r),t.flip(r,o))}}class rl{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,i){if(t.length!==r.getTotalCodewords())throw new N;const o=r.getECBlocksForLevel(i);let u=0;const h=o.getECBlocks();for(const P of h)u+=P.getCount();const m=new Array(u);let p=0;for(const P of h)for(let F=0;F<P.getCount();F++){const X=P.getDataCodewords(),ne=o.getECCodewordsPerBlock()+X;m[p++]=new rl(X,new Uint8Array(ne))}const v=m[0].codewords.length;let C=m.length-1;for(;C>=0&&m[C].codewords.length!==v;)C--;C++;const O=v-o.getECCodewordsPerBlock();let I=0;for(let P=0;P<O;P++)for(let F=0;F<p;F++)m[F].codewords[P]=t[I++];for(let P=C;P<p;P++)m[P].codewords[O]=t[I++];const k=m[0].codewords.length;for(let P=O;P<k;P++)for(let F=0;F<p;F++){const X=F<C?P:P+1;m[F].codewords[X]=t[I++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Xn;(function(T){T[T.TERMINATOR=0]="TERMINATOR",T[T.NUMERIC=1]="NUMERIC",T[T.ALPHANUMERIC=2]="ALPHANUMERIC",T[T.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",T[T.BYTE=4]="BYTE",T[T.ECI=5]="ECI",T[T.KANJI=6]="KANJI",T[T.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",T[T.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",T[T.HANZI=9]="HANZI"})(Xn||(Xn={}));class ke{constructor(t,r,i,o){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=o,ke.FOR_BITS.set(o,this),ke.FOR_VALUE.set(t,this)}static forBits(t){const r=ke.FOR_BITS.get(t);if(r===void 0)throw new N;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof ke))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}ke.FOR_BITS=new Map,ke.FOR_VALUE=new Map,ke.TERMINATOR=new ke(Xn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ke.NUMERIC=new ke(Xn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ke.ALPHANUMERIC=new ke(Xn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ke.STRUCTURED_APPEND=new ke(Xn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ke.BYTE=new ke(Xn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ke.ECI=new ke(Xn.ECI,"ECI",Int32Array.from([0,0,0]),7),ke.KANJI=new ke(Xn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ke.FNC1_FIRST_POSITION=new ke(Xn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ke.FNC1_SECOND_POSITION=new ke(Xn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ke.HANZI=new ke(Xn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Lt{static decode(t,r,i,o){const u=new hr(t);let h=new Ye;const m=new Array;let p=-1,v=-1;try{let C=null,O=!1,I;do{if(u.available()<4)I=ke.TERMINATOR;else{const k=u.readBits(4);I=ke.forBits(k)}switch(I){case ke.TERMINATOR:break;case ke.FNC1_FIRST_POSITION:case ke.FNC1_SECOND_POSITION:O=!0;break;case ke.STRUCTURED_APPEND:if(u.available()<16)throw new ee;p=u.readBits(8),v=u.readBits(8);break;case ke.ECI:const k=Lt.parseECIValue(u);if(C=fe.getCharacterSetECIByValue(k),C===null)throw new ee;break;case ke.HANZI:const P=u.readBits(4),F=u.readBits(I.getCharacterCountBits(r));P===Lt.GB2312_SUBSET&&Lt.decodeHanziSegment(u,h,F);break;default:const X=u.readBits(I.getCharacterCountBits(r));switch(I){case ke.NUMERIC:Lt.decodeNumericSegment(u,h,X);break;case ke.ALPHANUMERIC:Lt.decodeAlphanumericSegment(u,h,X,O);break;case ke.BYTE:Lt.decodeByteSegment(u,h,X,C,m,o);break;case ke.KANJI:Lt.decodeKanjiSegment(u,h,X);break;default:throw new ee}break}}while(I!==ke.TERMINATOR)}catch{throw new ee}return new Tt(t,h.toString(),m.length===0?null:m,i===null?null:i.toString(),p,v)}static decodeHanziSegment(t,r,i){if(i*13>t.available())throw new ee;const o=new Uint8Array(2*i);let u=0;for(;i>0;){const h=t.readBits(13);let m=h/96<<8&4294967295|h%96;m<959?m+=41377:m+=42657,o[u]=m>>8&255,o[u+1]=m&255,u+=2,i--}try{r.append(xt.decode(o,Ae.GB2312))}catch(h){throw new ee(h)}}static decodeKanjiSegment(t,r,i){if(i*13>t.available())throw new ee;const o=new Uint8Array(2*i);let u=0;for(;i>0;){const h=t.readBits(13);let m=h/192<<8&4294967295|h%192;m<7936?m+=33088:m+=49472,o[u]=m>>8,o[u+1]=m,u+=2,i--}try{r.append(xt.decode(o,Ae.SHIFT_JIS))}catch(h){throw new ee(h)}}static decodeByteSegment(t,r,i,o,u,h){if(8*i>t.available())throw new ee;const m=new Uint8Array(i);for(let v=0;v<i;v++)m[v]=t.readBits(8);let p;o===null?p=Ae.guessEncoding(m,h):p=o.getName();try{r.append(xt.decode(m,p))}catch(v){throw new ee(v)}u.push(m)}static toAlphaNumericChar(t){if(t>=Lt.ALPHANUMERIC_CHARS.length)throw new ee;return Lt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,i,o){const u=r.length();for(;i>1;){if(t.available()<11)throw new ee;const h=t.readBits(11);r.append(Lt.toAlphaNumericChar(Math.floor(h/45))),r.append(Lt.toAlphaNumericChar(h%45)),i-=2}if(i===1){if(t.available()<6)throw new ee;r.append(Lt.toAlphaNumericChar(t.readBits(6)))}if(o)for(let h=u;h<r.length();h++)r.charAt(h)==="%"&&(h<r.length()-1&&r.charAt(h+1)==="%"?r.deleteCharAt(h+1):r.setCharAt(h,""))}static decodeNumericSegment(t,r,i){for(;i>=3;){if(t.available()<10)throw new ee;const o=t.readBits(10);if(o>=1e3)throw new ee;r.append(Lt.toAlphaNumericChar(Math.floor(o/100))),r.append(Lt.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(Lt.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(t.available()<7)throw new ee;const o=t.readBits(7);if(o>=100)throw new ee;r.append(Lt.toAlphaNumericChar(Math.floor(o/10))),r.append(Lt.toAlphaNumericChar(o%10))}else if(i===1){if(t.available()<4)throw new ee;const o=t.readBits(4);if(o>=10)throw new ee;r.append(Lt.toAlphaNumericChar(o))}}static parseECIValue(t){const r=t.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){const i=t.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=t.readBits(16);return(r&31)<<16&4294967295|i}throw new ee}}Lt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Lt.GB2312_SUBSET=1;class co{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class sc{constructor(){this.rsDecoder=new Ur(Ge.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(Ke.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const i=new zi(t);let o=null;try{return this.decodeBitMatrixParser(i,r)}catch(u){o=u}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const u=this.decodeBitMatrixParser(i,r);return u.setOther(new co(!0)),u}catch(u){throw o!==null?o:u}}decodeBitMatrixParser(t,r){const i=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),h=rl.getDataBlocks(u,i,o);let m=0;for(const C of h)m+=C.getNumDataCodewords();const p=new Uint8Array(m);let v=0;for(const C of h){const O=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(O,I);for(let k=0;k<I;k++)p[v++]=O[k]}return Lt.decode(p,i,o,r)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new L}for(let o=0;o<r;o++)t[o]=i[o]}}class Hi extends Re{constructor(t,r,i){super(t,r),this.estimatedModuleSize=i}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const o=(this.getX()+r)/2,u=(this.getY()+t)/2,h=(this.estimatedModuleSize+i)/2;return new Hi(o,u,h)}}class Jn{constructor(t,r,i,o,u,h,m){this.image=t,this.startX=r,this.startY=i,this.width=o,this.height=u,this.moduleSize=h,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,i=this.width,o=t+i,u=this.startY+r/2,h=new Int32Array(3),m=this.image;for(let p=0;p<r;p++){const v=u+((p&1)===0?Math.floor((p+1)/2):-Math.floor((p+1)/2));h[0]=0,h[1]=0,h[2]=0;let C=t;for(;C<o&&!m.get(C,v);)C++;let O=0;for(;C<o;){if(m.get(C,v))if(O===1)h[1]++;else if(O===2){if(this.foundPatternCross(h)){const I=this.handlePossibleCenter(h,v,C);if(I!==null)return I}h[0]=h[2],h[1]=1,h[2]=0,O=1}else h[++O]++;else O===1&&O++,h[O]++;C++}if(this.foundPatternCross(h)){const I=this.handlePossibleCenter(h,v,o);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,i=r/2;for(let o=0;o<3;o++)if(Math.abs(r-t[o])>=i)return!1;return!0}crossCheckVertical(t,r,i,o){const u=this.image,h=u.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let p=t;for(;p>=0&&u.get(r,p)&&m[1]<=i;)m[1]++,p--;if(p<0||m[1]>i)return NaN;for(;p>=0&&!u.get(r,p)&&m[0]<=i;)m[0]++,p--;if(m[0]>i)return NaN;for(p=t+1;p<h&&u.get(r,p)&&m[1]<=i;)m[1]++,p++;if(p===h||m[1]>i)return NaN;for(;p<h&&!u.get(r,p)&&m[2]<=i;)m[2]++,p++;if(m[2]>i)return NaN;const v=m[0]+m[1]+m[2];return 5*Math.abs(v-o)>=2*o?NaN:this.foundPatternCross(m)?Jn.centerFromEnd(m,p):NaN}handlePossibleCenter(t,r,i){const o=t[0]+t[1]+t[2],u=Jn.centerFromEnd(t,i),h=this.crossCheckVertical(r,u,2*t[1],o);if(!isNaN(h)){const m=(t[0]+t[1]+t[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(m,h,u))return v.combineEstimate(h,u,m);const p=new Hi(u,h,m);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class As extends Re{constructor(t,r,i,o){super(t,r),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const o=this.count+1,u=(this.count*this.getX()+r)/o,h=(this.count*this.getY()+t)/o,m=(this.count*this.estimatedModuleSize+i)/o;return new As(u,h,m,o)}}class il{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Gt{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(_e.TRY_HARDER)!==void 0,i=t!=null&&t.get(_e.PURE_BARCODE)!==void 0,o=this.image,u=o.getHeight(),h=o.getWidth();let m=Math.floor(3*u/(4*Gt.MAX_MODULES));(m<Gt.MIN_SKIP||r)&&(m=Gt.MIN_SKIP);let p=!1;const v=new Int32Array(5);for(let O=m-1;O<u&&!p;O+=m){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let I=0;for(let k=0;k<h;k++)if(o.get(k,O))(I&1)===1&&I++,v[I]++;else if((I&1)===0)if(I===4)if(Gt.foundPatternCross(v)){if(this.handlePossibleCenter(v,O,k,i)===!0)if(m=2,this.hasSkipped===!0)p=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>v[2]&&(O+=F-v[2]-m,k=h-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,I=3;continue}I=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,I=3;else v[++I]++;else v[I]++;Gt.foundPatternCross(v)&&this.handlePossibleCenter(v,O,h,i)===!0&&(m=v[0],this.hasSkipped&&(p=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Re.orderBestPatterns(C),new il(C)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let u=0;u<5;u++){const h=t[u];if(h===0)return!1;r+=h}if(r<7)return!1;const i=r/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,i,o){const u=this.getCrossCheckStateCount();let h=0;const m=this.image;for(;t>=h&&r>=h&&m.get(r-h,t-h);)u[2]++,h++;if(t<h||r<h)return!1;for(;t>=h&&r>=h&&!m.get(r-h,t-h)&&u[1]<=i;)u[1]++,h++;if(t<h||r<h||u[1]>i)return!1;for(;t>=h&&r>=h&&m.get(r-h,t-h)&&u[0]<=i;)u[0]++,h++;if(u[0]>i)return!1;const p=m.getHeight(),v=m.getWidth();for(h=1;t+h<p&&r+h<v&&m.get(r+h,t+h);)u[2]++,h++;if(t+h>=p||r+h>=v)return!1;for(;t+h<p&&r+h<v&&!m.get(r+h,t+h)&&u[3]<i;)u[3]++,h++;if(t+h>=p||r+h>=v||u[3]>=i)return!1;for(;t+h<p&&r+h<v&&m.get(r+h,t+h)&&u[4]<i;)u[4]++,h++;if(u[4]>=i)return!1;const C=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(C-o)<2*o&&Gt.foundPatternCross(u)}crossCheckVertical(t,r,i,o){const u=this.image,h=u.getHeight(),m=this.getCrossCheckStateCount();let p=t;for(;p>=0&&u.get(r,p);)m[2]++,p--;if(p<0)return NaN;for(;p>=0&&!u.get(r,p)&&m[1]<=i;)m[1]++,p--;if(p<0||m[1]>i)return NaN;for(;p>=0&&u.get(r,p)&&m[0]<=i;)m[0]++,p--;if(m[0]>i)return NaN;for(p=t+1;p<h&&u.get(r,p);)m[2]++,p++;if(p===h)return NaN;for(;p<h&&!u.get(r,p)&&m[3]<i;)m[3]++,p++;if(p===h||m[3]>=i)return NaN;for(;p<h&&u.get(r,p)&&m[4]<i;)m[4]++,p++;if(m[4]>=i)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-o)>=2*o?NaN:Gt.foundPatternCross(m)?Gt.centerFromEnd(m,p):NaN}crossCheckHorizontal(t,r,i,o){const u=this.image,h=u.getWidth(),m=this.getCrossCheckStateCount();let p=t;for(;p>=0&&u.get(p,r);)m[2]++,p--;if(p<0)return NaN;for(;p>=0&&!u.get(p,r)&&m[1]<=i;)m[1]++,p--;if(p<0||m[1]>i)return NaN;for(;p>=0&&u.get(p,r)&&m[0]<=i;)m[0]++,p--;if(m[0]>i)return NaN;for(p=t+1;p<h&&u.get(p,r);)m[2]++,p++;if(p===h)return NaN;for(;p<h&&!u.get(p,r)&&m[3]<i;)m[3]++,p++;if(p===h||m[3]>=i)return NaN;for(;p<h&&u.get(p,r)&&m[4]<i;)m[4]++,p++;if(m[4]>=i)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-o)>=o?NaN:Gt.foundPatternCross(m)?Gt.centerFromEnd(m,p):NaN}handlePossibleCenter(t,r,i,o){const u=t[0]+t[1]+t[2]+t[3]+t[4];let h=Gt.centerFromEnd(t,i),m=this.crossCheckVertical(r,Math.floor(h),t[2],u);if(!isNaN(m)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(m),t[2],u),!isNaN(h)&&(!o||this.crossCheckDiagonal(Math.floor(m),Math.floor(h),t[2],u)))){const p=u/7;let v=!1;const C=this.possibleCenters;for(let O=0,I=C.length;O<I;O++){const k=C[O];if(k.aboutEquals(p,m,h)){C[O]=k.combineEstimate(m,h,p),v=!0;break}}if(!v){const O=new As(h,m,p);C.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const i of this.possibleCenters)if(i.getCount()>=Gt.CENTER_QUORUM)if(r==null)r=i;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const i=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Gt.CENTER_QUORUM&&(t++,r+=h.getEstimatedModuleSize());if(t<3)return!1;const o=r/i;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-o);return u<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new te;const r=this.possibleCenters;let i;if(t>3){let o=0,u=0;for(const p of this.possibleCenters){const v=p.getEstimatedModuleSize();o+=v,u+=v*v}i=o/t;let h=Math.sqrt(u/t-i*i);r.sort((p,v)=>{const C=Math.abs(v.getEstimatedModuleSize()-i),O=Math.abs(p.getEstimatedModuleSize()-i);return C<O?-1:C>O?1:0});const m=Math.max(.2*i,h);for(let p=0;p<r.length&&r.length>3;p++){const v=r[p];Math.abs(v.getEstimatedModuleSize()-i)>m&&(r.splice(p,1),p--)}}if(r.length>3){let o=0;for(const u of r)o+=u.getEstimatedModuleSize();i=o/r.length,r.sort((u,h)=>{if(h.getCount()===u.getCount()){const m=Math.abs(h.getEstimatedModuleSize()-i),p=Math.abs(u.getEstimatedModuleSize()-i);return m<p?1:m>p?-1:0}else return h.getCount()-u.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Gt.CENTER_QUORUM=2,Gt.MIN_SKIP=3,Gt.MAX_MODULES=57;class Tr{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(_e.NEED_RESULT_POINT_CALLBACK);const i=new Gt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const r=t.getTopLeft(),i=t.getTopRight(),o=t.getBottomLeft(),u=this.calculateModuleSize(r,i,o);if(u<1)throw new te("No pattern found in proccess finder.");const h=Tr.computeDimension(r,i,o,u),m=De.getProvisionalVersionForDimension(h),p=m.getDimensionForVersion()-7;let v=null;if(m.getAlignmentPatternCenters().length>0){const k=i.getX()-r.getX()+o.getX(),P=i.getY()-r.getY()+o.getY(),F=1-3/p,X=Math.floor(r.getX()+F*(k-r.getX())),ne=Math.floor(r.getY()+F*(P-r.getY()));for(let ye=4;ye<=16;ye<<=1)try{v=this.findAlignmentInRegion(u,X,ne,ye);break}catch(xe){if(!(xe instanceof te))throw xe}}const C=Tr.createTransform(r,i,o,v,h),O=Tr.sampleGrid(this.image,C,h);let I;return v===null?I=[o,r,i]:I=[o,r,i,v],new $s(O,I)}static createTransform(t,r,i,o,u){const h=u-3.5;let m,p,v,C;return o!==null?(m=o.getX(),p=o.getY(),v=h-3,C=v):(m=r.getX()-t.getX()+i.getX(),p=r.getY()-t.getY()+i.getY(),v=h,C=h),Zn.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,v,C,3.5,h,t.getX(),t.getY(),r.getX(),r.getY(),m,p,i.getX(),i.getY())}static sampleGrid(t,r,i){return or.getInstance().sampleGridWithTransform(t,i,i,r)}static computeDimension(t,r,i,o){const u=it.round(Re.distance(t,r)/o),h=it.round(Re.distance(t,i)/o);let m=Math.floor((u+h)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new te("Dimensions could be not found.")}return m}calculateModuleSize(t,r,i){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,i,o){let u=this.sizeOfBlackWhiteBlackRun(t,r,i,o),h=1,m=t-(i-t);m<0?(h=t/(t-m),m=0):m>=this.image.getWidth()&&(h=(this.image.getWidth()-1-t)/(m-t),m=this.image.getWidth()-1);let p=Math.floor(r-(o-r)*h);return h=1,p<0?(h=r/(r-p),p=0):p>=this.image.getHeight()&&(h=(this.image.getHeight()-1-r)/(p-r),p=this.image.getHeight()-1),m=Math.floor(t+(m-t)*h),u+=this.sizeOfBlackWhiteBlackRun(t,r,m,p),u-1}sizeOfBlackWhiteBlackRun(t,r,i,o){const u=Math.abs(o-r)>Math.abs(i-t);if(u){let k=t;t=r,r=k,k=i,i=o,o=k}const h=Math.abs(i-t),m=Math.abs(o-r);let p=-h/2;const v=t<i?1:-1,C=r<o?1:-1;let O=0;const I=i+v;for(let k=t,P=r;k!==I;k+=v){const F=u?P:k,X=u?k:P;if(O===1===this.image.get(F,X)){if(O===2)return it.distance(k,P,t,r);O++}if(p+=m,p>0){if(P===o)break;P+=C,p-=h}}return O===2?it.distance(i+v,o,t,r):NaN}findAlignmentInRegion(t,r,i,o){const u=Math.floor(o*t),h=Math.max(0,r-u),m=Math.min(this.image.getWidth()-1,r+u);if(m-h<t*3)throw new te("Alignment top exceeds estimated module size.");const p=Math.max(0,i-u),v=Math.min(this.image.getHeight()-1,i+u);if(v-p<t*3)throw new te("Alignment bottom exceeds estimated module size.");return new Jn(this.image,h,p,m-h,v-p,t,this.resultPointCallback).find()}}class zr{constructor(){this.decoder=new sc}getDecoder(){return this.decoder}decode(t,r){let i,o;if(r!=null&&r.get(_e.PURE_BARCODE)!==void 0){const p=zr.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(p,r),o=zr.NO_POINTS}else{const p=new Tr(t.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(p.getBits(),r),o=p.getPoints()}i.getOther()instanceof co&&i.getOther().applyMirroredCorrection(o);const u=new Ee(i.getText(),i.getRawBytes(),void 0,o,be.QR_CODE,void 0),h=i.getByteSegments();h!==null&&u.putMetadata(ot.BYTE_SEGMENTS,h);const m=i.getECLevel();return m!==null&&u.putMetadata(ot.ERROR_CORRECTION_LEVEL,m),i.hasStructuredAppend()&&(u.putMetadata(ot.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),u.putMetadata(ot.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r===null||i===null)throw new te;const o=this.moduleSize(r,t);let u=r[1],h=i[1],m=r[0],p=i[0];if(m>=p||u>=h)throw new te;if(h-u!==p-m&&(p=m+(h-u),p>=t.getWidth()))throw new te;const v=Math.round((p-m+1)/o),C=Math.round((h-u+1)/o);if(v<=0||C<=0)throw new te;if(C!==v)throw new te;const O=Math.floor(o/2);u+=O,m+=O;const I=m+Math.floor((v-1)*o)-p;if(I>0){if(I>O)throw new te;m-=I}const k=u+Math.floor((C-1)*o)-h;if(k>0){if(k>O)throw new te;u-=k}const P=new Ke(v,C);for(let F=0;F<C;F++){const X=u+Math.floor(F*o);for(let ne=0;ne<v;ne++)t.get(m+Math.floor(ne*o),X)&&P.set(ne,F)}return P}static moduleSize(t,r){const i=r.getHeight(),o=r.getWidth();let u=t[0],h=t[1],m=!0,p=0;for(;u<o&&h<i;){if(m!==r.get(u,h)){if(++p===5)break;m=!m}u++,h++}if(u===o||h===i)throw new te;return(u-t[0])/7}}zr.NO_POINTS=new Array;class Pe{PDF417Common(){}static getBitCountSum(t){return it.sum(t)}static toIntArray(t){if(t==null||!t.length)return Pe.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let i=0;for(const o of t)r[i++]=o;return r}static getCodeword(t){const r=ce.binarySearch(Pe.SYMBOL_TABLE,t&262143);return r<0?-1:(Pe.CODEWORD_TABLE[r]-1)%Pe.NUMBER_OF_CODEWORDS}}Pe.NUMBER_OF_CODEWORDS=929,Pe.MAX_CODEWORDS_IN_BARCODE=Pe.NUMBER_OF_CODEWORDS-1,Pe.MIN_ROWS_IN_BARCODE=3,Pe.MAX_ROWS_IN_BARCODE=90,Pe.MODULES_IN_CODEWORD=17,Pe.MODULES_IN_STOP_PATTERN=18,Pe.BARS_IN_MODULE=8,Pe.EMPTY_INT_ARRAY=new Int32Array([]),Pe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Pe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ho{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ve{static detectMultiple(t,r,i){let o=t.getBlackMatrix(),u=Ve.detect(i,o);return u.length||(o=o.clone(),o.rotate180(),u=Ve.detect(i,o)),new ho(o,u)}static detect(t,r){const i=new Array;let o=0,u=0,h=!1;for(;o<r.getHeight();){const m=Ve.findVertices(r,o,u);if(m[0]==null&&m[3]==null){if(!h)break;h=!1,u=0;for(const p of i)p[1]!=null&&(o=Math.trunc(Math.max(o,p[1].getY()))),p[3]!=null&&(o=Math.max(o,Math.trunc(p[3].getY())));o+=Ve.ROW_STEP;continue}if(h=!0,i.push(m),!t)break;m[2]!=null?(u=Math.trunc(m[2].getX()),o=Math.trunc(m[2].getY())):(u=Math.trunc(m[4].getX()),o=Math.trunc(m[4].getY()))}return i}static findVertices(t,r,i){const o=t.getHeight(),u=t.getWidth(),h=new Array(8);return Ve.copyToResult(h,Ve.findRowsWithPattern(t,o,u,r,i,Ve.START_PATTERN),Ve.INDEXES_START_PATTERN),h[4]!=null&&(i=Math.trunc(h[4].getX()),r=Math.trunc(h[4].getY())),Ve.copyToResult(h,Ve.findRowsWithPattern(t,o,u,r,i,Ve.STOP_PATTERN),Ve.INDEXES_STOP_PATTERN),h}static copyToResult(t,r,i){for(let o=0;o<i.length;o++)t[i[o]]=r[o]}static findRowsWithPattern(t,r,i,o,u,h){const m=new Array(4);let p=!1;const v=new Int32Array(h.length);for(;o<r;o+=Ve.ROW_STEP){let O=Ve.findGuardPattern(t,u,o,i,!1,h,v);if(O!=null){for(;o>0;){const I=Ve.findGuardPattern(t,u,--o,i,!1,h,v);if(I!=null)O=I;else{o++;break}}m[0]=new Re(O[0],o),m[1]=new Re(O[1],o),p=!0;break}}let C=o+1;if(p){let O=0,I=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;C<r;C++){const k=Ve.findGuardPattern(t,I[0],C,i,!1,h,v);if(k!=null&&Math.abs(I[0]-k[0])<Ve.MAX_PATTERN_DRIFT&&Math.abs(I[1]-k[1])<Ve.MAX_PATTERN_DRIFT)I=k,O=0;else{if(O>Ve.SKIPPED_ROW_COUNT_MAX)break;O++}}C-=O+1,m[2]=new Re(I[0],C),m[3]=new Re(I[1],C)}return C-o<Ve.BARCODE_MIN_HEIGHT&&ce.fill(m,null),m}static findGuardPattern(t,r,i,o,u,h,m){ce.fillWithin(m,0,m.length,0);let p=r,v=0;for(;t.get(p,i)&&p>0&&v++<Ve.MAX_PIXEL_DRIFT;)p--;let C=p,O=0,I=h.length;for(let k=u;C<o;C++)if(t.get(C,i)!==k)m[O]++;else{if(O===I-1){if(Ve.patternMatchVariance(m,h,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE)return new Int32Array([p,C]);p+=m[0]+m[1],H.arraycopy(m,2,m,0,O-1),m[O-1]=0,m[O]=0,O--}else O++;m[O]=1,k=!k}return O===I-1&&Ve.patternMatchVariance(m,h,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE?new Int32Array([p,C-1]):null}static patternMatchVariance(t,r,i){let o=t.length,u=0,h=0;for(let v=0;v<o;v++)u+=t[v],h+=r[v];if(u<h)return 1/0;let m=u/h;i*=m;let p=0;for(let v=0;v<o;v++){let C=t[v],O=r[v]*m,I=C>O?C-O:O-C;if(I>i)return 1/0;p+=I}return p/u}}Ve.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ve.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ve.MAX_AVG_VARIANCE=.42,Ve.MAX_INDIVIDUAL_VARIANCE=.8,Ve.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ve.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ve.MAX_PIXEL_DRIFT=3,Ve.MAX_PATTERN_DRIFT=5,Ve.SKIPPED_ROW_COUNT_MAX=25,Ve.ROW_STEP=5,Ve.BARCODE_MIN_HEIGHT=10;class Ut{constructor(t,r){if(r.length===0)throw new N;this.field=t;let i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),H.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let u of this.coefficients)o=this.field.add(o,u);return o}let r=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)r=this.field.add(this.field.multiply(t,r),this.coefficients[o]);return r}add(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){let h=r;r=i,i=h}let o=new Int32Array(i.length),u=i.length-r.length;H.arraycopy(i,0,o,0,u);for(let h=u;h<i.length;h++)o[h]=this.field.add(r[h-u],i[h]);return new Ut(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Ut?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Ut(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,o=t.coefficients,u=o.length,h=new Int32Array(i+u-1);for(let m=0;m<i;m++){let p=r[m];for(let v=0;v<u;v++)h[m+v]=this.field.add(h[m+v],this.field.multiply(p,o[v]))}return new Ut(this.field,h)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let i=0;i<t;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new Ut(this.field,r)}multiplyScalar(t){if(t===0)return new Ut(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new Ut(this.field,i)}multiplyByMonomial(t,r){if(t<0)throw new N;if(r===0)return new Ut(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+t);for(let u=0;u<i;u++)o[u]=this.field.multiply(this.coefficients[u],r);return new Ut(this.field,o)}toString(){let t=new Ye;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(r===0||i!==1)&&t.append(i),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class sl{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new N;return this.logTable[t]}inverse(t){if(t===0)throw new Ht;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class ui extends sl{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let o=0;o<t;o++)this.expTable[o]=i,i=i*r%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Ut(this,new Int32Array([0])),this.one=new Ut(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new N;if(r===0)return this.zero;let i=new Int32Array(t+1);return i[0]=r,new Ut(this,i)}}ui.PDF417_GF=new ui(Pe.NUMBER_OF_CODEWORDS,3);class Hr{constructor(){this.field=ui.PDF417_GF}decode(t,r,i){let o=new Ut(this.field,t),u=new Int32Array(r),h=!1;for(let P=r;P>0;P--){let F=o.evaluateAt(this.field.exp(P));u[r-P]=F,F!==0&&(h=!0)}if(!h)return 0;let m=this.field.getOne();if(i!=null)for(const P of i){let F=this.field.exp(t.length-1-P),X=new Ut(this.field,new Int32Array([this.field.subtract(0,F),1]));m=m.multiply(X)}let p=new Ut(this.field,u),v=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),p,r),C=v[0],O=v[1],I=this.findErrorLocations(C),k=this.findErrorMagnitudes(O,C,I);for(let P=0;P<I.length;P++){let F=t.length-1-this.field.log(I[P]);if(F<0)throw L.getChecksumInstance();t[F]=this.field.subtract(t[F],k[P])}return I.length}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){let I=t;t=r,r=I}let o=t,u=r,h=this.field.getZero(),m=this.field.getOne();for(;u.getDegree()>=Math.round(i/2);){let I=o,k=h;if(o=u,h=m,o.isZero())throw L.getChecksumInstance();u=I;let P=this.field.getZero(),F=o.getCoefficient(o.getDegree()),X=this.field.inverse(F);for(;u.getDegree()>=o.getDegree()&&!u.isZero();){let ne=u.getDegree()-o.getDegree(),ye=this.field.multiply(u.getCoefficient(u.getDegree()),X);P=P.add(this.field.buildMonomial(ne,ye)),u=u.subtract(o.multiplyByMonomial(ne,ye))}m=P.multiply(h).subtract(k).negative()}let p=m.getCoefficient(0);if(p===0)throw L.getChecksumInstance();let v=this.field.inverse(p),C=m.multiply(v),O=u.multiply(v);return[C,O]}findErrorLocations(t){let r=t.getDegree(),i=new Int32Array(r),o=0;for(let u=1;u<this.field.getSize()&&o<r;u++)t.evaluateAt(u)===0&&(i[o]=this.field.inverse(u),o++);if(o!==r)throw L.getChecksumInstance();return i}findErrorMagnitudes(t,r,i){let o=r.getDegree(),u=new Int32Array(o);for(let v=1;v<=o;v++)u[o-v]=this.field.multiply(v,r.getCoefficient(v));let h=new Ut(this.field,u),m=i.length,p=new Int32Array(m);for(let v=0;v<m;v++){let C=this.field.inverse(i[v]),O=this.field.subtract(0,t.evaluateAt(C)),I=this.field.inverse(h.evaluateAt(C));p[v]=this.field.multiply(O,I)}return p}}class qr{constructor(t,r,i,o,u){t instanceof qr?this.constructor_2(t):this.constructor_1(t,r,i,o,u)}constructor_1(t,r,i,o,u){const h=r==null||i==null,m=o==null||u==null;if(h&&m)throw new te;h?(r=new Re(0,o.getY()),i=new Re(0,u.getY())):m&&(o=new Re(t.getWidth()-1,r.getY()),u=new Re(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=r,this.bottomLeft=i,this.topRight=o,this.bottomRight=u,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),u.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),u.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new qr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,i){let o=this.topLeft,u=this.bottomLeft,h=this.topRight,m=this.bottomRight;if(t>0){let p=i?this.topLeft:this.topRight,v=Math.trunc(p.getY()-t);v<0&&(v=0);let C=new Re(p.getX(),v);i?o=C:h=C}if(r>0){let p=i?this.bottomLeft:this.bottomRight,v=Math.trunc(p.getY()+r);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let C=new Re(p.getX(),v);i?u=C:m=C}return new qr(this.image,o,u,h,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ia{constructor(t,r,i,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class qi{constructor(){this.buffer=""}static form(t,r){let i=-1;function o(h,m,p,v,C,O){if(h==="%%")return"%";if(r[++i]===void 0)return;h=v?parseInt(v.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,k;switch(O){case"s":k=r[i];break;case"c":k=r[i][0];break;case"f":k=parseFloat(r[i]).toFixed(h);break;case"p":k=parseFloat(r[i]).toPrecision(h);break;case"e":k=parseFloat(r[i]).toExponential(h);break;case"x":k=parseInt(r[i]).toString(I||16);break;case"d":k=parseFloat(parseInt(r[i],I||10).toPrecision(h)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(I);let P=parseInt(p),F=p&&p[0]+""=="0"?"0":" ";for(;k.length<P;)k=m!==void 0?k+F:F+k;return k}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,o)}format(t,...r){this.buffer+=qi.form(t,r)}toString(){return this.buffer}}class ei{constructor(t){this.boundingBox=new qr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let i=1;i<ei.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(t)-i;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(t)+i,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new qi;let r=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return t.toString()}}ei.MAX_NEARBY_DISTANCE=5;class ti{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[i,o]of this.values.entries()){const u={getKey:()=>i,getValue:()=>o};u.getValue()>t?(t=u.getValue(),r=[],r.push(u.getKey())):u.getValue()===t&&r.push(u.getKey())}return Pe.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class al extends ei{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(o.getY())),m=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=-1,v=1,C=0;for(let O=h;O<m;O++){if(r[O]==null)continue;let I=r[O],k=I.getRowNumber()-p;if(k===0)C++;else if(k===1)v=Math.max(v,C),C=1,p=I.getRowNumber();else if(k<0||I.getRowNumber()>=t.getRowCount()||k>O)r[O]=null;else{let P;v>2?P=(v-2)*k:P=k;let F=P>=O;for(let X=1;X<=P&&!F;X++)F=r[O-X]!=null;F?r[O]=null:(p=I.getRowNumber(),C=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(i.getY())),h=this.imageRowToCodewordIndex(Math.trunc(o.getY())),m=this.getCodewords(),p=-1;for(let v=u;v<h;v++){if(m[v]==null)continue;let C=m[v];C.setRowNumberAsRowIndicatorColumn();let O=C.getRowNumber()-p;O===0||(O===1?p=C.getRowNumber():C.getRowNumber()>=t.getRowCount()?m[v]=null:p=C.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new ti,i=new ti,o=new ti,u=new ti;for(let m of t){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let p=m.getValue()%30,v=m.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:i.setValue(p*3+1);break;case 1:u.setValue(p/3),o.setValue(p%3);break;case 2:r.setValue(p+1);break}}if(r.getValue().length===0||i.getValue().length===0||o.getValue().length===0||u.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<Pe.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>Pe.MAX_ROWS_IN_BARCODE)return null;let h=new ia(r.getValue()[0],i.getValue()[0],o.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(t,h),h}removeIncorrectCodewords(t,r){for(let i=0;i<t.length;i++){let o=t[i];if(t[i]==null)continue;let u=o.getValue()%30,h=o.getRowNumber();if(h>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(u/3)!==r.getErrorCorrectionLevel()||u%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:u+1!==r.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class gn{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Pe.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&r[i]!=null&&t[i].getRowNumber()===r[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let u=this.detectionResultColumns[o].getCodewords()[i];u!=null&&(u.setRowNumber(t[i].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let m=this.detectionResultColumns[h].getCodewords()[i];m!=null&&(u=gn.adjustRowNumberIfValid(o,u,m),m.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let m=this.detectionResultColumns[h].getCodewords()[i];m!=null&&(u=gn.adjustRowNumberIfValid(o,u,m),m.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,i){if(!this.detectionResultColumns[t-1])return;let o=i[r],u=this.detectionResultColumns[t-1].getCodewords(),h=u;this.detectionResultColumns[t+1]!=null&&(h=this.detectionResultColumns[t+1].getCodewords());let m=new Array(14);m[2]=u[r],m[3]=h[r],r>0&&(m[0]=i[r-1],m[4]=u[r-1],m[5]=h[r-1]),r>1&&(m[8]=i[r-2],m[10]=u[r-2],m[11]=h[r-2]),r<i.length-1&&(m[1]=i[r+1],m[6]=u[r+1],m[7]=h[r+1]),r<i.length-2&&(m[9]=i[r+2],m[12]=u[r+2],m[13]=h[r+2]);for(let p of m)if(gn.adjustRowNumber(o,p))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new qi;for(let i=0;i<t.getCodewords().length;i++){r.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let u=this.detectionResultColumns[o].getCodewords()[i];if(u==null){r.format("    |   ");continue}r.format(" %3d|%3d",u.getRowNumber(),u.getValue())}r.format("%n")}return r.toString()}}class fr{constructor(t,r,i,o){this.rowNumber=fr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==fr.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}fr.BARCODE_ROW_UNKNOWN=-1;class _n{static initialize(){for(let t=0;t<Pe.SYMBOL_TABLE.length;t++){let r=Pe.SYMBOL_TABLE[t],i=r&1;for(let o=0;o<Pe.BARS_IN_MODULE;o++){let u=0;for(;(r&1)===i;)u+=1,r>>=1;i=r&1,_n.RATIOS_TABLE[t]||(_n.RATIOS_TABLE[t]=new Array(Pe.BARS_IN_MODULE)),_n.RATIOS_TABLE[t][Pe.BARS_IN_MODULE-o-1]=Math.fround(u/Pe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=_n.getDecodedCodewordValue(_n.sampleBitCounts(t));return r!==-1?r:_n.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=it.sum(t),i=new Int32Array(Pe.BARS_IN_MODULE),o=0,u=0;for(let h=0;h<Pe.MODULES_IN_CODEWORD;h++){let m=r/(2*Pe.MODULES_IN_CODEWORD)+h*r/Pe.MODULES_IN_CODEWORD;u+t[o]<=m&&(u+=t[o],o++),i[o]++}return i}static getDecodedCodewordValue(t){let r=_n.getBitValue(t);return Pe.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let i=0;i<t.length;i++)for(let o=0;o<t[i];o++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=it.sum(t),i=new Array(Pe.BARS_IN_MODULE);if(r>1)for(let h=0;h<i.length;h++)i[h]=Math.fround(t[h]/r);let o=ki.MAX_VALUE,u=-1;this.bSymbolTableReady||_n.initialize();for(let h=0;h<_n.RATIOS_TABLE.length;h++){let m=0,p=_n.RATIOS_TABLE[h];for(let v=0;v<Pe.BARS_IN_MODULE;v++){let C=Math.fround(p[v]-i[v]);if(m+=Math.fround(C*C),m>=o)break}m<o&&(o=m,u=Pe.SYMBOL_TABLE[h])}return u}}_n.bSymbolTableReady=!1,_n.RATIOS_TABLE=new Array(Pe.SYMBOL_TABLE.length).map(T=>new Array(Pe.BARS_IN_MODULE));class Gi{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class fo{static parseLong(t,r=void 0){return parseInt(t,r)}}class sa extends E{}sa.kind="NullPointerException";class ll{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,i){if(t==null)throw new sa;if(r<0||r>t.length||i<0||r+i>t.length||r+i<0)throw new J;if(i===0)return;for(let o=0;o<i;o++)this.write(t[r+o])}flush(){}close(){}}class Cs extends E{}class aa extends ll{constructor(t=32){if(super(),this.count=0,t<0)throw new N("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new Cs;i=Y.MAX_VALUE}this.buf=ce.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new J;this.ensureCapacity(this.count+i),H.arraycopy(t,r,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return ce.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var vt;(function(T){T[T.ALPHA=0]="ALPHA",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.PUNCT=3]="PUNCT",T[T.ALPHA_SHIFT=4]="ALPHA_SHIFT",T[T.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(vt||(vt={}));function go(){if(typeof window<"u")return window.BigInt||null;if(typeof Cu<"u")return Cu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let la;function ni(T){if(typeof la>"u"&&(la=go()),la===null)throw new Error("BigInt is not supported!");return la(T)}function ol(){let T=[];T[0]=ni(1);let t=ni(900);T[1]=t;for(let r=2;r<16;r++)T[r]=T[r-1]*t;return T}class re{static decode(t,r){let i=new Ye(""),o=fe.ISO8859_1;i.enableDecoding(o);let u=1,h=t[u++],m=new Gi;for(;u<t[0];){switch(h){case re.TEXT_COMPACTION_MODE_LATCH:u=re.textCompaction(t,u,i);break;case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:u=re.byteCompaction(h,t,o,u,i);break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u++]);break;case re.NUMERIC_COMPACTION_MODE_LATCH:u=re.numericCompaction(t,u,i);break;case re.ECI_CHARSET:fe.getCharacterSetECIByValue(t[u++]);break;case re.ECI_GENERAL_PURPOSE:u+=2;break;case re.ECI_USER_DEFINED:u++;break;case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=re.decodeMacroBlock(t,u,m);break;case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:throw new ee;default:u--,u=re.textCompaction(t,u,i);break}if(u<t.length)h=t[u++];else throw ee.getFormatInstance()}if(i.length()===0)throw ee.getFormatInstance();let p=new Tt(null,i.toString(),null,r);return p.setOther(m),p}static decodeMacroBlock(t,r,i){if(r+re.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ee.getFormatInstance();let o=new Int32Array(re.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<re.NUMBER_OF_SEQUENCE_CODEWORDS;m++,r++)o[m]=t[r];i.setSegmentIndex(Y.parseInt(re.decodeBase900toBase10(o,re.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Ye;r=re.textCompaction(t,r,u),i.setFileId(u.toString());let h=-1;for(t[r]===re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=r+1);r<t[0];)switch(t[r]){case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new Ye;r=re.textCompaction(t,r+1,m),i.setFileName(m.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new Ye;r=re.textCompaction(t,r+1,p),i.setSender(p.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new Ye;r=re.textCompaction(t,r+1,v),i.setAddressee(v.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Ye;r=re.numericCompaction(t,r+1,C),i.setSegmentCount(Y.parseInt(C.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new Ye;r=re.numericCompaction(t,r+1,O),i.setTimestamp(fo.parseLong(O.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Ye;r=re.numericCompaction(t,r+1,I),i.setChecksum(Y.parseInt(I.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let k=new Ye;r=re.numericCompaction(t,r+1,k),i.setFileSize(fo.parseLong(k.toString()));break;default:throw ee.getFormatInstance()}break;case re.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw ee.getFormatInstance()}if(h!==-1){let m=r-h;i.isLastSegment()&&m--,i.setOptionalData(ce.copyOfRange(t,h,h+m))}return r}static textCompaction(t,r,i){let o=new Int32Array((t[0]-r)*2),u=new Int32Array((t[0]-r)*2),h=0,m=!1;for(;r<t[0]&&!m;){let p=t[r++];if(p<re.TEXT_COMPACTION_MODE_LATCH)o[h]=p/30,o[h+1]=p%30,h+=2;else switch(p){case re.TEXT_COMPACTION_MODE_LATCH:o[h++]=re.TEXT_COMPACTION_MODE_LATCH;break;case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:r--,m=!0;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[h]=re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=t[r++],u[h]=p,h++;break}}return re.decodeTextCompaction(o,u,h,i),r}static decodeTextCompaction(t,r,i,o){let u=vt.ALPHA,h=vt.ALPHA,m=0;for(;m<i;){let p=t[m],v="";switch(u){case vt.ALPHA:if(p<26)v=String.fromCharCode(65+p);else switch(p){case 26:v=" ";break;case re.LL:u=vt.LOWER;break;case re.ML:u=vt.MIXED;break;case re.PS:h=u,u=vt.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.LOWER:if(p<26)v=String.fromCharCode(97+p);else switch(p){case 26:v=" ";break;case re.AS:h=u,u=vt.ALPHA_SHIFT;break;case re.ML:u=vt.MIXED;break;case re.PS:h=u,u=vt.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.MIXED:if(p<re.PL)v=re.MIXED_CHARS[p];else switch(p){case re.PL:u=vt.PUNCT;break;case 26:v=" ";break;case re.LL:u=vt.LOWER;break;case re.AL:u=vt.ALPHA;break;case re.PS:h=u,u=vt.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.PUNCT:if(p<re.PAL)v=re.PUNCT_CHARS[p];else switch(p){case re.PAL:u=vt.ALPHA;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.ALPHA_SHIFT:if(u=h,p<26)v=String.fromCharCode(65+p);else switch(p){case 26:v=" ";break;case re.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.PUNCT_SHIFT:if(u=h,p<re.PAL)v=re.PUNCT_CHARS[p];else switch(p){case re.PAL:u=vt.ALPHA;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break}v!==""&&o.append(v),m++}}static byteCompaction(t,r,i,o,u){let h=new aa,m=0,p=0,v=!1;switch(t){case re.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),O=r[o++];for(;o<r[0]&&!v;)switch(C[m++]=O,p=900*p+O,O=r[o++],O){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:o--,v=!0;break;default:if(m%5===0&&m>0){for(let I=0;I<6;++I)h.write(Number(ni(p)>>ni(8*(5-I))));p=0,m=0}break}o===r[0]&&O<re.TEXT_COMPACTION_MODE_LATCH&&(C[m++]=O);for(let I=0;I<m;I++)h.write(C[I]);break;case re.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!v;){let I=r[o++];if(I<re.TEXT_COMPACTION_MODE_LATCH)m++,p=900*p+I;else switch(I){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:o--,v=!0;break}if(m%5===0&&m>0){for(let k=0;k<6;++k)h.write(Number(ni(p)>>ni(8*(5-k))));p=0,m=0}}break}return u.append(xt.decode(h.toByteArray(),i)),o}static numericCompaction(t,r,i){let o=0,u=!1,h=new Int32Array(re.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!u;){let m=t[r++];if(r===t[0]&&(u=!0),m<re.TEXT_COMPACTION_MODE_LATCH)h[o]=m,o++;else switch(m){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:r--,u=!0;break}(o%re.MAX_NUMERIC_CODEWORDS===0||m===re.NUMERIC_COMPACTION_MODE_LATCH||u)&&o>0&&(i.append(re.decodeBase900toBase10(h,o)),o=0)}return r}static decodeBase900toBase10(t,r){let i=ni(0);for(let u=0;u<r;u++)i+=re.EXP900[r-u-1]*ni(t[u]);let o=i.toString();if(o.charAt(0)!=="1")throw new ee;return o.substring(1)}}re.TEXT_COMPACTION_MODE_LATCH=900,re.BYTE_COMPACTION_MODE_LATCH=901,re.NUMERIC_COMPACTION_MODE_LATCH=902,re.BYTE_COMPACTION_MODE_LATCH_6=924,re.ECI_USER_DEFINED=925,re.ECI_GENERAL_PURPOSE=926,re.ECI_CHARSET=927,re.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,re.MACRO_PDF417_TERMINATOR=922,re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,re.MAX_NUMERIC_CODEWORDS=15,re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,re.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,re.PL=25,re.LL=27,re.AS=27,re.ML=28,re.AL=28,re.PS=29,re.PAL=29,re.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,re.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",re.EXP900=go()?ol():[],re.NUMBER_OF_SEQUENCE_CODEWORDS=2;class $e{constructor(){}static decode(t,r,i,o,u,h,m){let p=new qr(t,r,i,o,u),v=null,C=null,O;for(let P=!0;;P=!1){if(r!=null&&(v=$e.getRowIndicatorColumn(t,p,r,!0,h,m)),o!=null&&(C=$e.getRowIndicatorColumn(t,p,o,!1,h,m)),O=$e.merge(v,C),O==null)throw te.getNotFoundInstance();let F=O.getBoundingBox();if(P&&F!=null&&(F.getMinY()<p.getMinY()||F.getMaxY()>p.getMaxY()))p=F;else break}O.setBoundingBox(p);let I=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,v),O.setDetectionResultColumn(I,C);let k=v!=null;for(let P=1;P<=I;P++){let F=k?P:I-P;if(O.getDetectionResultColumn(F)!==void 0)continue;let X;F===0||F===I?X=new al(p,F===0):X=new ei(p),O.setDetectionResultColumn(F,X);let ne=-1,ye=ne;for(let xe=p.getMinY();xe<=p.getMaxY();xe++){if(ne=$e.getStartColumn(O,F,xe,k),ne<0||ne>p.getMaxX()){if(ye===-1)continue;ne=ye}let ge=$e.detectCodeword(t,p.getMinX(),p.getMaxX(),k,ne,xe,h,m);ge!=null&&(X.setCodeword(xe,ge),ye=ne,h=Math.min(h,ge.getWidth()),m=Math.max(m,ge.getWidth()))}}return $e.createDecoderResult(O)}static merge(t,r){if(t==null&&r==null)return null;let i=$e.getBarcodeMetadata(t,r);if(i==null)return null;let o=qr.merge($e.adjustBoundingBox(t),$e.adjustBoundingBox(r));return new gn(i,o)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let i=$e.getMax(r),o=0;for(let m of r)if(o+=i-m,m>0)break;let u=t.getCodewords();for(let m=0;o>0&&u[m]==null;m++)o--;let h=0;for(let m=r.length-1;m>=0&&(h+=i-r[m],!(r[m]>0));m--);for(let m=u.length-1;h>0&&u[m]==null;m--)h--;return t.getBoundingBox().addMissingRows(o,h,t.isLeft())}static getMax(t){let r=-1;for(let i of t)r=Math.max(r,i);return r}static getBarcodeMetadata(t,r){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(t,r,i,o,u,h){let m=new al(r,o);for(let p=0;p<2;p++){let v=p===0?1:-1,C=Math.trunc(Math.trunc(i.getX()));for(let O=Math.trunc(Math.trunc(i.getY()));O<=r.getMaxY()&&O>=r.getMinY();O+=v){let I=$e.detectCodeword(t,0,t.getWidth(),o,C,O,u,h);I!=null&&(m.setCodeword(O,I),o?C=I.getStartX():C=I.getEndX())}}return m}static adjustCodewordCount(t,r){let i=r[0][1],o=i.getValue(),u=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-$e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(u<1||u>Pe.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();i.setValue(u)}else o[0]!==u&&i.setValue(u)}static createDecoderResult(t){let r=$e.createBarcodeMatrix(t);$e.adjustCodewordCount(t,r);let i=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),u=[],h=new Array;for(let p=0;p<t.getBarcodeRowCount();p++)for(let v=0;v<t.getBarcodeColumnCount();v++){let C=r[p][v+1].getValue(),O=p*t.getBarcodeColumnCount()+v;C.length===0?i.push(O):C.length===1?o[O]=C[0]:(h.push(O),u.push(C))}let m=new Array(u.length);for(let p=0;p<m.length;p++)m[p]=u[p];return $e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,Pe.toIntArray(i),Pe.toIntArray(h),m)}static createDecoderResultFromAmbiguousValues(t,r,i,o,u){let h=new Int32Array(o.length),m=100;for(;m-- >0;){for(let p=0;p<h.length;p++)r[o[p]]=u[p][h[p]];try{return $e.decodeCodewords(r,t,i)}catch(p){if(!(p instanceof L))throw p}if(h.length===0)throw L.getChecksumInstance();for(let p=0;p<h.length;p++)if(h[p]<u[p].length-1){h[p]++;break}else if(h[p]=0,p===h.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let u=0;u<r[o].length;u++)r[o][u]=new ti;let i=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let u of o.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=r.length)continue;r[h][i].setValue(u.getValue())}}}i++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,i,o){let u=o?1:-1,h=null;if($e.isValidBarcodeColumn(t,r-u)&&(h=t.getDetectionResultColumn(r-u).getCodeword(i)),h!=null)return o?h.getEndX():h.getStartX();if(h=t.getDetectionResultColumn(r).getCodewordNearby(i),h!=null)return o?h.getStartX():h.getEndX();if($e.isValidBarcodeColumn(t,r-u)&&(h=t.getDetectionResultColumn(r-u).getCodewordNearby(i)),h!=null)return o?h.getEndX():h.getStartX();let m=0;for(;$e.isValidBarcodeColumn(t,r-u);){r-=u;for(let p of t.getDetectionResultColumn(r).getCodewords())if(p!=null)return(o?p.getEndX():p.getStartX())+u*m*(p.getEndX()-p.getStartX());m++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,i,o,u,h,m,p){u=$e.adjustCodewordStartColumn(t,r,i,o,u,h);let v=$e.getModuleBitCount(t,r,i,o,u,h);if(v==null)return null;let C,O=it.sum(v);if(o)C=u+O;else{for(let P=0;P<v.length/2;P++){let F=v[P];v[P]=v[v.length-1-P],v[v.length-1-P]=F}C=u,u=C-O}if(!$e.checkCodewordSkew(O,m,p))return null;let I=_n.getDecodedValue(v),k=Pe.getCodeword(I);return k===-1?null:new fr(u,C,$e.getCodewordBucketNumber(I),k)}static getModuleBitCount(t,r,i,o,u,h){let m=u,p=new Int32Array(8),v=0,C=o?1:-1,O=o;for(;(o?m<i:m>=r)&&v<p.length;)t.get(m,h)===O?(p[v]++,m+=C):(v++,O=!O);return v===p.length||m===(o?i:r)&&v===p.length-1?p:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,i,o,u,h){let m=u,p=o?-1:1;for(let v=0;v<2;v++){for(;(o?m>=r:m<i)&&o===t.get(m,h);){if(Math.abs(u-m)>$e.CODEWORD_SKEW_SIZE)return u;m+=p}p=-p,o=!o}return m}static checkCodewordSkew(t,r,i){return r-$e.CODEWORD_SKEW_SIZE<=t&&t<=i+$e.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,i){if(t.length===0)throw ee.getFormatInstance();let o=1<<r+1,u=$e.correctErrors(t,i,o);$e.verifyCodewordCount(t,o);let h=re.decode(t,""+r);return h.setErrorsCorrected(u),h.setErasures(i.length),h}static correctErrors(t,r,i){if(r!=null&&r.length>i/2+$e.MAX_ERRORS||i<0||i>$e.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return $e.errorCorrection.decode(t,i,r)}static verifyCodewordCount(t,r){if(t.length<4)throw ee.getFormatInstance();let i=t[0];if(i>t.length)throw ee.getFormatInstance();if(i===0)if(r<t.length)t[0]=t.length-r;else throw ee.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),i=0,o=r.length-1;for(;!((t&1)!==i&&(i=t&1,o--,o<0));)r[o]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return $e.getCodewordBucketNumber($e.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new qi;for(let i=0;i<t.length;i++){r.format("Row %2d: ",i);for(let o=0;o<t[i].length;o++){let u=t[i][o];u.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}r.format("%n")}return r.toString()}}$e.CODEWORD_SKEW_SIZE=2,$e.MAX_ERRORS=3,$e.MAX_EC_CODEWORDS=512,$e.errorCorrection=new Hr;class An{decode(t,r=null){let i=An.decode(t,r,!1);if(i==null||i.length===0||i[0]==null)throw te.getNotFoundInstance();return i[0]}decodeMultiple(t,r=null){try{return An.decode(t,r,!0)}catch(i){throw i instanceof ee||i instanceof L?te.getNotFoundInstance():i}}static decode(t,r,i){const o=new Array,u=Ve.detectMultiple(t,r,i);for(const h of u.getPoints()){const m=$e.decode(u.getBits(),h[4],h[5],h[6],h[7],An.getMinCodewordWidth(h),An.getMaxCodewordWidth(h)),p=new Ee(m.getText(),m.getRawBytes(),void 0,h,be.PDF_417);p.putMetadata(ot.ERROR_CORRECTION_LEVEL,m.getECLevel());const v=m.getOther();v!=null&&p.putMetadata(ot.PDF417_EXTRA_METADATA,v),o.push(p)}return o.map(h=>h)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?Y.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(An.getMaxWidth(t[0],t[4]),An.getMaxWidth(t[6],t[2])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN),Math.max(An.getMaxWidth(t[1],t[5]),An.getMaxWidth(t[7],t[3])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(An.getMinWidth(t[0],t[4]),An.getMinWidth(t[6],t[2])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN),Math.min(An.getMinWidth(t[1],t[5]),An.getMinWidth(t[7],t[3])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN)))}reset(){}}class oa extends E{}oa.kind="ReaderException";class mo{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!f(t)&&t.get(_e.TRY_HARDER)===!0,i=f(t)?null:t.get(_e.POSSIBLE_FORMATS),o=new Array;if(!f(i)){const u=i.some(h=>h===be.UPC_A||h===be.UPC_E||h===be.EAN_13||h===be.EAN_8||h===be.CODABAR||h===be.CODE_39||h===be.CODE_93||h===be.CODE_128||h===be.ITF||h===be.RSS_14||h===be.RSS_EXPANDED);u&&!r&&o.push(new cr(t,this.verbose)),i.includes(be.QR_CODE)&&o.push(new zr),i.includes(be.DATA_MATRIX)&&o.push(new Fr),i.includes(be.AZTEC)&&o.push(new ea),i.includes(be.PDF_417)&&o.push(new An),u&&r&&o.push(new cr(t,this.verbose))}o.length===0&&(r||o.push(new cr(t,this.verbose)),o.push(new zr),o.push(new Fr),o.push(new ea),o.push(new An),r&&o.push(new cr(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new oa("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(i){if(i instanceof oa)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class xo extends ve{constructor(t=null,r=500){const i=new mo;i.setHints(t),super(i,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class ac extends ve{constructor(t=500){super(new An,t)}}class lc extends ve{constructor(t=500){super(new zr,t)}}var ul;(function(T){T[T.ERROR_CORRECTION=0]="ERROR_CORRECTION",T[T.CHARACTER_SET=1]="CHARACTER_SET",T[T.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",T[T.MIN_SIZE=3]="MIN_SIZE",T[T.MAX_SIZE=4]="MAX_SIZE",T[T.MARGIN=5]="MARGIN",T[T.PDF417_COMPACT=6]="PDF417_COMPACT",T[T.PDF417_COMPACTION=7]="PDF417_COMPACTION",T[T.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",T[T.AZTEC_LAYERS=9]="AZTEC_LAYERS",T[T.QR_VERSION=10]="QR_VERSION"})(ul||(ul={}));var un=ul;class Ss{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new we(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let i=r[r.length-1];const o=this.field;for(let u=r.length;u<=t;u++){const h=i.multiply(new we(o,Int32Array.from([1,o.exp(u-1+o.getGeneratorBase())])));r.push(h),i=h}}return r[t]}encode(t,r){if(r===0)throw new N("No error correction bytes");const i=t.length-r;if(i<=0)throw new N("No data bytes provided");const o=this.buildGenerator(r),u=new Int32Array(i);H.arraycopy(t,0,u,0,i);let h=new we(this.field,u);h=h.multiplyByMonomial(r,1);const p=h.divide(o)[1].getCoefficients(),v=r-p.length;for(let C=0;C<v;C++)t[i+C]=0;H.arraycopy(p,0,t,i+v,p.length)}}class Wt{constructor(){}static applyMaskPenaltyRule1(t){return Wt.applyMaskPenaltyRule1Internal(t,!0)+Wt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const i=t.getArray(),o=t.getWidth(),u=t.getHeight();for(let h=0;h<u-1;h++){const m=i[h];for(let p=0;p<o-1;p++){const v=m[p];v===m[p+1]&&v===i[h+1][p]&&v===i[h+1][p+1]&&r++}}return Wt.N2*r}static applyMaskPenaltyRule3(t){let r=0;const i=t.getArray(),o=t.getWidth(),u=t.getHeight();for(let h=0;h<u;h++)for(let m=0;m<o;m++){const p=i[h];m+6<o&&p[m]===1&&p[m+1]===0&&p[m+2]===1&&p[m+3]===1&&p[m+4]===1&&p[m+5]===0&&p[m+6]===1&&(Wt.isWhiteHorizontal(p,m-4,m)||Wt.isWhiteHorizontal(p,m+7,m+11))&&r++,h+6<u&&i[h][m]===1&&i[h+1][m]===0&&i[h+2][m]===1&&i[h+3][m]===1&&i[h+4][m]===1&&i[h+5][m]===0&&i[h+6][m]===1&&(Wt.isWhiteVertical(i,m,h-4,h)||Wt.isWhiteVertical(i,m,h+7,h+11))&&r++}return r*Wt.N3}static isWhiteHorizontal(t,r,i){r=Math.max(r,0),i=Math.min(i,t.length);for(let o=r;o<i;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,r,i,o){i=Math.max(i,0),o=Math.min(o,t.length);for(let u=i;u<o;u++)if(t[u][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const i=t.getArray(),o=t.getWidth(),u=t.getHeight();for(let p=0;p<u;p++){const v=i[p];for(let C=0;C<o;C++)v[C]===1&&r++}const h=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-h)*10/h)*Wt.N4}static getDataMaskBit(t,r,i){let o,u;switch(t){case 0:o=i+r&1;break;case 1:o=i&1;break;case 2:o=r%3;break;case 3:o=(i+r)%3;break;case 4:o=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:u=i*r,o=(u&1)+u%3;break;case 6:u=i*r,o=(u&1)+u%3&1;break;case 7:u=i*r,o=u%3+(i+r&1)&1;break;default:throw new N("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,r){let i=0;const o=r?t.getHeight():t.getWidth(),u=r?t.getWidth():t.getHeight(),h=t.getArray();for(let m=0;m<o;m++){let p=0,v=-1;for(let C=0;C<u;C++){const O=r?h[m][C]:h[C][m];O===v?p++:(p>=5&&(i+=Wt.N1+(p-5)),p=1,v=O)}p>=5&&(i+=Wt.N1+(p-5))}return i}}Wt.N1=3,Wt.N2=3,Wt.N3=40,Wt.N4=10;class ua{constructor(t,r){this.width=t,this.height=r;const i=new Array(r);for(let o=0;o!==r;o++)i[o]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,i){this.bytes[r][t]=i}setBoolean(t,r,i){this.bytes[r][t]=i?1:0}clear(t){for(const r of this.bytes)ce.fill(r,t)}equals(t){if(!(t instanceof ua))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,o=this.height;i<o;++i){const u=this.bytes[i],h=r.bytes[i];for(let m=0,p=this.width;m<p;++m)if(u[m]!==h[m])return!1}return!0}toString(){const t=new Ye;for(let r=0,i=this.height;r<i;++r){const o=this.bytes[r];for(let u=0,h=this.width;u<h;++u)switch(o[u]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class ci{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ye;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<ci.NUM_MASK_PATTERNS}}ci.NUM_MASK_PATTERNS=8;class At extends E{}At.kind="WriterException";class je{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,i,o,u){je.clearMatrix(u),je.embedBasicPatterns(i,u),je.embedTypeInfo(r,o,u),je.maybeEmbedVersionInfo(i,u),je.embedDataBits(t,o,u)}static embedBasicPatterns(t,r){je.embedPositionDetectionPatternsAndSeparators(r),je.embedDarkDotAtLeftBottomCorner(r),je.maybeEmbedPositionAdjustmentPatterns(t,r),je.embedTimingPatterns(r)}static embedTypeInfo(t,r,i){const o=new me;je.makeTypeInfoBits(t,r,o);for(let u=0,h=o.getSize();u<h;++u){const m=o.get(o.getSize()-1-u),p=je.TYPE_INFO_COORDINATES[u],v=p[0],C=p[1];if(i.setBoolean(v,C,m),u<8){const O=i.getWidth()-u-1;i.setBoolean(O,8,m)}else{const I=i.getHeight()-7+(u-8);i.setBoolean(8,I,m)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const i=new me;je.makeVersionInfoBits(t,i);let o=17;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const m=i.get(o);o--,r.setBoolean(u,r.getHeight()-11+h,m),r.setBoolean(r.getHeight()-11+h,u,m)}}static embedDataBits(t,r,i){let o=0,u=-1,h=i.getWidth()-1,m=i.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);m>=0&&m<i.getHeight();){for(let p=0;p<2;++p){const v=h-p;if(!je.isEmpty(i.get(v,m)))continue;let C;o<t.getSize()?(C=t.get(o),++o):C=!1,r!==255&&Wt.getDataMaskBit(r,v,m)&&(C=!C),i.setBoolean(v,m,C)}m+=u}u=-u,m+=u,h-=2}if(o!==t.getSize())throw new At("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-Y.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new N("0 polynomial");const i=je.findMSBSet(r);for(t<<=i-1;je.findMSBSet(t)>=i;)t^=r<<je.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,r,i){if(!ci.isValidMaskPattern(r))throw new At("Invalid mask pattern");const o=t.getBits()<<3|r;i.appendBits(o,5);const u=je.calculateBCHCode(o,je.TYPE_INFO_POLY);i.appendBits(u,10);const h=new me;if(h.appendBits(je.TYPE_INFO_MASK_PATTERN,15),i.xor(h),i.getSize()!==15)throw new At("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const i=je.calculateBCHCode(t.getVersionNumber(),je.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new At("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const i=(r+1)%2;je.isEmpty(t.get(r,6))&&t.setNumber(r,6,i),je.isEmpty(t.get(6,r))&&t.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new At;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,i){for(let o=0;o<8;++o){if(!je.isEmpty(i.get(t+o,r)))throw new At;i.setNumber(t+o,r,0)}}static embedVerticalSeparationPattern(t,r,i){for(let o=0;o<7;++o){if(!je.isEmpty(i.get(t,r+o)))throw new At;i.setNumber(t,r+o,0)}}static embedPositionAdjustmentPattern(t,r,i){for(let o=0;o<5;++o){const u=je.POSITION_ADJUSTMENT_PATTERN[o];for(let h=0;h<5;++h)i.setNumber(t+h,r+o,u[h])}}static embedPositionDetectionPattern(t,r,i){for(let o=0;o<7;++o){const u=je.POSITION_DETECTION_PATTERN[o];for(let h=0;h<7;++h)i.setNumber(t+h,r+o,u[h])}}static embedPositionDetectionPatternsAndSeparators(t){const r=je.POSITION_DETECTION_PATTERN[0].length;je.embedPositionDetectionPattern(0,0,t),je.embedPositionDetectionPattern(t.getWidth()-r,0,t),je.embedPositionDetectionPattern(0,t.getWidth()-r,t);const i=8;je.embedHorizontalSeparationPattern(0,i-1,t),je.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),je.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const o=7;je.embedVerticalSeparationPattern(o,0,t),je.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),je.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,o=je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let u=0,h=o.length;u!==h;u++){const m=o[u];if(m>=0)for(let p=0;p!==h;p++){const v=o[p];v>=0&&je.isEmpty(r.get(v,m))&&je.embedPositionAdjustmentPattern(v-2,m-2,r)}}}}je.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),je.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),je.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),je.VERSION_INFO_POLY=7973,je.TYPE_INFO_POLY=1335,je.TYPE_INFO_MASK_PATTERN=21522;class oc{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Pt{constructor(){}static calculateMaskPenalty(t){return Wt.applyMaskPenaltyRule1(t)+Wt.applyMaskPenaltyRule2(t)+Wt.applyMaskPenaltyRule3(t)+Wt.applyMaskPenaltyRule4(t)}static encode(t,r,i=null){let o=Pt.DEFAULT_BYTE_MODE_ENCODING;const u=i!==null&&i.get(un.CHARACTER_SET)!==void 0;u&&(o=i.get(un.CHARACTER_SET).toString());const h=this.chooseMode(t,o),m=new me;if(h===ke.BYTE&&(u||Pt.DEFAULT_BYTE_MODE_ENCODING!==o)){const xe=fe.getCharacterSetECIByName(o);xe!==void 0&&this.appendECI(xe,m)}this.appendModeInfo(h,m);const p=new me;this.appendBytes(t,h,p,o);let v;if(i!==null&&i.get(un.QR_VERSION)!==void 0){const xe=Number.parseInt(i.get(un.QR_VERSION).toString(),10);v=De.getVersionForNumber(xe);const ge=this.calculateBitsNeeded(h,m,p,v);if(!this.willFit(ge,v,r))throw new At("Data too big for requested version")}else v=this.recommendVersion(r,h,m,p);const C=new me;C.appendBitArray(m);const O=h===ke.BYTE?p.getSizeInBytes():t.length;this.appendLengthInfo(O,v,h,C),C.appendBitArray(p);const I=v.getECBlocksForLevel(r),k=v.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(k,C);const P=this.interleaveWithECBytes(C,v.getTotalCodewords(),k,I.getNumBlocks()),F=new ci;F.setECLevel(r),F.setMode(h),F.setVersion(v);const X=v.getDimensionForVersion(),ne=new ua(X,X),ye=this.chooseMaskPattern(P,r,v,ne);return F.setMaskPattern(ye),je.buildMatrix(P,r,v,ye,ne),F.setMatrix(ne),F}static recommendVersion(t,r,i,o){const u=this.calculateBitsNeeded(r,i,o,De.getVersionForNumber(1)),h=this.chooseVersion(u,t),m=this.calculateBitsNeeded(r,i,o,h);return this.chooseVersion(m,t)}static calculateBitsNeeded(t,r,i,o){return r.getSize()+t.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(t){return t<Pt.ALPHANUMERIC_TABLE.length?Pt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(fe.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return ke.KANJI;let i=!1,o=!1;for(let u=0,h=t.length;u<h;++u){const m=t.charAt(u);if(Pt.isDigit(m))i=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)o=!0;else return ke.BYTE}return o?ke.ALPHANUMERIC:i?ke.NUMERIC:ke.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=xt.encode(t,fe.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const u=r[o]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(t,r,i,o){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let m=0;m<ci.NUM_MASK_PATTERNS;m++){je.buildMatrix(t,r,i,m,o);let p=this.calculateMaskPenalty(o);p<u&&(u=p,h=m)}return h}static chooseVersion(t,r){for(let i=1;i<=40;i++){const o=De.getVersionForNumber(i);if(Pt.willFit(t,o,r))return o}throw new At("Data too big")}static willFit(t,r,i){const o=r.getTotalCodewords(),h=r.getECBlocksForLevel(i).getTotalECCodewords(),m=o-h,p=(t+7)/8;return m>=p}static terminateBits(t,r){const i=t*8;if(r.getSize()>i)throw new At("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let h=0;h<4&&r.getSize()<i;++h)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let h=o;h<8;h++)r.appendBit(!1);const u=t-r.getSizeInBytes();for(let h=0;h<u;++h)r.appendBits((h&1)===0?236:17,8);if(r.getSize()!==i)throw new At("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,i,o,u,h){if(o>=i)throw new At("Block ID too large");const m=t%i,p=i-m,v=Math.floor(t/i),C=v+1,O=Math.floor(r/i),I=O+1,k=v-O,P=C-I;if(k!==P)throw new At("EC bytes mismatch");if(i!==p+m)throw new At("RS blocks mismatch");if(t!==(O+k)*p+(I+P)*m)throw new At("Total bytes mismatch");o<p?(u[0]=O,h[0]=k):(u[0]=I,h[0]=P)}static interleaveWithECBytes(t,r,i,o){if(t.getSizeInBytes()!==i)throw new At("Number of bits and data bytes does not match");let u=0,h=0,m=0;const p=new Array;for(let C=0;C<o;++C){const O=new Int32Array(1),I=new Int32Array(1);Pt.getNumDataBytesAndNumECBytesForBlockID(r,i,o,C,O,I);const k=O[0],P=new Uint8Array(k);t.toBytes(8*u,P,0,k);const F=Pt.generateECBytes(P,I[0]);p.push(new oc(P,F)),h=Math.max(h,k),m=Math.max(m,F.length),u+=O[0]}if(i!==u)throw new At("Data bytes does not match offset");const v=new me;for(let C=0;C<h;++C)for(const O of p){const I=O.getDataBytes();C<I.length&&v.appendBits(I[C],8)}for(let C=0;C<m;++C)for(const O of p){const I=O.getErrorCorrectionBytes();C<I.length&&v.appendBits(I[C],8)}if(r!==v.getSizeInBytes())throw new At("Interleaving error: "+r+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(t,r){const i=t.length,o=new Int32Array(i+r);for(let h=0;h<i;h++)o[h]=t[h]&255;new Ss(Ge.QR_CODE_FIELD_256).encode(o,r);const u=new Uint8Array(r);for(let h=0;h<r;h++)u[h]=o[i+h];return u}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,i,o){const u=i.getCharacterCountBits(r);if(t>=1<<u)throw new At(t+" is bigger than "+((1<<u)-1));o.appendBits(t,u)}static appendBytes(t,r,i,o){switch(r){case ke.NUMERIC:Pt.appendNumericBytes(t,i);break;case ke.ALPHANUMERIC:Pt.appendAlphanumericBytes(t,i);break;case ke.BYTE:Pt.append8BitBytes(t,i,o);break;case ke.KANJI:Pt.appendKanjiBytes(t,i);break;default:throw new At("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=Pt.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const i=t.length;let o=0;for(;o<i;){const u=Pt.getDigit(t.charAt(o));if(o+2<i){const h=Pt.getDigit(t.charAt(o+1)),m=Pt.getDigit(t.charAt(o+2));r.appendBits(u*100+h*10+m,10),o+=3}else if(o+1<i){const h=Pt.getDigit(t.charAt(o+1));r.appendBits(u*10+h,7),o+=2}else r.appendBits(u,4),o++}}static appendAlphanumericBytes(t,r){const i=t.length;let o=0;for(;o<i;){const u=Pt.getAlphanumericCode(t.charCodeAt(o));if(u===-1)throw new At;if(o+1<i){const h=Pt.getAlphanumericCode(t.charCodeAt(o+1));if(h===-1)throw new At;r.appendBits(u*45+h,11),o+=2}else r.appendBits(u,6),o++}}static append8BitBytes(t,r,i){let o;try{o=xt.encode(t,i)}catch(u){throw new At(u)}for(let u=0,h=o.length;u!==h;u++){const m=o[u];r.appendBits(m,8)}}static appendKanjiBytes(t,r){let i;try{i=xt.encode(t,fe.SJIS)}catch(u){throw new At(u)}const o=i.length;for(let u=0;u<o;u+=2){const h=i[u]&255,m=i[u+1]&255,p=h<<8&4294967295|m;let v=-1;if(p>=33088&&p<=40956?v=p-33088:p>=57408&&p<=60351&&(v=p-49472),v===-1)throw new At("Invalid byte sequence");const C=(v>>8)*192+(v&255);r.appendBits(C,13)}}static appendECI(t,r){r.appendBits(ke.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}Pt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Pt.DEFAULT_BYTE_MODE_ENCODING=fe.UTF8.getName();class hi{write(t,r,i,o=null){if(t.length===0)throw new N("Found empty contents");if(r<0||i<0)throw new N("Requested dimensions are too small: "+r+"x"+i);let u=nt.L,h=hi.QUIET_ZONE_SIZE;o!==null&&(o.get(un.ERROR_CORRECTION)!==void 0&&(u=nt.fromString(o.get(un.ERROR_CORRECTION).toString())),o.get(un.MARGIN)!==void 0&&(h=Number.parseInt(o.get(un.MARGIN).toString(),10)));const m=Pt.encode(t,u,o);return this.renderResult(m,r,i,h)}writeToDom(t,r,i,o,u=null){typeof t=="string"&&(t=document.querySelector(t));const h=this.write(r,i,o,u);t&&t.appendChild(h)}renderResult(t,r,i,o){const u=t.getMatrix();if(u===null)throw new jn;const h=u.getWidth(),m=u.getHeight(),p=h+o*2,v=m+o*2,C=Math.max(r,p),O=Math.max(i,v),I=Math.min(Math.floor(C/p),Math.floor(O/v)),k=Math.floor((C-h*I)/2),P=Math.floor((O-m*I)/2),F=this.createSVGElement(C,O);for(let X=0,ne=P;X<m;X++,ne+=I)for(let ye=0,xe=k;ye<h;ye++,xe+=I)if(u.get(ye,X)===1){const ge=this.createSvgRectElement(xe,ne,I,I);F.appendChild(ge)}return F}createSVGElement(t,r){const i=document.createElementNS(hi.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(t,r,i,o){const u=document.createElementNS(hi.SVG_NS,"rect");return u.setAttributeNS(null,"x",t.toString()),u.setAttributeNS(null,"y",r.toString()),u.setAttributeNS(null,"height",i.toString()),u.setAttributeNS(null,"width",o.toString()),u.setAttributeNS(null,"fill","#000000"),u}}hi.QUIET_ZONE_SIZE=4,hi.SVG_NS="http://www.w3.org/2000/svg";class Vi{encode(t,r,i,o,u){if(t.length===0)throw new N("Found empty contents");if(r!==be.QR_CODE)throw new N("Can only encode QR_CODE, but got "+r);if(i<0||o<0)throw new N(`Requested dimensions are too small: ${i}x${o}`);let h=nt.L,m=Vi.QUIET_ZONE_SIZE;u!==null&&(u.get(un.ERROR_CORRECTION)!==void 0&&(h=nt.fromString(u.get(un.ERROR_CORRECTION).toString())),u.get(un.MARGIN)!==void 0&&(m=Number.parseInt(u.get(un.MARGIN).toString(),10)));const p=Pt.encode(t,h,u);return Vi.renderResult(p,i,o,m)}static renderResult(t,r,i,o){const u=t.getMatrix();if(u===null)throw new jn;const h=u.getWidth(),m=u.getHeight(),p=h+o*2,v=m+o*2,C=Math.max(r,p),O=Math.max(i,v),I=Math.min(Math.floor(C/p),Math.floor(O/v)),k=Math.floor((C-h*I)/2),P=Math.floor((O-m*I)/2),F=new Ke(C,O);for(let X=0,ne=P;X<m;X++,ne+=I)for(let ye=0,xe=k;ye<h;ye++,xe+=I)u.get(ye,X)===1&&F.setRegion(xe,ne,I,I);return F}}Vi.QUIET_ZONE_SIZE=4;class uc{encode(t,r,i,o,u){let h;switch(r){case be.QR_CODE:h=new Vi;break;default:throw new N("No encoder available for format "+r)}return h.encode(t,r,i,o,u)}}class Or extends Ie{constructor(t,r,i,o,u,h,m,p){if(super(h,m),this.yuvData=t,this.dataWidth=r,this.dataHeight=i,this.left=o,this.top=u,o+h>r||u+m>i)throw new N("Crop rectangle does not fit within image data.");p&&this.reverseHorizontal(h,m)}getRow(t,r){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return H.arraycopy(this.yuvData,o,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=t*r,o=new Uint8ClampedArray(i);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return H.arraycopy(this.yuvData,u,o,0,i),o;for(let h=0;h<r;h++){const m=h*t;H.arraycopy(this.yuvData,u,o,m,t),u+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,i,o){return new Or(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,o,!1)}renderThumbnail(){const t=this.getWidth()/Or.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Or.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),o=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<r;h++){const m=h*t;for(let p=0;p<t;p++){const v=o[u+p*Or.THUMBNAIL_SCALE_FACTOR]&255;i[m+p]=4278190080|v*65793}u+=this.dataWidth*Or.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/Or.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Or.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const i=this.yuvData;for(let o=0,u=this.top*this.dataWidth+this.left;o<r;o++,u+=this.dataWidth){const h=u+t/2;for(let m=u,p=u+t-1;m<h;m++,p--){const v=i[m];i[m]=i[p],i[p]=v}}}invert(){return new Ze(this)}}Or.THUMBNAIL_SCALE_FACTOR=2;class cl extends Ie{constructor(t,r,i,o,u,h,m){if(super(r,i),this.dataWidth=o,this.dataHeight=u,this.left=h,this.top=m,t.BYTES_PER_ELEMENT===4){const p=r*i,v=new Uint8ClampedArray(p);for(let C=0;C<p;C++){const O=t[C],I=O>>16&255,k=O>>7&510,P=O&255;v[C]=(I+k+P)/4&255}this.luminances=v}else this.luminances=t;if(o===void 0&&(this.dataWidth=r),u===void 0&&(this.dataHeight=i),h===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return H.arraycopy(this.luminances,o,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=t*r,o=new Uint8ClampedArray(i);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return H.arraycopy(this.luminances,u,o,0,i),o;for(let h=0;h<r;h++){const m=h*t;H.arraycopy(this.luminances,u,o,m,t),u+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,i,o){return new cl(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new Ze(this)}}class yo extends fe{static forName(t){return this.getCharacterSetECIByName(t)}}class Ts{}Ts.ISO_8859_1=fe.ISO8859_1;class Xi{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class po{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class wo{constructor(t){this.previous=t}getPrevious(){return this.previous}}class fi extends wo{constructor(t,r,i){super(t),this.value=r,this.bitCount=i}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new fi(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new fi(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Y.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class ca extends fi{constructor(t,r,i){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(t,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(t,r){return new ca(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function bo(T,t,r){return new ca(T,t,r)}function Yi(T,t,r){return new fi(T,t,r)}const Ki=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ri=0,ha=1,$n=2,hl=3,dr=4,Os=new fi(null,0,0),di=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function cc(T){for(let t of T)ce.fill(t,-1);return T[ri][dr]=0,T[ha][dr]=0,T[ha][ri]=28,T[hl][dr]=0,T[$n][dr]=0,T[$n][ri]=15,T}const Rs=cc(ce.createInt32Array(6,6));class gr{constructor(t,r,i,o){this.token=t,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let i=this.bitCount,o=this.token;if(t!==this.mode){let h=di[this.mode][t];o=Yi(o,h&65535,h>>16),i+=h>>16}let u=t===$n?4:5;return o=Yi(o,r,u),new gr(o,t,0,i+u)}shiftAndAppend(t,r){let i=this.token,o=this.mode===$n?4:5;return i=Yi(i,Rs[this.mode][t],o),i=Yi(i,r,5),new gr(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let r=this.token,i=this.mode,o=this.bitCount;if(this.mode===dr||this.mode===$n){let m=di[i][ri];r=Yi(r,m&65535,m>>16),o+=m>>16,i=ri}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new gr(r,i,this.binaryShiftByteCount+1,o+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(t+1)),h}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=bo(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new gr(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(di[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=gr.calculateBinaryShiftCost(t)-gr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())r.unshift(o);let i=new me;for(const o of r)o.appendTo(i,t);return i}toString(){return Ae.format("%s bits=%d bytes=%d",Ki[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}gr.INITIAL_STATE=new gr(Os,ri,0,0);function vo(T){const t=Ae.getCharCode(" "),r=Ae.getCharCode("."),i=Ae.getCharCode(",");T[ri][t]=1;const o=Ae.getCharCode("Z"),u=Ae.getCharCode("A");for(let I=u;I<=o;I++)T[ri][I]=I-u+2;T[ha][t]=1;const h=Ae.getCharCode("z"),m=Ae.getCharCode("a");for(let I=m;I<=h;I++)T[ha][I]=I-m+2;T[$n][t]=1;const p=Ae.getCharCode("9"),v=Ae.getCharCode("0");for(let I=v;I<=p;I++)T[$n][I]=I-v+2;T[$n][i]=12,T[$n][r]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<C.length;I++)T[hl][Ae.getCharCode(C[I])]=I;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<O.length;I++)Ae.getCharCode(O[I])>0&&(T[dr][Ae.getCharCode(O[I])]=I);return T}const Ns=vo(ce.createInt32Array(5,256));class gi{constructor(t){this.text=t}encode(){const t=Ae.getCharCode(" "),r=Ae.getCharCode(`
`);let i=po.singletonList(gr.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,m=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Ae.getCharCode("\r"):h=m===r?2:0;break;case Ae.getCharCode("."):h=m===t?3:0;break;case Ae.getCharCode(","):h=m===t?4:0;break;case Ae.getCharCode(":"):h=m===t?5:0;break;default:h=0}h>0?(i=gi.updateStateListForPair(i,u,h),u++):i=this.updateStateListForChar(i,u)}return po.min(i,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const i=[];for(let o of t)this.updateStateForChar(o,r,i);return gi.simplifyStates(i)}updateStateForChar(t,r,i){let o=this.text[r]&255,u=Ns[t.getMode()][o]>0,h=null;for(let m=0;m<=dr;m++){let p=Ns[m][o];if(p>0){if(h==null&&(h=t.endBinaryShift(r)),!u||m===t.getMode()||m===$n){const v=h.latchAndAppend(m,p);i.push(v)}if(!u&&Rs[t.getMode()][m]>=0){const v=h.shiftAndAppend(m,p);i.push(v)}}}if(t.getBinaryShiftByteCount()>0||Ns[t.getMode()][o]===0){let m=t.addBinaryShiftChar(r);i.push(m)}}static updateStateListForPair(t,r,i){const o=[];for(let u of t)this.updateStateForPair(u,r,i,o);return this.simplifyStates(o)}static updateStateForPair(t,r,i,o){let u=t.endBinaryShift(r);if(o.push(u.latchAndAppend(dr,i)),t.getMode()!==dr&&o.push(u.shiftAndAppend(dr,i)),i===3||i===4){let h=u.latchAndAppend($n,16-i).latchAndAppend($n,1);o.push(h)}if(t.getBinaryShiftByteCount()>0){let h=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(h)}}static simplifyStates(t){let r=[];for(const i of t){let o=!0;for(const u of r){if(u.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(u)&&(r=r.filter(h=>h!==u))}o&&r.push(i)}return r}}class ct{constructor(){}static encodeBytes(t){return ct.encode(t,ct.DEFAULT_EC_PERCENT,ct.DEFAULT_AZTEC_LAYERS)}static encode(t,r,i){let o=new gi(t).encode(),u=Y.truncDivision(o.getSize()*r,100)+11,h=o.getSize()+u,m,p,v,C,O;if(i!==ct.DEFAULT_AZTEC_LAYERS){if(m=i<0,p=Math.abs(i),p>(m?ct.MAX_NB_BITS_COMPACT:ct.MAX_NB_BITS))throw new N(Ae.format("Illegal value %s for layers",i));v=ct.totalBitsInLayer(p,m),C=ct.WORD_SIZE[p];let ge=v-v%C;if(O=ct.stuffBits(o,C),O.getSize()+u>ge)throw new N("Data to large for user specified layer");if(m&&O.getSize()>C*64)throw new N("Data to large for user specified layer")}else{C=0,O=null;for(let ge=0;;ge++){if(ge>ct.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(m=ge<=3,p=m?ge+1:ge,v=ct.totalBitsInLayer(p,m),h>v)continue;(O==null||C!==ct.WORD_SIZE[p])&&(C=ct.WORD_SIZE[p],O=ct.stuffBits(o,C));let tt=v-v%C;if(!(m&&O.getSize()>C*64)&&O.getSize()+u<=tt)break}}let I=ct.generateCheckWords(O,v,C),k=O.getSize()/C,P=ct.generateModeMessage(m,p,k),F=(m?11:14)+p*4,X=new Int32Array(F),ne;if(m){ne=F;for(let ge=0;ge<X.length;ge++)X[ge]=ge}else{ne=F+1+2*Y.truncDivision(Y.truncDivision(F,2)-1,15);let ge=Y.truncDivision(F,2),tt=Y.truncDivision(ne,2);for(let Xe=0;Xe<ge;Xe++){let tn=Xe+Y.truncDivision(Xe,15);X[ge-Xe-1]=tt-tn-1,X[ge+Xe]=tt+tn+1}}let ye=new Ke(ne);for(let ge=0,tt=0;ge<p;ge++){let Xe=(p-ge)*4+(m?9:12);for(let tn=0;tn<Xe;tn++){let er=tn*2;for(let Dn=0;Dn<2;Dn++)I.get(tt+er+Dn)&&ye.set(X[ge*2+Dn],X[ge*2+tn]),I.get(tt+Xe*2+er+Dn)&&ye.set(X[ge*2+tn],X[F-1-ge*2-Dn]),I.get(tt+Xe*4+er+Dn)&&ye.set(X[F-1-ge*2-Dn],X[F-1-ge*2-tn]),I.get(tt+Xe*6+er+Dn)&&ye.set(X[F-1-ge*2-tn],X[ge*2+Dn])}tt+=Xe*8}if(ct.drawModeMessage(ye,m,ne,P),m)ct.drawBullsEye(ye,Y.truncDivision(ne,2),5);else{ct.drawBullsEye(ye,Y.truncDivision(ne,2),7);for(let ge=0,tt=0;ge<Y.truncDivision(F,2)-1;ge+=15,tt+=16)for(let Xe=Y.truncDivision(ne,2)&1;Xe<ne;Xe+=2)ye.set(Y.truncDivision(ne,2)-tt,Xe),ye.set(Y.truncDivision(ne,2)+tt,Xe),ye.set(Xe,Y.truncDivision(ne,2)-tt),ye.set(Xe,Y.truncDivision(ne,2)+tt)}let xe=new Xi;return xe.setCompact(m),xe.setSize(ne),xe.setLayers(p),xe.setCodeWords(k),xe.setMatrix(ye),xe}static drawBullsEye(t,r,i){for(let o=0;o<i;o+=2)for(let u=r-o;u<=r+o;u++)t.set(u,r-o),t.set(u,r+o),t.set(r-o,u),t.set(r+o,u);t.set(r-i,r-i),t.set(r-i+1,r-i),t.set(r-i,r-i+1),t.set(r+i,r-i),t.set(r+i,r-i+1),t.set(r+i,r+i-1)}static generateModeMessage(t,r,i){let o=new me;return t?(o.appendBits(r-1,2),o.appendBits(i-1,6),o=ct.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(i-1,11),o=ct.generateCheckWords(o,40,4)),o}static drawModeMessage(t,r,i,o){let u=Y.truncDivision(i,2);if(r)for(let h=0;h<7;h++){let m=u-3+h;o.get(h)&&t.set(m,u-5),o.get(h+7)&&t.set(u+5,m),o.get(20-h)&&t.set(m,u+5),o.get(27-h)&&t.set(u-5,m)}else for(let h=0;h<10;h++){let m=u-5+h+Y.truncDivision(h,5);o.get(h)&&t.set(m,u-7),o.get(h+10)&&t.set(u+7,m),o.get(29-h)&&t.set(m,u+7),o.get(39-h)&&t.set(u-7,m)}}static generateCheckWords(t,r,i){let o=t.getSize()/i,u=new Ss(ct.getGF(i)),h=Y.truncDivision(r,i),m=ct.bitsToWords(t,i,h);u.encode(m,h-o);let p=r%i,v=new me;v.appendBits(0,p);for(const C of Array.from(m))v.appendBits(C,i);return v}static bitsToWords(t,r,i){let o=new Int32Array(i),u,h;for(u=0,h=t.getSize()/r;u<h;u++){let m=0;for(let p=0;p<r;p++)m|=t.get(u*r+p)?1<<r-p-1:0;o[u]=m}return o}static getGF(t){switch(t){case 4:return Ge.AZTEC_PARAM;case 6:return Ge.AZTEC_DATA_6;case 8:return Ge.AZTEC_DATA_8;case 10:return Ge.AZTEC_DATA_10;case 12:return Ge.AZTEC_DATA_12;default:throw new N("Unsupported word size "+t)}}static stuffBits(t,r){let i=new me,o=t.getSize(),u=(1<<r)-2;for(let h=0;h<o;h+=r){let m=0;for(let p=0;p<r;p++)(h+p>=o||t.get(h+p))&&(m|=1<<r-1-p);(m&u)===u?(i.appendBits(m&u,r),h--):(m&u)===0?(i.appendBits(m|1,r),h--):i.appendBits(m,r)}return i}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}ct.DEFAULT_EC_PERCENT=33,ct.DEFAULT_AZTEC_LAYERS=0,ct.MAX_NB_BITS=32,ct.MAX_NB_BITS_COMPACT=4,ct.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Is{encode(t,r,i,o){return this.encodeWithHints(t,r,i,o,null)}encodeWithHints(t,r,i,o,u){let h=Ts.ISO_8859_1,m=ct.DEFAULT_EC_PERCENT,p=ct.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(un.CHARACTER_SET)&&(h=yo.forName(u.get(un.CHARACTER_SET).toString())),u.has(un.ERROR_CORRECTION)&&(m=Y.parseInt(u.get(un.ERROR_CORRECTION).toString())),u.has(un.AZTEC_LAYERS)&&(p=Y.parseInt(u.get(un.AZTEC_LAYERS).toString()))),Is.encodeLayers(t,r,i,o,h,m,p)}static encodeLayers(t,r,i,o,u,h,m){if(r!==be.AZTEC)throw new N("Can only encode AZTEC, but got "+r);let p=ct.encode(Ae.getBytes(t,u),h,m);return Is.renderResult(p,i,o)}static renderResult(t,r,i){let o=t.getMatrix();if(o==null)throw new jn;let u=o.getWidth(),h=o.getHeight(),m=Math.max(r,u),p=Math.max(i,h),v=Math.min(m/u,p/h),C=(m-u*v)/2,O=(p-h*v)/2,I=new Ke(m,p);for(let k=0,P=O;k<h;k++,P+=v)for(let F=0,X=C;F<u;F++,X+=v)o.get(F,k)&&I.setRegion(X,P,v,v);return I}}l.AbstractExpandedDecoder=ln,l.ArgumentException=R,l.ArithmeticException=Ht,l.AztecCode=Xi,l.AztecCodeReader=ea,l.AztecCodeWriter=Is,l.AztecDecoder=Ot,l.AztecDetector=el,l.AztecDetectorResult=ao,l.AztecEncoder=ct,l.AztecHighLevelEncoder=gi,l.AztecPoint=Nn,l.BarcodeFormat=be,l.Binarizer=j,l.BinaryBitmap=B,l.BitArray=me,l.BitMatrix=Ke,l.BitSource=hr,l.BrowserAztecCodeReader=nc,l.BrowserBarcodeReader=rc,l.BrowserCodeReader=ve,l.BrowserDatamatrixCodeReader=ra,l.BrowserMultiFormatReader=xo,l.BrowserPDF417Reader=ac,l.BrowserQRCodeReader=lc,l.BrowserQRCodeSvgWriter=hi,l.CharacterSetECI=fe,l.ChecksumException=L,l.Code128Reader=pe,l.Code39Reader=Dt,l.DataMatrixDecodedBitStreamParser=jr,l.DataMatrixReader=Fr,l.DecodeHintType=_e,l.DecoderResult=Tt,l.DefaultGridSampler=$a,l.DetectorResult=$s,l.EAN13Reader=Ar,l.EncodeHintType=un,l.Exception=E,l.FormatException=ee,l.GenericGF=Ge,l.GenericGFPoly=we,l.GlobalHistogramBinarizer=W,l.GridSampler=Ja,l.GridSamplerInstance=or,l.HTMLCanvasElementLuminanceSource=qe,l.HybridBinarizer=oe,l.ITFReader=Je,l.IllegalArgumentException=N,l.IllegalStateException=jn,l.InvertedLuminanceSource=Ze,l.LuminanceSource=Ie,l.MathUtils=it,l.MultiFormatOneDReader=cr,l.MultiFormatReader=mo,l.MultiFormatWriter=uc,l.NotFoundException=te,l.OneDReader=Ft,l.PDF417DecodedBitStreamParser=re,l.PDF417DecoderErrorCorrection=Hr,l.PDF417Reader=An,l.PDF417ResultMetadata=Gi,l.PerspectiveTransform=Zn,l.PlanarYUVLuminanceSource=Or,l.QRCodeByteMatrix=ua,l.QRCodeDataMask=Vn,l.QRCodeDecodedBitStreamParser=Lt,l.QRCodeDecoderErrorCorrectionLevel=nt,l.QRCodeDecoderFormatInformation=dn,l.QRCodeEncoder=Pt,l.QRCodeEncoderQRCode=ci,l.QRCodeMaskUtil=Wt,l.QRCodeMatrixUtil=je,l.QRCodeMode=ke,l.QRCodeReader=zr,l.QRCodeVersion=De,l.QRCodeWriter=Vi,l.RGBLuminanceSource=cl,l.RSS14Reader=_t,l.RSSExpandedReader=de,l.ReaderException=oa,l.ReedSolomonDecoder=Ur,l.ReedSolomonEncoder=Ss,l.ReedSolomonException=fn,l.Result=Ee,l.ResultMetadataType=ot,l.ResultPoint=Re,l.StringUtils=Ae,l.UnsupportedOperationException=Tn,l.VideoInputDevice=q,l.WhiteRectangleDetector=Jt,l.WriterException=At,l.ZXingArrays=ce,l.ZXingCharset=yo,l.ZXingInteger=Y,l.ZXingStandardCharsets=Ts,l.ZXingStringBuilder=Ye,l.ZXingStringEncoding=xt,l.ZXingSystem=H,l.createAbstractExpandedDecoder=Ui,Object.defineProperty(l,"__esModule",{value:!0})}))})(Jl,Jl.exports)),Jl.exports}var Yt=Hb();const qb=to(Yt),Gb=v2({__proto__:null,default:qb},[Yt]);var e2=(function(){function d(a,l,f){if(this.formatMap=new Map([[Se.QR_CODE,Yt.BarcodeFormat.QR_CODE],[Se.AZTEC,Yt.BarcodeFormat.AZTEC],[Se.CODABAR,Yt.BarcodeFormat.CODABAR],[Se.CODE_39,Yt.BarcodeFormat.CODE_39],[Se.CODE_93,Yt.BarcodeFormat.CODE_93],[Se.CODE_128,Yt.BarcodeFormat.CODE_128],[Se.DATA_MATRIX,Yt.BarcodeFormat.DATA_MATRIX],[Se.MAXICODE,Yt.BarcodeFormat.MAXICODE],[Se.ITF,Yt.BarcodeFormat.ITF],[Se.EAN_13,Yt.BarcodeFormat.EAN_13],[Se.EAN_8,Yt.BarcodeFormat.EAN_8],[Se.PDF_417,Yt.BarcodeFormat.PDF_417],[Se.RSS_14,Yt.BarcodeFormat.RSS_14],[Se.RSS_EXPANDED,Yt.BarcodeFormat.RSS_EXPANDED],[Se.UPC_A,Yt.BarcodeFormat.UPC_A],[Se.UPC_E,Yt.BarcodeFormat.UPC_E],[Se.UPC_EAN_EXTENSION,Yt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Gb)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=f;var x=this.createZXingFormats(a),g=new Map;g.set(Yt.DecodeHintType.POSSIBLE_FORMATS,x),g.set(Yt.DecodeHintType.TRY_HARDER,!1),this.hints=g}return d.prototype.decodeAsync=function(a){var l=this;return new Promise(function(f,x){try{f(l.decode(a))}catch(g){x(g)}})},d.prototype.decode=function(a){var l=new Yt.MultiFormatReader(this.verbose,this.hints),f=new Yt.HTMLCanvasElementLuminanceSource(a),x=new Yt.BinaryBitmap(new Yt.HybridBinarizer(f)),g=l.decode(x);return{text:g.text,format:Km.create(this.toHtml5QrcodeSupportedFormats(g.format)),debugData:this.createDebugData()}},d.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(l,f,x){a.set(l,f)}),a},d.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},d.prototype.createZXingFormats=function(a){for(var l=[],f=0,x=a;f<x.length;f++){var g=x[f];this.formatMap.has(g)?l.push(this.formatMap.get(g)):this.logger.logError("".concat(g," is not supported by")+"ZXingHtml5QrcodeShim")}return l},d.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},d})(),Vb=function(d,a,l,f){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(R){try{E(f.next(R))}catch(N){b(N)}}function _(R){try{E(f.throw(R))}catch(N){b(N)}}function E(R){R.done?g(R.value):x(R.value).then(A,_)}E((f=f.apply(d,a||[])).next())})},Xb=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(E){return function(R){return _([E,R])}}function _(E){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,E[0]&&(l=0)),l;)try{if(f=1,x&&(g=E[0]&2?x.return:E[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,E[1])).done)return g;switch(x=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,x=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){l.label=E[1];break}if(E[0]===6&&l.label<g[1]){l.label=g[1],g=E;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(E);break}g[2]&&l.ops.pop(),l.trys.pop();continue}E=a.call(d,l)}catch(R){E=[6,R],x=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},t2=(function(){function d(a,l,f){if(this.formatMap=new Map([[Se.QR_CODE,"qr_code"],[Se.AZTEC,"aztec"],[Se.CODABAR,"codabar"],[Se.CODE_39,"code_39"],[Se.CODE_93,"code_93"],[Se.CODE_128,"code_128"],[Se.DATA_MATRIX,"data_matrix"],[Se.ITF,"itf"],[Se.EAN_13,"ean_13"],[Se.EAN_8,"ean_8"],[Se.PDF_417,"pdf417"],[Se.UPC_A,"upc_a"],[Se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!d.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=f;var x=this.createBarcodeDetectorFormats(a);if(this.detector=new BarcodeDetector(x),!this.detector)throw"BarcodeDetector detector not supported"}return d.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var a=new BarcodeDetector({formats:["qr_code"]});return typeof a<"u"},d.prototype.decodeAsync=function(a){return Vb(this,void 0,void 0,function(){var l,f;return Xb(this,function(x){switch(x.label){case 0:return[4,this.detector.detect(a)];case 1:if(l=x.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return f=this.selectLargestBarcode(l),[2,{text:f.rawValue,format:Km.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}]}})})},d.prototype.selectLargestBarcode=function(a){for(var l=null,f=0,x=0,g=a;x<g.length;x++){var b=g[x],A=b.boundingBox.width*b.boundingBox.height;A>f&&(f=A,l=b)}if(!l)throw"No largest barcode found";return l},d.prototype.createBarcodeDetectorFormats=function(a){for(var l=[],f=0,x=a;f<x.length;f++){var g=x[f];this.formatMap.has(g)?l.push(this.formatMap.get(g)):this.logger.warn("".concat(g," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},d.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},d.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(l,f,x){a.set(l,f)}),a},d.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},d})(),n2=function(d,a,l,f){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(R){try{E(f.next(R))}catch(N){b(N)}}function _(R){try{E(f.throw(R))}catch(N){b(N)}}function E(R){R.done?g(R.value):x(R.value).then(A,_)}E((f=f.apply(d,a||[])).next())})},r2=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(E){return function(R){return _([E,R])}}function _(E){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,E[0]&&(l=0)),l;)try{if(f=1,x&&(g=E[0]&2?x.return:E[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,E[1])).done)return g;switch(x=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,x=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){l.label=E[1];break}if(E[0]===6&&l.label<g[1]){l.label=g[1],g=E;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(E);break}g[2]&&l.ops.pop(),l.trys.pop();continue}E=a.call(d,l)}catch(R){E=[6,R],x=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Yb=(function(){function d(a,l,f,x){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=f,l&&t2.isSupported()?(this.primaryDecoder=new t2(a,f,x),this.secondaryDecoder=new e2(a,f,x)):this.primaryDecoder=new e2(a,f,x)}return d.prototype.decodeAsync=function(a){return n2(this,void 0,void 0,function(){var l;return r2(this,function(f){switch(f.label){case 0:l=performance.now(),f.label=1;case 1:return f.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(a)];case 2:return[2,f.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},d.prototype.decodeRobustlyAsync=function(a){return n2(this,void 0,void 0,function(){var l,f;return r2(this,function(x){switch(x.label){case 0:l=performance.now(),x.label=1;case 1:return x.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(a)];case 2:return[2,x.sent()];case 3:if(f=x.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(a)];throw f;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},d.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},d.prototype.possiblyLogPerformance=function(a){if(this.verbose){var l=performance.now()-a;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},d.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var a=0,l=0,f=this.executionResults;l<f.length;l++){var x=f[l];a+=x}var g=a/this.executionResults.length;console.log("".concat(g," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},d})(),t0=(function(){var d=function(a,l){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,x){f.__proto__=x}||function(f,x){for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(f[g]=x[g])},d(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");d(a,l);function f(){this.constructor=a}a.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}})(),Zu=function(d,a,l,f){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(R){try{E(f.next(R))}catch(N){b(N)}}function _(R){try{E(f.throw(R))}catch(N){b(N)}}function E(R){R.done?g(R.value):x(R.value).then(A,_)}E((f=f.apply(d,a||[])).next())})},Qu=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(E){return function(R){return _([E,R])}}function _(E){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,E[0]&&(l=0)),l;)try{if(f=1,x&&(g=E[0]&2?x.return:E[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,E[1])).done)return g;switch(x=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,x=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){l.label=E[1];break}if(E[0]===6&&l.label<g[1]){l.label=g[1],g=E;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(E);break}g[2]&&l.ops.pop(),l.trys.pop();continue}E=a.call(d,l)}catch(R){E=[6,R],x=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Zm=(function(){function d(a,l){this.name=a,this.track=l}return d.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},d.prototype.apply=function(a){var l={};l[this.name]=a;var f={advanced:[l]};return this.track.applyConstraints(f)},d.prototype.value=function(){var a=this.track.getSettings();if(this.name in a){var l=a[this.name];return l}return null},d})(),Kb=(function(d){t0(a,d);function a(l,f){return d.call(this,l,f)||this}return a.prototype.min=function(){return this.getCapabilities().min},a.prototype.max=function(){return this.getCapabilities().max},a.prototype.step=function(){return this.getCapabilities().step},a.prototype.apply=function(l){var f={};f[this.name]=l;var x={advanced:[f]};return this.track.applyConstraints(x)},a.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),f=l[this.name];return{min:f.min,max:f.max,step:f.step}},a.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},a})(Zm),Wb=(function(d){t0(a,d);function a(l){return d.call(this,"zoom",l)||this}return a})(Kb),Zb=(function(d){t0(a,d);function a(l){return d.call(this,"torch",l)||this}return a})(Zm),Qb=(function(){function d(a){this.track=a}return d.prototype.zoomFeature=function(){return new Wb(this.track)},d.prototype.torchFeature=function(){return new Zb(this.track)},d})(),Jb=(function(){function d(a,l,f){this.isClosed=!1,this.parentElement=a,this.mediaStream=l,this.callbacks=f,this.surface=this.createVideoElement(this.parentElement.clientWidth),a.append(this.surface)}return d.prototype.createVideoElement=function(a){var l=document.createElement("video");return l.style.width="".concat(a,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},d.prototype.setupSurface=function(){var a=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var f=a.surface.clientWidth,x=a.surface.clientHeight;a.callbacks.onRenderSurfaceReady(f,x),a.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},d.create=function(a,l,f,x){return Zu(this,void 0,void 0,function(){var g,b;return Qu(this,function(A){switch(A.label){case 0:return g=new d(a,l,x),f.aspectRatio?(b={aspectRatio:f.aspectRatio},[4,g.getFirstTrackOrFail().applyConstraints(b)]):[3,2];case 1:A.sent(),A.label=2;case 2:return g.setupSurface(),[2,g]}})})},d.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},d.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},d.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},d.prototype.resume=function(a){this.failIfClosed();var l=this,f=function(){setTimeout(a,200),l.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.play()},d.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},d.prototype.getSurface=function(){return this.failIfClosed(),this.surface},d.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},d.prototype.applyVideoConstraints=function(a){return Zu(this,void 0,void 0,function(){return Qu(this,function(l){if("aspectRatio"in a)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(a)]})})},d.prototype.close=function(){if(this.isClosed)return Promise.resolve();var a=this;return new Promise(function(l,f){var x=a.mediaStream.getVideoTracks(),g=x.length,b=0;a.mediaStream.getVideoTracks().forEach(function(A){a.mediaStream.removeTrack(A),A.stop(),++b,b>=g&&(a.isClosed=!0,a.parentElement.removeChild(a.surface),l())})})},d.prototype.getCapabilities=function(){return new Qb(this.getFirstTrackOrFail())},d})(),$b=(function(){function d(a){this.mediaStream=a}return d.prototype.render=function(a,l,f){return Zu(this,void 0,void 0,function(){return Qu(this,function(x){return[2,Jb.create(a,this.mediaStream,l,f)]})})},d.create=function(a){return Zu(this,void 0,void 0,function(){var l,f;return Qu(this,function(x){switch(x.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:a},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return f=x.sent(),[2,new d(f)]}})})},d})(),i2=function(d,a,l,f){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(R){try{E(f.next(R))}catch(N){b(N)}}function _(R){try{E(f.throw(R))}catch(N){b(N)}}function E(R){R.done?g(R.value):x(R.value).then(A,_)}E((f=f.apply(d,a||[])).next())})},s2=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(E){return function(R){return _([E,R])}}function _(E){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,E[0]&&(l=0)),l;)try{if(f=1,x&&(g=E[0]&2?x.return:E[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,E[1])).done)return g;switch(x=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,x=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){l.label=E[1];break}if(E[0]===6&&l.label<g[1]){l.label=g[1],g=E;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(E);break}g[2]&&l.ops.pop(),l.trys.pop();continue}E=a.call(d,l)}catch(R){E=[6,R],x=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},e3=(function(){function d(){}return d.failIfNotSupported=function(){return i2(this,void 0,void 0,function(){return s2(this,function(a){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new d]})})},d.prototype.create=function(a){return i2(this,void 0,void 0,function(){return s2(this,function(l){return[2,$b.create(a)]})})},d})(),t3=function(d,a,l,f){function x(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function A(R){try{E(f.next(R))}catch(N){b(N)}}function _(R){try{E(f.throw(R))}catch(N){b(N)}}function E(R){R.done?g(R.value):x(R.value).then(A,_)}E((f=f.apply(d,a||[])).next())})},n3=function(d,a){var l={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(E){return function(R){return _([E,R])}}function _(E){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,E[0]&&(l=0)),l;)try{if(f=1,x&&(g=E[0]&2?x.return:E[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,E[1])).done)return g;switch(x=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,x=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(g=l.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){l.label=E[1];break}if(E[0]===6&&l.label<g[1]){l.label=g[1],g=E;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(E);break}g[2]&&l.ops.pop(),l.trys.pop();continue}E=a.call(d,l)}catch(R){E=[6,R],x=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},r3=(function(){function d(){}return d.retrieve=function(){if(navigator.mediaDevices)return d.getCamerasFromMediaDevices();var a=MediaStreamTrack;return MediaStreamTrack&&a.getSources?d.getCamerasFromMediaStreamTrack():d.rejectWithError()},d.rejectWithError=function(){var a=Va.unableToQuerySupportedDevices();return d.isHttpsOrLocalhost()||(a=Va.insecureContextCameraQueryError()),Promise.reject(a)},d.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var a=location.host.split(":")[0];return a==="127.0.0.1"||a==="localhost"},d.getCamerasFromMediaDevices=function(){return t3(this,void 0,void 0,function(){var a,l,f,x,g,b,A;return n3(this,function(_){switch(_.label){case 0:return a=function(E){for(var R=E.getVideoTracks(),N=0,B=R;N<B.length;N++){var L=B[N];L.enabled=!1,L.stop(),E.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=_.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(f=_.sent(),x=[],g=0,b=f;g<b.length;g++)A=b[g],A.kind==="videoinput"&&x.push({id:A.deviceId,label:A.label});return a(l),[2,x]}})})},d.getCamerasFromMediaStreamTrack=function(){return new Promise(function(a,l){var f=function(g){for(var b=[],A=0,_=g;A<_.length;A++){var E=_[A];E.kind==="video"&&b.push({id:E.id,label:E.label})}a(b)},x=MediaStreamTrack;x.getSources(f)})},d})(),sn;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.NOT_STARTED=1]="NOT_STARTED",d[d.SCANNING=2]="SCANNING",d[d.PAUSED=3]="PAUSED"})(sn||(sn={}));var i3=(function(){function d(){this.state=sn.NOT_STARTED,this.onGoingTransactionNewState=sn.UNKNOWN}return d.prototype.directTransition=function(a){this.failIfTransitionOngoing(),this.validateTransition(a),this.state=a},d.prototype.startTransition=function(a){return this.failIfTransitionOngoing(),this.validateTransition(a),this.onGoingTransactionNewState=a,this},d.prototype.execute=function(){if(this.onGoingTransactionNewState===sn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var a=this.onGoingTransactionNewState;this.onGoingTransactionNewState=sn.UNKNOWN,this.directTransition(a)},d.prototype.cancel=function(){if(this.onGoingTransactionNewState===sn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=sn.UNKNOWN},d.prototype.getState=function(){return this.state},d.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==sn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},d.prototype.validateTransition=function(a){switch(this.state){case sn.UNKNOWN:throw"Transition from unknown is not allowed";case sn.NOT_STARTED:this.failIfNewStateIs(a,[sn.PAUSED]);break;case sn.SCANNING:break;case sn.PAUSED:break}},d.prototype.failIfNewStateIs=function(a,l){for(var f=0,x=l;f<x.length;f++){var g=x[f];if(a===g)throw"Cannot transition from ".concat(this.state," to ").concat(a)}},d})(),s3=(function(){function d(a){this.stateManager=a}return d.prototype.startTransition=function(a){return this.stateManager.startTransition(a)},d.prototype.directTransition=function(a){this.stateManager.directTransition(a)},d.prototype.getState=function(){return this.stateManager.getState()},d.prototype.canScanFile=function(){return this.stateManager.getState()===sn.NOT_STARTED},d.prototype.isScanning=function(){return this.stateManager.getState()!==sn.NOT_STARTED},d.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===sn.SCANNING},d.prototype.isPaused=function(){return this.stateManager.getState()===sn.PAUSED},d})(),a3=(function(){function d(){}return d.create=function(){return new s3(new i3)},d})(),l3=(function(){var d=function(a,l){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,x){f.__proto__=x}||function(f,x){for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(f[g]=x[g])},d(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");d(a,l);function f(){this.constructor=a}a.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}})(),vr=(function(d){l3(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.DEFAULT_WIDTH=300,a.DEFAULT_WIDTH_OFFSET=2,a.FILE_SCAN_MIN_HEIGHT=300,a.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,a.MIN_QR_BOX_SIZE=50,a.SHADED_LEFT=1,a.SHADED_RIGHT=2,a.SHADED_TOP=3,a.SHADED_BOTTOM=4,a.SHADED_REGION_ELEMENT_ID="qr-shaded-region",a.VERBOSE=!1,a.BORDER_SHADER_DEFAULT_COLOR="#ffffff",a.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",a})(Pb),o3=(function(){function d(a,l){this.logger=l,this.fps=vr.SCAN_DEFAULT_FPS,a?(a.fps&&(this.fps=a.fps),this.disableFlip=a.disableFlip===!0,this.qrbox=a.qrbox,this.aspectRatio=a.aspectRatio,this.videoConstraints=a.videoConstraints):this.disableFlip=vr.DEFAULT_DISABLE_FLIP}return d.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Wm.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},d.prototype.isShadedBoxEnabled=function(){return!Mi(this.qrbox)},d.create=function(a,l){return new d(a,l)},d})(),u3=(function(){function d(a,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(a))throw"HTML Element with id=".concat(a," not found");this.elementId=a,this.verbose=!1;var f;typeof l=="boolean"?this.verbose=l===!0:l&&(f=l,this.verbose=f.verbose===!0,f.experimentalFeatures),this.logger=new Fb(this.verbose),this.qrcode=new Yb(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(f),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=a3.create()}return d.prototype.start=function(a,l,f,x){var g=this;if(!a)throw"cameraIdOrConfig is required";if(!f||typeof f!="function")throw"qrCodeSuccessCallback is required and should be a function.";var b;x?b=x:b=this.verbose?this.logger.log:function(){};var A=o3.create(l,this.logger);this.clearElement();var _=!1;A.videoConstraints&&(A.isMediaStreamConstraintsValid()?_=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=_,R=document.getElementById(this.elementId);R.clientWidth?R.clientWidth:vr.DEFAULT_WIDTH,R.style.position="relative",this.shouldScan=!0,this.element=R;var N=this,B=this.stateManagerProxy.startTransition(sn.SCANNING);return new Promise(function(L,j){var H=E?A.videoConstraints:N.createVideoConstraints(a);if(!H){B.cancel(),j("videoConstraints should be defined");return}var J={};(!E||A.aspectRatio)&&(J.aspectRatio=A.aspectRatio);var ie={onRenderSurfaceReady:function(ce,Y){N.setupUi(ce,Y,A),N.isScanning=!0,N.foreverScan(A,f,b)}};e3.failIfNotSupported().then(function(ce){ce.create(H).then(function(Y){return Y.render(g.element,J,ie).then(function(me){N.renderedCamera=me,B.execute(),L(null)}).catch(function(me){B.cancel(),j(me)})}).catch(function(Y){B.cancel(),j(Va.errorGettingUserMedia(Y))})}).catch(function(ce){B.cancel(),j(Va.cameraStreamingNotSupported())})})},d.prototype.pause=function(a){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(sn.PAUSED),this.showPausedState(),(Mi(a)||a!==!0)&&(a=!1),a&&this.renderedCamera&&this.renderedCamera.pause()},d.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var a=this,l=function(){a.stateManagerProxy.directTransition(sn.SCANNING),a.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},d.prototype.getState=function(){return this.stateManagerProxy.getState()},d.prototype.stop=function(){var a=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(sn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var f=function(){if(a.element){var g=document.getElementById(vr.SHADED_REGION_ELEMENT_ID);g&&a.element.removeChild(g)}},x=this;return this.renderedCamera.close().then(function(){return x.renderedCamera=null,x.element&&(x.element.removeChild(x.canvasElement),x.canvasElement=null),f(),x.qrRegion&&(x.qrRegion=null),x.context&&(x.context=null),l.execute(),x.hidePausedState(),x.isScanning=!1,Promise.resolve()})},d.prototype.scanFile=function(a,l){return this.scanFileV2(a,l).then(function(f){return f.decodedText})},d.prototype.scanFileV2=function(a,l){var f=this;if(!a||!(a instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Mi(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(x,g){f.possiblyCloseLastScanImageFile(),f.clearElement(),f.lastScanImageFile=URL.createObjectURL(a);var b=new Image;b.onload=function(){var A=b.width,_=b.height,E=document.getElementById(f.elementId),R=E.clientWidth?E.clientWidth:vr.DEFAULT_WIDTH,N=Math.max(E.clientHeight?E.clientHeight:_,vr.FILE_SCAN_MIN_HEIGHT),B=f.computeCanvasDrawConfig(A,_,R,N);if(l){var L=f.createCanvasElement(R,N,"qr-canvas-visible");L.style.display="inline-block",E.appendChild(L);var j=L.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=R,j.canvas.height=N,j.drawImage(b,0,0,A,_,B.x,B.y,B.width,B.height)}var H=vr.FILE_SCAN_HIDDEN_CANVAS_PADDING,J=Math.max(b.width,B.width),ie=Math.max(b.height,B.height),ce=J+2*H,Y=ie+2*H,me=f.createCanvasElement(ce,Y);E.appendChild(me);var Le=me.getContext("2d");if(!Le)throw"Unable to get 2d context from canvas";Le.canvas.width=ce,Le.canvas.height=Y,Le.drawImage(b,0,0,A,_,H,H,J,ie);try{f.qrcode.decodeRobustlyAsync(me).then(function(_e){x(Jg.createFromQrcodeResult(_e))}).catch(g)}catch(_e){g("QR code parse error, error = ".concat(_e))}},b.onerror=g,b.onabort=g,b.onstalled=g,b.onsuspend=g,b.src=URL.createObjectURL(a)})},d.prototype.clear=function(){this.clearElement()},d.getCameras=function(){return r3.retrieve()},d.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},d.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},d.prototype.applyVideoConstraints=function(a){if(a){if(!Wm.isMediaStreamConstraintsValid(a,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(a)},d.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},d.prototype.getSupportedFormats=function(a){var l=[Se.QR_CODE,Se.AZTEC,Se.CODABAR,Se.CODE_39,Se.CODE_93,Se.CODE_128,Se.DATA_MATRIX,Se.MAXICODE,Se.ITF,Se.EAN_13,Se.EAN_8,Se.PDF_417,Se.RSS_14,Se.RSS_EXPANDED,Se.UPC_A,Se.UPC_E,Se.UPC_EAN_EXTENSION];if(!a||typeof a=="boolean"||!a.formatsToSupport)return l;if(!Array.isArray(a.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(a.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var f=[],x=0,g=a.formatsToSupport;x<g.length;x++){var b=g[x];Ub(b)?f.push(b):this.logger.warn("Invalid format: ".concat(b," passed in config, ignoring."))}if(f.length===0)throw"None of formatsToSupport match supported values.";return f},d.prototype.getUseBarCodeDetectorIfSupported=function(a){if(Mi(a))return!0;if(!Mi(a.useBarCodeDetectorIfSupported))return a.useBarCodeDetectorIfSupported!==!1;if(Mi(a.experimentalFeatures))return!0;var l=a.experimentalFeatures;return Mi(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},d.prototype.validateQrboxSize=function(a,l,f){var x=this,g=f.qrbox;this.validateQrboxConfig(g);var b=this.toQrdimensions(a,l,g),A=function(E){if(E<vr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(vr.MIN_QR_BOX_SIZE,"px.")},_=function(E){return E>a&&(x.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=a),E};A(b.width),A(b.height),b.width=_(b.width)},d.prototype.validateQrboxConfig=function(a){if(typeof a!="number"&&typeof a!="function"&&(a.width===void 0||a.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},d.prototype.toQrdimensions=function(a,l,f){if(typeof f=="number")return{width:f,height:f};if(typeof f=="function")try{return f(a,l)}catch(x){throw new Error("qrbox config was passed as a function but it failed with unknown error"+x)}return f},d.prototype.setupUi=function(a,l,f){f.isShadedBoxEnabled()&&this.validateQrboxSize(a,l,f);var x=Mi(f.qrbox)?{width:a,height:l}:f.qrbox;this.validateQrboxConfig(x);var g=this.toQrdimensions(a,l,x);g.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var b=f.isShadedBoxEnabled()&&g.height<=l,A={x:0,y:0,width:a,height:l},_=b?this.getShadedRegionBounds(a,l,g):A,E=this.createCanvasElement(_.width,_.height),R={willReadFrequently:!0},N=E.getContext("2d",R);N.canvas.width=_.width,N.canvas.height=_.height,this.element.append(E),b&&this.possiblyInsertShadingElement(this.element,a,l,g),this.createScannerPausedUiElement(this.element),this.qrRegion=_,this.context=N,this.canvasElement=E},d.prototype.createScannerPausedUiElement=function(a){var l=document.createElement("div");l.innerText=Va.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",a.appendChild(l),this.scannerPausedUiElement=l},d.prototype.scanContext=function(a,l){var f=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(x){return a(x.text,Jg.createFromQrcodeResult(x)),f.possiblyUpdateShaders(!0),!0}).catch(function(x){f.possiblyUpdateShaders(!1);var g=Va.codeParseError(x);return l(g,jb.createFrom(g)),!1})},d.prototype.foreverScan=function(a,l,f){var x=this;if(this.shouldScan&&this.renderedCamera){var g=this.renderedCamera.getSurface(),b=g.videoWidth/g.clientWidth,A=g.videoHeight/g.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var _=this.qrRegion.width*b,E=this.qrRegion.height*A,R=this.qrRegion.x*b,N=this.qrRegion.y*A;this.context.drawImage(g,R,N,_,E,0,0,this.qrRegion.width,this.qrRegion.height);var B=function(){x.foreverScanTimeout=setTimeout(function(){x.foreverScan(a,l,f)},x.getTimeoutFps(a.fps))};this.scanContext(l,f).then(function(L){!L&&a.disableFlip!==!0?(x.context.translate(x.context.canvas.width,0),x.context.scale(-1,1),x.scanContext(l,f).finally(function(){B()})):B()}).catch(function(L){x.logger.logError("Error happend while scanning context",L),B()})}},d.prototype.createVideoConstraints=function(a){if(typeof a=="string")return{deviceId:{exact:a}};if(typeof a=="object"){var l="facingMode",f="deviceId",x={user:!0,environment:!0},g="exact",b=function(j){if(j in x)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},A=Object.keys(a);if(A.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(A.length," keys");var _=Object.keys(a)[0];if(_!==l&&_!==f)throw"Only '".concat(l,"' and '").concat(f,"' ")+" are supported for 'cameraIdOrConfig'";if(_===l){var E=a.facingMode;if(typeof E=="string"){if(b(E))return{facingMode:E}}else if(typeof E=="object")if(g in E){if(b(E["".concat(g)]))return{facingMode:{exact:E["".concat(g)]}}}else throw"'facingMode' should be string or object with"+" ".concat(g," as key.");else{var R=typeof E;throw"Invalid type of 'facingMode' = ".concat(R)}}else{var N=a.deviceId;if(typeof N=="string")return{deviceId:N};if(typeof N=="object"){if(g in N)return{deviceId:{exact:N["".concat(g)]}};throw"'deviceId' should be string or object with"+" ".concat(g," as key.")}else{var B=typeof N;throw"Invalid type of 'deviceId' = ".concat(B)}}}var L=typeof a;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},d.prototype.computeCanvasDrawConfig=function(a,l,f,x){if(a<=f&&l<=x){var g=(f-a)/2,b=(x-l)/2;return{x:g,y:b,width:a,height:l}}else{var A=a,_=l;return a>f&&(l=f/a*l,a=f),l>x&&(a=x/l*a,l=x),this.logger.log("Image downsampled from "+"".concat(A,"X").concat(_)+" to ".concat(a,"X").concat(l,".")),this.computeCanvasDrawConfig(a,l,f,x)}},d.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var a=document.getElementById(this.elementId);a&&(a.innerHTML="")},d.prototype.possiblyUpdateShaders=function(a){this.qrMatch!==a&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=a?vr.BORDER_SHADER_MATCH_COLOR:vr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=a)},d.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},d.prototype.createCanvasElement=function(a,l,f){var x=a,g=l,b=document.createElement("canvas");return b.style.width="".concat(x,"px"),b.style.height="".concat(g,"px"),b.style.display="none",b.id=Mi(f)?"qr-canvas":f,b},d.prototype.getShadedRegionBounds=function(a,l,f){if(f.width>a||f.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(a-f.width)/2,y:(l-f.height)/2,width:f.width,height:f.height}},d.prototype.possiblyInsertShadingElement=function(a,l,f,x){if(!(l-x.width<1||f-x.height<1)){var g=document.createElement("div");g.style.position="absolute";var b=(l-x.width)/2,A=(f-x.height)/2;if(g.style.borderLeft="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderRight="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderTop="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderBottom="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),g.style.boxSizing="border-box",g.style.top="0px",g.style.bottom="0px",g.style.left="0px",g.style.right="0px",g.id="".concat(vr.SHADED_REGION_ELEMENT_ID),l-x.width<11||f-x.height<11)this.hasBorderShaders=!1;else{var _=5,E=40;this.insertShaderBorders(g,E,_,-_,null,0,!0),this.insertShaderBorders(g,E,_,-_,null,0,!1),this.insertShaderBorders(g,E,_,null,-_,0,!0),this.insertShaderBorders(g,E,_,null,-_,0,!1),this.insertShaderBorders(g,_,E+_,-_,null,-_,!0),this.insertShaderBorders(g,_,E+_,null,-_,-_,!0),this.insertShaderBorders(g,_,E+_,-_,null,-_,!1),this.insertShaderBorders(g,_,E+_,null,-_,-_,!1),this.hasBorderShaders=!0}a.append(g)}},d.prototype.insertShaderBorders=function(a,l,f,x,g,b,A){var _=document.createElement("div");_.style.position="absolute",_.style.backgroundColor=vr.BORDER_SHADER_DEFAULT_COLOR,_.style.width="".concat(l,"px"),_.style.height="".concat(f,"px"),x!==null&&(_.style.top="".concat(x,"px")),g!==null&&(_.style.bottom="".concat(g,"px")),A?_.style.left="".concat(b,"px"):_.style.right="".concat(b,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(_),a.appendChild(_)},d.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},d.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},d.prototype.getTimeoutFps=function(a){return 1e3/a},d})(),a2;(function(d){d[d.STATUS_DEFAULT=0]="STATUS_DEFAULT",d[d.STATUS_SUCCESS=1]="STATUS_SUCCESS",d[d.STATUS_WARNING=2]="STATUS_WARNING",d[d.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(a2||(a2={}));const c3=({onScan:d,onClose:a})=>{const[l,f]=St.useState(null),x=St.useRef(null),g=St.useRef(!1);return St.useEffect(()=>{g.current=!0;const b="html5qr-code-full-region",_=setTimeout(async()=>{try{const E=new u3(b);x.current=E;const R={fps:10,qrbox:{width:250,height:250},formatsToSupport:[Se.QR_CODE,Se.CODE_128,Se.EAN_13]};await E.start({facingMode:"environment"},R,N=>{g.current&&d(N)},N=>{})}catch(E){g.current&&(f("No foi possvel acessar a cmera. Verifique as permisses."),console.error(E))}},100);return()=>{g.current=!1,clearTimeout(_),x.current&&x.current.isScanning&&x.current.stop().then(()=>{var E;(E=x.current)==null||E.clear()}).catch(console.error)}},[d]),G.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col",children:[G.jsxs("div",{className:"flex justify-between items-center p-4 text-white bg-black/50 z-10",children:[G.jsx("h2",{className:"text-lg font-bold",children:"Escanear Cdigo"}),G.jsx("button",{onClick:a,className:"p-2 rounded-full hover:bg-white/20",children:G.jsx(Qy,{size:28})})]}),G.jsx("div",{className:"flex-1 relative bg-black flex items-center justify-center",children:l?G.jsxs("div",{className:"text-white text-center p-6",children:[G.jsx(Vy,{size:48,className:"mx-auto mb-4 opacity-50"}),G.jsx("p",{children:l})]}):G.jsx("div",{id:"html5qr-code-full-region",className:"w-full h-full"})}),G.jsx("div",{className:"p-6 bg-black/80 text-white text-center text-sm",children:"Aponte a cmera para o cdigo de barras ou QR Code."})]})};var Ha={},gf={exports:{}},mf,l2;function h3(){if(l2)return mf;l2=1;var d="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mf=d,mf}var xf,o2;function f3(){if(o2)return xf;o2=1;var d=h3();function a(){}function l(){}return l.resetWarningCache=a,xf=function(){function f(b,A,_,E,R,N){if(N!==d){var B=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw B.name="Invariant Violation",B}}f.isRequired=f;function x(){return f}var g={array:f,bigint:f,bool:f,func:f,number:f,object:f,string:f,symbol:f,any:f,arrayOf:x,element:f,elementType:f,instanceOf:x,node:f,objectOf:x,oneOf:x,oneOfType:x,shape:x,exact:x,checkPropTypes:l,resetWarningCache:a};return g.PropTypes=g,g},xf}var u2;function Qm(){return u2||(u2=1,gf.exports=f3()()),gf.exports}var yf,c2;function Jm(){return c2||(c2=1,yf={L:1,M:0,Q:3,H:2}),yf}var pf,h2;function $m(){return h2||(h2=1,pf={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),pf}var wf,f2;function d3(){if(f2)return wf;f2=1;var d=$m();function a(l){this.mode=d.MODE_8BIT_BYTE,this.data=l}return a.prototype={getLength:function(l){return this.data.length},write:function(l){for(var f=0;f<this.data.length;f++)l.put(this.data.charCodeAt(f),8)}},wf=a,wf}var bf,d2;function g3(){if(d2)return bf;d2=1;var d=Jm();function a(l,f){this.totalCount=l,this.dataCount=f}return a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(l,f){var x=a.getRsBlockTable(l,f);if(x==null)throw new Error("bad rs block @ typeNumber:"+l+"/errorCorrectLevel:"+f);for(var g=x.length/3,b=new Array,A=0;A<g;A++)for(var _=x[A*3+0],E=x[A*3+1],R=x[A*3+2],N=0;N<_;N++)b.push(new a(E,R));return b},a.getRsBlockTable=function(l,f){switch(f){case d.L:return a.RS_BLOCK_TABLE[(l-1)*4+0];case d.M:return a.RS_BLOCK_TABLE[(l-1)*4+1];case d.Q:return a.RS_BLOCK_TABLE[(l-1)*4+2];case d.H:return a.RS_BLOCK_TABLE[(l-1)*4+3];default:return}},bf=a,bf}var vf,g2;function m3(){if(g2)return vf;g2=1;function d(){this.buffer=new Array,this.length=0}return d.prototype={get:function(a){var l=Math.floor(a/8);return(this.buffer[l]>>>7-a%8&1)==1},put:function(a,l){for(var f=0;f<l;f++)this.putBit((a>>>l-f-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(a){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),a&&(this.buffer[l]|=128>>>this.length%8),this.length++}},vf=d,vf}var Ef,m2;function ex(){if(m2)return Ef;m2=1;for(var d={glog:function(l){if(l<1)throw new Error("glog("+l+")");return d.LOG_TABLE[l]},gexp:function(l){for(;l<0;)l+=255;for(;l>=256;)l-=255;return d.EXP_TABLE[l]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},a=0;a<8;a++)d.EXP_TABLE[a]=1<<a;for(var a=8;a<256;a++)d.EXP_TABLE[a]=d.EXP_TABLE[a-4]^d.EXP_TABLE[a-5]^d.EXP_TABLE[a-6]^d.EXP_TABLE[a-8];for(var a=0;a<255;a++)d.LOG_TABLE[d.EXP_TABLE[a]]=a;return Ef=d,Ef}var _f,x2;function tx(){if(x2)return _f;x2=1;var d=ex();function a(l,f){if(l.length==null)throw new Error(l.length+"/"+f);for(var x=0;x<l.length&&l[x]==0;)x++;this.num=new Array(l.length-x+f);for(var g=0;g<l.length-x;g++)this.num[g]=l[g+x]}return a.prototype={get:function(l){return this.num[l]},getLength:function(){return this.num.length},multiply:function(l){for(var f=new Array(this.getLength()+l.getLength()-1),x=0;x<this.getLength();x++)for(var g=0;g<l.getLength();g++)f[x+g]^=d.gexp(d.glog(this.get(x))+d.glog(l.get(g)));return new a(f,0)},mod:function(l){if(this.getLength()-l.getLength()<0)return this;for(var f=d.glog(this.get(0))-d.glog(l.get(0)),x=new Array(this.getLength()),g=0;g<this.getLength();g++)x[g]=this.get(g);for(var g=0;g<l.getLength();g++)x[g]^=d.gexp(d.glog(l.get(g))+f);return new a(x,0).mod(l)}},_f=a,_f}var Af,y2;function x3(){if(y2)return Af;y2=1;var d=$m(),a=tx(),l=ex(),f={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},x={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(g){for(var b=g<<10;x.getBCHDigit(b)-x.getBCHDigit(x.G15)>=0;)b^=x.G15<<x.getBCHDigit(b)-x.getBCHDigit(x.G15);return(g<<10|b)^x.G15_MASK},getBCHTypeNumber:function(g){for(var b=g<<12;x.getBCHDigit(b)-x.getBCHDigit(x.G18)>=0;)b^=x.G18<<x.getBCHDigit(b)-x.getBCHDigit(x.G18);return g<<12|b},getBCHDigit:function(g){for(var b=0;g!=0;)b++,g>>>=1;return b},getPatternPosition:function(g){return x.PATTERN_POSITION_TABLE[g-1]},getMask:function(g,b,A){switch(g){case f.PATTERN000:return(b+A)%2==0;case f.PATTERN001:return b%2==0;case f.PATTERN010:return A%3==0;case f.PATTERN011:return(b+A)%3==0;case f.PATTERN100:return(Math.floor(b/2)+Math.floor(A/3))%2==0;case f.PATTERN101:return b*A%2+b*A%3==0;case f.PATTERN110:return(b*A%2+b*A%3)%2==0;case f.PATTERN111:return(b*A%3+(b+A)%2)%2==0;default:throw new Error("bad maskPattern:"+g)}},getErrorCorrectPolynomial:function(g){for(var b=new a([1],0),A=0;A<g;A++)b=b.multiply(new a([1,l.gexp(A)],0));return b},getLengthInBits:function(g,b){if(1<=b&&b<10)switch(g){case d.MODE_NUMBER:return 10;case d.MODE_ALPHA_NUM:return 9;case d.MODE_8BIT_BYTE:return 8;case d.MODE_KANJI:return 8;default:throw new Error("mode:"+g)}else if(b<27)switch(g){case d.MODE_NUMBER:return 12;case d.MODE_ALPHA_NUM:return 11;case d.MODE_8BIT_BYTE:return 16;case d.MODE_KANJI:return 10;default:throw new Error("mode:"+g)}else if(b<41)switch(g){case d.MODE_NUMBER:return 14;case d.MODE_ALPHA_NUM:return 13;case d.MODE_8BIT_BYTE:return 16;case d.MODE_KANJI:return 12;default:throw new Error("mode:"+g)}else throw new Error("type:"+b)},getLostPoint:function(g){for(var b=g.getModuleCount(),A=0,_=0;_<b;_++)for(var E=0;E<b;E++){for(var R=0,N=g.isDark(_,E),B=-1;B<=1;B++)if(!(_+B<0||b<=_+B))for(var L=-1;L<=1;L++)E+L<0||b<=E+L||B==0&&L==0||N==g.isDark(_+B,E+L)&&R++;R>5&&(A+=3+R-5)}for(var _=0;_<b-1;_++)for(var E=0;E<b-1;E++){var j=0;g.isDark(_,E)&&j++,g.isDark(_+1,E)&&j++,g.isDark(_,E+1)&&j++,g.isDark(_+1,E+1)&&j++,(j==0||j==4)&&(A+=3)}for(var _=0;_<b;_++)for(var E=0;E<b-6;E++)g.isDark(_,E)&&!g.isDark(_,E+1)&&g.isDark(_,E+2)&&g.isDark(_,E+3)&&g.isDark(_,E+4)&&!g.isDark(_,E+5)&&g.isDark(_,E+6)&&(A+=40);for(var E=0;E<b;E++)for(var _=0;_<b-6;_++)g.isDark(_,E)&&!g.isDark(_+1,E)&&g.isDark(_+2,E)&&g.isDark(_+3,E)&&g.isDark(_+4,E)&&!g.isDark(_+5,E)&&g.isDark(_+6,E)&&(A+=40);for(var H=0,E=0;E<b;E++)for(var _=0;_<b;_++)g.isDark(_,E)&&H++;var J=Math.abs(100*H/b/b-50)/5;return A+=J*10,A}};return Af=x,Af}var Cf,p2;function y3(){if(p2)return Cf;p2=1;var d=d3(),a=g3(),l=m3(),f=x3(),x=tx();function g(A,_){this.typeNumber=A,this.errorCorrectLevel=_,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var b=g.prototype;return b.addData=function(A){var _=new d(A);this.dataList.push(_),this.dataCache=null},b.isDark=function(A,_){if(A<0||this.moduleCount<=A||_<0||this.moduleCount<=_)throw new Error(A+","+_);return this.modules[A][_]},b.getModuleCount=function(){return this.moduleCount},b.make=function(){if(this.typeNumber<1){var A=1;for(A=1;A<40;A++){for(var _=a.getRSBlocks(A,this.errorCorrectLevel),E=new l,R=0,N=0;N<_.length;N++)R+=_[N].dataCount;for(var N=0;N<this.dataList.length;N++){var B=this.dataList[N];E.put(B.mode,4),E.put(B.getLength(),f.getLengthInBits(B.mode,A)),B.write(E)}if(E.getLengthInBits()<=R*8)break}this.typeNumber=A}this.makeImpl(!1,this.getBestMaskPattern())},b.makeImpl=function(A,_){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var E=0;E<this.moduleCount;E++){this.modules[E]=new Array(this.moduleCount);for(var R=0;R<this.moduleCount;R++)this.modules[E][R]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(A,_),this.typeNumber>=7&&this.setupTypeNumber(A),this.dataCache==null&&(this.dataCache=g.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,_)},b.setupPositionProbePattern=function(A,_){for(var E=-1;E<=7;E++)if(!(A+E<=-1||this.moduleCount<=A+E))for(var R=-1;R<=7;R++)_+R<=-1||this.moduleCount<=_+R||(0<=E&&E<=6&&(R==0||R==6)||0<=R&&R<=6&&(E==0||E==6)||2<=E&&E<=4&&2<=R&&R<=4?this.modules[A+E][_+R]=!0:this.modules[A+E][_+R]=!1)},b.getBestMaskPattern=function(){for(var A=0,_=0,E=0;E<8;E++){this.makeImpl(!0,E);var R=f.getLostPoint(this);(E==0||A>R)&&(A=R,_=E)}return _},b.createMovieClip=function(A,_,E){var R=A.createEmptyMovieClip(_,E),N=1;this.make();for(var B=0;B<this.modules.length;B++)for(var L=B*N,j=0;j<this.modules[B].length;j++){var H=j*N,J=this.modules[B][j];J&&(R.beginFill(0,100),R.moveTo(H,L),R.lineTo(H+N,L),R.lineTo(H+N,L+N),R.lineTo(H,L+N),R.endFill())}return R},b.setupTimingPattern=function(){for(var A=8;A<this.moduleCount-8;A++)this.modules[A][6]==null&&(this.modules[A][6]=A%2==0);for(var _=8;_<this.moduleCount-8;_++)this.modules[6][_]==null&&(this.modules[6][_]=_%2==0)},b.setupPositionAdjustPattern=function(){for(var A=f.getPatternPosition(this.typeNumber),_=0;_<A.length;_++)for(var E=0;E<A.length;E++){var R=A[_],N=A[E];if(this.modules[R][N]==null)for(var B=-2;B<=2;B++)for(var L=-2;L<=2;L++)B==-2||B==2||L==-2||L==2||B==0&&L==0?this.modules[R+B][N+L]=!0:this.modules[R+B][N+L]=!1}},b.setupTypeNumber=function(A){for(var _=f.getBCHTypeNumber(this.typeNumber),E=0;E<18;E++){var R=!A&&(_>>E&1)==1;this.modules[Math.floor(E/3)][E%3+this.moduleCount-8-3]=R}for(var E=0;E<18;E++){var R=!A&&(_>>E&1)==1;this.modules[E%3+this.moduleCount-8-3][Math.floor(E/3)]=R}},b.setupTypeInfo=function(A,_){for(var E=this.errorCorrectLevel<<3|_,R=f.getBCHTypeInfo(E),N=0;N<15;N++){var B=!A&&(R>>N&1)==1;N<6?this.modules[N][8]=B:N<8?this.modules[N+1][8]=B:this.modules[this.moduleCount-15+N][8]=B}for(var N=0;N<15;N++){var B=!A&&(R>>N&1)==1;N<8?this.modules[8][this.moduleCount-N-1]=B:N<9?this.modules[8][15-N-1+1]=B:this.modules[8][15-N-1]=B}this.modules[this.moduleCount-8][8]=!A},b.mapData=function(A,_){for(var E=-1,R=this.moduleCount-1,N=7,B=0,L=this.moduleCount-1;L>0;L-=2)for(L==6&&L--;;){for(var j=0;j<2;j++)if(this.modules[R][L-j]==null){var H=!1;B<A.length&&(H=(A[B]>>>N&1)==1);var J=f.getMask(_,R,L-j);J&&(H=!H),this.modules[R][L-j]=H,N--,N==-1&&(B++,N=7)}if(R+=E,R<0||this.moduleCount<=R){R-=E,E=-E;break}}},g.PAD0=236,g.PAD1=17,g.createData=function(A,_,E){for(var R=a.getRSBlocks(A,_),N=new l,B=0;B<E.length;B++){var L=E[B];N.put(L.mode,4),N.put(L.getLength(),f.getLengthInBits(L.mode,A)),L.write(N)}for(var j=0,B=0;B<R.length;B++)j+=R[B].dataCount;if(N.getLengthInBits()>j*8)throw new Error("code length overflow. ("+N.getLengthInBits()+">"+j*8+")");for(N.getLengthInBits()+4<=j*8&&N.put(0,4);N.getLengthInBits()%8!=0;)N.putBit(!1);for(;!(N.getLengthInBits()>=j*8||(N.put(g.PAD0,8),N.getLengthInBits()>=j*8));)N.put(g.PAD1,8);return g.createBytes(N,R)},g.createBytes=function(A,_){for(var E=0,R=0,N=0,B=new Array(_.length),L=new Array(_.length),j=0;j<_.length;j++){var H=_[j].dataCount,J=_[j].totalCount-H;R=Math.max(R,H),N=Math.max(N,J),B[j]=new Array(H);for(var ie=0;ie<B[j].length;ie++)B[j][ie]=255&A.buffer[ie+E];E+=H;var ce=f.getErrorCorrectPolynomial(J),Y=new x(B[j],ce.getLength()-1),me=Y.mod(ce);L[j]=new Array(ce.getLength()-1);for(var ie=0;ie<L[j].length;ie++){var Le=ie+me.getLength()-L[j].length;L[j][ie]=Le>=0?me.get(Le):0}}for(var _e=0,ie=0;ie<_.length;ie++)_e+=_[ie].totalCount;for(var ee=new Array(_e),Te=0,ie=0;ie<R;ie++)for(var j=0;j<_.length;j++)ie<B[j].length&&(ee[Te++]=B[j][ie]);for(var ie=0;ie<N;ie++)for(var j=0;j<_.length;j++)ie<L[j].length&&(ee[Te++]=L[j][ie]);return ee},Cf=g,Cf}var ku={},w2;function p3(){if(w2)return ku;w2=1,Object.defineProperty(ku,"__esModule",{value:!0});var d=Object.assign||function(E){for(var R=1;R<arguments.length;R++){var N=arguments[R];for(var B in N)Object.prototype.hasOwnProperty.call(N,B)&&(E[B]=N[B])}return E},a=Qm(),l=g(a),f=ro(),x=g(f);function g(E){return E&&E.__esModule?E:{default:E}}function b(E,R){var N={};for(var B in E)R.indexOf(B)>=0||Object.prototype.hasOwnProperty.call(E,B)&&(N[B]=E[B]);return N}var A={bgColor:l.default.oneOfType([l.default.object,l.default.string]).isRequired,bgD:l.default.string.isRequired,fgColor:l.default.oneOfType([l.default.object,l.default.string]).isRequired,fgD:l.default.string.isRequired,size:l.default.number.isRequired,title:l.default.string,viewBoxSize:l.default.number.isRequired,xmlns:l.default.string},_=(0,f.forwardRef)(function(E,R){var N=E.bgColor,B=E.bgD,L=E.fgD,j=E.fgColor,H=E.size,J=E.title,ie=E.viewBoxSize,ce=E.xmlns,Y=ce===void 0?"http://www.w3.org/2000/svg":ce,me=b(E,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return x.default.createElement("svg",d({},me,{height:H,ref:R,viewBox:"0 0 "+ie+" "+ie,width:H,xmlns:Y}),J?x.default.createElement("title",null,J):null,x.default.createElement("path",{d:B,fill:N}),x.default.createElement("path",{d:L,fill:j}))});return _.displayName="QRCodeSvg",_.propTypes=A,ku.default=_,ku}var b2;function w3(){if(b2)return Ha;b2=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.QRCode=void 0;var d=Object.assign||function(H){for(var J=1;J<arguments.length;J++){var ie=arguments[J];for(var ce in ie)Object.prototype.hasOwnProperty.call(ie,ce)&&(H[ce]=ie[ce])}return H},a=Qm(),l=N(a),f=Jm(),x=N(f),g=y3(),b=N(g),A=ro(),_=N(A),E=p3(),R=N(E);function N(H){return H&&H.__esModule?H:{default:H}}function B(H,J){var ie={};for(var ce in H)J.indexOf(ce)>=0||Object.prototype.hasOwnProperty.call(H,ce)&&(ie[ce]=H[ce]);return ie}var L={bgColor:l.default.oneOfType([l.default.object,l.default.string]),fgColor:l.default.oneOfType([l.default.object,l.default.string]),level:l.default.string,size:l.default.number,value:l.default.string.isRequired},j=(0,A.forwardRef)(function(H,J){var ie=H.bgColor,ce=ie===void 0?"#FFFFFF":ie,Y=H.fgColor,me=Y===void 0?"#000000":Y,Le=H.level,_e=Le===void 0?"L":Le,ee=H.size,Te=ee===void 0?256:ee,fe=H.value,Tn=B(H,["bgColor","fgColor","level","size","value"]),xt=new b.default(-1,x.default[_e]);xt.addData(fe),xt.make();var Ae=xt.modules;return _.default.createElement(R.default,d({},Tn,{bgColor:ce,bgD:Ae.map(function(Ye,Ke){return Ye.map(function(te,W){return te?"":"M "+W+" "+Ke+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:me,fgD:Ae.map(function(Ye,Ke){return Ye.map(function(te,W){return te?"M "+W+" "+Ke+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:J,size:Te,viewBoxSize:Ae.length}))});return Ha.QRCode=j,j.displayName="QRCode",j.propTypes=L,Ha.default=j,Ha}var b3=w3();const v3=to(b3),E3=({product:d,onClose:a})=>{const l=()=>{var x;const f=window.open("","","height=500,width=500");if(f){const g=((x=document.getElementById("qr-code-svg"))==null?void 0:x.outerHTML)||"";f.document.write(`
            <html>
                <body style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%; font-family:sans-serif;">
                    <h2 style="margin-bottom:10px;">${d.name}</h2>
                    ${g}
                    <p style="margin-top:10px; font-weight:bold; font-family:monospace;">${d.id}</p>
                    <script>
                        setTimeout(() => { window.print(); window.close(); }, 500);
                    <\/script>
                </body>
            </html>
        `),f.document.close()}};return G.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:G.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl relative",children:[G.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:G.jsx(_2,{size:24})}),G.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 text-center",children:"Etiqueta"}),G.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl p-6 flex flex-col items-center",children:[G.jsx("h4",{className:"font-bold text-lg mb-4 text-center",children:d.name}),G.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm",children:G.jsx(v3,{id:"qr-code-svg",value:d.id,size:160,level:"H"})}),G.jsx("p",{className:"font-mono font-bold mt-4 text-slate-600",children:d.id})]}),G.jsx("div",{className:"mt-6",children:G.jsxs("button",{onClick:l,className:"w-full bg-qq-green hover:bg-qq-green-dark text-white py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-qq-green/20 transition-all active:scale-95",children:[G.jsx(hp,{size:20}),"Imprimir"]})})]})})},_3=({toasts:d,removeToast:a})=>G.jsx("div",{className:"fixed top-4 left-0 right-0 z-[100] flex flex-col items-center gap-2 pointer-events-none px-4",children:d.map(l=>G.jsxs("div",{className:`
            pointer-events-auto flex items-center p-4 rounded-xl shadow-lg border w-full max-w-sm animate-fade-in
            ${l.type==="success"?"bg-white border-green-200 text-green-700":""}
            ${l.type==="error"?"bg-white border-red-200 text-red-700":""}
            ${l.type==="info"?"bg-white border-blue-200 text-blue-700":""}
          `,children:[G.jsxs("div",{className:"mr-3",children:[l.type==="success"&&G.jsx(Wy,{size:20}),l.type==="error"&&G.jsx(Yy,{size:20}),l.type==="info"&&G.jsx(ap,{size:20})]}),G.jsx("p",{className:"flex-1 text-sm font-medium",children:l.text}),G.jsx("button",{onClick:()=>a(l.id),className:"ml-2 opacity-50 hover:opacity-100",children:G.jsx(_2,{size:16})})]},l.id))}),A3=()=>{const[d,a]=St.useState("home"),[l,f]=St.useState([]),[x,g]=St.useState([]),[b,A]=St.useState(!1),[_,E]=St.useState(!1),[R,N]=St.useState(""),[B,L]=St.useState([]),[j,H]=St.useState(!1),[J,ie]=St.useState(!1),[ce,Y]=St.useState(!1),[me,Le]=St.useState(!1),[_e,ee]=St.useState(!1),[Te,fe]=St.useState(null),[Tn,xt]=St.useState(null),[Ae,Ye]=St.useState(Nb()),[Ke,te]=St.useState({id:"",name:"",qty:""}),[W,oe]=St.useState({qty:1,obs:"",matricula:""}),[Ie,Ze]=St.useState("out"),qe=(we,Ht)=>{const Ge=Date.now();L(fn=>[...fn,{id:Ge,type:we,text:Ht}]),setTimeout(()=>q(Ge),3e3)},q=we=>{L(Ht=>Ht.filter(Ge=>Ge.id!==we))},ae=St.useCallback(async()=>{A(!0);try{const we=await Vm(),Ht=await Xm();f(we),g(Ht)}catch(we){console.error(we),qe("error","Erro ao carregar dados.")}finally{A(!1)}},[]);St.useEffect(()=>{const we=qf();E(we),ae()},[ae]);const ve=()=>{Ib(Ae);const we=qf();E(we),H(!1),qe("success",we?"Conectado ao Supabase!":"Configurao salva (Offline)."),ae()},Ee=()=>{Db(),E(!1),Ye({url:"",key:""}),H(!1),qe("info","Desconectado. Usando modo offline."),ae()},He=async()=>{if(!Ke.id||!Ke.name){qe("error","Preencha cdigo e nome.");return}A(!0);try{const we=parseInt(Ke.qty)||0;await Wg({id:Ke.id,name:Ke.name,qty:we},!0),await ae(),ie(!1),te({id:"",name:"",qty:""}),qe("success","Produto salvo!")}catch(we){qe("error",we.message||"Erro ao salvar.")}finally{A(!1)}},be=async()=>{if(!Te)return;const we=W.qty,Ht=Ie==="out",Ge=Ht?-we:we;if(Ht&&Te.qty<we){qe("error","Estoque insuficiente.");return}if(!W.matricula.trim()){qe("error","Preencha a matrcula.");return}A(!0);try{const fn=Te.qty+Ge,jn={...Te,qty:fn};await Wg(jn,!1),await Mb({id:Date.now(),date:new Date().toISOString(),prodId:Te.id,prodName:Te.name,qty:Ge,obs:W.obs,matricula:W.matricula}),await ae(),Y(!1),fe(null),oe(Ur=>({...Ur,qty:1,obs:""})),qe("success","Estoque atualizado!")}catch(fn){qe("error",fn.message)}finally{A(!1)}},rt=we=>{ee(!1);const Ht=l.find(Ge=>Ge.id===we);Ht?(fe(Ht),Ze("out"),oe(Ge=>({...Ge,qty:1,obs:""})),Y(!0)):window.confirm(`Produto ${we} no encontrado. Deseja cadastrar?`)&&(te({id:we,name:"",qty:""}),ie(!0))},ot=()=>{var Ht;const we=(Ht=document.getElementById("manual-code-input"))==null?void 0:Ht.value;we&&rt(we)},Tt=we=>{fe(we),Ze("out"),oe({qty:1,obs:"",matricula:""}),Y(!0)},Wn=l.filter(we=>we.name.toLowerCase().includes(R.toLowerCase())||we.id.toLowerCase().includes(R.toLowerCase()));return G.jsxs("div",{className:"max-w-[480px] mx-auto bg-slate-50 min-h-screen relative shadow-2xl pb-20",children:[G.jsx(_3,{toasts:B,removeToast:q}),G.jsxs("header",{className:"bg-qq-green text-white p-4 sticky top-0 z-40 shadow-lg flex justify-between items-center rounded-b-3xl",children:[G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsx("div",{className:"bg-white/10 p-2 rounded-xl backdrop-blur-sm",children:G.jsx(mg,{size:24,className:"text-white"})}),G.jsxs("div",{children:[G.jsxs("h1",{className:"text-lg font-bold leading-tight",children:["Estoque ",G.jsx("span",{className:"text-qq-yellow",children:"QQ"})]}),G.jsxs("div",{className:"flex items-center gap-1.5 opacity-80",children:[G.jsx("div",{className:`w-2 h-2 rounded-full ${_?"bg-green-400 shadow-[0_0_8px_rgba(74,222,128,0.8)]":"bg-slate-400"}`}),G.jsx("span",{className:"text-[10px] font-medium tracking-wide uppercase",children:_?"Online":"Offline"})]})]})]}),G.jsxs("div",{className:"flex gap-2",children:[G.jsx("button",{onClick:()=>Le(!0),className:"w-10 h-10 flex items-center justify-center bg-qq-green-dark/50 hover:bg-qq-green-dark rounded-full transition active:scale-95 backdrop-blur-sm",children:G.jsx(rp,{size:18})}),G.jsx("button",{onClick:()=>H(!0),className:"w-10 h-10 flex items-center justify-center bg-qq-green-dark/50 hover:bg-qq-green-dark rounded-full transition active:scale-95 backdrop-blur-sm",children:G.jsx(xp,{size:18})})]})]}),b&&G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/50 backdrop-blur-[2px]",children:G.jsx("div",{className:"w-10 h-10 border-4 border-slate-200 border-t-qq-green rounded-full animate-spin"})}),d==="home"&&G.jsxs("div",{className:"p-6 animate-fade-in space-y-6",children:[G.jsxs("div",{className:"flex justify-between items-end",children:[G.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Produtos"}),G.jsxs("button",{onClick:()=>ie(!0),className:"bg-qq-yellow hover:bg-qq-yellow-dark text-slate-900 px-4 py-2 rounded-xl text-sm font-bold shadow-md shadow-orange-100 transition flex items-center gap-2 active:scale-95",children:[G.jsx(rf,{size:18})," Novo"]})]}),G.jsxs("div",{className:"relative group",children:[G.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:G.jsx(gp,{className:"h-5 w-5 text-slate-400 group-focus-within:text-qq-green transition-colors"})}),G.jsx("input",{type:"text",placeholder:"Buscar nome ou cdigo...",value:R,onChange:we=>N(we.target.value),className:"block w-full pl-11 pr-4 py-3.5 bg-white border-2 border-slate-100 rounded-2xl text-slate-700 focus:outline-none focus:border-qq-green focus:ring-4 focus:ring-qq-green/10 transition-all shadow-sm"})]}),G.jsx("div",{className:"space-y-3",children:Wn.length===0?G.jsxs("div",{className:"text-center py-12 opacity-50",children:[G.jsx(mg,{size:48,className:"mx-auto mb-3 text-slate-400"}),G.jsx("p",{children:"Nenhum produto encontrado"})]}):Wn.map(we=>G.jsxs("div",{onClick:()=>Tt(we),className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex justify-between items-center active:scale-[0.98] transition-transform cursor-pointer",children:[G.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[G.jsx("h3",{className:"font-bold text-slate-800 truncate",children:we.name}),G.jsx("div",{className:"mt-1 inline-flex items-center px-2 py-0.5 rounded bg-slate-100 text-slate-500 text-xs font-mono",children:we.id})]}),G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsxs("div",{className:"text-right",children:[G.jsx("div",{className:`text-[10px] font-bold uppercase mb-0.5 px-1.5 py-0.5 rounded-md inline-block ${we.qty<5?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:we.qty<5?"Baixo":"Ok"}),G.jsx("div",{className:"text-xl font-bold text-slate-700",children:we.qty})]}),G.jsx("button",{onClick:Ht=>{Ht.stopPropagation(),xt(we)},className:"p-3 bg-slate-50 hover:bg-slate-100 rounded-xl text-slate-400 hover:text-qq-green transition-colors",children:G.jsx(sf,{size:20})})]})]},we.id))})]}),d==="scan"&&G.jsxs("div",{className:"p-6 animate-fade-in flex flex-col h-[80vh]",children:[G.jsx("h2",{className:"text-2xl font-bold text-slate-800 text-center mb-6",children:"Ler Cdigo"}),G.jsxs("div",{onClick:()=>ee(!0),className:"flex-1 bg-slate-800 rounded-3xl flex flex-col items-center justify-center text-white/50 cursor-pointer hover:bg-slate-700 transition-colors shadow-inner relative overflow-hidden group",children:[G.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-slate-900 to-transparent opacity-50"}),G.jsx(sf,{size:64,className:"mb-4 group-hover:scale-110 transition-transform duration-300 text-white"}),G.jsx("p",{className:"font-medium text-white",children:"Toque para abrir a cmera"})]}),G.jsx("div",{className:"mt-8",children:G.jsxs("div",{className:"flex gap-3",children:[G.jsx("input",{id:"manual-code-input",type:"text",placeholder:"Digitar cdigo...",className:"flex-1 bg-white border-2 border-slate-200 rounded-xl px-4 py-3 text-center text-lg font-mono font-bold text-slate-700 focus:border-qq-green outline-none"}),G.jsx("button",{onClick:ot,className:"bg-qq-green text-white px-5 rounded-xl shadow-lg active:scale-95 transition-transform",children:G.jsx(Fy,{size:24})})]})})]}),d==="history"&&G.jsxs("div",{className:"p-6 animate-fade-in space-y-6",children:[G.jsxs("div",{className:"flex justify-between items-center",children:[G.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Histrico"}),G.jsxs("button",{onClick:()=>{confirm("Limpar histrico local?")&&(Bb(),ae())},className:"text-red-500 bg-red-50 hover:bg-red-100 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-1 transition",children:[G.jsx(pp,{size:14})," Limpar"]})]}),G.jsx("div",{className:"space-y-4",children:x.length===0?G.jsxs("div",{className:"text-center py-12 opacity-50",children:[G.jsx(xg,{size:48,className:"mx-auto mb-3 text-slate-400"}),G.jsx("p",{children:"Sem movimentaes recentes"})]}):x.map(we=>G.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex items-start gap-4",children:[G.jsx("div",{className:`mt-1 p-2 rounded-lg ${we.qty>0?"bg-green-50 text-green-700":"bg-yellow-50 text-yellow-700"}`,children:we.qty>0?G.jsx(rf,{size:16}):G.jsx(yg,{size:16})}),G.jsxs("div",{className:"flex-1 min-w-0",children:[G.jsxs("div",{className:"flex justify-between items-start",children:[G.jsx("h4",{className:"font-bold text-slate-800 truncate",children:we.prodName}),G.jsx("span",{className:`font-bold ${we.qty>0?"text-green-600":"text-qq-yellow"}`,children:we.qty>0?`+${we.qty}`:we.qty})]}),G.jsxs("div",{className:"text-xs text-slate-400 mt-1 flex flex-wrap gap-2",children:[G.jsx("span",{children:new Date(we.date).toLocaleString("pt-BR")}),we.matricula&&G.jsxs("span",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-slate-600 font-medium",children:["Mat: ",we.matricula]})]}),we.obs&&G.jsxs("div",{className:"mt-2 text-xs bg-slate-50 text-slate-600 p-2 rounded italic border border-slate-100",children:['"',we.obs,'"']})]})]},we.id))})]}),G.jsxs("nav",{className:"fixed bottom-0 w-full max-w-[480px] bg-white border-t border-slate-100 flex justify-around py-2 pb-safe z-40 shadow-[0_-4px_20px_rgba(0,0,0,0.03)]",children:[G.jsxs("button",{onClick:()=>a("home"),className:`flex flex-col items-center p-2 transition-colors ${d==="home"?"text-qq-green":"text-slate-400 hover:text-slate-600"}`,children:[G.jsx(pg,{size:24,className:d==="home"?"fill-current opacity-20":""}),G.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Estoque"})]}),G.jsx("div",{className:"relative -top-6",children:G.jsx("button",{onClick:()=>a("scan"),className:"w-16 h-16 rounded-full bg-gradient-to-br from-qq-yellow to-qq-yellow-dark text-white flex items-center justify-center shadow-lg shadow-orange-200 border-4 border-slate-50 transform transition active:scale-90",children:G.jsx(sf,{size:28})})}),G.jsxs("button",{onClick:()=>a("history"),className:`flex flex-col items-center p-2 transition-colors ${d==="history"?"text-qq-green":"text-slate-400 hover:text-slate-600"}`,children:[G.jsx($y,{size:24,className:d==="history"?"fill-current opacity-20":""}),G.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Histrico"})]})]}),j&&G.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:G.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[G.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[G.jsx("div",{className:"bg-qq-green/10 p-2 rounded-lg text-qq-green",children:G.jsx(tp,{size:24})}),G.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Conexo"})]}),G.jsxs("div",{className:"space-y-4",children:[G.jsxs("div",{children:[G.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"URL do Projeto"}),G.jsx("input",{type:"text",value:Ae.url,onChange:we=>Ye({...Ae,url:we.target.value}),className:"w-full mt-1 border-2 border-slate-200 rounded-xl p-2.5 text-sm focus:border-qq-green outline-none font-mono"})]}),G.jsxs("div",{children:[G.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Chave de API (Anon)"}),G.jsx("input",{type:"password",value:Ae.key,onChange:we=>Ye({...Ae,key:we.target.value}),className:"w-full mt-1 border-2 border-slate-200 rounded-xl p-2.5 text-sm focus:border-qq-green outline-none font-mono"})]})]}),G.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[G.jsx("button",{onClick:ve,className:"bg-qq-green text-white py-3 rounded-xl font-bold hover:bg-qq-green-dark transition",children:"Salvar & Conectar"}),_&&G.jsx("button",{onClick:Ee,className:"bg-white border border-slate-200 text-slate-600 py-3 rounded-xl font-bold hover:bg-slate-50 transition",children:"Desconectar"}),G.jsx("button",{onClick:()=>H(!1),className:"text-slate-400 text-sm font-medium py-2",children:"Cancelar"})]})]})}),J&&G.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:G.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[G.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 text-center",children:"Novo Produto"}),G.jsxs("div",{className:"space-y-4",children:[G.jsx("input",{type:"text",placeholder:"Cdigo (Barras/QR)",value:Ke.id,onChange:we=>te({...Ke,id:we.target.value}),className:"w-full border-2 border-slate-200 rounded-xl p-3 focus:border-qq-green outline-none"}),G.jsx("input",{type:"text",placeholder:"Nome do Produto",value:Ke.name,onChange:we=>te({...Ke,name:we.target.value}),className:"w-full border-2 border-slate-200 rounded-xl p-3 focus:border-qq-green outline-none"}),G.jsx("input",{type:"number",placeholder:"Quantidade Inicial",value:Ke.qty,onChange:we=>te({...Ke,qty:we.target.value}),className:"w-full border-2 border-slate-200 rounded-xl p-3 focus:border-qq-green outline-none"})]}),G.jsxs("div",{className:"flex gap-3 mt-6",children:[G.jsx("button",{onClick:()=>ie(!1),className:"flex-1 bg-slate-100 text-slate-700 py-3 rounded-xl font-bold",children:"Cancelar"}),G.jsx("button",{onClick:He,className:"flex-1 bg-qq-green text-white py-3 rounded-xl font-bold",children:"Salvar"})]})]})}),ce&&Te&&G.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:G.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[G.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl mb-6",children:[G.jsxs("button",{onClick:()=>Ze("out"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${Ie==="out"?"bg-white text-qq-yellow shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[G.jsx(Py,{size:16})," Sada"]}),G.jsxs("button",{onClick:()=>Ze("in"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${Ie==="in"?"bg-white text-qq-green shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[G.jsx(Hy,{size:16})," Entrada"]})]}),G.jsxs("div",{className:"text-center mb-6",children:[G.jsx("h3",{className:"text-2xl font-bold text-slate-800 leading-tight",children:Te.name}),G.jsxs("p",{className:"text-slate-500 font-medium mt-1",children:["Em estoque: ",G.jsx("span",{className:"font-bold text-slate-800",children:Te.qty})]})]}),G.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[G.jsx("button",{onClick:()=>oe({...W,qty:Math.max(1,W.qty-1)}),className:"w-12 h-12 rounded-full bg-slate-100 text-slate-800 font-bold text-xl hover:bg-slate-200 transition",children:G.jsx(yg,{size:20,className:"mx-auto"})}),G.jsx("div",{className:`w-24 h-16 border-2 rounded-2xl flex items-center justify-center ${Ie==="in"?"border-green-100":"border-orange-100"}`,children:G.jsx("input",{type:"number",value:W.qty,onChange:we=>oe({...W,qty:parseInt(we.target.value)||1}),className:`w-full text-center text-2xl font-bold outline-none bg-transparent ${Ie==="in"?"text-qq-green":"text-qq-yellow"}`})}),G.jsx("button",{onClick:()=>oe({...W,qty:W.qty+1}),className:"w-12 h-12 rounded-full bg-slate-100 text-slate-800 font-bold text-xl hover:bg-slate-200 transition",children:G.jsx(rf,{size:20,className:"mx-auto"})})]}),G.jsxs("div",{className:"space-y-3",children:[G.jsx("input",{type:"text",placeholder:"Matrcula do Funcionrio",value:W.matricula,onChange:we=>oe({...W,matricula:we.target.value}),className:`w-full border-2 rounded-xl p-3 text-sm outline-none ${Ie==="in"?"focus:border-qq-green border-slate-100":"focus:border-qq-yellow border-slate-100"}`}),G.jsx("textarea",{placeholder:"Observao (Opcional)",value:W.obs,onChange:we=>oe({...W,obs:we.target.value}),rows:2,className:`w-full bg-slate-50 border-2 border-slate-100 rounded-xl p-3 text-sm outline-none resize-none ${Ie==="in"?"focus:border-qq-green":"focus:border-qq-yellow"}`})]}),G.jsxs("div",{className:"flex gap-3 mt-6",children:[G.jsx("button",{onClick:()=>{Y(!1),fe(null)},className:"flex-1 bg-slate-100 text-slate-700 py-3 rounded-xl font-bold",children:"Cancelar"}),G.jsx("button",{onClick:be,className:`flex-1 text-white py-3 rounded-xl font-bold shadow-lg transition active:scale-95 ${Ie==="in"?"bg-qq-green hover:bg-qq-green-dark shadow-green-200":"bg-qq-yellow hover:bg-qq-yellow-dark shadow-orange-200 text-slate-900"}`,children:Ie==="in"?"Adicionar":"Baixar"})]})]})}),me&&G.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:G.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[G.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 text-center",children:"Exportar Dados"}),G.jsxs("div",{className:"space-y-3",children:[G.jsxs("button",{onClick:()=>kb(l),className:"w-full flex items-center p-4 rounded-xl border-2 border-qq-green/20 bg-green-50/50 text-qq-green font-bold hover:bg-green-50 transition",children:[G.jsx(pg,{size:24,className:"mr-3"}),"Estoque Atual (.csv)"]}),G.jsxs("button",{onClick:()=>Lb(x),className:"w-full flex items-center p-4 rounded-xl border-2 border-qq-yellow/20 bg-yellow-50/50 text-yellow-700 font-bold hover:bg-yellow-50 transition",children:[G.jsx(xg,{size:24,className:"mr-3"}),"Histrico (.csv)"]})]}),G.jsx("button",{onClick:()=>Le(!1),className:"w-full mt-6 bg-slate-100 py-3 rounded-xl font-bold text-slate-600",children:"Fechar"})]})}),_e&&G.jsx(c3,{onScan:rt,onClose:()=>ee(!1)}),Tn&&G.jsx(E3,{product:Tn,onClose:()=>xt(null)})]})},nx=document.getElementById("root");if(!nx)throw new Error("Failed to find the root element");const C3=Iy.createRoot(nx);C3.render(G.jsx(_y.StrictMode,{children:G.jsx(A3,{})}));
